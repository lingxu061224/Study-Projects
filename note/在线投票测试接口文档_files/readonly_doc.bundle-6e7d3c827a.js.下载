!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="https://assets-cdn.shimo.im/assets/scripts/",t(0)}([function(e,t,n){(function(e){function t(e){return e&&e.__esModule?e:{default:e}}function r(){setTimeout(function(){e.get("/api/file/"+window.cow.currentDocGuid+"/heartbeat",function(e){a(e.data)?i():r()})},5e3)}function i(){u.default.init(),d.default.init(),d.default.getConnectSocket().then(function(){u.default.sendClientStatus("ready")})}function o(t){setTimeout(function(){e.get("/api/file/"+window.cow.currentDocGuid+"/heartbeat?content=true&latestHead="+A.head,function(e){var n=e.data;n&&n.head!==A.head&&(A.head=n.head,A.content=n.content,A.pool=n.pool,u.default.pad.render()),o(t)})},t)}function a(e){var t=6e5;return new Date-new Date(e)<t}function s(){if(A.team&&A.team.resources){var t=void 0;t=(0,E.default)()?A.team.resources.desktopLogo:A.team.resources.desktopLogo+"!1x",e(".home-link").removeClass("logo-22").append('<img class="header-logo-img" src="'+t+'"/>')}}var c=n(314),u=t(c),l=n(166),f=t(l),p=n(184),d=t(p),h=n(175),m=t(h),v=n(189),g=t(v),y=n(1204),b=t(y),w=n(7),_=t(w),x=n(162),C=t(x),k=n(1231),T=t(k),S=n(1198),E=t(S),A=window.cow.currentFile=window.cow.tempCurrentFile,I=window.cow.currentUser;window.cow.currentDocGuid=A.guid,window.pad=u.default.pad;var O=e(window);if(O.on("pad_ready",function(){var t=+g.default.get(window.location.pathname);t>0&&(e("body").height()-t-O.height()<10?O.scrollTop(0):O.scrollTop(t)),O.scroll(function(){g.default.set(window.location.pathname,O.scrollTop(),{expires:7})}),m.default.isDingtalk()||e(".save-to-shimo-btn").removeClass("hide")}),O.ready(function(){I.id>0?(C.default.render(_.default.createElement(b.default,{currentUser:I}),e("#avatar")[0]),C.default.render(_.default.createElement(T.default,{currentFile:A,currentUser:I}),e(".mark-star-container")[0])):C.default.render(_.default.createElement(T.default,{currentFile:A,currentUser:I}),e(".mark-star-wrap")[0])}),f.default.attach("socket:reconnected",function(){u.default.sendClientStatus("ready",!0)}),f.default.attach("pad:initialized",function(){f.default.notify("pad:render_content")}),s(),"readonly"!==A.shareMode||window.cow.auditing)u.default.pad.render();else{var P=A.views||0;P>50?(o(P>500?1e4:5e3),u.default.pad.render()):a(A.updated_at)?i():(r(),u.default.pad.render())}}).call(t,n(1))},function(e,t,n){(function(t){e.exports=t.$=n(2)}).call(t,function(){return this}())},function(e,t,n){var r,i;!function(t,n){"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(n,o){function a(e){var t=!!e&&"length"in e&&e.length,n=ue.type(e);return"function"!==n&&!ue.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function s(e,t,n){if(ue.isFunction(t))return ue.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return ue.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(be.test(t))return ue.filter(t,e,n);t=ue.filter(t,e)}return ue.grep(e,function(e){return re.call(t,e)>-1!==n})}function c(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function u(e){var t={};return ue.each(e.match(Te)||[],function(e,n){t[n]=!0}),t}function l(){Q.removeEventListener("DOMContentLoaded",l),n.removeEventListener("load",l),ue.ready()}function f(){this.expando=ue.expando+f.uid++}function p(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Ne,"-$&").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Pe.test(n)?ue.parseJSON(n):n)}catch(e){}Oe.set(e,t,n)}else n=void 0;return n}function d(e,t,n,r){var i,o=1,a=20,s=r?function(){return r.cur()}:function(){return ue.css(e,t,"")},c=s(),u=n&&n[3]||(ue.cssNumber[t]?"":"px"),l=(ue.cssNumber[t]||"px"!==u&&+c)&&Le.exec(ue.css(e,t));if(l&&l[3]!==u){u=u||l[3],n=n||[],l=+c||1;do o=o||".5",l/=o,ue.style(e,t,l+u);while(o!==(o=s()/c)&&1!==o&&--a)}return n&&(l=+l||+c||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=l,r.end=i)),i}function h(e,t){var n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&ue.nodeName(e,t)?ue.merge([e],n):n}function m(e,t){for(var n=0,r=e.length;n<r;n++)Ie.set(e[n],"globalEval",!t||Ie.get(t[n],"globalEval"))}function v(e,t,n,r,i){for(var o,a,s,c,u,l,f=t.createDocumentFragment(),p=[],d=0,v=e.length;d<v;d++)if(o=e[d],o||0===o)if("object"===ue.type(o))ue.merge(p,o.nodeType?[o]:o);else if(ze.test(o)){for(a=a||f.appendChild(t.createElement("div")),s=(Fe.exec(o)||["",""])[1].toLowerCase(),c=Ue[s]||Ue._default,a.innerHTML=c[1]+ue.htmlPrefilter(o)+c[2],l=c[0];l--;)a=a.lastChild;ue.merge(p,a.childNodes),a=f.firstChild,a.textContent=""}else p.push(t.createTextNode(o));for(f.textContent="",d=0;o=p[d++];)if(r&&ue.inArray(o,r)>-1)i&&i.push(o);else if(u=ue.contains(o.ownerDocument,o),a=h(f.appendChild(o),"script"),u&&m(a),n)for(l=0;o=a[l++];)Be.test(o.type||"")&&n.push(o);return f}function g(){return!0}function y(){return!1}function b(){try{return Q.activeElement}catch(e){}}function w(e,t,n,r,i,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)w(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),i===!1)i=y;else if(!i)return e;return 1===o&&(a=i,i=function(e){return ue().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=ue.guid++)),e.each(function(){ue.event.add(this,t,i,r,n)})}function _(e,t){return ue.nodeName(e,"table")&&ue.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function x(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function C(e){var t=Ge.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function k(e,t){var n,r,i,o,a,s,c,u;if(1===t.nodeType){if(Ie.hasData(e)&&(o=Ie.access(e),a=Ie.set(t,o),u=o.events)){delete a.handle,a.events={};for(i in u)for(n=0,r=u[i].length;n<r;n++)ue.event.add(t,i,u[i][n])}Oe.hasData(e)&&(s=Oe.access(e),c=ue.extend({},s),Oe.set(t,c))}}function T(e,t){var n=t.nodeName.toLowerCase();"input"===n&&je.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function S(e,t,n,r){t=te.apply([],t);var i,o,a,s,c,u,l=0,f=e.length,p=f-1,d=t[0],m=ue.isFunction(d);if(m||f>1&&"string"==typeof d&&!se.checkClone&&Ke.test(d))return e.each(function(i){var o=e.eq(i);m&&(t[0]=d.call(this,i,o.html())),S(o,t,n,r)});if(f&&(i=v(t,e[0].ownerDocument,!1,e,r),o=i.firstChild,1===i.childNodes.length&&(i=o),o||r)){for(a=ue.map(h(i,"script"),x),s=a.length;l<f;l++)c=i,l!==p&&(c=ue.clone(c,!0,!0),s&&ue.merge(a,h(c,"script"))),n.call(e[l],c,l);if(s)for(u=a[a.length-1].ownerDocument,ue.map(a,C),l=0;l<s;l++)c=a[l],Be.test(c.type||"")&&!Ie.access(c,"globalEval")&&ue.contains(u,c)&&(c.src?ue._evalUrl&&ue._evalUrl(c.src):ue.globalEval(c.textContent.replace(Ye,"")))}return e}function E(e,t,n){for(var r,i=t?ue.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||ue.cleanData(h(r)),r.parentNode&&(n&&ue.contains(r.ownerDocument,r)&&m(h(r,"script")),r.parentNode.removeChild(r));return e}function A(e,t){var n=ue(t.createElement(e)).appendTo(t.body),r=ue.css(n[0],"display");return n.detach(),r}function I(e){var t=Q,n=Je[e];return n||(n=A(e,t),"none"!==n&&n||(Xe=(Xe||ue("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Xe[0].contentDocument,t.write(),t.close(),n=A(e,t),Xe.detach()),Je[e]=n),n}function O(e,t,n){var r,i,o,a,s=e.style;return n=n||et(e),a=n?n.getPropertyValue(t)||n[t]:void 0,""!==a&&void 0!==a||ue.contains(e.ownerDocument,e)||(a=ue.style(e,t)),n&&!se.pixelMarginRight()&&Qe.test(a)&&Ze.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o),void 0!==a?a+"":a}function P(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function N(e){if(e in st)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=at.length;n--;)if(e=at[n]+t,e in st)return e}function D(e,t,n){var r=Le.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function L(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=ue.css(e,n+Me[o],!0,i)),r?("content"===n&&(a-=ue.css(e,"padding"+Me[o],!0,i)),"margin"!==n&&(a-=ue.css(e,"border"+Me[o]+"Width",!0,i))):(a+=ue.css(e,"padding"+Me[o],!0,i),"padding"!==n&&(a+=ue.css(e,"border"+Me[o]+"Width",!0,i)));return a}function M(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=et(e),a="border-box"===ue.css(e,"boxSizing",!1,o);if(i<=0||null==i){if(i=O(e,t,o),(i<0||null==i)&&(i=e.style[t]),Qe.test(i))return i;r=a&&(se.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+L(e,t,n||(a?"border":"content"),r,o)+"px"}function R(e,t){for(var n,r,i,o=[],a=0,s=e.length;a<s;a++)r=e[a],r.style&&(o[a]=Ie.get(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Re(r)&&(o[a]=Ie.access(r,"olddisplay",I(r.nodeName)))):(i=Re(r),"none"===n&&i||Ie.set(r,"olddisplay",i?n:ue.css(r,"display"))));for(a=0;a<s;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function j(e,t,n,r,i){return new j.prototype.init(e,t,n,r,i)}function F(){return n.setTimeout(function(){ct=void 0}),ct=ue.now()}function B(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)n=Me[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function U(e,t,n){for(var r,i=(V.tweeners[t]||[]).concat(V.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function z(e,t,n){var r,i,o,a,s,c,u,l,f=this,p={},d=e.style,h=e.nodeType&&Re(e),m=Ie.get(e,"fxshow");n.queue||(s=ue._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,c=s.empty.fire,s.empty.fire=function(){s.unqueued||c()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,ue.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],u=ue.css(e,"display"),l="none"===u?Ie.get(e,"olddisplay")||I(e.nodeName):u,"inline"===l&&"none"===ue.css(e,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",f.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],lt.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;h=!0}p[r]=m&&m[r]||ue.style(e,r)}else u=void 0;if(ue.isEmptyObject(p))"inline"===("none"===u?I(e.nodeName):u)&&(d.display=u);else{m?"hidden"in m&&(h=m.hidden):m=Ie.access(e,"fxshow",{}),o&&(m.hidden=!h),h?ue(e).show():f.done(function(){ue(e).hide()}),f.done(function(){var t;Ie.remove(e,"fxshow");for(t in p)ue.style(e,t,p[t])});for(r in p)a=U(h?m[r]:0,r,f),r in m||(m[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function W(e,t){var n,r,i,o,a;for(n in e)if(r=ue.camelCase(n),i=t[r],o=e[n],ue.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=ue.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function V(e,t,n){var r,i,o=0,a=V.prefilters.length,s=ue.Deferred().always(function(){delete c.elem}),c=function(){if(i)return!1;for(var t=ct||F(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,o=1-r,a=0,c=u.tweens.length;a<c;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,n]),o<1&&c?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:ue.extend({},t),opts:ue.extend(!0,{specialEasing:{},easing:ue.easing._default},n),originalProperties:t,originalOptions:n,startTime:ct||F(),duration:n.duration,tweens:[],createTween:function(t,n){var r=ue.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)u.tweens[n].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),l=u.props;for(W(l,u.opts.specialEasing);o<a;o++)if(r=V.prefilters[o].call(u,e,l,u.opts))return ue.isFunction(r.stop)&&(ue._queueHooks(u.elem,u.opts.queue).stop=ue.proxy(r.stop,r)),r;return ue.map(l,U,u),ue.isFunction(u.opts.start)&&u.opts.start.call(e,u),ue.fx.timer(ue.extend(c,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function $(e){return e.getAttribute&&e.getAttribute("class")||""}function H(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(Te)||[];if(ue.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function q(e,t,n,r){function i(s){var c;return o[s]=!0,ue.each(e[s]||[],function(e,s){var u=s(t,n,r);return"string"!=typeof u||a||o[u]?a?!(c=u):void 0:(t.dataTypes.unshift(u),i(u),!1)}),c}var o={},a=e===Ot;return i(t.dataTypes[0])||!o["*"]&&i("*")}function K(e,t){var n,r,i=ue.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&ue.extend(!0,e,r),e}function G(e,t,n){for(var r,i,o,a,s=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){c.unshift(i);break}if(c[0]in n)o=c[0];else{for(i in n){if(!c[0]||e.converters[i+" "+c[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==c[0]&&c.unshift(o),n[o]}function Y(e,t,n,r){var i,o,a,s,c,u={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=l.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!c&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=o,o=l.shift())if("*"===o)o=c;else if("*"!==c&&c!==o){if(a=u[c+" "+o]||u["* "+o],!a)for(i in u)if(s=i.split(" "),s[1]===o&&(a=u[c+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[i]:u[i]!==!0&&(o=s[0],l.unshift(s[1]));break}if(a!==!0)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+c+" to "+o}}}return{state:"success",data:t}}function X(e,t,n,r){var i;if(ue.isArray(t))ue.each(t,function(t,i){n||Lt.test(e)?r(e,i):X(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==ue.type(t))r(e,t);else for(i in t)X(e+"["+i+"]",t[i],n,r)}function J(e){return ue.isWindow(e)?e:9===e.nodeType&&e.defaultView}var Z=[],Q=n.document,ee=Z.slice,te=Z.concat,ne=Z.push,re=Z.indexOf,ie={},oe=ie.toString,ae=ie.hasOwnProperty,se={},ce="2.2.4",ue=function(e,t){return new ue.fn.init(e,t)},le=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,fe=/^-ms-/,pe=/-([\da-z])/gi,de=function(e,t){return t.toUpperCase()};ue.fn=ue.prototype={jquery:ce,constructor:ue,selector:"",length:0,toArray:function(){return ee.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:ee.call(this)},pushStack:function(e){var t=ue.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return ue.each(this,e)},map:function(e){return this.pushStack(ue.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(ee.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ne,sort:Z.sort,splice:Z.splice},ue.extend=ue.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||ue.isFunction(a)||(a={}),s===c&&(a=this,s--);s<c;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],r=e[t],a!==r&&(u&&r&&(ue.isPlainObject(r)||(i=ue.isArray(r)))?(i?(i=!1,o=n&&ue.isArray(n)?n:[]):o=n&&ue.isPlainObject(n)?n:{},a[t]=ue.extend(u,o,r)):void 0!==r&&(a[t]=r));return a},ue.extend({expando:"jQuery"+(ce+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ue.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!ue.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if("object"!==ue.type(e)||e.nodeType||ue.isWindow(e))return!1;if(e.constructor&&!ae.call(e,"constructor")&&!ae.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return void 0===t||ae.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ie[oe.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=ue.trim(e),e&&(1===e.indexOf("use strict")?(t=Q.createElement("script"),t.text=e,Q.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(fe,"ms-").replace(pe,de)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,r=0;if(a(e))for(n=e.length;r<n&&t.call(e[r],r,e[r])!==!1;r++);else for(r in e)if(t.call(e[r],r,e[r])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(le,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(a(Object(e))?ue.merge(n,"string"==typeof e?[e]:e):ne.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:re.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;o<a;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,n){var r,i,o=0,s=[];if(a(e))for(r=e.length;o<r;o++)i=t(e[o],o,n),null!=i&&s.push(i);else for(o in e)i=t(e[o],o,n),null!=i&&s.push(i);return te.apply([],s)},guid:1,proxy:function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),ue.isFunction(e))return r=ee.call(arguments,2),i=function(){return e.apply(t||this,r.concat(ee.call(arguments)))},i.guid=e.guid=e.guid||ue.guid++,i},now:Date.now,support:se}),"function"==typeof Symbol&&(ue.fn[Symbol.iterator]=Z[Symbol.iterator]),ue.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ie["[object "+t+"]"]=t.toLowerCase()});var he=function(e){function t(e,t,n,r){var i,o,a,s,c,u,f,d,h=t&&t.ownerDocument,m=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==m&&9!==m&&11!==m)return n;if(!r&&((t?t.ownerDocument||t:U)!==N&&P(t),t=t||N,L)){if(11!==m&&(u=ge.exec(e)))if(i=u[1]){if(9===m){if(!(a=t.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(h&&(a=h.getElementById(i))&&F(t,a)&&a.id===i)return n.push(a),n}else{if(u[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((i=u[3])&&_.getElementsByClassName&&t.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(i)),n}if(_.qsa&&!H[e+" "]&&(!M||!M.test(e))){if(1!==m)h=t,d=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(be,"\\$&"):t.setAttribute("id",s=B),f=T(e),o=f.length,c=pe.test(s)?"#"+s:"[id='"+s+"']";o--;)f[o]=c+" "+p(f[o]);d=f.join(","),h=ye.test(e)&&l(t.parentNode)||t}if(d)try{return Z.apply(n,h.querySelectorAll(d)),n}catch(e){}finally{s===B&&t.removeAttribute("id")}}}return E(e.replace(se,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>x.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[B]=!0,e}function i(e){var t=N.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=n.length;r--;)x.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||K)-(~e.sourceIndex||K);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function c(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function l(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function f(){}function p(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function d(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=W++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,c,u,l=[z,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(u=t[B]||(t[B]={}),c=u[t.uniqueID]||(u[t.uniqueID]={}),(s=c[r])&&s[0]===z&&s[1]===o)return l[2]=s[2];if(c[r]=l,l[2]=e(t,n,a))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(e,n,r){for(var i=0,o=n.length;i<o;i++)t(e,n[i],r);return r}function v(e,t,n,r,i){for(var o,a=[],s=0,c=e.length,u=null!=t;s<c;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),u&&t.push(s)));return a}function g(e,t,n,i,o,a){return i&&!i[B]&&(i=g(i)),o&&!o[B]&&(o=g(o,a)),r(function(r,a,s,c){var u,l,f,p=[],d=[],h=a.length,g=r||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?g:v(g,p,e,s,c),b=n?o||(r?e:h||i)?[]:a:y;if(n&&n(y,b,s,c),i)for(u=v(b,d),i(u,[],s,c),l=u.length;l--;)(f=u[l])&&(b[d[l]]=!(y[d[l]]=f));if(r){if(o||e){if(o){for(u=[],l=b.length;l--;)(f=b[l])&&u.push(y[l]=f);o(null,b=[],u,c)}for(l=b.length;l--;)(f=b[l])&&(u=o?ee(r,f):p[l])>-1&&(r[u]=!(a[u]=f))}}else b=v(b===a?b.splice(h,b.length):b),o?o(null,a,b,c):Z.apply(a,b)})}function y(e){for(var t,n,r,i=e.length,o=x.relative[e[0].type],a=o||x.relative[" "],s=o?1:0,c=d(function(e){return e===t},a,!0),u=d(function(e){return ee(t,e)>-1},a,!0),l=[function(e,n,r){var i=!o&&(r||n!==A)||((t=n).nodeType?c(e,n,r):u(e,n,r));return t=null,i}];s<i;s++)if(n=x.relative[e[s].type])l=[d(h(l),n)];else{if(n=x.filter[e[s].type].apply(null,e[s].matches),n[B]){for(r=++s;r<i&&!x.relative[e[r].type];r++);return g(s>1&&h(l),s>1&&p(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),n,s<r&&y(e.slice(s,r)),r<i&&y(e=e.slice(r)),r<i&&p(e))}l.push(n)}return h(l)}function b(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,c,u){var l,f,p,d=0,h="0",m=r&&[],g=[],y=A,b=r||o&&x.find.TAG("*",u),w=z+=null==y?1:Math.random()||.1,_=b.length;for(u&&(A=a===N||a||u);h!==_&&null!=(l=b[h]);h++){if(o&&l){for(f=0,a||l.ownerDocument===N||(P(l),s=!L);p=e[f++];)if(p(l,a||N,s)){c.push(l);break}u&&(z=w)}i&&((l=!p&&l)&&d--,r&&m.push(l))}if(d+=h,i&&h!==d){for(f=0;p=n[f++];)p(m,g,a,s);if(r){if(d>0)for(;h--;)m[h]||g[h]||(g[h]=X.call(c));g=v(g)}Z.apply(c,g),u&&!r&&g.length>0&&d+n.length>1&&t.uniqueSort(c)}return u&&(z=w,A=y),m};return i?r(a):a}var w,_,x,C,k,T,S,E,A,I,O,P,N,D,L,M,R,j,F,B="sizzle"+1*new Date,U=e.document,z=0,W=0,V=n(),$=n(),H=n(),q=function(e,t){return e===t&&(O=!0),0},K=1<<31,G={}.hasOwnProperty,Y=[],X=Y.pop,J=Y.push,Z=Y.push,Q=Y.slice,ee=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",oe=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),se=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ce=new RegExp("^"+ne+"*,"+ne+"*"),ue=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),le=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),fe=new RegExp(oe),pe=new RegExp("^"+re+"$"),de={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re+"|[*])"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},he=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,be=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),_e=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},xe=function(){P()};try{Z.apply(Y=Q.call(U.childNodes),U.childNodes),Y[U.childNodes.length].nodeType}catch(e){Z={apply:Y.length?function(e,t){J.apply(e,Q.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}_=t.support={},k=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},P=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:U;return r!==N&&9===r.nodeType&&r.documentElement?(N=r,D=N.documentElement,L=!k(N),(n=N.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",xe,!1):n.attachEvent&&n.attachEvent("onunload",xe)),_.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),_.getElementsByTagName=i(function(e){return e.appendChild(N.createComment("")),!e.getElementsByTagName("*").length}),_.getElementsByClassName=ve.test(N.getElementsByClassName),_.getById=i(function(e){return D.appendChild(e).id=B,!N.getElementsByName||!N.getElementsByName(B).length}),_.getById?(x.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&L){var n=t.getElementById(e);return n?[n]:[]}},x.filter.ID=function(e){var t=e.replace(we,_e);return function(e){return e.getAttribute("id")===t}}):(delete x.find.ID,x.filter.ID=function(e){var t=e.replace(we,_e);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),x.find.TAG=_.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):_.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},x.find.CLASS=_.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&L)return t.getElementsByClassName(e)},R=[],M=[],(_.qsa=ve.test(N.querySelectorAll))&&(i(function(e){D.appendChild(e).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||M.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+B+"-]").length||M.push("~="),e.querySelectorAll(":checked").length||M.push(":checked"),e.querySelectorAll("a#"+B+"+*").length||M.push(".#.+[+~]")}),i(function(e){var t=N.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&M.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(_.matchesSelector=ve.test(j=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&i(function(e){_.disconnectedMatch=j.call(e,"div"),j.call(e,"[s!='']:x"),R.push("!=",oe)}),M=M.length&&new RegExp(M.join("|")),R=R.length&&new RegExp(R.join("|")),t=ve.test(D.compareDocumentPosition),F=t||ve.test(D.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},q=t?function(e,t){if(e===t)return O=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!_.sortDetached&&t.compareDocumentPosition(e)===n?e===N||e.ownerDocument===U&&F(U,e)?-1:t===N||t.ownerDocument===U&&F(U,t)?1:I?ee(I,e)-ee(I,t):0:4&n?-1:1)}:function(e,t){if(e===t)return O=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],c=[t];if(!i||!o)return e===N?-1:t===N?1:i?-1:o?1:I?ee(I,e)-ee(I,t):0;if(i===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;s[r]===c[r];)r++;return r?a(s[r],c[r]):s[r]===U?-1:c[r]===U?1:0},N):N},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==N&&P(e),n=n.replace(le,"='$1']"),_.matchesSelector&&L&&!H[n+" "]&&(!R||!R.test(n))&&(!M||!M.test(n)))try{var r=j.call(e,n);if(r||_.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,N,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==N&&P(e),F(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==N&&P(e);var n=x.attrHandle[t.toLowerCase()],r=n&&G.call(x.attrHandle,t.toLowerCase())?n(e,t,!L):void 0;return void 0!==r?r:_.attributes||!L?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(O=!_.detectDuplicates,I=!_.sortStable&&e.slice(0),e.sort(q),O){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return I=null,e},C=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},x=t.selectors={cacheLength:50,createPseudo:r,match:de,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,_e),e[3]=(e[3]||e[4]||e[5]||"").replace(we,_e),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return de.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&fe.test(n)&&(t=T(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,_e).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=V[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&V(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(ae," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,c){var u,l,f,p,d,h,m=o!==a?"nextSibling":"previousSibling",v=t.parentNode,g=s&&t.nodeName.toLowerCase(),y=!c&&!s,b=!1;if(v){if(o){for(;m;){for(p=t;p=p[m];)if(s?p.nodeName.toLowerCase()===g:1===p.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?v.firstChild:v.lastChild],a&&y){for(p=v,f=p[B]||(p[B]={}),l=f[p.uniqueID]||(f[p.uniqueID]={}),u=l[e]||[],d=u[0]===z&&u[1],b=d&&u[2],p=d&&v.childNodes[d];p=++d&&p&&p[m]||(b=d=0)||h.pop();)if(1===p.nodeType&&++b&&p===t){
l[e]=[z,d,b];break}}else if(y&&(p=t,f=p[B]||(p[B]={}),l=f[p.uniqueID]||(f[p.uniqueID]={}),u=l[e]||[],d=u[0]===z&&u[1],b=d),b===!1)for(;(p=++d&&p&&p[m]||(b=d=0)||h.pop())&&((s?p.nodeName.toLowerCase()!==g:1!==p.nodeType)||!++b||(y&&(f=p[B]||(p[B]={}),l=f[p.uniqueID]||(f[p.uniqueID]={}),l[e]=[z,b]),p!==t)););return b-=i,b===r||b%r===0&&b/r>=0}}},PSEUDO:function(e,n){var i,o=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[B]?o(n):o.length>1?(i=[e,e,"",n],x.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=ee(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=S(e.replace(se,"$1"));return i[B]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(we,_e),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:r(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,_e).toLowerCase(),function(t){var n;do if(n=L?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===D},focus:function(e){return e===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return he.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[n<0?n+t:n]}),even:u(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:u(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},x.pseudos.nth=x.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})x.pseudos[w]=c(w);return f.prototype=x.filters=x.pseudos,x.setFilters=new f,T=t.tokenize=function(e,n){var r,i,o,a,s,c,u,l=$[e+" "];if(l)return n?0:l.slice(0);for(s=e,c=[],u=x.preFilter;s;){r&&!(i=ce.exec(s))||(i&&(s=s.slice(i[0].length)||s),c.push(o=[])),r=!1,(i=ue.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(se," ")}),s=s.slice(r.length));for(a in x.filter)!(i=de[a].exec(s))||u[a]&&!(i=u[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):$(e,c).slice(0)},S=t.compile=function(e,t){var n,r=[],i=[],o=H[e+" "];if(!o){for(t||(t=T(e)),n=t.length;n--;)o=y(t[n]),o[B]?r.push(o):i.push(o);o=H(e,b(i,r)),o.selector=e}return o},E=t.select=function(e,t,n,r){var i,o,a,s,c,u="function"==typeof e&&e,f=!r&&T(e=u.selector||e);if(n=n||[],1===f.length){if(o=f[0]=f[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&_.getById&&9===t.nodeType&&L&&x.relative[o[1].type]){if(t=(x.find.ID(a.matches[0].replace(we,_e),t)||[])[0],!t)return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=de.needsContext.test(e)?0:o.length;i--&&(a=o[i],!x.relative[s=a.type]);)if((c=x.find[s])&&(r=c(a.matches[0].replace(we,_e),ye.test(o[0].type)&&l(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&p(o),!e)return Z.apply(n,r),n;break}}return(u||S(e,f))(r,t,!L,n,!t||ye.test(e)&&l(t.parentNode)||t),n},_.sortStable=B.split("").sort(q).join("")===B,_.detectDuplicates=!!O,P(),_.sortDetached=i(function(e){return 1&e.compareDocumentPosition(N.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),_.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;if(!n)return e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(n);ue.find=he,ue.expr=he.selectors,ue.expr[":"]=ue.expr.pseudos,ue.uniqueSort=ue.unique=he.uniqueSort,ue.text=he.getText,ue.isXMLDoc=he.isXML,ue.contains=he.contains;var me=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&ue(e).is(n))break;r.push(e)}return r},ve=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},ge=ue.expr.match.needsContext,ye=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,be=/^.[^:#\[\.,]*$/;ue.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ue.find.matchesSelector(r,e)?[r]:[]:ue.find.matches(e,ue.grep(t,function(e){return 1===e.nodeType}))},ue.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if("string"!=typeof e)return this.pushStack(ue(e).filter(function(){for(t=0;t<n;t++)if(ue.contains(i[t],this))return!0}));for(t=0;t<n;t++)ue.find(e,i[t],r);return r=this.pushStack(n>1?ue.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(s(this,e||[],!1))},not:function(e){return this.pushStack(s(this,e||[],!0))},is:function(e){return!!s(this,"string"==typeof e&&ge.test(e)?ue(e):e||[],!1).length}});var we,_e=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,xe=ue.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||we,"string"==typeof e){if(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:_e.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof ue?t[0]:t,ue.merge(this,ue.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:Q,!0)),ye.test(r[1])&&ue.isPlainObject(t))for(r in t)ue.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return i=Q.getElementById(r[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=Q,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ue.isFunction(e)?void 0!==n.ready?n.ready(e):e(ue):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ue.makeArray(e,this))};xe.prototype=ue.fn,we=ue(Q);var Ce=/^(?:parents|prev(?:Until|All))/,ke={children:!0,contents:!0,next:!0,prev:!0};ue.fn.extend({has:function(e){var t=ue(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(ue.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=ge.test(e)||"string"!=typeof e?ue(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&ue.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?ue.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?re.call(ue(e),this[0]):re.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ue.uniqueSort(ue.merge(this.get(),ue(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ue.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return me(e,"parentNode")},parentsUntil:function(e,t,n){return me(e,"parentNode",n)},next:function(e){return c(e,"nextSibling")},prev:function(e){return c(e,"previousSibling")},nextAll:function(e){return me(e,"nextSibling")},prevAll:function(e){return me(e,"previousSibling")},nextUntil:function(e,t,n){return me(e,"nextSibling",n)},prevUntil:function(e,t,n){return me(e,"previousSibling",n)},siblings:function(e){return ve((e.parentNode||{}).firstChild,e)},children:function(e){return ve(e.firstChild)},contents:function(e){return e.contentDocument||ue.merge([],e.childNodes)}},function(e,t){ue.fn[e]=function(n,r){var i=ue.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=ue.filter(r,i)),this.length>1&&(ke[e]||ue.uniqueSort(i),Ce.test(e)&&i.reverse()),this.pushStack(i)}});var Te=/\S+/g;ue.Callbacks=function(e){e="string"==typeof e?u(e):ue.extend({},e);var t,n,r,i,o=[],a=[],s=-1,c=function(){for(i=e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)o[s].apply(n[0],n[1])===!1&&e.stopOnFalse&&(s=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){ue.each(n,function(n,r){ue.isFunction(r)?e.unique&&l.has(r)||o.push(r):r&&r.length&&"string"!==ue.type(r)&&t(r)})}(arguments),n&&!t&&c()),this},remove:function(){return ue.each(arguments,function(e,t){for(var n;(n=ue.inArray(t,o,n))>-1;)o.splice(n,1),n<=s&&s--}),this},has:function(e){return e?ue.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=n||[],n=[e,n.slice?n.slice():n],a.push(n),t||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},ue.extend({Deferred:function(e){var t=[["resolve","done",ue.Callbacks("once memory"),"resolved"],["reject","fail",ue.Callbacks("once memory"),"rejected"],["notify","progress",ue.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ue.Deferred(function(n){ue.each(t,function(t,o){var a=ue.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&ue.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ue.extend(e,r):r}},i={};return r.pipe=r.then,ue.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=ee.call(arguments),a=o.length,s=1!==a||e&&ue.isFunction(e.promise)?a:0,c=1===s?e:ue.Deferred(),u=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?ee.call(arguments):i,r===t?c.notifyWith(n,r):--s||c.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);i<a;i++)o[i]&&ue.isFunction(o[i].promise)?o[i].promise().progress(u(i,n,t)).done(u(i,r,o)).fail(c.reject):--s;return s||c.resolveWith(r,o),c.promise()}});var Se;ue.fn.ready=function(e){return ue.ready.promise().done(e),this},ue.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ue.readyWait++:ue.ready(!0)},ready:function(e){(e===!0?--ue.readyWait:ue.isReady)||(ue.isReady=!0,e!==!0&&--ue.readyWait>0||(Se.resolveWith(Q,[ue]),ue.fn.triggerHandler&&(ue(Q).triggerHandler("ready"),ue(Q).off("ready"))))}}),ue.ready.promise=function(e){return Se||(Se=ue.Deferred(),"complete"===Q.readyState||"loading"!==Q.readyState&&!Q.documentElement.doScroll?n.setTimeout(ue.ready):(Q.addEventListener("DOMContentLoaded",l),n.addEventListener("load",l))),Se.promise(e)},ue.ready.promise();var Ee=function(e,t,n,r,i,o,a){var s=0,c=e.length,u=null==n;if("object"===ue.type(n)){i=!0;for(s in n)Ee(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,ue.isFunction(r)||(a=!0),u&&(a?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(ue(e),n)})),t))for(;s<c;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:u?t.call(e):c?t(e[0],n):o},Ae=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};f.uid=1,f.prototype={register:function(e,t){var n=t||{};return e.nodeType?e[this.expando]=n:Object.defineProperty(e,this.expando,{value:n,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!Ae(e))return{};var t=e[this.expando];return t||(t={},Ae(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[t]=n;else for(r in t)i[r]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?(r=this.get(e,t),void 0!==r?r:this.get(e,ue.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,o=e[this.expando];if(void 0!==o){if(void 0===t)this.register(e);else{ue.isArray(t)?r=t.concat(t.map(ue.camelCase)):(i=ue.camelCase(t),t in o?r=[t,i]:(r=i,r=r in o?[r]:r.match(Te)||[])),n=r.length;for(;n--;)delete o[r[n]]}(void 0===t||ue.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!ue.isEmptyObject(t)}};var Ie=new f,Oe=new f,Pe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ne=/[A-Z]/g;ue.extend({hasData:function(e){return Oe.hasData(e)||Ie.hasData(e)},data:function(e,t,n){return Oe.access(e,t,n)},removeData:function(e,t){Oe.remove(e,t)},_data:function(e,t,n){return Ie.access(e,t,n)},_removeData:function(e,t){Ie.remove(e,t)}}),ue.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=Oe.get(o),1===o.nodeType&&!Ie.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=ue.camelCase(r.slice(5)),p(o,r,i[r])));Ie.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){Oe.set(this,e)}):Ee(this,function(t){var n,r;if(o&&void 0===t){if(n=Oe.get(o,e)||Oe.get(o,e.replace(Ne,"-$&").toLowerCase()),void 0!==n)return n;if(r=ue.camelCase(e),n=Oe.get(o,r),void 0!==n)return n;if(n=p(o,r,void 0),void 0!==n)return n}else r=ue.camelCase(e),this.each(function(){var n=Oe.get(this,r);Oe.set(this,r,t),e.indexOf("-")>-1&&void 0!==n&&Oe.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Oe.remove(this,e)})}}),ue.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Ie.get(e,t),n&&(!r||ue.isArray(n)?r=Ie.access(e,t,ue.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=ue.queue(e,t),r=n.length,i=n.shift(),o=ue._queueHooks(e,t),a=function(){ue.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Ie.get(e,n)||Ie.access(e,n,{empty:ue.Callbacks("once memory").add(function(){Ie.remove(e,[t+"queue",n])})})}}),ue.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ue.queue(this[0],e):void 0===t?this:this.each(function(){var n=ue.queue(this,e,t);ue._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ue.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ue.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=ue.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=Ie.get(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var De=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Le=new RegExp("^(?:([+-])=|)("+De+")([a-z%]*)$","i"),Me=["Top","Right","Bottom","Left"],Re=function(e,t){return e=t||e,"none"===ue.css(e,"display")||!ue.contains(e.ownerDocument,e)},je=/^(?:checkbox|radio)$/i,Fe=/<([\w:-]+)/,Be=/^$|\/(?:java|ecma)script/i,Ue={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ue.optgroup=Ue.option,Ue.tbody=Ue.tfoot=Ue.colgroup=Ue.caption=Ue.thead,Ue.th=Ue.td;var ze=/<|&#?\w+;/;!function(){var e=Q.createDocumentFragment(),t=e.appendChild(Q.createElement("div")),n=Q.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),se.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",se.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var We=/^key/,Ve=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,$e=/^([^.]*)(?:\.(.+)|)/;ue.event={global:{},add:function(e,t,n,r,i){var o,a,s,c,u,l,f,p,d,h,m,v=Ie.get(e);if(v)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=ue.guid++),(c=v.events)||(c=v.events={}),(a=v.handle)||(a=v.handle=function(t){return"undefined"!=typeof ue&&ue.event.triggered!==t.type?ue.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Te)||[""],u=t.length;u--;)s=$e.exec(t[u])||[],d=m=s[1],h=(s[2]||"").split(".").sort(),d&&(f=ue.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=ue.event.special[d]||{},l=ue.extend({type:d,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ue.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=c[d])||(p=c[d]=[],p.delegateCount=0,f.setup&&f.setup.call(e,r,h,a)!==!1||e.addEventListener&&e.addEventListener(d,a)),f.add&&(f.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,l):p.push(l),ue.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,a,s,c,u,l,f,p,d,h,m,v=Ie.hasData(e)&&Ie.get(e);if(v&&(c=v.events)){for(t=(t||"").match(Te)||[""],u=t.length;u--;)if(s=$e.exec(t[u])||[],d=m=s[1],h=(s[2]||"").split(".").sort(),d){for(f=ue.event.special[d]||{},d=(r?f.delegateType:f.bindType)||d,p=c[d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)l=p[o],!i&&m!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(p.splice(o,1),l.selector&&p.delegateCount--,f.remove&&f.remove.call(e,l));a&&!p.length&&(f.teardown&&f.teardown.call(e,h,v.handle)!==!1||ue.removeEvent(e,d,v.handle),delete c[d])}else for(d in c)ue.event.remove(e,d+t[u],n,r,!0);ue.isEmptyObject(c)&&Ie.remove(e,"handle events")}},dispatch:function(e){e=ue.event.fix(e);var t,n,r,i,o,a=[],s=ee.call(arguments),c=(Ie.get(this,"events")||{})[e.type]||[],u=ue.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(a=ue.event.handlers.call(this,e,c),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(o.namespace)||(e.handleObj=o,e.data=o.data,r=((ue.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s),void 0!==r&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,c=e.target;if(s&&c.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==e.type)){for(r=[],n=0;n<s;n++)o=t[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?ue(i,this).index(c)>-1:ue.find(i,this,null,[c]).length),r[i]&&r.push(o);r.length&&a.push({elem:c,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||Q,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[ue.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Ve.test(i)?this.mouseHooks:We.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new ue.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=Q),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==b()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===b()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&ue.nodeName(this,"input"))return this.click(),!1},_default:function(e){return ue.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},ue.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},ue.Event=function(e,t){return this instanceof ue.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?g:y):this.type=e,t&&ue.extend(this,t),this.timeStamp=e&&e.timeStamp||ue.now(),void(this[ue.expando]=!0)):new ue.Event(e,t)},ue.Event.prototype={constructor:ue.Event,isDefaultPrevented:y,isPropagationStopped:y,isImmediatePropagationStopped:y,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=g,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=g,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=g,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},ue.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ue.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||ue.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),ue.fn.extend({on:function(e,t,n,r){return w(this,e,t,n,r)},one:function(e,t,n,r){return w(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ue(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return t!==!1&&"function"!=typeof t||(n=t,t=void 0),n===!1&&(n=y),this.each(function(){ue.event.remove(this,e,n,t)})}});var He=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,qe=/<script|<style|<link/i,Ke=/checked\s*(?:[^=]|=\s*.checked.)/i,Ge=/^true\/(.*)/,Ye=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ue.extend({htmlPrefilter:function(e){return e.replace(He,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),c=ue.contains(e.ownerDocument,e);if(!(se.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ue.isXMLDoc(e)))for(a=h(s),o=h(e),r=0,i=o.length;r<i;r++)T(o[r],a[r]);if(t)if(n)for(o=o||h(e),a=a||h(s),r=0,i=o.length;r<i;r++)k(o[r],a[r]);else k(e,s);return a=h(s,"script"),a.length>0&&m(a,!c&&h(e,"script")),s},cleanData:function(e){for(var t,n,r,i=ue.event.special,o=0;void 0!==(n=e[o]);o++)if(Ae(n)){if(t=n[Ie.expando]){if(t.events)for(r in t.events)i[r]?ue.event.remove(n,r):ue.removeEvent(n,r,t.handle);n[Ie.expando]=void 0}n[Oe.expando]&&(n[Oe.expando]=void 0)}}}),ue.fn.extend({domManip:S,detach:function(e){return E(this,e,!0)},remove:function(e){return E(this,e)},text:function(e){return Ee(this,function(e){return void 0===e?ue.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return S(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=_(this,e);t.appendChild(e)}})},prepend:function(){return S(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=_(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return S(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return S(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ue.cleanData(h(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ue.clone(this,e,t)})},html:function(e){return Ee(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!qe.test(e)&&!Ue[(Fe.exec(e)||["",""])[1].toLowerCase()]){e=ue.htmlPrefilter(e);try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(ue.cleanData(h(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return S(this,arguments,function(t){var n=this.parentNode;ue.inArray(this,e)<0&&(ue.cleanData(h(this)),n&&n.replaceChild(t,this))},e)}}),ue.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ue.fn[e]=function(e){for(var n,r=[],i=ue(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),ue(i[a])[t](n),ne.apply(r,n.get());return this.pushStack(r)}});var Xe,Je={HTML:"block",BODY:"block"},Ze=/^margin/,Qe=new RegExp("^("+De+")(?!px)[a-z%]+$","i"),et=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},tt=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i},nt=Q.documentElement;!function(){function e(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",nt.appendChild(a);var e=n.getComputedStyle(s);t="1%"!==e.top,o="2px"===e.marginLeft,r="4px"===e.width,s.style.marginRight="50%",i="4px"===e.marginRight,nt.removeChild(a)}var t,r,i,o,a=Q.createElement("div"),s=Q.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",se.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),ue.extend(se,{pixelPosition:function(){return e(),t},boxSizingReliable:function(){return null==r&&e(),r},pixelMarginRight:function(){return null==r&&e(),i},reliableMarginLeft:function(){return null==r&&e(),o},reliableMarginRight:function(){var e,t=s.appendChild(Q.createElement("div"));return t.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",s.style.width="1px",nt.appendChild(a),e=!parseFloat(n.getComputedStyle(t).marginRight),nt.removeChild(a),s.removeChild(t),e}}))}();var rt=/^(none|table(?!-c[ea]).+)/,it={position:"absolute",visibility:"hidden",display:"block"},ot={letterSpacing:"0",fontWeight:"400"},at=["Webkit","O","Moz","ms"],st=Q.createElement("div").style;ue.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=O(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=ue.camelCase(t),c=e.style;return t=ue.cssProps[s]||(ue.cssProps[s]=N(s)||s),a=ue.cssHooks[t]||ue.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:c[t]:(o=typeof n,"string"===o&&(i=Le.exec(n))&&i[1]&&(n=d(e,t,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(ue.cssNumber[s]?"":"px")),se.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(c[t]=n)),void 0)}},css:function(e,t,n,r){var i,o,a,s=ue.camelCase(t);return t=ue.cssProps[s]||(ue.cssProps[s]=N(s)||s),a=ue.cssHooks[t]||ue.cssHooks[s],a&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=O(e,t,r)),"normal"===i&&t in ot&&(i=ot[t]),""===n||n?(o=parseFloat(i),n===!0||isFinite(o)?o||0:i):i}}),ue.each(["height","width"],function(e,t){ue.cssHooks[t]={get:function(e,n,r){if(n)return rt.test(ue.css(e,"display"))&&0===e.offsetWidth?tt(e,it,function(){return M(e,t,r)}):M(e,t,r)},set:function(e,n,r){var i,o=r&&et(e),a=r&&L(e,t,r,"border-box"===ue.css(e,"boxSizing",!1,o),o);return a&&(i=Le.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=ue.css(e,t)),D(e,n,a)}}}),ue.cssHooks.marginLeft=P(se.reliableMarginLeft,function(e,t){if(t)return(parseFloat(O(e,"marginLeft"))||e.getBoundingClientRect().left-tt(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),ue.cssHooks.marginRight=P(se.reliableMarginRight,function(e,t){if(t)return tt(e,{display:"inline-block"},O,[e,"marginRight"])}),ue.each({margin:"",padding:"",border:"Width"},function(e,t){ue.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+Me[r]+t]=o[r]||o[r-2]||o[0];return i}},Ze.test(e)||(ue.cssHooks[e+t].set=D)}),ue.fn.extend({css:function(e,t){return Ee(this,function(e,t,n){var r,i,o={},a=0;if(ue.isArray(t)){for(r=et(e),i=t.length;a<i;a++)o[t[a]]=ue.css(e,t[a],!1,r);return o}return void 0!==n?ue.style(e,t,n):ue.css(e,t)},e,t,arguments.length>1)},show:function(){return R(this,!0)},hide:function(){return R(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Re(this)?ue(this).show():ue(this).hide()})}}),ue.Tween=j,j.prototype={constructor:j,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||ue.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ue.cssNumber[n]?"":"px")},cur:function(){var e=j.propHooks[this.prop];return e&&e.get?e.get(this):j.propHooks._default.get(this)},run:function(e){var t,n=j.propHooks[this.prop];return this.options.duration?this.pos=t=ue.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):j.propHooks._default.set(this),this}},j.prototype.init.prototype=j.prototype,j.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ue.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){ue.fx.step[e.prop]?ue.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[ue.cssProps[e.prop]]&&!ue.cssHooks[e.prop]?e.elem[e.prop]=e.now:ue.style(e.elem,e.prop,e.now+e.unit)}}},j.propHooks.scrollTop=j.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ue.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},ue.fx=j.prototype.init,ue.fx.step={};var ct,ut,lt=/^(?:toggle|show|hide)$/,ft=/queueHooks$/;ue.Animation=ue.extend(V,{
tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return d(n.elem,e,Le.exec(t),n),n}]},tweener:function(e,t){ue.isFunction(e)?(t=e,e=["*"]):e=e.match(Te);for(var n,r=0,i=e.length;r<i;r++)n=e[r],V.tweeners[n]=V.tweeners[n]||[],V.tweeners[n].unshift(t)},prefilters:[z],prefilter:function(e,t){t?V.prefilters.unshift(e):V.prefilters.push(e)}}),ue.speed=function(e,t,n){var r=e&&"object"==typeof e?ue.extend({},e):{complete:n||!n&&t||ue.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ue.isFunction(t)&&t};return r.duration=ue.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in ue.fx.speeds?ue.fx.speeds[r.duration]:ue.fx.speeds._default,null!=r.queue&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(){ue.isFunction(r.old)&&r.old.call(this),r.queue&&ue.dequeue(this,r.queue)},r},ue.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Re).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=ue.isEmptyObject(e),o=ue.speed(t,n,r),a=function(){var t=V(this,ue.extend({},e),o);(i||Ie.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=ue.timers,a=Ie.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&ft.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||ue.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=Ie.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=ue.timers,a=r?r.length:0;for(n.finish=!0,ue.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),ue.each(["toggle","show","hide"],function(e,t){var n=ue.fn[t];ue.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(B(t,!0),e,r,i)}}),ue.each({slideDown:B("show"),slideUp:B("hide"),slideToggle:B("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ue.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),ue.timers=[],ue.fx.tick=function(){var e,t=0,n=ue.timers;for(ct=ue.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||ue.fx.stop(),ct=void 0},ue.fx.timer=function(e){ue.timers.push(e),e()?ue.fx.start():ue.timers.pop()},ue.fx.interval=13,ue.fx.start=function(){ut||(ut=n.setInterval(ue.fx.tick,ue.fx.interval))},ue.fx.stop=function(){n.clearInterval(ut),ut=null},ue.fx.speeds={slow:600,fast:200,_default:400},ue.fn.delay=function(e,t){return e=ue.fx?ue.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,r){var i=n.setTimeout(t,e);r.stop=function(){n.clearTimeout(i)}})},function(){var e=Q.createElement("input"),t=Q.createElement("select"),n=t.appendChild(Q.createElement("option"));e.type="checkbox",se.checkOn=""!==e.value,se.optSelected=n.selected,t.disabled=!0,se.optDisabled=!n.disabled,e=Q.createElement("input"),e.value="t",e.type="radio",se.radioValue="t"===e.value}();var pt,dt=ue.expr.attrHandle;ue.fn.extend({attr:function(e,t){return Ee(this,ue.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ue.removeAttr(this,e)})}}),ue.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?ue.prop(e,t,n):(1===o&&ue.isXMLDoc(e)||(t=t.toLowerCase(),i=ue.attrHooks[t]||(ue.expr.match.bool.test(t)?pt:void 0)),void 0!==n?null===n?void ue.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=ue.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!se.radioValue&&"radio"===t&&ue.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(Te);if(o&&1===e.nodeType)for(;n=o[i++];)r=ue.propFix[n]||n,ue.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)}}),pt={set:function(e,t,n){return t===!1?ue.removeAttr(e,n):e.setAttribute(n,n),n}},ue.each(ue.expr.match.bool.source.match(/\w+/g),function(e,t){var n=dt[t]||ue.find.attr;dt[t]=function(e,t,r){var i,o;return r||(o=dt[t],dt[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,dt[t]=o),i}});var ht=/^(?:input|select|textarea|button)$/i,mt=/^(?:a|area)$/i;ue.fn.extend({prop:function(e,t){return Ee(this,ue.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[ue.propFix[e]||e]})}}),ue.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ue.isXMLDoc(e)||(t=ue.propFix[t]||t,i=ue.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=ue.find.attr(e,"tabindex");return t?parseInt(t,10):ht.test(e.nodeName)||mt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),se.optSelected||(ue.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ue.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ue.propFix[this.toLowerCase()]=this});var vt=/[\t\r\n\f]/g;ue.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,c=0;if(ue.isFunction(e))return this.each(function(t){ue(this).addClass(e.call(this,t,$(this)))});if("string"==typeof e&&e)for(t=e.match(Te)||[];n=this[c++];)if(i=$(n),r=1===n.nodeType&&(" "+i+" ").replace(vt," ")){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");s=ue.trim(r),i!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,c=0;if(ue.isFunction(e))return this.each(function(t){ue(this).removeClass(e.call(this,t,$(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Te)||[];n=this[c++];)if(i=$(n),r=1===n.nodeType&&(" "+i+" ").replace(vt," ")){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");s=ue.trim(r),i!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):ue.isFunction(e)?this.each(function(n){ue(this).toggleClass(e.call(this,n,$(this),t),t)}):this.each(function(){var t,r,i,o;if("string"===n)for(r=0,i=ue(this),o=e.match(Te)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||(t=$(this),t&&Ie.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":Ie.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+$(n)+" ").replace(vt," ").indexOf(t)>-1)return!0;return!1}});var gt=/\r/g,yt=/[\x20\t\r\n\f]+/g;ue.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=ue.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,ue(this).val()):e,null==i?i="":"number"==typeof i?i+="":ue.isArray(i)&&(i=ue.map(i,function(e){return null==e?"":e+""})),t=ue.valHooks[this.type]||ue.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=ue.valHooks[i.type]||ue.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(gt,""):null==n?"":n)}}}),ue.extend({valHooks:{option:{get:function(e){var t=ue.find.attr(e,"value");return null!=t?t:ue.trim(ue.text(e)).replace(yt," ")}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,a=o?null:[],s=o?i+1:r.length,c=i<0?s:o?i:0;c<s;c++)if(n=r[c],(n.selected||c===i)&&(se.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ue.nodeName(n.parentNode,"optgroup"))){if(t=ue(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=ue.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=ue.inArray(ue.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),ue.each(["radio","checkbox"],function(){ue.valHooks[this]={set:function(e,t){if(ue.isArray(t))return e.checked=ue.inArray(ue(e).val(),t)>-1}},se.checkOn||(ue.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var bt=/^(?:focusinfocus|focusoutblur)$/;ue.extend(ue.event,{trigger:function(e,t,r,i){var o,a,s,c,u,l,f,p=[r||Q],d=ae.call(e,"type")?e.type:e,h=ae.call(e,"namespace")?e.namespace.split("."):[];if(a=s=r=r||Q,3!==r.nodeType&&8!==r.nodeType&&!bt.test(d+ue.event.triggered)&&(d.indexOf(".")>-1&&(h=d.split("."),d=h.shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,e=e[ue.expando]?e:new ue.Event(d,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:ue.makeArray(t,[e]),f=ue.event.special[d]||{},i||!f.trigger||f.trigger.apply(r,t)!==!1)){if(!i&&!f.noBubble&&!ue.isWindow(r)){for(c=f.delegateType||d,bt.test(c+d)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;s===(r.ownerDocument||Q)&&p.push(s.defaultView||s.parentWindow||n)}for(o=0;(a=p[o++])&&!e.isPropagationStopped();)e.type=o>1?c:f.bindType||d,l=(Ie.get(a,"events")||{})[e.type]&&Ie.get(a,"handle"),l&&l.apply(a,t),l=u&&a[u],l&&l.apply&&Ae(a)&&(e.result=l.apply(a,t),e.result===!1&&e.preventDefault());return e.type=d,i||e.isDefaultPrevented()||f._default&&f._default.apply(p.pop(),t)!==!1||!Ae(r)||u&&ue.isFunction(r[d])&&!ue.isWindow(r)&&(s=r[u],s&&(r[u]=null),ue.event.triggered=d,r[d](),ue.event.triggered=void 0,s&&(r[u]=s)),e.result}},simulate:function(e,t,n){var r=ue.extend(new ue.Event,n,{type:e,isSimulated:!0});ue.event.trigger(r,null,t)}}),ue.fn.extend({trigger:function(e,t){return this.each(function(){ue.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return ue.event.trigger(e,t,n,!0)}}),ue.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ue.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ue.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),se.focusin="onfocusin"in n,se.focusin||ue.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ue.event.simulate(t,e.target,ue.event.fix(e))};ue.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=Ie.access(r,t);i||r.addEventListener(e,n,!0),Ie.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Ie.access(r,t)-1;i?Ie.access(r,t,i):(r.removeEventListener(e,n,!0),Ie.remove(r,t))}}});var wt=n.location,_t=ue.now(),xt=/\?/;ue.parseJSON=function(e){return JSON.parse(e+"")},ue.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||ue.error("Invalid XML: "+e),t};var Ct=/#.*$/,kt=/([?&])_=[^&]*/,Tt=/^(.*?):[ \t]*([^\r\n]*)$/gm,St=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Et=/^(?:GET|HEAD)$/,At=/^\/\//,It={},Ot={},Pt="*/".concat("*"),Nt=Q.createElement("a");Nt.href=wt.href,ue.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wt.href,type:"GET",isLocal:St.test(wt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Pt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ue.parseJSON,"text xml":ue.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?K(K(e,ue.ajaxSettings),t):K(ue.ajaxSettings,e)},ajaxPrefilter:H(It),ajaxTransport:H(Ot),ajax:function(e,t){function r(e,t,r,s){var u,f,y,b,_,C=t;2!==w&&(w=2,c&&n.clearTimeout(c),i=void 0,a=s||"",x.readyState=e>0?4:0,u=e>=200&&e<300||304===e,r&&(b=G(p,x,r)),b=Y(p,b,x,u),u?(p.ifModified&&(_=x.getResponseHeader("Last-Modified"),_&&(ue.lastModified[o]=_),_=x.getResponseHeader("etag"),_&&(ue.etag[o]=_)),204===e||"HEAD"===p.type?C="nocontent":304===e?C="notmodified":(C=b.state,f=b.data,y=b.error,u=!y)):(y=C,!e&&C||(C="error",e<0&&(e=0))),x.status=e,x.statusText=(t||C)+"",u?m.resolveWith(d,[f,C,x]):m.rejectWith(d,[x,C,y]),x.statusCode(g),g=void 0,l&&h.trigger(u?"ajaxSuccess":"ajaxError",[x,p,u?f:y]),v.fireWith(d,[x,C]),l&&(h.trigger("ajaxComplete",[x,p]),--ue.active||ue.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,o,a,s,c,u,l,f,p=ue.ajaxSetup({},t),d=p.context||p,h=p.context&&(d.nodeType||d.jquery)?ue(d):ue.event,m=ue.Deferred(),v=ue.Callbacks("once memory"),g=p.statusCode||{},y={},b={},w=0,_="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!s)for(s={};t=Tt.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return w||(e=b[n]=b[n]||e,y[e]=t),this},overrideMimeType:function(e){return w||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(w<2)for(t in e)g[t]=[g[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||_;return i&&i.abort(t),r(0,t),this}};if(m.promise(x).complete=v.add,x.success=x.done,x.error=x.fail,p.url=((e||p.url||wt.href)+"").replace(Ct,"").replace(At,wt.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=ue.trim(p.dataType||"*").toLowerCase().match(Te)||[""],null==p.crossDomain){u=Q.createElement("a");try{u.href=p.url,u.href=u.href,p.crossDomain=Nt.protocol+"//"+Nt.host!=u.protocol+"//"+u.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=ue.param(p.data,p.traditional)),q(It,p,t,x),2===w)return x;l=ue.event&&p.global,l&&0===ue.active++&&ue.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Et.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(xt.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=kt.test(o)?o.replace(kt,"$1_="+_t++):o+(xt.test(o)?"&":"?")+"_="+_t++)),p.ifModified&&(ue.lastModified[o]&&x.setRequestHeader("If-Modified-Since",ue.lastModified[o]),ue.etag[o]&&x.setRequestHeader("If-None-Match",ue.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||t.contentType)&&x.setRequestHeader("Content-Type",p.contentType),x.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Pt+"; q=0.01":""):p.accepts["*"]);for(f in p.headers)x.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(p.beforeSend.call(d,x,p)===!1||2===w))return x.abort();_="abort";for(f in{success:1,error:1,complete:1})x[f](p[f]);if(i=q(Ot,p,t,x)){if(x.readyState=1,l&&h.trigger("ajaxSend",[x,p]),2===w)return x;p.async&&p.timeout>0&&(c=n.setTimeout(function(){x.abort("timeout")},p.timeout));try{w=1,i.send(y,r)}catch(e){if(!(w<2))throw e;r(-1,e)}}else r(-1,"No Transport");return x},getJSON:function(e,t,n){return ue.get(e,t,n,"json")},getScript:function(e,t){return ue.get(e,void 0,t,"script")}}),ue.each(["get","post"],function(e,t){ue[t]=function(e,n,r,i){return ue.isFunction(n)&&(i=i||r,r=n,n=void 0),ue.ajax(ue.extend({url:e,type:t,dataType:i,data:n,success:r},ue.isPlainObject(e)&&e))}}),ue._evalUrl=function(e){return ue.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},ue.fn.extend({wrapAll:function(e){var t;return ue.isFunction(e)?this.each(function(t){ue(this).wrapAll(e.call(this,t))}):(this[0]&&(t=ue(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return ue.isFunction(e)?this.each(function(t){ue(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ue(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ue.isFunction(e);return this.each(function(n){ue(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ue.nodeName(this,"body")||ue(this).replaceWith(this.childNodes)}).end()}}),ue.expr.filters.hidden=function(e){return!ue.expr.filters.visible(e)},ue.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var Dt=/%20/g,Lt=/\[\]$/,Mt=/\r?\n/g,Rt=/^(?:submit|button|image|reset|file)$/i,jt=/^(?:input|select|textarea|keygen)/i;ue.param=function(e,t){var n,r=[],i=function(e,t){t=ue.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ue.ajaxSettings&&ue.ajaxSettings.traditional),ue.isArray(e)||e.jquery&&!ue.isPlainObject(e))ue.each(e,function(){i(this.name,this.value)});else for(n in e)X(n,e[n],t,i);return r.join("&").replace(Dt,"+")},ue.fn.extend({serialize:function(){return ue.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ue.prop(this,"elements");return e?ue.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ue(this).is(":disabled")&&jt.test(this.nodeName)&&!Rt.test(e)&&(this.checked||!je.test(e))}).map(function(e,t){var n=ue(this).val();return null==n?null:ue.isArray(n)?ue.map(n,function(e){return{name:t.name,value:e.replace(Mt,"\r\n")}}):{name:t.name,value:n.replace(Mt,"\r\n")}}).get()}}),ue.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var Ft={0:200,1223:204},Bt=ue.ajaxSettings.xhr();se.cors=!!Bt&&"withCredentials"in Bt,se.ajax=Bt=!!Bt,ue.ajaxTransport(function(e){var t,r;if(se.cors||Bt&&!e.crossDomain)return{send:function(i,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)s.setRequestHeader(a,i[a]);t=function(e){return function(){t&&(t=r=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Ft[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),r=s.onerror=t("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){t&&r()})},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),ue.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ue.globalEval(e),e}}}),ue.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ue.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=ue("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),Q.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Ut=[],zt=/(=)\?(?=&|$)|\?\?/;ue.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ut.pop()||ue.expando+"_"+_t++;return this[e]=!0,e}}),ue.ajaxPrefilter("json jsonp",function(e,t,r){var i,o,a,s=e.jsonp!==!1&&(zt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&zt.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=ue.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(zt,"$1"+i):e.jsonp!==!1&&(e.url+=(xt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||ue.error(i+" was not called"),a[0]},e.dataTypes[0]="json",o=n[i],n[i]=function(){a=arguments},r.always(function(){void 0===o?ue(n).removeProp(i):n[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,Ut.push(i)),a&&ue.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),ue.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||Q;var r=ye.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=v([e],t,i),i&&i.length&&ue(i).remove(),ue.merge([],r.childNodes))};var Wt=ue.fn.load;ue.fn.load=function(e,t,n){if("string"!=typeof e&&Wt)return Wt.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=ue.trim(e.slice(s)),e=e.slice(0,s)),ue.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&ue.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?ue("<div>").append(ue.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},ue.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ue.fn[t]=function(e){return this.on(t,e)}}),ue.expr.filters.animated=function(e){return ue.grep(ue.timers,function(t){return e===t.elem}).length},ue.offset={setOffset:function(e,t,n){var r,i,o,a,s,c,u,l=ue.css(e,"position"),f=ue(e),p={};"static"===l&&(e.style.position="relative"),s=f.offset(),o=ue.css(e,"top"),c=ue.css(e,"left"),u=("absolute"===l||"fixed"===l)&&(o+c).indexOf("auto")>-1,u?(r=f.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(c)||0),ue.isFunction(t)&&(t=t.call(e,n,ue.extend({},s))),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+i),"using"in t?t.using.call(e,p):f.css(p)}},ue.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ue.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;if(o)return t=o.documentElement,ue.contains(t,r)?(i=r.getBoundingClientRect(),n=J(o),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===ue.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ue.nodeName(e[0],"html")||(r=e.offset()),r.top+=ue.css(e[0],"borderTopWidth",!0),r.left+=ue.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-ue.css(n,"marginTop",!0),left:t.left-r.left-ue.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===ue.css(e,"position");)e=e.offsetParent;return e||nt})}}),ue.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;ue.fn[e]=function(r){return Ee(this,function(e,r,i){var o=J(e);return void 0===i?o?o[t]:e[r]:void(o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i)},e,r,arguments.length)}}),ue.each(["top","left"],function(e,t){ue.cssHooks[t]=P(se.pixelPosition,function(e,n){if(n)return n=O(e,t),Qe.test(n)?ue(e).position()[t]+"px":n})}),ue.each({Height:"height",Width:"width"},function(e,t){ue.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){ue.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");return Ee(this,function(t,n,r){var i;return ue.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?ue.css(t,n,a):ue.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),ue.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},size:function(){return this.length}}),ue.fn.andSelf=ue.fn.addBack,r=[],i=function(){return ue}.apply(t,r),!(void 0!==i&&(e.exports=i));var Vt=n.jQuery,$t=n.$;return ue.noConflict=function(e){return n.$===ue&&(n.$=$t),e&&n.jQuery===ue&&(n.jQuery=Vt),ue},o||(n.jQuery=n.$=ue),ue})},,function(e,t,n){var r;(function(e,i,o){(function(){function o(e,t){return e.set(t[0],t[1]),e}function a(e,t){return e.add(t),e}function s(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function c(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function u(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function l(e,t){for(var n=null==e?0:e.length;n--&&t(e[n],n,e)!==!1;);return e}function f(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function p(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function d(e,t){var n=null==e?0:e.length;return!!n&&k(e,t,0)>-1}function h(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function m(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function v(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function g(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function y(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function b(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function w(e){return e.split("")}function _(e){return e.match(Vt)||[]}function x(e,t,n){var r;return n(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function C(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function k(e,t,n){return t===t?J(e,t,n):C(e,S,n)}function T(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function S(e){return e!==e}function E(e,t){var n=null==e?0:e.length;return n?N(e,t)/n:je}function A(e){return function(t){return null==t?ie:t[e]}}function I(e){return function(t){return null==e?ie:e[t]}}function O(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function P(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function N(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);o!==ie&&(n=n===ie?o:n+o)}return n}function D(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function L(e,t){return m(t,function(t){return[t,e[t]]})}function M(e){return function(t){return e(t)}}function R(e,t){return m(t,function(t){return e[t]})}function j(e,t){return e.has(t)}function F(e,t){for(var n=-1,r=e.length;++n<r&&k(t,e[n],0)>-1;);return n}function B(e,t){for(var n=e.length;n--&&k(t,e[n],0)>-1;);return n}function U(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}function z(e){return"\\"+nr[e]}function W(e,t){return null==e?ie:e[t]}function V(e){return Kn.test(e)}function $(e){return Gn.test(e)}function H(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function q(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function K(e,t){return function(n){return e(t(n))}}function G(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==fe||(e[n]=fe,o[i++]=n)}return o}function Y(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function X(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function J(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function Z(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}function Q(e){return V(e)?te(e):br(e)}function ee(e){return V(e)?ne(e):w(e)}function te(e){for(var t=Hn.lastIndex=0;Hn.test(e);)++t;return t}function ne(e){return e.match(Hn)||[]}function re(e){return e.match(qn)||[]}var ie,oe="4.17.4",ae=200,se="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ce="Expected a function",ue="__lodash_hash_undefined__",le=500,fe="__lodash_placeholder__",pe=1,de=2,he=4,me=1,ve=2,ge=1,ye=2,be=4,we=8,_e=16,xe=32,Ce=64,ke=128,Te=256,Se=512,Ee=30,Ae="...",Ie=800,Oe=16,Pe=1,Ne=2,De=3,Le=1/0,Me=9007199254740991,Re=1.7976931348623157e308,je=NaN,Fe=4294967295,Be=Fe-1,Ue=Fe>>>1,ze=[["ary",ke],["bind",ge],["bindKey",ye],["curry",we],["curryRight",_e],["flip",Se],["partial",xe],["partialRight",Ce],["rearg",Te]],We="[object Arguments]",Ve="[object Array]",$e="[object AsyncFunction]",He="[object Boolean]",qe="[object Date]",Ke="[object DOMException]",Ge="[object Error]",Ye="[object Function]",Xe="[object GeneratorFunction]",Je="[object Map]",Ze="[object Number]",Qe="[object Null]",et="[object Object]",tt="[object Promise]",nt="[object Proxy]",rt="[object RegExp]",it="[object Set]",ot="[object String]",at="[object Symbol]",st="[object Undefined]",ct="[object WeakMap]",ut="[object WeakSet]",lt="[object ArrayBuffer]",ft="[object DataView]",pt="[object Float32Array]",dt="[object Float64Array]",ht="[object Int8Array]",mt="[object Int16Array]",vt="[object Int32Array]",gt="[object Uint8Array]",yt="[object Uint8ClampedArray]",bt="[object Uint16Array]",wt="[object Uint32Array]",_t=/\b__p \+= '';/g,xt=/\b(__p \+=) '' \+/g,Ct=/(__e\(.*?\)|\b__t\)) \+\n'';/g,kt=/&(?:amp|lt|gt|quot|#39);/g,Tt=/[&<>"']/g,St=RegExp(kt.source),Et=RegExp(Tt.source),At=/<%-([\s\S]+?)%>/g,It=/<%([\s\S]+?)%>/g,Ot=/<%=([\s\S]+?)%>/g,Pt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Nt=/^\w*$/,Dt=/^\./,Lt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Mt=/[\\^$.*+?()[\]{}|]/g,Rt=RegExp(Mt.source),jt=/^\s+|\s+$/g,Ft=/^\s+/,Bt=/\s+$/,Ut=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,zt=/\{\n\/\* \[wrapped with (.+)\] \*/,Wt=/,? & /,Vt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,$t=/\\(\\)?/g,Ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,qt=/\w*$/,Kt=/^[-+]0x[0-9a-f]+$/i,Gt=/^0b[01]+$/i,Yt=/^\[object .+?Constructor\]$/,Xt=/^0o[0-7]+$/i,Jt=/^(?:0|[1-9]\d*)$/,Zt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Qt=/($^)/,en=/['\n\r\u2028\u2029\\]/g,tn="\\ud800-\\udfff",nn="\\u0300-\\u036f",rn="\\ufe20-\\ufe2f",on="\\u20d0-\\u20ff",an=nn+rn+on,sn="\\u2700-\\u27bf",cn="a-z\\xdf-\\xf6\\xf8-\\xff",un="\\xac\\xb1\\xd7\\xf7",ln="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",fn="\\u2000-\\u206f",pn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dn="A-Z\\xc0-\\xd6\\xd8-\\xde",hn="\\ufe0e\\ufe0f",mn=un+ln+fn+pn,vn="['’]",gn="["+tn+"]",yn="["+mn+"]",bn="["+an+"]",wn="\\d+",_n="["+sn+"]",xn="["+cn+"]",Cn="[^"+tn+mn+wn+sn+cn+dn+"]",kn="\\ud83c[\\udffb-\\udfff]",Tn="(?:"+bn+"|"+kn+")",Sn="[^"+tn+"]",En="(?:\\ud83c[\\udde6-\\uddff]){2}",An="[\\ud800-\\udbff][\\udc00-\\udfff]",In="["+dn+"]",On="\\u200d",Pn="(?:"+xn+"|"+Cn+")",Nn="(?:"+In+"|"+Cn+")",Dn="(?:"+vn+"(?:d|ll|m|re|s|t|ve))?",Ln="(?:"+vn+"(?:D|LL|M|RE|S|T|VE))?",Mn=Tn+"?",Rn="["+hn+"]?",jn="(?:"+On+"(?:"+[Sn,En,An].join("|")+")"+Rn+Mn+")*",Fn="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",Bn="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",Un=Rn+Mn+jn,zn="(?:"+[_n,En,An].join("|")+")"+Un,Wn="(?:"+[Sn+bn+"?",bn,En,An,gn].join("|")+")",Vn=RegExp(vn,"g"),$n=RegExp(bn,"g"),Hn=RegExp(kn+"(?="+kn+")|"+Wn+Un,"g"),qn=RegExp([In+"?"+xn+"+"+Dn+"(?="+[yn,In,"$"].join("|")+")",Nn+"+"+Ln+"(?="+[yn,In+Pn,"$"].join("|")+")",In+"?"+Pn+"+"+Dn,In+"+"+Ln,Bn,Fn,wn,zn].join("|"),"g"),Kn=RegExp("["+On+tn+an+hn+"]"),Gn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Yn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xn=-1,Jn={};
Jn[pt]=Jn[dt]=Jn[ht]=Jn[mt]=Jn[vt]=Jn[gt]=Jn[yt]=Jn[bt]=Jn[wt]=!0,Jn[We]=Jn[Ve]=Jn[lt]=Jn[He]=Jn[ft]=Jn[qe]=Jn[Ge]=Jn[Ye]=Jn[Je]=Jn[Ze]=Jn[et]=Jn[rt]=Jn[it]=Jn[ot]=Jn[ct]=!1;var Zn={};Zn[We]=Zn[Ve]=Zn[lt]=Zn[ft]=Zn[He]=Zn[qe]=Zn[pt]=Zn[dt]=Zn[ht]=Zn[mt]=Zn[vt]=Zn[Je]=Zn[Ze]=Zn[et]=Zn[rt]=Zn[it]=Zn[ot]=Zn[at]=Zn[gt]=Zn[yt]=Zn[bt]=Zn[wt]=!0,Zn[Ge]=Zn[Ye]=Zn[ct]=!1;var Qn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},er={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},tr={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},nr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},rr=parseFloat,ir=parseInt,or="object"==typeof e&&e&&e.Object===Object&&e,ar="object"==typeof self&&self&&self.Object===Object&&self,sr=or||ar||Function("return this")(),cr="object"==typeof t&&t&&!t.nodeType&&t,ur=cr&&"object"==typeof i&&i&&!i.nodeType&&i,lr=ur&&ur.exports===cr,fr=lr&&or.process,pr=function(){try{return fr&&fr.binding&&fr.binding("util")}catch(e){}}(),dr=pr&&pr.isArrayBuffer,hr=pr&&pr.isDate,mr=pr&&pr.isMap,vr=pr&&pr.isRegExp,gr=pr&&pr.isSet,yr=pr&&pr.isTypedArray,br=A("length"),wr=I(Qn),_r=I(er),xr=I(tr),Cr=function e(t){function n(e){if(uc(e)&&!_p(e)&&!(e instanceof w)){if(e instanceof i)return e;if(wl.call(e,"__wrapped__"))return aa(e)}return new i(e)}function r(){}function i(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=ie}function w(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Fe,this.__views__=[]}function I(){var e=new w(this.__wrapped__);return e.__actions__=Ui(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ui(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ui(this.__views__),e}function J(){if(this.__filtered__){var e=new w(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function te(){var e=this.__wrapped__.value(),t=this.__dir__,n=_p(e),r=t<0,i=n?e.length:0,o=Oo(0,i,this.__views__),a=o.start,s=o.end,c=s-a,u=r?s:a-1,l=this.__iteratees__,f=l.length,p=0,d=Xl(c,this.__takeCount__);if(!n||!r&&i==c&&d==c)return _i(e,this.__actions__);var h=[];e:for(;c--&&p<d;){u+=t;for(var m=-1,v=e[u];++m<f;){var g=l[m],y=g.iteratee,b=g.type,w=y(v);if(b==Ne)v=w;else if(!w){if(b==Pe)continue e;break e}}h[p++]=v}return h}function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Vt(){this.__data__=sf?sf(null):{},this.size=0}function tn(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function nn(e){var t=this.__data__;if(sf){var n=t[e];return n===ue?ie:n}return wl.call(t,e)?t[e]:ie}function rn(e){var t=this.__data__;return sf?t[e]!==ie:wl.call(t,e)}function on(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=sf&&t===ie?ue:t,this}function an(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function sn(){this.__data__=[],this.size=0}function cn(e){var t=this.__data__,n=Dn(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Ll.call(t,n,1),--this.size,!0}function un(e){var t=this.__data__,n=Dn(t,e);return n<0?ie:t[n][1]}function ln(e){return Dn(this.__data__,e)>-1}function fn(e,t){var n=this.__data__,r=Dn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function pn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function dn(){this.size=0,this.__data__={hash:new ne,map:new(nf||an),string:new ne}}function hn(e){var t=So(this,e).delete(e);return this.size-=t?1:0,t}function mn(e){return So(this,e).get(e)}function vn(e){return So(this,e).has(e)}function gn(e,t){var n=So(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function yn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new pn;++t<n;)this.add(e[t])}function bn(e){return this.__data__.set(e,ue),this}function wn(e){return this.__data__.has(e)}function _n(e){var t=this.__data__=new an(e);this.size=t.size}function xn(){this.__data__=new an,this.size=0}function Cn(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function kn(e){return this.__data__.get(e)}function Tn(e){return this.__data__.has(e)}function Sn(e,t){var n=this.__data__;if(n instanceof an){var r=n.__data__;if(!nf||r.length<ae-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new pn(r)}return n.set(e,t),this.size=n.size,this}function En(e,t){var n=_p(e),r=!n&&wp(e),i=!n&&!r&&Cp(e),o=!n&&!r&&!i&&Ap(e),a=n||r||i||o,s=a?D(e.length,dl):[],c=s.length;for(var u in e)!t&&!wl.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Fo(u,c))||s.push(u);return s}function An(e){var t=e.length;return t?e[ni(0,t-1)]:ie}function In(e,t){return na(Ui(e),Bn(t,0,e.length))}function On(e){return na(Ui(e))}function Pn(e,t,n){(n===ie||Ys(e[t],n))&&(n!==ie||t in e)||jn(e,t,n)}function Nn(e,t,n){var r=e[t];wl.call(e,t)&&Ys(r,n)&&(n!==ie||t in e)||jn(e,t,n)}function Dn(e,t){for(var n=e.length;n--;)if(Ys(e[n][0],t))return n;return-1}function Ln(e,t,n,r){return bf(e,function(e,i,o){t(r,e,n(e),o)}),r}function Mn(e,t){return e&&zi(t,$c(t),e)}function Rn(e,t){return e&&zi(t,Hc(t),e)}function jn(e,t,n){"__proto__"==t&&Fl?Fl(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Fn(e,t){for(var n=-1,r=t.length,i=al(r),o=null==e;++n<r;)i[n]=o?ie:zc(e,t[n]);return i}function Bn(e,t,n){return e===e&&(n!==ie&&(e=e<=n?e:n),t!==ie&&(e=e>=t?e:t)),e}function Un(e,t,n,r,i,o){var a,s=t&pe,c=t&de,l=t&he;if(n&&(a=i?n(e,r,i,o):n(e)),a!==ie)return a;if(!cc(e))return e;var f=_p(e);if(f){if(a=Do(e),!s)return Ui(e,a)}else{var p=Pf(e),d=p==Ye||p==Xe;if(Cp(e))return Ai(e,s);if(p==et||p==We||d&&!i){if(a=c||d?{}:Lo(e),!s)return c?Vi(e,Rn(a,e)):Wi(e,Mn(a,e))}else{if(!Zn[p])return i?e:{};a=Mo(e,p,Un,s)}}o||(o=new _n);var h=o.get(e);if(h)return h;o.set(e,a);var m=l?c?xo:_o:c?Hc:$c,v=f?ie:m(e);return u(v||e,function(r,i){v&&(i=r,r=e[i]),Nn(a,i,Un(r,t,n,i,e,o))}),a}function zn(e){var t=$c(e);return function(n){return Wn(n,e,t)}}function Wn(e,t,n){var r=n.length;if(null==e)return!r;for(e=fl(e);r--;){var i=n[r],o=t[i],a=e[i];if(a===ie&&!(i in e)||!o(a))return!1}return!0}function Hn(e,t,n){if("function"!=typeof e)throw new hl(ce);return Lf(function(){e.apply(ie,n)},t)}function qn(e,t,n,r){var i=-1,o=d,a=!0,s=e.length,c=[],u=t.length;if(!s)return c;n&&(t=m(t,M(n))),r?(o=h,a=!1):t.length>=ae&&(o=j,a=!1,t=new yn(t));e:for(;++i<s;){var l=e[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,a&&f===f){for(var p=u;p--;)if(t[p]===f)continue e;c.push(l)}else o(t,f,r)||c.push(l)}return c}function Kn(e,t){var n=!0;return bf(e,function(e,r,i){return n=!!t(e,r,i)}),n}function Gn(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(s===ie?a===a&&!wc(a):n(a,s)))var s=a,c=o}return c}function Qn(e,t,n,r){var i=e.length;for(n=Sc(n),n<0&&(n=-n>i?0:i+n),r=r===ie||r>i?i:Sc(r),r<0&&(r+=i),r=n>r?0:Ec(r);n<r;)e[n++]=t;return e}function er(e,t){var n=[];return bf(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function tr(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=jo),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?tr(s,t-1,n,r,i):v(i,s):r||(i[i.length]=s)}return i}function nr(e,t){return e&&_f(e,t,$c)}function or(e,t){return e&&xf(e,t,$c)}function ar(e,t){return p(t,function(t){return oc(e[t])})}function cr(e,t){t=Si(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[ra(t[n++])];return n&&n==r?e:ie}function ur(e,t,n){var r=t(e);return _p(e)?r:v(r,n(e))}function fr(e){return null==e?e===ie?st:Qe:jl&&jl in fl(e)?Io(e):Xo(e)}function pr(e,t){return e>t}function br(e,t){return null!=e&&wl.call(e,t)}function Cr(e,t){return null!=e&&t in fl(e)}function Tr(e,t,n){return e>=Xl(t,n)&&e<Yl(t,n)}function Sr(e,t,n){for(var r=n?h:d,i=e[0].length,o=e.length,a=o,s=al(o),c=1/0,u=[];a--;){var l=e[a];a&&t&&(l=m(l,M(t))),c=Xl(l.length,c),s[a]=!n&&(t||i>=120&&l.length>=120)?new yn(a&&l):ie}l=e[0];var f=-1,p=s[0];e:for(;++f<i&&u.length<c;){var v=l[f],g=t?t(v):v;if(v=n||0!==v?v:0,!(p?j(p,g):r(u,g,n))){for(a=o;--a;){var y=s[a];if(!(y?j(y,g):r(e[a],g,n)))continue e}p&&p.push(g),u.push(v)}}return u}function Er(e,t,n,r){return nr(e,function(e,i,o){t(r,n(e),i,o)}),r}function Ar(e,t,n){t=Si(t,e),e=Zo(e,t);var r=null==e?e:e[ra(Ta(t))];return null==r?ie:s(r,e,n)}function Ir(e){return uc(e)&&fr(e)==We}function Or(e){return uc(e)&&fr(e)==lt}function Pr(e){return uc(e)&&fr(e)==qe}function Nr(e,t,n,r,i){return e===t||(null==e||null==t||!uc(e)&&!uc(t)?e!==e&&t!==t:Dr(e,t,n,r,Nr,i))}function Dr(e,t,n,r,i,o){var a=_p(e),s=_p(t),c=a?Ve:Pf(e),u=s?Ve:Pf(t);c=c==We?et:c,u=u==We?et:u;var l=c==et,f=u==et,p=c==u;if(p&&Cp(e)){if(!Cp(t))return!1;a=!0,l=!1}if(p&&!l)return o||(o=new _n),a||Ap(e)?go(e,t,n,r,i,o):yo(e,t,c,n,r,i,o);if(!(n&me)){var d=l&&wl.call(e,"__wrapped__"),h=f&&wl.call(t,"__wrapped__");if(d||h){var m=d?e.value():e,v=h?t.value():t;return o||(o=new _n),i(m,v,n,r,o)}}return!!p&&(o||(o=new _n),bo(e,t,n,r,i,o))}function Lr(e){return uc(e)&&Pf(e)==Je}function Mr(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=fl(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){s=n[i];var c=s[0],u=e[c],l=s[1];if(a&&s[2]){if(u===ie&&!(c in e))return!1}else{var f=new _n;if(r)var p=r(u,l,c,e,t,f);if(!(p===ie?Nr(l,u,me|ve,r,f):p))return!1}}return!0}function Rr(e){if(!cc(e)||Vo(e))return!1;var t=oc(e)?Sl:Yt;return t.test(ia(e))}function jr(e){return uc(e)&&fr(e)==rt}function Fr(e){return uc(e)&&Pf(e)==it}function Br(e){return uc(e)&&sc(e.length)&&!!Jn[fr(e)]}function Ur(e){return"function"==typeof e?e:null==e?Lu:"object"==typeof e?_p(e)?qr(e[0],e[1]):Hr(e):Wu(e)}function zr(e){if(!$o(e))return Gl(e);var t=[];for(var n in fl(e))wl.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Wr(e){if(!cc(e))return Yo(e);var t=$o(e),n=[];for(var r in e)("constructor"!=r||!t&&wl.call(e,r))&&n.push(r);return n}function Vr(e,t){return e<t}function $r(e,t){var n=-1,r=Xs(e)?al(e.length):[];return bf(e,function(e,i,o){r[++n]=t(e,i,o)}),r}function Hr(e){var t=Eo(e);return 1==t.length&&t[0][2]?qo(t[0][0],t[0][1]):function(n){return n===e||Mr(n,e,t)}}function qr(e,t){return Uo(e)&&Ho(t)?qo(ra(e),t):function(n){var r=zc(n,e);return r===ie&&r===t?Vc(n,e):Nr(t,r,me|ve)}}function Kr(e,t,n,r,i){e!==t&&_f(t,function(o,a){if(cc(o))i||(i=new _n),Gr(e,t,a,n,Kr,r,i);else{var s=r?r(e[a],o,a+"",e,t,i):ie;s===ie&&(s=o),Pn(e,a,s)}},Hc)}function Gr(e,t,n,r,i,o,a){var s=e[n],c=t[n],u=a.get(c);if(u)return void Pn(e,n,u);var l=o?o(s,c,n+"",e,t,a):ie,f=l===ie;if(f){var p=_p(c),d=!p&&Cp(c),h=!p&&!d&&Ap(c);l=c,p||d||h?_p(s)?l=s:Js(s)?l=Ui(s):d?(f=!1,l=Ai(c,!0)):h?(f=!1,l=Mi(c,!0)):l=[]:gc(c)||wp(c)?(l=s,wp(s)?l=Ic(s):(!cc(s)||r&&oc(s))&&(l=Lo(c))):f=!1}f&&(a.set(c,l),i(l,c,r,o,a),a.delete(c)),Pn(e,n,l)}function Yr(e,t){var n=e.length;if(n)return t+=t<0?n:0,Fo(t,n)?e[t]:ie}function Xr(e,t,n){var r=-1;t=m(t.length?t:[Lu],M(To()));var i=$r(e,function(e,n,i){var o=m(t,function(t){return t(e)});return{criteria:o,index:++r,value:e}});return P(i,function(e,t){return ji(e,t,n)})}function Jr(e,t){return Zr(e,t,function(t,n){return Vc(e,n)})}function Zr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=cr(e,a);n(s,a)&&ci(o,Si(a,e),s)}return o}function Qr(e){return function(t){return cr(t,e)}}function ei(e,t,n,r){var i=r?T:k,o=-1,a=t.length,s=e;for(e===t&&(t=Ui(t)),n&&(s=m(e,M(n)));++o<a;)for(var c=0,u=t[o],l=n?n(u):u;(c=i(s,l,c,r))>-1;)s!==e&&Ll.call(s,c,1),Ll.call(e,c,1);return e}function ti(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;Fo(i)?Ll.call(e,i,1):yi(e,i)}}return e}function ni(e,t){return e+Vl(Ql()*(t-e+1))}function ri(e,t,n,r){for(var i=-1,o=Yl(Wl((t-e)/(n||1)),0),a=al(o);o--;)a[r?o:++i]=e,e+=n;return a}function ii(e,t){var n="";if(!e||t<1||t>Me)return n;do t%2&&(n+=e),t=Vl(t/2),t&&(e+=e);while(t);return n}function oi(e,t){return Mf(Jo(e,t,Lu),e+"")}function ai(e){return An(ru(e))}function si(e,t){var n=ru(e);return na(n,Bn(t,0,n.length))}function ci(e,t,n,r){if(!cc(e))return e;t=Si(t,e);for(var i=-1,o=t.length,a=o-1,s=e;null!=s&&++i<o;){var c=ra(t[i]),u=n;if(i!=a){var l=s[c];u=r?r(l,c,s):ie,u===ie&&(u=cc(l)?l:Fo(t[i+1])?[]:{})}Nn(s,c,u),s=s[c]}return e}function ui(e){return na(ru(e))}function li(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=al(i);++r<i;)o[r]=e[r+t];return o}function fi(e,t){var n;return bf(e,function(e,r,i){return n=t(e,r,i),!n}),!!n}function pi(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=Ue){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!wc(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return di(e,t,Lu,n)}function di(e,t,n,r){t=n(t);for(var i=0,o=null==e?0:e.length,a=t!==t,s=null===t,c=wc(t),u=t===ie;i<o;){var l=Vl((i+o)/2),f=n(e[l]),p=f!==ie,d=null===f,h=f===f,m=wc(f);if(a)var v=r||h;else v=u?h&&(r||p):s?h&&p&&(r||!d):c?h&&p&&!d&&(r||!m):!d&&!m&&(r?f<=t:f<t);v?i=l+1:o=l}return Xl(o,Be)}function hi(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Ys(s,c)){var c=s;o[i++]=0===a?0:a}}return o}function mi(e){return"number"==typeof e?e:wc(e)?je:+e}function vi(e){if("string"==typeof e)return e;if(_p(e))return m(e,vi)+"";if(wc(e))return gf?gf.call(e):"";var t=e+"";return"0"==t&&1/e==-Le?"-0":t}function gi(e,t,n){var r=-1,i=d,o=e.length,a=!0,s=[],c=s;if(n)a=!1,i=h;else if(o>=ae){var u=t?null:Ef(e);if(u)return Y(u);a=!1,i=j,c=new yn}else c=t?[]:s;e:for(;++r<o;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,a&&f===f){for(var p=c.length;p--;)if(c[p]===f)continue e;t&&c.push(f),s.push(l)}else i(c,f,n)||(c!==s&&c.push(f),s.push(l))}return s}function yi(e,t){return t=Si(t,e),e=Zo(e,t),null==e||delete e[ra(Ta(t))]}function bi(e,t,n,r){return ci(e,t,n(cr(e,t)),r)}function wi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?li(e,r?0:o,r?o+1:i):li(e,r?o+1:0,r?i:o)}function _i(e,t){var n=e;return n instanceof w&&(n=n.value()),g(t,function(e,t){return t.func.apply(t.thisArg,v([e],t.args))},n)}function xi(e,t,n){var r=e.length;if(r<2)return r?gi(e[0]):[];for(var i=-1,o=al(r);++i<r;)for(var a=e[i],s=-1;++s<r;)s!=i&&(o[i]=qn(o[i]||a,e[s],t,n));return gi(tr(o,1),t,n)}function Ci(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var s=r<o?t[r]:ie;n(a,e[r],s)}return a}function ki(e){return Js(e)?e:[]}function Ti(e){return"function"==typeof e?e:Lu}function Si(e,t){return _p(e)?e:Uo(e,t)?[e]:Rf(Pc(e))}function Ei(e,t,n){var r=e.length;return n=n===ie?r:n,!t&&n>=r?e:li(e,t,n)}function Ai(e,t){if(t)return e.slice();var n=e.length,r=Ol?Ol(n):new e.constructor(n);return e.copy(r),r}function Ii(e){var t=new e.constructor(e.byteLength);return new Il(t).set(new Il(e)),t}function Oi(e,t){var n=t?Ii(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function Pi(e,t,n){var r=t?n(q(e),pe):q(e);return g(r,o,new e.constructor)}function Ni(e){var t=new e.constructor(e.source,qt.exec(e));return t.lastIndex=e.lastIndex,t}function Di(e,t,n){var r=t?n(Y(e),pe):Y(e);return g(r,a,new e.constructor)}function Li(e){return vf?fl(vf.call(e)):{}}function Mi(e,t){var n=t?Ii(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ri(e,t){if(e!==t){var n=e!==ie,r=null===e,i=e===e,o=wc(e),a=t!==ie,s=null===t,c=t===t,u=wc(t);if(!s&&!u&&!o&&e>t||o&&a&&c&&!s&&!u||r&&a&&c||!n&&c||!i)return 1;if(!r&&!o&&!u&&e<t||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!c)return-1}return 0}function ji(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var c=Ri(i[r],o[r]);if(c){if(r>=s)return c;var u=n[r];return c*("desc"==u?-1:1)}}return e.index-t.index}function Fi(e,t,n,r){for(var i=-1,o=e.length,a=n.length,s=-1,c=t.length,u=Yl(o-a,0),l=al(c+u),f=!r;++s<c;)l[s]=t[s];for(;++i<a;)(f||i<o)&&(l[n[i]]=e[i]);for(;u--;)l[s++]=e[i++];return l}function Bi(e,t,n,r){for(var i=-1,o=e.length,a=-1,s=n.length,c=-1,u=t.length,l=Yl(o-s,0),f=al(l+u),p=!r;++i<l;)f[i]=e[i];for(var d=i;++c<u;)f[d+c]=t[c];for(;++a<s;)(p||i<o)&&(f[d+n[a]]=e[i++]);return f}function Ui(e,t){var n=-1,r=e.length;for(t||(t=al(r));++n<r;)t[n]=e[n];return t}function zi(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],c=r?r(n[s],e[s],s,n,e):ie;c===ie&&(c=e[s]),i?jn(n,s,c):Nn(n,s,c)}return n}function Wi(e,t){return zi(e,If(e),t)}function Vi(e,t){return zi(e,Of(e),t)}function $i(e,t){return function(n,r){var i=_p(n)?c:Ln,o=t?t():{};return i(n,e,To(r,2),o)}}function Hi(e){return oi(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:ie,a=i>2?n[2]:ie;for(o=e.length>3&&"function"==typeof o?(i--,o):ie,a&&Bo(n[0],n[1],a)&&(o=i<3?ie:o,i=1),t=fl(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t})}function qi(e,t){return function(n,r){if(null==n)return n;if(!Xs(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=fl(n);(t?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function Ki(e){return function(t,n,r){for(var i=-1,o=fl(t),a=r(t),s=a.length;s--;){var c=a[e?s:++i];if(n(o[c],c,o)===!1)break}return t}}function Gi(e,t,n){function r(){var t=this&&this!==sr&&this instanceof r?o:e;return t.apply(i?n:this,arguments)}var i=t&ge,o=Ji(e);return r}function Yi(e){return function(t){t=Pc(t);var n=V(t)?ee(t):ie,r=n?n[0]:t.charAt(0),i=n?Ei(n,1).join(""):t.slice(1);return r[e]()+i}}function Xi(e){return function(t){return g(Iu(uu(t).replace(Vn,"")),e,"")}}function Ji(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=yf(e.prototype),r=e.apply(n,t);return cc(r)?r:n}}function Zi(e,t,n){function r(){for(var o=arguments.length,a=al(o),c=o,u=ko(r);c--;)a[c]=arguments[c];var l=o<3&&a[0]!==u&&a[o-1]!==u?[]:G(a,u);if(o-=l.length,o<n)return uo(e,t,to,r.placeholder,ie,a,l,ie,ie,n-o);var f=this&&this!==sr&&this instanceof r?i:e;return s(f,this,a)}var i=Ji(e);return r}function Qi(e){return function(t,n,r){var i=fl(t);if(!Xs(t)){var o=To(n,3);t=$c(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:ie}}function eo(e){return wo(function(t){var n=t.length,r=n,o=i.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new hl(ce);if(o&&!s&&"wrapper"==Co(a))var s=new i([],!0)}for(r=s?r:n;++r<n;){a=t[r];var c=Co(a),u="wrapper"==c?Af(a):ie;s=u&&Wo(u[0])&&u[1]==(ke|we|xe|Te)&&!u[4].length&&1==u[9]?s[Co(u[0])].apply(s,u[3]):1==a.length&&Wo(a)?s[c]():s.thru(a)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&_p(r))return s.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}})}function to(e,t,n,r,i,o,a,s,c,u){function l(){for(var g=arguments.length,y=al(g),b=g;b--;)y[b]=arguments[b];if(h)var w=ko(l),_=U(y,w);if(r&&(y=Fi(y,r,i,h)),o&&(y=Bi(y,o,a,h)),g-=_,h&&g<u){var x=G(y,w);return uo(e,t,to,l.placeholder,n,y,x,s,c,u-g)}var C=p?n:this,k=d?C[e]:e;return g=y.length,s?y=Qo(y,s):m&&g>1&&y.reverse(),f&&c<g&&(y.length=c),this&&this!==sr&&this instanceof l&&(k=v||Ji(k)),k.apply(C,y)}var f=t&ke,p=t&ge,d=t&ye,h=t&(we|_e),m=t&Se,v=d?ie:Ji(e);return l}function no(e,t){return function(n,r){return Er(n,e,t(r),{})}}function ro(e,t){return function(n,r){var i;if(n===ie&&r===ie)return t;if(n!==ie&&(i=n),r!==ie){if(i===ie)return r;"string"==typeof n||"string"==typeof r?(n=vi(n),r=vi(r)):(n=mi(n),r=mi(r)),i=e(n,r)}return i}}function io(e){return wo(function(t){return t=m(t,M(To())),oi(function(n){var r=this;return e(t,function(e){return s(e,r,n)})})})}function oo(e,t){t=t===ie?" ":vi(t);var n=t.length;if(n<2)return n?ii(t,e):t;var r=ii(t,Wl(e/Q(t)));return V(t)?Ei(ee(r),0,e).join(""):r.slice(0,e)}function ao(e,t,n,r){function i(){for(var t=-1,c=arguments.length,u=-1,l=r.length,f=al(l+c),p=this&&this!==sr&&this instanceof i?a:e;++u<l;)f[u]=r[u];for(;c--;)f[u++]=arguments[++t];return s(p,o?n:this,f)}var o=t&ge,a=Ji(e);return i}function so(e){return function(t,n,r){return r&&"number"!=typeof r&&Bo(t,n,r)&&(n=r=ie),t=Tc(t),n===ie?(n=t,t=0):n=Tc(n),r=r===ie?t<n?1:-1:Tc(r),ri(t,n,r,e)}}function co(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Ac(t),n=Ac(n)),e(t,n)}}function uo(e,t,n,r,i,o,a,s,c,u){var l=t&we,f=l?a:ie,p=l?ie:a,d=l?o:ie,h=l?ie:o;t|=l?xe:Ce,t&=~(l?Ce:xe),t&be||(t&=~(ge|ye));var m=[e,t,i,d,f,h,p,s,c,u],v=n.apply(ie,m);return Wo(e)&&Df(v,m),v.placeholder=r,ea(v,e,t)}function lo(e){var t=ll[e];return function(e,n){if(e=Ac(e),n=null==n?0:Xl(Sc(n),292)){var r=(Pc(e)+"e").split("e"),i=t(r[0]+"e"+(+r[1]+n));return r=(Pc(i)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return t(e)}}function fo(e){return function(t){var n=Pf(t);return n==Je?q(t):n==it?X(t):L(t,e(t))}}function po(e,t,n,r,i,o,a,s){var c=t&ye;if(!c&&"function"!=typeof e)throw new hl(ce);var u=r?r.length:0;if(u||(t&=~(xe|Ce),r=i=ie),a=a===ie?a:Yl(Sc(a),0),s=s===ie?s:Sc(s),u-=i?i.length:0,t&Ce){var l=r,f=i;r=i=ie}var p=c?ie:Af(e),d=[e,t,n,r,i,l,f,o,a,s];if(p&&Go(d,p),e=d[0],t=d[1],n=d[2],r=d[3],i=d[4],s=d[9]=d[9]===ie?c?0:e.length:Yl(d[9]-u,0),!s&&t&(we|_e)&&(t&=~(we|_e)),t&&t!=ge)h=t==we||t==_e?Zi(e,t,s):t!=xe&&t!=(ge|xe)||i.length?to.apply(ie,d):ao(e,t,n,r);else var h=Gi(e,t,n);var m=p?Cf:Df;return ea(m(h,d),e,t)}function ho(e,t,n,r){return e===ie||Ys(e,gl[n])&&!wl.call(r,n)?t:e}function mo(e,t,n,r,i,o){return cc(e)&&cc(t)&&(o.set(t,e),Kr(e,t,ie,mo,o),o.delete(t)),e}function vo(e){return gc(e)?ie:e}function go(e,t,n,r,i,o){var a=n&me,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;var u=o.get(e);if(u&&o.get(t))return u==t;var l=-1,f=!0,p=n&ve?new yn:ie;for(o.set(e,t),o.set(t,e);++l<s;){var d=e[l],h=t[l];if(r)var m=a?r(h,d,l,t,e,o):r(d,h,l,e,t,o);if(m!==ie){if(m)continue;f=!1;break}if(p){if(!b(t,function(e,t){if(!j(p,t)&&(d===e||i(d,e,n,r,o)))return p.push(t)})){f=!1;break}}else if(d!==h&&!i(d,h,n,r,o)){f=!1;break}}return o.delete(e),o.delete(t),f}function yo(e,t,n,r,i,o,a){switch(n){case ft:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case lt:return!(e.byteLength!=t.byteLength||!o(new Il(e),new Il(t)));case He:case qe:case Ze:return Ys(+e,+t);case Ge:return e.name==t.name&&e.message==t.message;case rt:case ot:return e==t+"";case Je:var s=q;case it:var c=r&me;if(s||(s=Y),e.size!=t.size&&!c)return!1;var u=a.get(e);if(u)return u==t;r|=ve,a.set(e,t);var l=go(s(e),s(t),r,i,o,a);return a.delete(e),l;case at:if(vf)return vf.call(e)==vf.call(t)}return!1}function bo(e,t,n,r,i,o){var a=n&me,s=_o(e),c=s.length,u=_o(t),l=u.length;if(c!=l&&!a)return!1;for(var f=c;f--;){var p=s[f];if(!(a?p in t:wl.call(t,p)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var h=!0;o.set(e,t),o.set(t,e);for(var m=a;++f<c;){p=s[f];var v=e[p],g=t[p];if(r)var y=a?r(g,v,p,t,e,o):r(v,g,p,e,t,o);if(!(y===ie?v===g||i(v,g,n,r,o):y)){h=!1;break}m||(m="constructor"==p)}if(h&&!m){var b=e.constructor,w=t.constructor;b!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(h=!1)}return o.delete(e),o.delete(t),h}function wo(e){return Mf(Jo(e,ie,ga),e+"")}function _o(e){return ur(e,$c,If)}function xo(e){return ur(e,Hc,Of)}function Co(e){for(var t=e.name+"",n=uf[t],r=wl.call(uf,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function ko(e){var t=wl.call(n,"placeholder")?n:e;return t.placeholder}function To(){var e=n.iteratee||Mu;return e=e===Mu?Ur:e,arguments.length?e(arguments[0],arguments[1]):e}function So(e,t){var n=e.__data__;return zo(t)?n["string"==typeof t?"string":"hash"]:n.map}function Eo(e){for(var t=$c(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Ho(i)]}return t}function Ao(e,t){var n=W(e,t);return Rr(n)?n:ie}function Io(e){var t=wl.call(e,jl),n=e[jl];try{e[jl]=ie;var r=!0}catch(e){}var i=Cl.call(e);return r&&(t?e[jl]=n:delete e[jl]),i}function Oo(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Xl(t,e+a);break;case"takeRight":e=Yl(e,t-a)}}return{start:e,end:t}}function Po(e){var t=e.match(zt);return t?t[1].split(Wt):[]}function No(e,t,n){t=Si(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var a=ra(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:(i=null==e?0:e.length,!!i&&sc(i)&&Fo(a,i)&&(_p(e)||wp(e)))}function Do(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&wl.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Lo(e){return"function"!=typeof e.constructor||$o(e)?{}:yf(Pl(e))}function Mo(e,t,n,r){var i=e.constructor;switch(t){case lt:return Ii(e);case He:case qe:return new i(+e);case ft:return Oi(e,r);case pt:case dt:case ht:case mt:case vt:case gt:case yt:case bt:case wt:return Mi(e,r);case Je:return Pi(e,r,n);case Ze:case ot:return new i(e);case rt:return Ni(e);case it:return Di(e,r,n);case at:return Li(e)}}function Ro(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Ut,"{\n/* [wrapped with "+t+"] */\n")}function jo(e){return _p(e)||wp(e)||!!(Ml&&e&&e[Ml])}function Fo(e,t){return t=null==t?Me:t,!!t&&("number"==typeof e||Jt.test(e))&&e>-1&&e%1==0&&e<t}function Bo(e,t,n){if(!cc(n))return!1;var r=typeof t;return!!("number"==r?Xs(n)&&Fo(t,n.length):"string"==r&&t in n)&&Ys(n[t],e)}function Uo(e,t){if(_p(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!wc(e))||(Nt.test(e)||!Pt.test(e)||null!=t&&e in fl(t))}function zo(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Wo(e){var t=Co(e),r=n[t];if("function"!=typeof r||!(t in w.prototype))return!1;if(e===r)return!0;var i=Af(r);return!!i&&e===i[0]}function Vo(e){return!!xl&&xl in e}function $o(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||gl;return e===n}function Ho(e){return e===e&&!cc(e)}function qo(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==ie||e in fl(n)))}}function Ko(e){var t=Ms(e,function(e){return n.size===le&&n.clear(),e}),n=t.cache;return t}function Go(e,t){var n=e[1],r=t[1],i=n|r,o=i<(ge|ye|ke),a=r==ke&&n==we||r==ke&&n==Te&&e[7].length<=t[8]||r==(ke|Te)&&t[7].length<=t[8]&&n==we;if(!o&&!a)return e;r&ge&&(e[2]=t[2],i|=n&ge?0:be);var s=t[3];if(s){var c=e[3];e[3]=c?Fi(c,s,t[4]):s,e[4]=c?G(e[3],fe):t[4]}return s=t[5],s&&(c=e[5],e[5]=c?Bi(c,s,t[6]):s,e[6]=c?G(e[5],fe):t[6]),s=t[7],s&&(e[7]=s),r&ke&&(e[8]=null==e[8]?t[8]:Xl(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function Yo(e){var t=[];if(null!=e)for(var n in fl(e))t.push(n);return t}function Xo(e){return Cl.call(e)}function Jo(e,t,n){return t=Yl(t===ie?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=Yl(r.length-t,0),a=al(o);++i<o;)a[i]=r[t+i];i=-1;for(var c=al(t+1);++i<t;)c[i]=r[i];return c[t]=n(a),s(e,this,c)}}function Zo(e,t){return t.length<2?e:cr(e,li(t,0,-1))}function Qo(e,t){for(var n=e.length,r=Xl(t.length,n),i=Ui(e);r--;){var o=t[r];e[r]=Fo(o,n)?i[o]:ie}return e}function ea(e,t,n){var r=t+"";return Mf(e,Ro(r,oa(Po(r),n)))}function ta(e){var t=0,n=0;return function(){var r=Jl(),i=Oe-(r-n);if(n=r,i>0){if(++t>=Ie)return arguments[0]}else t=0;return e.apply(ie,arguments)}}function na(e,t){var n=-1,r=e.length,i=r-1;for(t=t===ie?r:t;++n<t;){var o=ni(n,i),a=e[o];e[o]=e[n],e[n]=a}return e.length=t,e}function ra(e){if("string"==typeof e||wc(e))return e;var t=e+"";return"0"==t&&1/e==-Le?"-0":t}function ia(e){if(null!=e){try{return bl.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function oa(e,t){return u(ze,function(n){var r="_."+n[0];t&n[1]&&!d(e,r)&&e.push(r)}),e.sort()}function aa(e){if(e instanceof w)return e.clone();var t=new i(e.__wrapped__,e.__chain__);return t.__actions__=Ui(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function sa(e,t,n){t=(n?Bo(e,t,n):t===ie)?1:Yl(Sc(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var i=0,o=0,a=al(Wl(r/t));i<r;)a[o++]=li(e,i,i+=t);return a}function ca(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i}function ua(){var e=arguments.length;if(!e)return[];for(var t=al(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return v(_p(n)?Ui(n):[n],tr(t,1))}function la(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===ie?1:Sc(t),li(e,t<0?0:t,r)):[]}function fa(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===ie?1:Sc(t),t=r-t,li(e,0,t<0?0:t)):[]}function pa(e,t){return e&&e.length?wi(e,To(t,3),!0,!0):[]}function da(e,t){return e&&e.length?wi(e,To(t,3),!0):[]}function ha(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&Bo(e,t,n)&&(n=0,r=i),Qn(e,t,n,r)):[]}function ma(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Sc(n);return i<0&&(i=Yl(r+i,0)),C(e,To(t,3),i)}function va(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==ie&&(i=Sc(n),i=n<0?Yl(r+i,0):Xl(i,r-1)),C(e,To(t,3),i,!0)}function ga(e){var t=null==e?0:e.length;return t?tr(e,1):[]}function ya(e){var t=null==e?0:e.length;return t?tr(e,Le):[]}function ba(e,t){var n=null==e?0:e.length;return n?(t=t===ie?1:Sc(t),tr(e,t)):[]}function wa(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}function _a(e){return e&&e.length?e[0]:ie}function xa(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Sc(n);return i<0&&(i=Yl(r+i,0)),k(e,t,i)}function Ca(e){var t=null==e?0:e.length;return t?li(e,0,-1):[]}function ka(e,t){return null==e?"":Kl.call(e,t)}function Ta(e){var t=null==e?0:e.length;return t?e[t-1]:ie}function Sa(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==ie&&(i=Sc(n),i=i<0?Yl(r+i,0):Xl(i,r-1)),t===t?Z(e,t,i):C(e,S,i,!0)}function Ea(e,t){return e&&e.length?Yr(e,Sc(t)):ie}function Aa(e,t){return e&&e.length&&t&&t.length?ei(e,t):e}function Ia(e,t,n){return e&&e.length&&t&&t.length?ei(e,t,To(n,2)):e}function Oa(e,t,n){return e&&e.length&&t&&t.length?ei(e,t,ie,n):e}function Pa(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=To(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return ti(e,i),n}function Na(e){return null==e?e:ef.call(e)}function Da(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Bo(e,t,n)?(t=0,n=r):(t=null==t?0:Sc(t),n=n===ie?r:Sc(n)),li(e,t,n)):[]}function La(e,t){return pi(e,t)}function Ma(e,t,n){return di(e,t,To(n,2))}function Ra(e,t){var n=null==e?0:e.length;if(n){var r=pi(e,t);if(r<n&&Ys(e[r],t))return r}return-1}function ja(e,t){return pi(e,t,!0)}function Fa(e,t,n){return di(e,t,To(n,2),!0)}function Ba(e,t){var n=null==e?0:e.length;if(n){var r=pi(e,t,!0)-1;
if(Ys(e[r],t))return r}return-1}function Ua(e){return e&&e.length?hi(e):[]}function za(e,t){return e&&e.length?hi(e,To(t,2)):[]}function Wa(e){var t=null==e?0:e.length;return t?li(e,1,t):[]}function Va(e,t,n){return e&&e.length?(t=n||t===ie?1:Sc(t),li(e,0,t<0?0:t)):[]}function $a(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===ie?1:Sc(t),t=r-t,li(e,t<0?0:t,r)):[]}function Ha(e,t){return e&&e.length?wi(e,To(t,3),!1,!0):[]}function qa(e,t){return e&&e.length?wi(e,To(t,3)):[]}function Ka(e){return e&&e.length?gi(e):[]}function Ga(e,t){return e&&e.length?gi(e,To(t,2)):[]}function Ya(e,t){return t="function"==typeof t?t:ie,e&&e.length?gi(e,ie,t):[]}function Xa(e){if(!e||!e.length)return[];var t=0;return e=p(e,function(e){if(Js(e))return t=Yl(e.length,t),!0}),D(t,function(t){return m(e,A(t))})}function Ja(e,t){if(!e||!e.length)return[];var n=Xa(e);return null==t?n:m(n,function(e){return s(t,ie,e)})}function Za(e,t){return Ci(e||[],t||[],Nn)}function Qa(e,t){return Ci(e||[],t||[],ci)}function es(e){var t=n(e);return t.__chain__=!0,t}function ts(e,t){return t(e),e}function ns(e,t){return t(e)}function rs(){return es(this)}function is(){return new i(this.value(),this.__chain__)}function os(){this.__values__===ie&&(this.__values__=kc(this.value()));var e=this.__index__>=this.__values__.length,t=e?ie:this.__values__[this.__index__++];return{done:e,value:t}}function as(){return this}function ss(e){for(var t,n=this;n instanceof r;){var i=aa(n);i.__index__=0,i.__values__=ie,t?o.__wrapped__=i:t=i;var o=i;n=n.__wrapped__}return o.__wrapped__=e,t}function cs(){var e=this.__wrapped__;if(e instanceof w){var t=e;return this.__actions__.length&&(t=new w(this)),t=t.reverse(),t.__actions__.push({func:ns,args:[Na],thisArg:ie}),new i(t,this.__chain__)}return this.thru(Na)}function us(){return _i(this.__wrapped__,this.__actions__)}function ls(e,t,n){var r=_p(e)?f:Kn;return n&&Bo(e,t,n)&&(t=ie),r(e,To(t,3))}function fs(e,t){var n=_p(e)?p:er;return n(e,To(t,3))}function ps(e,t){return tr(ys(e,t),1)}function ds(e,t){return tr(ys(e,t),Le)}function hs(e,t,n){return n=n===ie?1:Sc(n),tr(ys(e,t),n)}function ms(e,t){var n=_p(e)?u:bf;return n(e,To(t,3))}function vs(e,t){var n=_p(e)?l:wf;return n(e,To(t,3))}function gs(e,t,n,r){e=Xs(e)?e:ru(e),n=n&&!r?Sc(n):0;var i=e.length;return n<0&&(n=Yl(i+n,0)),bc(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&k(e,t,n)>-1}function ys(e,t){var n=_p(e)?m:$r;return n(e,To(t,3))}function bs(e,t,n,r){return null==e?[]:(_p(t)||(t=null==t?[]:[t]),n=r?ie:n,_p(n)||(n=null==n?[]:[n]),Xr(e,t,n))}function ws(e,t,n){var r=_p(e)?g:O,i=arguments.length<3;return r(e,To(t,4),n,i,bf)}function _s(e,t,n){var r=_p(e)?y:O,i=arguments.length<3;return r(e,To(t,4),n,i,wf)}function xs(e,t){var n=_p(e)?p:er;return n(e,Rs(To(t,3)))}function Cs(e){var t=_p(e)?An:ai;return t(e)}function ks(e,t,n){t=(n?Bo(e,t,n):t===ie)?1:Sc(t);var r=_p(e)?In:si;return r(e,t)}function Ts(e){var t=_p(e)?On:ui;return t(e)}function Ss(e){if(null==e)return 0;if(Xs(e))return bc(e)?Q(e):e.length;var t=Pf(e);return t==Je||t==it?e.size:zr(e).length}function Es(e,t,n){var r=_p(e)?b:fi;return n&&Bo(e,t,n)&&(t=ie),r(e,To(t,3))}function As(e,t){if("function"!=typeof t)throw new hl(ce);return e=Sc(e),function(){if(--e<1)return t.apply(this,arguments)}}function Is(e,t,n){return t=n?ie:t,t=e&&null==t?e.length:t,po(e,ke,ie,ie,ie,ie,t)}function Os(e,t){var n;if("function"!=typeof t)throw new hl(ce);return e=Sc(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=ie),n}}function Ps(e,t,n){t=n?ie:t;var r=po(e,we,ie,ie,ie,ie,ie,t);return r.placeholder=Ps.placeholder,r}function Ns(e,t,n){t=n?ie:t;var r=po(e,_e,ie,ie,ie,ie,ie,t);return r.placeholder=Ns.placeholder,r}function Ds(e,t,n){function r(t){var n=p,r=d;return p=d=ie,y=t,m=e.apply(r,n)}function i(e){return y=e,v=Lf(s,t),b?r(e):m}function o(e){var n=e-g,r=e-y,i=t-n;return w?Xl(i,h-r):i}function a(e){var n=e-g,r=e-y;return g===ie||n>=t||n<0||w&&r>=h}function s(){var e=up();return a(e)?c(e):void(v=Lf(s,o(e)))}function c(e){return v=ie,_&&p?r(e):(p=d=ie,m)}function u(){v!==ie&&Sf(v),y=0,p=g=d=v=ie}function l(){return v===ie?m:c(up())}function f(){var e=up(),n=a(e);if(p=arguments,d=this,g=e,n){if(v===ie)return i(g);if(w)return v=Lf(s,t),r(g)}return v===ie&&(v=Lf(s,t)),m}var p,d,h,m,v,g,y=0,b=!1,w=!1,_=!0;if("function"!=typeof e)throw new hl(ce);return t=Ac(t)||0,cc(n)&&(b=!!n.leading,w="maxWait"in n,h=w?Yl(Ac(n.maxWait)||0,t):h,_="trailing"in n?!!n.trailing:_),f.cancel=u,f.flush=l,f}function Ls(e){return po(e,Se)}function Ms(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new hl(ce);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Ms.Cache||pn),n}function Rs(e){if("function"!=typeof e)throw new hl(ce);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function js(e){return Os(2,e)}function Fs(e,t){if("function"!=typeof e)throw new hl(ce);return t=t===ie?t:Sc(t),oi(e,t)}function Bs(e,t){if("function"!=typeof e)throw new hl(ce);return t=null==t?0:Yl(Sc(t),0),oi(function(n){var r=n[t],i=Ei(n,0,t);return r&&v(i,r),s(e,this,i)})}function Us(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new hl(ce);return cc(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ds(e,t,{leading:r,maxWait:t,trailing:i})}function zs(e){return Is(e,1)}function Ws(e,t){return mp(Ti(t),e)}function Vs(){if(!arguments.length)return[];var e=arguments[0];return _p(e)?e:[e]}function $s(e){return Un(e,he)}function Hs(e,t){return t="function"==typeof t?t:ie,Un(e,he,t)}function qs(e){return Un(e,pe|he)}function Ks(e,t){return t="function"==typeof t?t:ie,Un(e,pe|he,t)}function Gs(e,t){return null==t||Wn(e,t,$c(t))}function Ys(e,t){return e===t||e!==e&&t!==t}function Xs(e){return null!=e&&sc(e.length)&&!oc(e)}function Js(e){return uc(e)&&Xs(e)}function Zs(e){return e===!0||e===!1||uc(e)&&fr(e)==He}function Qs(e){return uc(e)&&1===e.nodeType&&!gc(e)}function ec(e){if(null==e)return!0;if(Xs(e)&&(_p(e)||"string"==typeof e||"function"==typeof e.splice||Cp(e)||Ap(e)||wp(e)))return!e.length;var t=Pf(e);if(t==Je||t==it)return!e.size;if($o(e))return!zr(e).length;for(var n in e)if(wl.call(e,n))return!1;return!0}function tc(e,t){return Nr(e,t)}function nc(e,t,n){n="function"==typeof n?n:ie;var r=n?n(e,t):ie;return r===ie?Nr(e,t,ie,n):!!r}function rc(e){if(!uc(e))return!1;var t=fr(e);return t==Ge||t==Ke||"string"==typeof e.message&&"string"==typeof e.name&&!gc(e)}function ic(e){return"number"==typeof e&&ql(e)}function oc(e){if(!cc(e))return!1;var t=fr(e);return t==Ye||t==Xe||t==$e||t==nt}function ac(e){return"number"==typeof e&&e==Sc(e)}function sc(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Me}function cc(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function uc(e){return null!=e&&"object"==typeof e}function lc(e,t){return e===t||Mr(e,t,Eo(t))}function fc(e,t,n){return n="function"==typeof n?n:ie,Mr(e,t,Eo(t),n)}function pc(e){return vc(e)&&e!=+e}function dc(e){if(Nf(e))throw new cl(se);return Rr(e)}function hc(e){return null===e}function mc(e){return null==e}function vc(e){return"number"==typeof e||uc(e)&&fr(e)==Ze}function gc(e){if(!uc(e)||fr(e)!=et)return!1;var t=Pl(e);if(null===t)return!0;var n=wl.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&bl.call(n)==kl}function yc(e){return ac(e)&&e>=-Me&&e<=Me}function bc(e){return"string"==typeof e||!_p(e)&&uc(e)&&fr(e)==ot}function wc(e){return"symbol"==typeof e||uc(e)&&fr(e)==at}function _c(e){return e===ie}function xc(e){return uc(e)&&Pf(e)==ct}function Cc(e){return uc(e)&&fr(e)==ut}function kc(e){if(!e)return[];if(Xs(e))return bc(e)?ee(e):Ui(e);if(Rl&&e[Rl])return H(e[Rl]());var t=Pf(e),n=t==Je?q:t==it?Y:ru;return n(e)}function Tc(e){if(!e)return 0===e?e:0;if(e=Ac(e),e===Le||e===-Le){var t=e<0?-1:1;return t*Re}return e===e?e:0}function Sc(e){var t=Tc(e),n=t%1;return t===t?n?t-n:t:0}function Ec(e){return e?Bn(Sc(e),0,Fe):0}function Ac(e){if("number"==typeof e)return e;if(wc(e))return je;if(cc(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=cc(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(jt,"");var n=Gt.test(e);return n||Xt.test(e)?ir(e.slice(2),n?2:8):Kt.test(e)?je:+e}function Ic(e){return zi(e,Hc(e))}function Oc(e){return e?Bn(Sc(e),-Me,Me):0===e?e:0}function Pc(e){return null==e?"":vi(e)}function Nc(e,t){var n=yf(e);return null==t?n:Mn(n,t)}function Dc(e,t){return x(e,To(t,3),nr)}function Lc(e,t){return x(e,To(t,3),or)}function Mc(e,t){return null==e?e:_f(e,To(t,3),Hc)}function Rc(e,t){return null==e?e:xf(e,To(t,3),Hc)}function jc(e,t){return e&&nr(e,To(t,3))}function Fc(e,t){return e&&or(e,To(t,3))}function Bc(e){return null==e?[]:ar(e,$c(e))}function Uc(e){return null==e?[]:ar(e,Hc(e))}function zc(e,t,n){var r=null==e?ie:cr(e,t);return r===ie?n:r}function Wc(e,t){return null!=e&&No(e,t,br)}function Vc(e,t){return null!=e&&No(e,t,Cr)}function $c(e){return Xs(e)?En(e):zr(e)}function Hc(e){return Xs(e)?En(e,!0):Wr(e)}function qc(e,t){var n={};return t=To(t,3),nr(e,function(e,r,i){jn(n,t(e,r,i),e)}),n}function Kc(e,t){var n={};return t=To(t,3),nr(e,function(e,r,i){jn(n,r,t(e,r,i))}),n}function Gc(e,t){return Yc(e,Rs(To(t)))}function Yc(e,t){if(null==e)return{};var n=m(xo(e),function(e){return[e]});return t=To(t),Zr(e,n,function(e,n){return t(e,n[0])})}function Xc(e,t,n){t=Si(t,e);var r=-1,i=t.length;for(i||(i=1,e=ie);++r<i;){var o=null==e?ie:e[ra(t[r])];o===ie&&(r=i,o=n),e=oc(o)?o.call(e):o}return e}function Jc(e,t,n){return null==e?e:ci(e,t,n)}function Zc(e,t,n,r){return r="function"==typeof r?r:ie,null==e?e:ci(e,t,n,r)}function Qc(e,t,n){var r=_p(e),i=r||Cp(e)||Ap(e);if(t=To(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:cc(e)&&oc(o)?yf(Pl(e)):{}}return(i?u:nr)(e,function(e,r,i){return t(n,e,r,i)}),n}function eu(e,t){return null==e||yi(e,t)}function tu(e,t,n){return null==e?e:bi(e,t,Ti(n))}function nu(e,t,n,r){return r="function"==typeof r?r:ie,null==e?e:bi(e,t,Ti(n),r)}function ru(e){return null==e?[]:R(e,$c(e))}function iu(e){return null==e?[]:R(e,Hc(e))}function ou(e,t,n){return n===ie&&(n=t,t=ie),n!==ie&&(n=Ac(n),n=n===n?n:0),t!==ie&&(t=Ac(t),t=t===t?t:0),Bn(Ac(e),t,n)}function au(e,t,n){return t=Tc(t),n===ie?(n=t,t=0):n=Tc(n),e=Ac(e),Tr(e,t,n)}function su(e,t,n){if(n&&"boolean"!=typeof n&&Bo(e,t,n)&&(t=n=ie),n===ie&&("boolean"==typeof t?(n=t,t=ie):"boolean"==typeof e&&(n=e,e=ie)),e===ie&&t===ie?(e=0,t=1):(e=Tc(e),t===ie?(t=e,e=0):t=Tc(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=Ql();return Xl(e+i*(t-e+rr("1e-"+((i+"").length-1))),t)}return ni(e,t)}function cu(e){return ed(Pc(e).toLowerCase())}function uu(e){return e=Pc(e),e&&e.replace(Zt,wr).replace($n,"")}function lu(e,t,n){e=Pc(e),t=vi(t);var r=e.length;n=n===ie?r:Bn(Sc(n),0,r);var i=n;return n-=t.length,n>=0&&e.slice(n,i)==t}function fu(e){return e=Pc(e),e&&Et.test(e)?e.replace(Tt,_r):e}function pu(e){return e=Pc(e),e&&Rt.test(e)?e.replace(Mt,"\\$&"):e}function du(e,t,n){e=Pc(e),t=Sc(t);var r=t?Q(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return oo(Vl(i),n)+e+oo(Wl(i),n)}function hu(e,t,n){e=Pc(e),t=Sc(t);var r=t?Q(e):0;return t&&r<t?e+oo(t-r,n):e}function mu(e,t,n){e=Pc(e),t=Sc(t);var r=t?Q(e):0;return t&&r<t?oo(t-r,n)+e:e}function vu(e,t,n){return n||null==t?t=0:t&&(t=+t),Zl(Pc(e).replace(Ft,""),t||0)}function gu(e,t,n){return t=(n?Bo(e,t,n):t===ie)?1:Sc(t),ii(Pc(e),t)}function yu(){var e=arguments,t=Pc(e[0]);return e.length<3?t:t.replace(e[1],e[2])}function bu(e,t,n){return n&&"number"!=typeof n&&Bo(e,t,n)&&(t=n=ie),(n=n===ie?Fe:n>>>0)?(e=Pc(e),e&&("string"==typeof t||null!=t&&!Sp(t))&&(t=vi(t),!t&&V(e))?Ei(ee(e),0,n):e.split(t,n)):[]}function wu(e,t,n){return e=Pc(e),n=null==n?0:Bn(Sc(n),0,e.length),t=vi(t),e.slice(n,n+t.length)==t}function _u(e,t,r){var i=n.templateSettings;r&&Bo(e,t,r)&&(t=ie),e=Pc(e),t=Dp({},t,i,ho);var o,a,s=Dp({},t.imports,i.imports,ho),c=$c(s),u=R(s,c),l=0,f=t.interpolate||Qt,p="__p += '",d=pl((t.escape||Qt).source+"|"+f.source+"|"+(f===Ot?Ht:Qt).source+"|"+(t.evaluate||Qt).source+"|$","g"),h="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Xn+"]")+"\n";e.replace(d,function(t,n,r,i,s,c){return r||(r=i),p+=e.slice(l,c).replace(en,z),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),s&&(a=!0,p+="';\n"+s+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=c+t.length,t}),p+="';\n";var m=t.variable;m||(p="with (obj) {\n"+p+"\n}\n"),p=(a?p.replace(_t,""):p).replace(xt,"$1").replace(Ct,"$1;"),p="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var v=td(function(){return ul(c,h+"return "+p).apply(ie,u)});if(v.source=p,rc(v))throw v;return v}function xu(e){return Pc(e).toLowerCase()}function Cu(e){return Pc(e).toUpperCase()}function ku(e,t,n){if(e=Pc(e),e&&(n||t===ie))return e.replace(jt,"");if(!e||!(t=vi(t)))return e;var r=ee(e),i=ee(t),o=F(r,i),a=B(r,i)+1;return Ei(r,o,a).join("")}function Tu(e,t,n){if(e=Pc(e),e&&(n||t===ie))return e.replace(Bt,"");if(!e||!(t=vi(t)))return e;var r=ee(e),i=B(r,ee(t))+1;return Ei(r,0,i).join("")}function Su(e,t,n){if(e=Pc(e),e&&(n||t===ie))return e.replace(Ft,"");if(!e||!(t=vi(t)))return e;var r=ee(e),i=F(r,ee(t));return Ei(r,i).join("")}function Eu(e,t){var n=Ee,r=Ae;if(cc(t)){var i="separator"in t?t.separator:i;n="length"in t?Sc(t.length):n,r="omission"in t?vi(t.omission):r}e=Pc(e);var o=e.length;if(V(e)){var a=ee(e);o=a.length}if(n>=o)return e;var s=n-Q(r);if(s<1)return r;var c=a?Ei(a,0,s).join(""):e.slice(0,s);if(i===ie)return c+r;if(a&&(s+=c.length-s),Sp(i)){if(e.slice(s).search(i)){var u,l=c;for(i.global||(i=pl(i.source,Pc(qt.exec(i))+"g")),i.lastIndex=0;u=i.exec(l);)var f=u.index;c=c.slice(0,f===ie?s:f)}}else if(e.indexOf(vi(i),s)!=s){var p=c.lastIndexOf(i);p>-1&&(c=c.slice(0,p))}return c+r}function Au(e){return e=Pc(e),e&&St.test(e)?e.replace(kt,xr):e}function Iu(e,t,n){return e=Pc(e),t=n?ie:t,t===ie?$(e)?re(e):_(e):e.match(t)||[]}function Ou(e){var t=null==e?0:e.length,n=To();return e=t?m(e,function(e){if("function"!=typeof e[1])throw new hl(ce);return[n(e[0]),e[1]]}):[],oi(function(n){for(var r=-1;++r<t;){var i=e[r];if(s(i[0],this,n))return s(i[1],this,n)}})}function Pu(e){return zn(Un(e,pe))}function Nu(e){return function(){return e}}function Du(e,t){return null==e||e!==e?t:e}function Lu(e){return e}function Mu(e){return Ur("function"==typeof e?e:Un(e,pe))}function Ru(e){return Hr(Un(e,pe))}function ju(e,t){return qr(e,Un(t,pe))}function Fu(e,t,n){var r=$c(t),i=ar(t,r);null!=n||cc(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=ar(t,$c(t)));var o=!(cc(n)&&"chain"in n&&!n.chain),a=oc(e);return u(i,function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=Ui(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,v([this.value()],arguments))})}),e}function Bu(){return sr._===this&&(sr._=Tl),this}function Uu(){}function zu(e){return e=Sc(e),oi(function(t){return Yr(t,e)})}function Wu(e){return Uo(e)?A(ra(e)):Qr(e)}function Vu(e){return function(t){return null==e?ie:cr(e,t)}}function $u(){return[]}function Hu(){return!1}function qu(){return{}}function Ku(){return""}function Gu(){return!0}function Yu(e,t){if(e=Sc(e),e<1||e>Me)return[];var n=Fe,r=Xl(e,Fe);t=To(t),e-=Fe;for(var i=D(r,t);++n<e;)t(n);return i}function Xu(e){return _p(e)?m(e,ra):wc(e)?[e]:Ui(Rf(Pc(e)))}function Ju(e){var t=++_l;return Pc(e)+t}function Zu(e){return e&&e.length?Gn(e,Lu,pr):ie}function Qu(e,t){return e&&e.length?Gn(e,To(t,2),pr):ie}function el(e){return E(e,Lu)}function tl(e,t){return E(e,To(t,2))}function nl(e){return e&&e.length?Gn(e,Lu,Vr):ie}function rl(e,t){return e&&e.length?Gn(e,To(t,2),Vr):ie}function il(e){return e&&e.length?N(e,Lu):0}function ol(e,t){return e&&e.length?N(e,To(t,2)):0}t=null==t?sr:kr.defaults(sr.Object(),t,kr.pick(sr,Yn));var al=t.Array,sl=t.Date,cl=t.Error,ul=t.Function,ll=t.Math,fl=t.Object,pl=t.RegExp,dl=t.String,hl=t.TypeError,ml=al.prototype,vl=ul.prototype,gl=fl.prototype,yl=t["__core-js_shared__"],bl=vl.toString,wl=gl.hasOwnProperty,_l=0,xl=function(){var e=/[^.]+$/.exec(yl&&yl.keys&&yl.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Cl=gl.toString,kl=bl.call(fl),Tl=sr._,Sl=pl("^"+bl.call(wl).replace(Mt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),El=lr?t.Buffer:ie,Al=t.Symbol,Il=t.Uint8Array,Ol=El?El.allocUnsafe:ie,Pl=K(fl.getPrototypeOf,fl),Nl=fl.create,Dl=gl.propertyIsEnumerable,Ll=ml.splice,Ml=Al?Al.isConcatSpreadable:ie,Rl=Al?Al.iterator:ie,jl=Al?Al.toStringTag:ie,Fl=function(){try{var e=Ao(fl,"defineProperty");return e({},"",{}),e}catch(e){}}(),Bl=t.clearTimeout!==sr.clearTimeout&&t.clearTimeout,Ul=sl&&sl.now!==sr.Date.now&&sl.now,zl=t.setTimeout!==sr.setTimeout&&t.setTimeout,Wl=ll.ceil,Vl=ll.floor,$l=fl.getOwnPropertySymbols,Hl=El?El.isBuffer:ie,ql=t.isFinite,Kl=ml.join,Gl=K(fl.keys,fl),Yl=ll.max,Xl=ll.min,Jl=sl.now,Zl=t.parseInt,Ql=ll.random,ef=ml.reverse,tf=Ao(t,"DataView"),nf=Ao(t,"Map"),rf=Ao(t,"Promise"),of=Ao(t,"Set"),af=Ao(t,"WeakMap"),sf=Ao(fl,"create"),cf=af&&new af,uf={},lf=ia(tf),ff=ia(nf),pf=ia(rf),df=ia(of),hf=ia(af),mf=Al?Al.prototype:ie,vf=mf?mf.valueOf:ie,gf=mf?mf.toString:ie,yf=function(){function e(){}return function(t){if(!cc(t))return{};if(Nl)return Nl(t);e.prototype=t;var n=new e;return e.prototype=ie,n}}();n.templateSettings={escape:At,evaluate:It,interpolate:Ot,variable:"",imports:{_:n}},n.prototype=r.prototype,n.prototype.constructor=n,i.prototype=yf(r.prototype),i.prototype.constructor=i,w.prototype=yf(r.prototype),w.prototype.constructor=w,ne.prototype.clear=Vt,ne.prototype.delete=tn,ne.prototype.get=nn,ne.prototype.has=rn,ne.prototype.set=on,an.prototype.clear=sn,an.prototype.delete=cn,an.prototype.get=un,an.prototype.has=ln,an.prototype.set=fn,pn.prototype.clear=dn,pn.prototype.delete=hn,pn.prototype.get=mn,pn.prototype.has=vn,pn.prototype.set=gn,yn.prototype.add=yn.prototype.push=bn,yn.prototype.has=wn,_n.prototype.clear=xn,_n.prototype.delete=Cn,_n.prototype.get=kn,_n.prototype.has=Tn,_n.prototype.set=Sn;var bf=qi(nr),wf=qi(or,!0),_f=Ki(),xf=Ki(!0),Cf=cf?function(e,t){return cf.set(e,t),e}:Lu,kf=Fl?function(e,t){return Fl(e,"toString",{configurable:!0,enumerable:!1,value:Nu(t),writable:!0})}:Lu,Tf=oi,Sf=Bl||function(e){return sr.clearTimeout(e)},Ef=of&&1/Y(new of([,-0]))[1]==Le?function(e){return new of(e)}:Uu,Af=cf?function(e){return cf.get(e)}:Uu,If=$l?function(e){return null==e?[]:(e=fl(e),p($l(e),function(t){return Dl.call(e,t)}))}:$u,Of=$l?function(e){for(var t=[];e;)v(t,If(e)),e=Pl(e);return t}:$u,Pf=fr;(tf&&Pf(new tf(new ArrayBuffer(1)))!=ft||nf&&Pf(new nf)!=Je||rf&&Pf(rf.resolve())!=tt||of&&Pf(new of)!=it||af&&Pf(new af)!=ct)&&(Pf=function(e){var t=fr(e),n=t==et?e.constructor:ie,r=n?ia(n):"";if(r)switch(r){case lf:return ft;case ff:return Je;case pf:return tt;case df:return it;case hf:return ct}return t});var Nf=yl?oc:Hu,Df=ta(Cf),Lf=zl||function(e,t){return sr.setTimeout(e,t)},Mf=ta(kf),Rf=Ko(function(e){var t=[];return Dt.test(e)&&t.push(""),e.replace(Lt,function(e,n,r,i){t.push(r?i.replace($t,"$1"):n||e)}),t}),jf=oi(function(e,t){return Js(e)?qn(e,tr(t,1,Js,!0)):[]}),Ff=oi(function(e,t){var n=Ta(t);return Js(n)&&(n=ie),Js(e)?qn(e,tr(t,1,Js,!0),To(n,2)):[]}),Bf=oi(function(e,t){var n=Ta(t);return Js(n)&&(n=ie),Js(e)?qn(e,tr(t,1,Js,!0),ie,n):[]}),Uf=oi(function(e){var t=m(e,ki);return t.length&&t[0]===e[0]?Sr(t):[]}),zf=oi(function(e){var t=Ta(e),n=m(e,ki);return t===Ta(n)?t=ie:n.pop(),n.length&&n[0]===e[0]?Sr(n,To(t,2)):[]}),Wf=oi(function(e){var t=Ta(e),n=m(e,ki);return t="function"==typeof t?t:ie,t&&n.pop(),n.length&&n[0]===e[0]?Sr(n,ie,t):[]}),Vf=oi(Aa),$f=wo(function(e,t){var n=null==e?0:e.length,r=Fn(e,t);return ti(e,m(t,function(e){return Fo(e,n)?+e:e}).sort(Ri)),r}),Hf=oi(function(e){return gi(tr(e,1,Js,!0))}),qf=oi(function(e){var t=Ta(e);return Js(t)&&(t=ie),gi(tr(e,1,Js,!0),To(t,2))}),Kf=oi(function(e){var t=Ta(e);return t="function"==typeof t?t:ie,gi(tr(e,1,Js,!0),ie,t)}),Gf=oi(function(e,t){return Js(e)?qn(e,t):[]}),Yf=oi(function(e){return xi(p(e,Js))}),Xf=oi(function(e){var t=Ta(e);return Js(t)&&(t=ie),xi(p(e,Js),To(t,2))}),Jf=oi(function(e){var t=Ta(e);return t="function"==typeof t?t:ie,xi(p(e,Js),ie,t)}),Zf=oi(Xa),Qf=oi(function(e){var t=e.length,n=t>1?e[t-1]:ie;return n="function"==typeof n?(e.pop(),n):ie,Ja(e,n)}),ep=wo(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return Fn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof w&&Fo(n)?(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:ns,args:[o],thisArg:ie}),new i(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(ie),e})):this.thru(o)}),tp=$i(function(e,t,n){wl.call(e,n)?++e[n]:jn(e,n,1)}),np=Qi(ma),rp=Qi(va),ip=$i(function(e,t,n){wl.call(e,n)?e[n].push(t):jn(e,n,[t])}),op=oi(function(e,t,n){var r=-1,i="function"==typeof t,o=Xs(e)?al(e.length):[];return bf(e,function(e){o[++r]=i?s(t,e,n):Ar(e,t,n)}),o}),ap=$i(function(e,t,n){jn(e,n,t)}),sp=$i(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),cp=oi(function(e,t){if(null==e)return[];var n=t.length;return n>1&&Bo(e,t[0],t[1])?t=[]:n>2&&Bo(t[0],t[1],t[2])&&(t=[t[0]]),Xr(e,tr(t,1),[])}),up=Ul||function(){return sr.Date.now()},lp=oi(function(e,t,n){var r=ge;if(n.length){var i=G(n,ko(lp));r|=xe}return po(e,r,t,n,i)}),fp=oi(function(e,t,n){var r=ge|ye;if(n.length){var i=G(n,ko(fp));r|=xe}return po(t,r,e,n,i)}),pp=oi(function(e,t){return Hn(e,1,t)}),dp=oi(function(e,t,n){return Hn(e,Ac(t)||0,n)});Ms.Cache=pn;var hp=Tf(function(e,t){t=1==t.length&&_p(t[0])?m(t[0],M(To())):m(tr(t,1),M(To()));var n=t.length;return oi(function(r){for(var i=-1,o=Xl(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return s(e,this,r)})}),mp=oi(function(e,t){var n=G(t,ko(mp));return po(e,xe,ie,t,n)}),vp=oi(function(e,t){var n=G(t,ko(vp));return po(e,Ce,ie,t,n)}),gp=wo(function(e,t){return po(e,Te,ie,ie,ie,t)}),yp=co(pr),bp=co(function(e,t){return e>=t}),wp=Ir(function(){return arguments}())?Ir:function(e){return uc(e)&&wl.call(e,"callee")&&!Dl.call(e,"callee")},_p=al.isArray,xp=dr?M(dr):Or,Cp=Hl||Hu,kp=hr?M(hr):Pr,Tp=mr?M(mr):Lr,Sp=vr?M(vr):jr,Ep=gr?M(gr):Fr,Ap=yr?M(yr):Br,Ip=co(Vr),Op=co(function(e,t){return e<=t}),Pp=Hi(function(e,t){if($o(t)||Xs(t))return void zi(t,$c(t),e);for(var n in t)wl.call(t,n)&&Nn(e,n,t[n])}),Np=Hi(function(e,t){zi(t,Hc(t),e)}),Dp=Hi(function(e,t,n,r){zi(t,Hc(t),e,r)}),Lp=Hi(function(e,t,n,r){zi(t,$c(t),e,r)}),Mp=wo(Fn),Rp=oi(function(e){return e.push(ie,ho),s(Dp,ie,e)}),jp=oi(function(e){return e.push(ie,mo),s(Wp,ie,e)}),Fp=no(function(e,t,n){e[t]=n},Nu(Lu)),Bp=no(function(e,t,n){wl.call(e,t)?e[t].push(n):e[t]=[n]},To),Up=oi(Ar),zp=Hi(function(e,t,n){Kr(e,t,n)}),Wp=Hi(function(e,t,n,r){Kr(e,t,n,r)}),Vp=wo(function(e,t){var n={};if(null==e)return n;var r=!1;t=m(t,function(t){return t=Si(t,e),r||(r=t.length>1),t}),zi(e,xo(e),n),r&&(n=Un(n,pe|de|he,vo));for(var i=t.length;i--;)yi(n,t[i]);return n}),$p=wo(function(e,t){return null==e?{}:Jr(e,t)}),Hp=fo($c),qp=fo(Hc),Kp=Xi(function(e,t,n){return t=t.toLowerCase(),e+(n?cu(t):t)}),Gp=Xi(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Yp=Xi(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Xp=Yi("toLowerCase"),Jp=Xi(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Zp=Xi(function(e,t,n){return e+(n?" ":"")+ed(t)}),Qp=Xi(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),ed=Yi("toUpperCase"),td=oi(function(e,t){try{return s(e,ie,t)}catch(e){return rc(e)?e:new cl(e)}}),nd=wo(function(e,t){return u(t,function(t){t=ra(t),jn(e,t,lp(e[t],e))}),e}),rd=eo(),id=eo(!0),od=oi(function(e,t){return function(n){return Ar(n,e,t)}}),ad=oi(function(e,t){return function(n){return Ar(e,n,t)}}),sd=io(m),cd=io(f),ud=io(b),ld=so(),fd=so(!0),pd=ro(function(e,t){return e+t},0),dd=lo("ceil"),hd=ro(function(e,t){return e/t},1),md=lo("floor"),vd=ro(function(e,t){return e*t},1),gd=lo("round"),yd=ro(function(e,t){return e-t},0);return n.after=As,n.ary=Is,n.assign=Pp,n.assignIn=Np,n.assignInWith=Dp,n.assignWith=Lp,n.at=Mp,n.before=Os,n.bind=lp,n.bindAll=nd,n.bindKey=fp,n.castArray=Vs,n.chain=es,n.chunk=sa,n.compact=ca,n.concat=ua,n.cond=Ou,n.conforms=Pu,n.constant=Nu,n.countBy=tp,n.create=Nc,n.curry=Ps,n.curryRight=Ns,n.debounce=Ds,n.defaults=Rp,n.defaultsDeep=jp,n.defer=pp,n.delay=dp,n.difference=jf,n.differenceBy=Ff,n.differenceWith=Bf,n.drop=la,n.dropRight=fa,n.dropRightWhile=pa,n.dropWhile=da,n.fill=ha,n.filter=fs,n.flatMap=ps,n.flatMapDeep=ds,n.flatMapDepth=hs,n.flatten=ga,n.flattenDeep=ya,n.flattenDepth=ba,n.flip=Ls,n.flow=rd,n.flowRight=id,n.fromPairs=wa,n.functions=Bc,n.functionsIn=Uc,n.groupBy=ip,n.initial=Ca,n.intersection=Uf,n.intersectionBy=zf,n.intersectionWith=Wf,n.invert=Fp,n.invertBy=Bp,n.invokeMap=op,n.iteratee=Mu,n.keyBy=ap,n.keys=$c,n.keysIn=Hc,n.map=ys,n.mapKeys=qc,n.mapValues=Kc,n.matches=Ru,n.matchesProperty=ju,n.memoize=Ms,n.merge=zp,n.mergeWith=Wp,n.method=od,n.methodOf=ad,n.mixin=Fu,n.negate=Rs,n.nthArg=zu,n.omit=Vp,n.omitBy=Gc,n.once=js,n.orderBy=bs,n.over=sd,n.overArgs=hp,n.overEvery=cd,n.overSome=ud,n.partial=mp,n.partialRight=vp,n.partition=sp,n.pick=$p,n.pickBy=Yc,n.property=Wu,n.propertyOf=Vu,n.pull=Vf,n.pullAll=Aa,n.pullAllBy=Ia,n.pullAllWith=Oa,n.pullAt=$f,n.range=ld,n.rangeRight=fd,n.rearg=gp,n.reject=xs,n.remove=Pa,n.rest=Fs,n.reverse=Na,n.sampleSize=ks,n.set=Jc,n.setWith=Zc,n.shuffle=Ts,n.slice=Da,n.sortBy=cp,n.sortedUniq=Ua,n.sortedUniqBy=za,n.split=bu,n.spread=Bs,n.tail=Wa,n.take=Va,n.takeRight=$a,n.takeRightWhile=Ha,n.takeWhile=qa,n.tap=ts,n.throttle=Us,n.thru=ns,n.toArray=kc,n.toPairs=Hp,n.toPairsIn=qp,n.toPath=Xu,n.toPlainObject=Ic,n.transform=Qc,n.unary=zs,n.union=Hf,n.unionBy=qf,n.unionWith=Kf,n.uniq=Ka,n.uniqBy=Ga,n.uniqWith=Ya,n.unset=eu,n.unzip=Xa,n.unzipWith=Ja,n.update=tu,n.updateWith=nu,n.values=ru,n.valuesIn=iu,n.without=Gf,n.words=Iu,n.wrap=Ws,n.xor=Yf,n.xorBy=Xf,n.xorWith=Jf,n.zip=Zf,n.zipObject=Za,n.zipObjectDeep=Qa,n.zipWith=Qf,n.entries=Hp,n.entriesIn=qp,n.extend=Np,n.extendWith=Dp,Fu(n,n),n.add=pd,n.attempt=td,n.camelCase=Kp,n.capitalize=cu,n.ceil=dd,n.clamp=ou,n.clone=$s,n.cloneDeep=qs,n.cloneDeepWith=Ks,n.cloneWith=Hs,n.conformsTo=Gs,n.deburr=uu,n.defaultTo=Du,n.divide=hd,n.endsWith=lu,n.eq=Ys,n.escape=fu,n.escapeRegExp=pu,n.every=ls,n.find=np,n.findIndex=ma,n.findKey=Dc,n.findLast=rp,n.findLastIndex=va,n.findLastKey=Lc,n.floor=md,n.forEach=ms,n.forEachRight=vs,n.forIn=Mc,n.forInRight=Rc,n.forOwn=jc,n.forOwnRight=Fc,n.get=zc,n.gt=yp,n.gte=bp,n.has=Wc,n.hasIn=Vc,n.head=_a,n.identity=Lu,n.includes=gs,n.indexOf=xa,n.inRange=au,n.invoke=Up,n.isArguments=wp,n.isArray=_p,n.isArrayBuffer=xp,n.isArrayLike=Xs,n.isArrayLikeObject=Js,n.isBoolean=Zs,n.isBuffer=Cp,n.isDate=kp,n.isElement=Qs,n.isEmpty=ec,n.isEqual=tc,n.isEqualWith=nc,n.isError=rc,n.isFinite=ic,n.isFunction=oc,n.isInteger=ac,n.isLength=sc,n.isMap=Tp,n.isMatch=lc,n.isMatchWith=fc,n.isNaN=pc,n.isNative=dc,n.isNil=mc,n.isNull=hc,n.isNumber=vc,n.isObject=cc,n.isObjectLike=uc,n.isPlainObject=gc,n.isRegExp=Sp,n.isSafeInteger=yc,n.isSet=Ep,n.isString=bc,n.isSymbol=wc,n.isTypedArray=Ap,n.isUndefined=_c,n.isWeakMap=xc,n.isWeakSet=Cc,n.join=ka,n.kebabCase=Gp,n.last=Ta,n.lastIndexOf=Sa,n.lowerCase=Yp,n.lowerFirst=Xp,n.lt=Ip,n.lte=Op,n.max=Zu,n.maxBy=Qu,n.mean=el,n.meanBy=tl,n.min=nl,n.minBy=rl,n.stubArray=$u,n.stubFalse=Hu,n.stubObject=qu,n.stubString=Ku,n.stubTrue=Gu,n.multiply=vd,n.nth=Ea,n.noConflict=Bu,n.noop=Uu,n.now=up,n.pad=du,n.padEnd=hu,n.padStart=mu,n.parseInt=vu,n.random=su,n.reduce=ws,n.reduceRight=_s,n.repeat=gu,n.replace=yu,n.result=Xc,n.round=gd,n.runInContext=e,n.sample=Cs,n.size=Ss,n.snakeCase=Jp,n.some=Es,n.sortedIndex=La,n.sortedIndexBy=Ma,n.sortedIndexOf=Ra,n.sortedLastIndex=ja,n.sortedLastIndexBy=Fa,n.sortedLastIndexOf=Ba,n.startCase=Zp,n.startsWith=wu,n.subtract=yd,n.sum=il,n.sumBy=ol,n.template=_u,n.times=Yu,n.toFinite=Tc,n.toInteger=Sc,n.toLength=Ec,n.toLower=xu,n.toNumber=Ac,n.toSafeInteger=Oc,n.toString=Pc,n.toUpper=Cu,n.trim=ku,n.trimEnd=Tu,n.trimStart=Su,n.truncate=Eu,n.unescape=Au,n.uniqueId=Ju,n.upperCase=Qp,n.upperFirst=ed,n.each=ms,n.eachRight=vs,n.first=_a,Fu(n,function(){var e={};return nr(n,function(t,r){wl.call(n.prototype,r)||(e[r]=t)}),e}(),{chain:!1}),n.VERSION=oe,u(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){n[e].placeholder=n}),u(["drop","take"],function(e,t){w.prototype[e]=function(n){n=n===ie?1:Yl(Sc(n),0);var r=this.__filtered__&&!t?new w(this):this.clone();return r.__filtered__?r.__takeCount__=Xl(n,r.__takeCount__):r.__views__.push({size:Xl(n,Fe),type:e+(r.__dir__<0?"Right":"")}),r},w.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),u(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==Pe||n==De;w.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:To(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),u(["head","last"],function(e,t){var n="take"+(t?"Right":"");w.prototype[e]=function(){return this[n](1).value()[0]}}),u(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");w.prototype[e]=function(){return this.__filtered__?new w(this):this[n](1)}}),w.prototype.compact=function(){return this.filter(Lu)},w.prototype.find=function(e){return this.filter(e).head()},w.prototype.findLast=function(e){return this.reverse().find(e)},w.prototype.invokeMap=oi(function(e,t){return"function"==typeof e?new w(this):this.map(function(n){return Ar(n,e,t)})}),w.prototype.reject=function(e){return this.filter(Rs(To(e)))},w.prototype.slice=function(e,t){e=Sc(e);var n=this;return n.__filtered__&&(e>0||t<0)?new w(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==ie&&(t=Sc(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},w.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},w.prototype.toArray=function(){return this.take(Fe)},nr(w.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),o=/^(?:head|last)$/.test(t),a=n[o?"take"+("last"==t?"Right":""):t],s=o||/^find/.test(t);a&&(n.prototype[t]=function(){var t=this.__wrapped__,c=o?[1]:arguments,u=t instanceof w,l=c[0],f=u||_p(t),p=function(e){var t=a.apply(n,v([e],c));return o&&d?t[0]:t};f&&r&&"function"==typeof l&&1!=l.length&&(u=f=!1);var d=this.__chain__,h=!!this.__actions__.length,m=s&&!d,g=u&&!h;if(!s&&f){t=g?t:new w(this);var y=e.apply(t,c);return y.__actions__.push({func:ns,args:[p],thisArg:ie}),new i(y,d)}return m&&g?e.apply(this,c):(y=this.thru(p),m?o?y.value()[0]:y.value():y)})}),u(["pop","push","shift","sort","splice","unshift"],function(e){var t=ml[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);n.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var n=this.value();return t.apply(_p(n)?n:[],e)}return this[r](function(n){return t.apply(_p(n)?n:[],e)})}}),nr(w.prototype,function(e,t){var r=n[t];if(r){var i=r.name+"",o=uf[i]||(uf[i]=[]);o.push({name:t,func:r})}}),uf[to(ie,ye).name]=[{name:"wrapper",func:ie}],w.prototype.clone=I,w.prototype.reverse=J,w.prototype.value=te,n.prototype.at=ep,n.prototype.chain=rs,n.prototype.commit=is,n.prototype.next=os,n.prototype.plant=ss,n.prototype.reverse=cs,n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=us,n.prototype.first=n.prototype.head,Rl&&(n.prototype[Rl]=as),n},kr=Cr();sr._=kr,r=function(){return kr}.call(t,n,t,i),!(r!==ie&&(i.exports=r))}).call(this)}).call(t,function(){return this}(),n(5)(e),n(4))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},,function(e,t,n){"use strict";e.exports=n(8)},function(e,t,n){"use strict";var r=n(9),i=n(149),o=n(153),a=n(44),s=n(158),c={};a(c,o),a(c,{findDOMNode:s("findDOMNode","ReactDOM","react-dom",r,r.findDOMNode),render:s("render","ReactDOM","react-dom",r,r.render),
unmountComponentAtNode:s("unmountComponentAtNode","ReactDOM","react-dom",r,r.unmountComponentAtNode),renderToString:s("renderToString","ReactDOMServer","react-dom/server",i,i.renderToString),renderToStaticMarkup:s("renderToStaticMarkup","ReactDOMServer","react-dom/server",i,i.renderToStaticMarkup)}),c.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r,c.__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i,e.exports=c},function(e,t,n){"use strict";var r=n(10),i=n(11),o=n(76),a=n(50),s=n(33),c=n(23),u=n(55),l=n(59),f=n(147),p=n(96),d=n(148);n(30);o.inject();var h=c.measure("React","render",s.render),m={findDOMNode:p,render:h,unmountComponentAtNode:s.unmountComponentAtNode,version:f,unstable_batchedUpdates:l.batchedUpdates,unstable_renderSubtreeIntoContainer:d};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:r,InstanceHandles:a,Mount:s,Reconciler:u,TextComponent:i});e.exports=m},function(e,t){"use strict";var n={current:null};e.exports=n},function(e,t,n){"use strict";var r=n(12),i=n(27),o=n(31),a=n(33),s=n(44),c=n(26),u=n(25),l=(n(75),function(e){});s(l.prototype,{construct:function(e){this._currentElement=e,this._stringText=""+e,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(e,t,n){if(this._rootNodeID=e,t.useCreateElement){var r=n[a.ownerDocumentContextKey],o=r.createElement("span");return i.setAttributeForID(o,e),a.getID(o),u(o,this._stringText),o}var s=c(this._stringText);return t.renderToStaticMarkup?s:"<span "+i.createMarkupForID(e)+">"+s+"</span>"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;if(n!==this._stringText){this._stringText=n;var i=a.getNode(this._rootNodeID);r.updateTextContent(i,n)}}},unmountComponent:function(){o.unmountIDFromEnvironment(this._rootNodeID)}}),e.exports=l},function(e,t,n){"use strict";function r(e,t,n){var r=n>=e.childNodes.length?null:e.childNodes.item(n);e.insertBefore(t,r)}var i=n(13),o=n(21),a=n(23),s=n(24),c=n(25),u=n(18),l={dangerouslyReplaceNodeWithMarkup:i.dangerouslyReplaceNodeWithMarkup,updateTextContent:c,processUpdates:function(e,t){for(var n,a=null,l=null,f=0;f<e.length;f++)if(n=e[f],n.type===o.MOVE_EXISTING||n.type===o.REMOVE_NODE){var p=n.fromIndex,d=n.parentNode.childNodes[p],h=n.parentID;d?void 0:u(!1),a=a||{},a[h]=a[h]||[],a[h][p]=d,l=l||[],l.push(d)}var m;if(m=t.length&&"string"==typeof t[0]?i.dangerouslyRenderMarkup(t):t,l)for(var v=0;v<l.length;v++)l[v].parentNode.removeChild(l[v]);for(var g=0;g<e.length;g++)switch(n=e[g],n.type){case o.INSERT_MARKUP:r(n.parentNode,m[n.markupIndex],n.toIndex);break;case o.MOVE_EXISTING:r(n.parentNode,a[n.parentID][n.fromIndex],n.toIndex);break;case o.SET_MARKUP:s(n.parentNode,n.content);break;case o.TEXT_CONTENT:c(n.parentNode,n.content);break;case o.REMOVE_NODE:}}};a.measureMethods(l,"DOMChildrenOperations",{updateTextContent:"updateTextContent"}),e.exports=l},function(e,t,n){"use strict";function r(e){return e.substring(1,e.indexOf(" "))}var i=n(14),o=n(15),a=n(20),s=n(19),c=n(18),u=/^(<[^ \/>]+)/,l="data-danger-index",f={dangerouslyRenderMarkup:function(e){i.canUseDOM?void 0:c(!1);for(var t,n={},f=0;f<e.length;f++)e[f]?void 0:c(!1),t=r(e[f]),t=s(t)?t:"*",n[t]=n[t]||[],n[t][f]=e[f];var p=[],d=0;for(t in n)if(n.hasOwnProperty(t)){var h,m=n[t];for(h in m)if(m.hasOwnProperty(h)){var v=m[h];m[h]=v.replace(u,"$1 "+l+'="'+h+'" ')}for(var g=o(m.join(""),a),y=0;y<g.length;++y){var b=g[y];b.hasAttribute&&b.hasAttribute(l)&&(h=+b.getAttribute(l),b.removeAttribute(l),p.hasOwnProperty(h)?c(!1):void 0,p[h]=b,d+=1)}}return d!==p.length?c(!1):void 0,p.length!==e.length?c(!1):void 0,p},dangerouslyReplaceNodeWithMarkup:function(e,t){i.canUseDOM?void 0:c(!1),t?void 0:c(!1),"html"===e.tagName.toLowerCase()?c(!1):void 0;var n;n="string"==typeof t?o(t,a)[0]:t,e.parentNode.replaceChild(n,e)}};e.exports=f},function(e,t){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.match(l);return t&&t[1].toLowerCase()}function i(e,t){var n=u;u?void 0:c(!1);var i=r(e),o=i&&s(i);if(o){n.innerHTML=o[1]+e+o[2];for(var l=o[0];l--;)n=n.lastChild}else n.innerHTML=e;var f=n.getElementsByTagName("script");f.length&&(t?void 0:c(!1),a(f).forEach(t));for(var p=a(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return p}var o=n(14),a=n(16),s=n(19),c=n(18),u=o.canUseDOM?document.createElement("div"):null,l=/^\s*<(\w+)/;e.exports=i},function(e,t,n){"use strict";function r(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function i(e){return r(e)?Array.isArray(e)?e.slice():o(e):[e]}var o=n(17);e.exports=i},function(e,t,n){"use strict";function r(e){var t=e.length;if(Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e?i(!1):void 0,"number"!=typeof t?i(!1):void 0,0===t||t-1 in e?void 0:i(!1),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(e){}for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}var i=n(18);e.exports=r},function(e,t,n){"use strict";var r=function(e,t,n,r,i,o,a,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],l=0;c=new Error("Invariant Violation: "+t.replace(/%s/g,function(){return u[l++]}))}throw c.framesToPop=1,c}};e.exports=r},function(e,t,n){"use strict";function r(e){return a?void 0:o(!1),p.hasOwnProperty(e)||(e="*"),s.hasOwnProperty(e)||("*"===e?a.innerHTML="<link />":a.innerHTML="<"+e+"></"+e+">",s[e]=!a.firstChild),s[e]?p[e]:null}var i=n(14),o=n(18),a=i.canUseDOM?document.createElement("div"):null,s={},c=[1,'<select multiple="true">',"</select>"],u=[1,"<table>","</table>"],l=[3,"<table><tbody><tr>","</tr></tbody></table>"],f=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],p={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:c,option:c,caption:u,colgroup:u,tbody:u,tfoot:u,thead:u,td:l,th:l},d=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];d.forEach(function(e){p[e]=f,s[e]=!0}),e.exports=r},function(e,t){"use strict";function n(e){return function(){return e}}function r(){}r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";var r=n(22),i=r({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});e.exports=i},function(e,t,n){"use strict";var r=n(18),i=function(e){var t,n={};e instanceof Object&&!Array.isArray(e)?void 0:r(!1);for(t in e)e.hasOwnProperty(t)&&(n[t]=t);return n};e.exports=i},function(e,t,n){"use strict";function r(e,t,n){return n}var i={enableMeasure:!1,storedMeasure:r,measureMethods:function(e,t,n){},measure:function(e,t,n){return n},injection:{injectMeasure:function(e){i.storedMeasure=e}}};e.exports=i},function(e,t,n){"use strict";var r=n(14),i=/^[ \r\n\t\f]/,o=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,a=function(e,t){e.innerHTML=t};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(a=function(e,t){MSApp.execUnsafeLocalFunction(function(){e.innerHTML=t})}),r.canUseDOM){var s=document.createElement("div");s.innerHTML=" ",""===s.innerHTML&&(a=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),i.test(t)||"<"===t[0]&&o.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t})}e.exports=a},function(e,t,n){"use strict";var r=n(14),i=n(26),o=n(24),a=function(e,t){e.textContent=t};r.canUseDOM&&("textContent"in document.documentElement||(a=function(e,t){o(e,i(t))})),e.exports=a},function(e,t){"use strict";function n(e){return i[e]}function r(e){return(""+e).replace(o,n)}var i={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},o=/[&><"']/g;e.exports=r},function(e,t,n){"use strict";function r(e){return!!l.hasOwnProperty(e)||!u.hasOwnProperty(e)&&(c.test(e)?(l[e]=!0,!0):(u[e]=!0,!1))}function i(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&t<1||e.hasOverloadedBooleanValue&&t===!1}var o=n(28),a=n(23),s=n(29),c=(n(30),/^[a-zA-Z_][\w\.\-]*$/),u={},l={},f={createMarkupForID:function(e){return o.ID_ATTRIBUTE_NAME+"="+s(e)},setAttributeForID:function(e,t){e.setAttribute(o.ID_ATTRIBUTE_NAME,t)},createMarkupForProperty:function(e,t){var n=o.properties.hasOwnProperty(e)?o.properties[e]:null;if(n){if(i(n,t))return"";var r=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&t===!0?r+'=""':r+"="+s(t)}return o.isCustomAttribute(e)?null==t?"":e+"="+s(t):null},createMarkupForCustomAttribute:function(e,t){return r(e)&&null!=t?e+"="+s(t):""},setValueForProperty:function(e,t,n){var r=o.properties.hasOwnProperty(t)?o.properties[t]:null;if(r){var a=r.mutationMethod;if(a)a(e,n);else if(i(r,n))this.deleteValueForProperty(e,t);else if(r.mustUseAttribute){var s=r.attributeName,c=r.attributeNamespace;c?e.setAttributeNS(c,s,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&n===!0?e.setAttribute(s,""):e.setAttribute(s,""+n)}else{var u=r.propertyName;r.hasSideEffects&&""+e[u]==""+n||(e[u]=n)}}else o.isCustomAttribute(t)&&f.setValueForAttribute(e,t,n)},setValueForAttribute:function(e,t,n){r(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,""+n))},deleteValueForProperty:function(e,t){var n=o.properties.hasOwnProperty(t)?o.properties[t]:null;if(n){var r=n.mutationMethod;if(r)r(e,void 0);else if(n.mustUseAttribute)e.removeAttribute(n.attributeName);else{var i=n.propertyName,a=o.getDefaultValueForProperty(e.nodeName,i);n.hasSideEffects&&""+e[i]===a||(e[i]=a)}}else o.isCustomAttribute(t)&&e.removeAttribute(t)}};a.measureMethods(f,"DOMPropertyOperations",{setValueForProperty:"setValueForProperty",setValueForAttribute:"setValueForAttribute",deleteValueForProperty:"deleteValueForProperty"}),e.exports=f},function(e,t,n){"use strict";function r(e,t){return(e&t)===t}var i=n(18),o={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var t=o,n=e.Properties||{},a=e.DOMAttributeNamespaces||{},c=e.DOMAttributeNames||{},u=e.DOMPropertyNames||{},l=e.DOMMutationMethods||{};e.isCustomAttribute&&s._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var f in n){s.properties.hasOwnProperty(f)?i(!1):void 0;var p=f.toLowerCase(),d=n[f],h={attributeName:p,attributeNamespace:null,propertyName:f,mutationMethod:null,mustUseAttribute:r(d,t.MUST_USE_ATTRIBUTE),mustUseProperty:r(d,t.MUST_USE_PROPERTY),hasSideEffects:r(d,t.HAS_SIDE_EFFECTS),hasBooleanValue:r(d,t.HAS_BOOLEAN_VALUE),hasNumericValue:r(d,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(d,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(d,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(h.mustUseAttribute&&h.mustUseProperty?i(!1):void 0,!h.mustUseProperty&&h.hasSideEffects?i(!1):void 0,h.hasBooleanValue+h.hasNumericValue+h.hasOverloadedBooleanValue<=1?void 0:i(!1),c.hasOwnProperty(f)){var m=c[f];h.attributeName=m}a.hasOwnProperty(f)&&(h.attributeNamespace=a[f]),u.hasOwnProperty(f)&&(h.propertyName=u[f]),l.hasOwnProperty(f)&&(h.mutationMethod=l[f]),s.properties[f]=h}}},a={},s={ID_ATTRIBUTE_NAME:"data-reactid",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<s._isCustomAttributeFunctions.length;t++){var n=s._isCustomAttributeFunctions[t];if(n(e))return!0}return!1},getDefaultValueForProperty:function(e,t){var n,r=a[e];return r||(a[e]=r={}),t in r||(n=document.createElement(e),r[t]=n[t]),r[t]},injection:o};e.exports=s},function(e,t,n){"use strict";function r(e){return'"'+i(e)+'"'}var i=n(26);e.exports=r},function(e,t,n){"use strict";var r=n(20),i=r;e.exports=i},function(e,t,n){"use strict";var r=n(32),i=n(33),o={processChildrenUpdates:r.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:r.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(e){i.purgeID(e)}};e.exports=o},function(e,t,n){"use strict";var r=n(12),i=n(27),o=n(33),a=n(23),s=n(18),c={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},u={updatePropertyByID:function(e,t,n){var r=o.getNode(e);c.hasOwnProperty(t)?s(!1):void 0,null!=n?i.setValueForProperty(r,t,n):i.deleteValueForProperty(r,t)},dangerouslyReplaceNodeWithMarkupByID:function(e,t){var n=o.getNode(e);r.dangerouslyReplaceNodeWithMarkup(n,t)},dangerouslyProcessChildrenUpdates:function(e,t){for(var n=0;n<e.length;n++)e[n].parentNode=o.getNode(e[n].parentID);r.processUpdates(e,t)}};a.measureMethods(u,"ReactDOMIDOperations",{dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),e.exports=u},function(e,t,n){"use strict";function r(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}function i(e){return e?e.nodeType===W?e.documentElement:e.firstChild:null}function o(e){var t=i(e);return t&&X.getID(t)}function a(e){var t=s(e);if(t)if(U.hasOwnProperty(t)){var n=U[t];n!==e&&(f(n,t)?R(!1):void 0,U[t]=e)}else U[t]=e;return t}function s(e){return e&&e.getAttribute&&e.getAttribute(B)||""}function c(e,t){var n=s(e);n!==t&&delete U[n],e.setAttribute(B,t),U[t]=e}function u(e){return U.hasOwnProperty(e)&&f(U[e],e)||(U[e]=X.findReactNodeByID(e)),U[e]}function l(e){var t=S.get(e)._rootNodeID;return k.isNullComponentID(t)?null:(U.hasOwnProperty(t)&&f(U[t],t)||(U[t]=X.findReactNodeByID(t)),U[t])}function f(e,t){if(e){s(e)!==t?R(!1):void 0;var n=X.findReactContainerForID(t);if(n&&L(n,e))return!0}return!1}function p(e){delete U[e]}function d(e){var t=U[e];return!(!t||!f(t,e))&&void(G=t)}function h(e){G=null,T.traverseAncestors(e,d);var t=G;return G=null,t}function m(e,t,n,r,i,o){x.useCreateElement&&(o=N({},o),n.nodeType===W?o[$]=n:o[$]=n.ownerDocument);var a=I.mountComponent(e,t,r,o);e._renderedComponent._topLevelWrapper=e,X._mountImageIntoNode(a,n,i,r)}function v(e,t,n,r,i){var o=P.ReactReconcileTransaction.getPooled(r);o.perform(m,null,e,t,n,o,r,i),P.ReactReconcileTransaction.release(o)}function g(e,t){for(I.unmountComponent(e),t.nodeType===W&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function y(e){var t=o(e);return!!t&&t!==T.getReactRootIDFromNodeID(t)}function b(e){for(;e&&e.parentNode!==e;e=e.parentNode)if(1===e.nodeType){var t=s(e);if(t){var n,r=T.getReactRootIDFromNodeID(t),i=e;do if(n=s(i),i=i.parentNode,null==i)return null;while(n!==r);if(i===q[r])return e}}return null}var w=n(28),_=n(34),x=(n(10),n(46)),C=n(47),k=n(49),T=n(50),S=n(52),E=n(53),A=n(23),I=n(55),O=n(58),P=n(59),N=n(44),D=n(63),L=n(64),M=n(67),R=n(18),j=n(24),F=n(72),B=(n(75),n(30),w.ID_ATTRIBUTE_NAME),U={},z=1,W=9,V=11,$="__ReactMount_ownerDocument$"+Math.random().toString(36).slice(2),H={},q={},K=[],G=null,Y=function(){};Y.prototype.isReactComponent={},Y.prototype.render=function(){return this.props};var X={TopLevelWrapper:Y,_instancesByReactRootID:H,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r){return X.scrollMonitor(n,function(){O.enqueueElementInternal(e,t),r&&O.enqueueCallbackInternal(e,r)}),e},_registerComponent:function(e,t){!t||t.nodeType!==z&&t.nodeType!==W&&t.nodeType!==V?R(!1):void 0,_.ensureScrollValueMonitoring();var n=X.registerContainer(t);return H[n]=e,n},_renderNewRootComponent:function(e,t,n,r){var i=M(e,null),o=X._registerComponent(i,t);return P.batchedUpdates(v,i,o,t,n,r),i},renderSubtreeIntoContainer:function(e,t,n,r){return null==e||null==e._reactInternalInstance?R(!1):void 0,X._renderSubtreeIntoContainer(e,t,n,r)},_renderSubtreeIntoContainer:function(e,t,n,r){C.isValidElement(t)?void 0:R(!1);var a=new C(Y,null,null,null,null,null,t),c=H[o(n)];if(c){var u=c._currentElement,l=u.props;if(F(l,t)){var f=c._renderedComponent.getPublicInstance(),p=r&&function(){r.call(f)};return X._updateRootComponent(c,a,n,p),f}X.unmountComponentAtNode(n)}var d=i(n),h=d&&!!s(d),m=y(n),v=h&&!c&&!m,g=X._renderNewRootComponent(a,n,v,null!=e?e._reactInternalInstance._processChildContext(e._reactInternalInstance._context):D)._renderedComponent.getPublicInstance();return r&&r.call(g),g},render:function(e,t,n){return X._renderSubtreeIntoContainer(null,e,t,n)},registerContainer:function(e){var t=o(e);return t&&(t=T.getReactRootIDFromNodeID(t)),t||(t=T.createReactRootID()),q[t]=e,t},unmountComponentAtNode:function(e){!e||e.nodeType!==z&&e.nodeType!==W&&e.nodeType!==V?R(!1):void 0;var t=o(e),n=H[t];if(!n){var r=(y(e),s(e));r&&r===T.getReactRootIDFromNodeID(r);return!1}return P.batchedUpdates(g,n,e),delete H[t],delete q[t],!0},findReactContainerForID:function(e){var t=T.getReactRootIDFromNodeID(e),n=q[t];return n},findReactNodeByID:function(e){var t=X.findReactContainerForID(e);return X.findComponentRoot(t,e)},getFirstReactDOM:function(e){return b(e)},findComponentRoot:function(e,t){var n=K,r=0,i=h(t)||e;for(n[0]=i.firstChild,n.length=1;r<n.length;){for(var o,a=n[r++];a;){var s=X.getID(a);s?t===s?o=a:T.isAncestorIDOf(s,t)&&(n.length=r=0,n.push(a.firstChild)):n.push(a.firstChild),a=a.nextSibling}if(o)return n.length=0,o}n.length=0,R(!1)},_mountImageIntoNode:function(e,t,n,o){if(!t||t.nodeType!==z&&t.nodeType!==W&&t.nodeType!==V?R(!1):void 0,n){var a=i(t);if(E.canReuseMarkup(e,a))return;var s=a.getAttribute(E.CHECKSUM_ATTR_NAME);a.removeAttribute(E.CHECKSUM_ATTR_NAME);var c=a.outerHTML;a.setAttribute(E.CHECKSUM_ATTR_NAME,s);var u=e,l=r(u,c);" (client) "+u.substring(l-20,l+20)+"\n (server) "+c.substring(l-20,l+20);t.nodeType===W?R(!1):void 0}if(t.nodeType===W?R(!1):void 0,o.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);t.appendChild(e)}else j(t,e)},ownerDocumentContextKey:$,getReactRootID:o,getID:a,setID:c,getNode:u,getNodeFromInstance:l,isValid:f,purgeID:p};A.measureMethods(X,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),e.exports=X},function(e,t,n){"use strict";function r(e){return Object.prototype.hasOwnProperty.call(e,v)||(e[v]=h++,p[e[v]]={}),p[e[v]]}var i=n(35),o=n(36),a=n(37),s=n(42),c=n(23),u=n(43),l=n(44),f=n(45),p={},d=!1,h=0,m={topAbort:"abort",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},v="_reactListenersID"+String(Math.random()).slice(2),g=l({},s,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(g.handleTopLevel),g.ReactEventListener=e}},setEnabled:function(e){g.ReactEventListener&&g.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!g.ReactEventListener||!g.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,o=r(n),s=a.registrationNameDependencies[e],c=i.topLevelTypes,u=0;u<s.length;u++){var l=s[u];o.hasOwnProperty(l)&&o[l]||(l===c.topWheel?f("wheel")?g.ReactEventListener.trapBubbledEvent(c.topWheel,"wheel",n):f("mousewheel")?g.ReactEventListener.trapBubbledEvent(c.topWheel,"mousewheel",n):g.ReactEventListener.trapBubbledEvent(c.topWheel,"DOMMouseScroll",n):l===c.topScroll?f("scroll",!0)?g.ReactEventListener.trapCapturedEvent(c.topScroll,"scroll",n):g.ReactEventListener.trapBubbledEvent(c.topScroll,"scroll",g.ReactEventListener.WINDOW_HANDLE):l===c.topFocus||l===c.topBlur?(f("focus",!0)?(g.ReactEventListener.trapCapturedEvent(c.topFocus,"focus",n),g.ReactEventListener.trapCapturedEvent(c.topBlur,"blur",n)):f("focusin")&&(g.ReactEventListener.trapBubbledEvent(c.topFocus,"focusin",n),g.ReactEventListener.trapBubbledEvent(c.topBlur,"focusout",n)),o[c.topBlur]=!0,o[c.topFocus]=!0):m.hasOwnProperty(l)&&g.ReactEventListener.trapBubbledEvent(l,m[l],n),o[l]=!0)}},trapBubbledEvent:function(e,t,n){return g.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return g.ReactEventListener.trapCapturedEvent(e,t,n)},ensureScrollValueMonitoring:function(){if(!d){var e=u.refreshScrollValues;g.ReactEventListener.monitorScrollValue(e),d=!0}},eventNameDispatchConfigs:o.eventNameDispatchConfigs,registrationNameModules:o.registrationNameModules,putListener:o.putListener,getListener:o.getListener,deleteListener:o.deleteListener,deleteAllListeners:o.deleteAllListeners});c.measureMethods(g,"ReactBrowserEventEmitter",{putListener:"putListener",deleteListener:"deleteListener"}),e.exports=g},function(e,t,n){"use strict";var r=n(22),i=r({bubbled:null,captured:null}),o=r({topAbort:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topVolumeChange:null,topWaiting:null,topWheel:null}),a={topLevelTypes:o,PropagationPhases:i};e.exports=a},function(e,t,n){"use strict";var r=n(37),i=n(38),o=n(39),a=n(40),s=n(41),c=n(18),u=(n(30),{}),l=null,f=function(e,t){e&&(i.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},p=function(e){return f(e,!0)},d=function(e){return f(e,!1)},h=null,m={injection:{injectMount:i.injection.injectMount,injectInstanceHandle:function(e){h=e},getInstanceHandle:function(){return h},injectEventPluginOrder:r.injectEventPluginOrder,injectEventPluginsByName:r.injectEventPluginsByName},eventNameDispatchConfigs:r.eventNameDispatchConfigs,registrationNameModules:r.registrationNameModules,putListener:function(e,t,n){"function"!=typeof n?c(!1):void 0;var i=u[t]||(u[t]={});i[e]=n;var o=r.registrationNameModules[t];o&&o.didPutListener&&o.didPutListener(e,t,n)},getListener:function(e,t){var n=u[t];return n&&n[e]},deleteListener:function(e,t){var n=r.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var i=u[t];i&&delete i[e]},deleteAllListeners:function(e){for(var t in u)if(u[t][e]){var n=r.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t),delete u[t][e]}},extractEvents:function(e,t,n,i,o){for(var s,c=r.plugins,u=0;u<c.length;u++){var l=c[u];if(l){var f=l.extractEvents(e,t,n,i,o);f&&(s=a(s,f))}}return s},enqueueEvents:function(e){e&&(l=a(l,e))},processEventQueue:function(e){var t=l;l=null,e?s(t,p):s(t,d),l?c(!1):void 0,o.rethrowCaughtError()},__purge:function(){u={}},__getListenerBank:function(){return u}};e.exports=m},function(e,t,n){"use strict";function r(){if(s)for(var e in c){var t=c[e],n=s.indexOf(e);if(n>-1?void 0:a(!1),!u.plugins[n]){t.extractEvents?void 0:a(!1),u.plugins[n]=t;var r=t.eventTypes;for(var o in r)i(r[o],t,o)?void 0:a(!1)}}}function i(e,t,n){u.eventNameDispatchConfigs.hasOwnProperty(n)?a(!1):void 0,u.eventNameDispatchConfigs[n]=e;var r=e.phasedRegistrationNames;if(r){for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];o(s,t,n)}return!0}return!!e.registrationName&&(o(e.registrationName,t,n),!0)}function o(e,t,n){u.registrationNameModules[e]?a(!1):void 0,u.registrationNameModules[e]=t,u.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var a=n(18),s=null,c={},u={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(e){s?a(!1):void 0,s=Array.prototype.slice.call(e),r()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];c.hasOwnProperty(n)&&c[n]===i||(c[n]?a(!1):void 0,c[n]=i,t=!0)}t&&r()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return u.registrationNameModules[t.registrationName]||null;for(var n in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(n)){var r=u.registrationNameModules[t.phasedRegistrationNames[n]];if(r)return r}return null},_resetEventPlugins:function(){s=null;for(var e in c)c.hasOwnProperty(e)&&delete c[e];u.plugins.length=0;var t=u.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=u.registrationNameModules;for(var i in r)r.hasOwnProperty(i)&&delete r[i]}};e.exports=u},function(e,t,n){"use strict";function r(e){return e===v.topMouseUp||e===v.topTouchEnd||e===v.topTouchCancel}function i(e){return e===v.topMouseMove||e===v.topTouchMove}function o(e){return e===v.topMouseDown||e===v.topTouchStart}function a(e,t,n,r){var i=e.type||"unknown-event";e.currentTarget=m.Mount.getNode(r),t?d.invokeGuardedCallbackWithCatch(i,n,e,r):d.invokeGuardedCallback(i,n,e,r),e.currentTarget=null}function s(e,t){var n=e._dispatchListeners,r=e._dispatchIDs;if(Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)a(e,t,n[i],r[i]);else n&&a(e,t,n,r);e._dispatchListeners=null,e._dispatchIDs=null}function c(e){var t=e._dispatchListeners,n=e._dispatchIDs;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function u(e){var t=c(e);return e._dispatchIDs=null,e._dispatchListeners=null,t}function l(e){var t=e._dispatchListeners,n=e._dispatchIDs;Array.isArray(t)?h(!1):void 0;var r=t?t(e,n):null;return e._dispatchListeners=null,e._dispatchIDs=null,r}function f(e){return!!e._dispatchListeners}var p=n(35),d=n(39),h=n(18),m=(n(30),{Mount:null,injectMount:function(e){m.Mount=e}}),v=p.topLevelTypes,g={isEndish:r,isMoveish:i,isStartish:o,executeDirectDispatch:l,executeDispatchesInOrder:s,executeDispatchesInOrderStopAtTrue:u,hasDispatches:f,getNode:function(e){return m.Mount.getNode(e)},getID:function(e){return m.Mount.getID(e)},injection:m};e.exports=g},function(e,t,n){"use strict";function r(e,t,n,r){try{return t(n,r)}catch(e){return void(null===i&&(i=e))}}var i=null,o={invokeGuardedCallback:r,invokeGuardedCallbackWithCatch:r,rethrowCaughtError:function(){if(i){var e=i;throw i=null,e}}};e.exports=o},function(e,t,n){"use strict";function r(e,t){if(null==t?i(!1):void 0,null==e)return t;var n=Array.isArray(e),r=Array.isArray(t);return n&&r?(e.push.apply(e,t),e):n?(e.push(t),e):r?[e].concat(t):[e,t]}var i=n(18);e.exports=r},function(e,t){"use strict";var n=function(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)};e.exports=n},function(e,t,n){"use strict";function r(e){i.enqueueEvents(e),i.processEventQueue(!1)}var i=n(36),o={handleTopLevel:function(e,t,n,o,a){var s=i.extractEvents(e,t,n,o,a);r(s)}};e.exports=o},function(e,t){"use strict";var n={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){n.currentScrollLeft=e.x,n.currentScrollTop=e.y}};e.exports=n},function(e,t){"use strict";function n(e,t){if(null==e)throw new TypeError("Object.assign target cannot be null or undefined");for(var n=Object(e),r=Object.prototype.hasOwnProperty,i=1;i<arguments.length;i++){var o=arguments[i];if(null!=o){var a=Object(o);for(var s in a)r.call(a,s)&&(n[s]=a[s])}}return n}e.exports=n},function(e,t,n){"use strict";function r(e,t){if(!o.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var a=document.createElement("div");a.setAttribute(n,"return;"),r="function"==typeof a[n]}return!r&&i&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var i,o=n(14);o.canUseDOM&&(i=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),e.exports=r},function(e,t){"use strict";var n={useCreateElement:!1};e.exports=n},function(e,t,n){"use strict";var r=n(10),i=n(44),o=(n(48),"function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103),a={key:!0,ref:!0,__self:!0,__source:!0},s=function(e,t,n,r,i,a,s){var c={$$typeof:o,type:e,key:t,ref:n,props:s,_owner:a};return c};s.createElement=function(e,t,n){var i,o={},c=null,u=null,l=null,f=null;if(null!=t){u=void 0===t.ref?null:t.ref,c=void 0===t.key?null:""+t.key,l=void 0===t.__self?null:t.__self,f=void 0===t.__source?null:t.__source;for(i in t)t.hasOwnProperty(i)&&!a.hasOwnProperty(i)&&(o[i]=t[i])}var p=arguments.length-2;if(1===p)o.children=n;else if(p>1){for(var d=Array(p),h=0;h<p;h++)d[h]=arguments[h+2];o.children=d}if(e&&e.defaultProps){var m=e.defaultProps;for(i in m)"undefined"==typeof o[i]&&(o[i]=m[i])}return s(e,c,u,l,f,r.current,o)},s.createFactory=function(e){var t=s.createElement.bind(null,e);return t.type=e,t},s.cloneAndReplaceKey=function(e,t){var n=s(e.type,t,e.ref,e._self,e._source,e._owner,e.props);return n},s.cloneAndReplaceProps=function(e,t){var n=s(e.type,e.key,e.ref,e._self,e._source,e._owner,t);return n},s.cloneElement=function(e,t,n){var o,c=i({},e.props),u=e.key,l=e.ref,f=e._self,p=e._source,d=e._owner;if(null!=t){void 0!==t.ref&&(l=t.ref,d=r.current),void 0!==t.key&&(u=""+t.key);for(o in t)t.hasOwnProperty(o)&&!a.hasOwnProperty(o)&&(c[o]=t[o])}var h=arguments.length-2;if(1===h)c.children=n;else if(h>1){for(var m=Array(h),v=0;v<h;v++)m[v]=arguments[v+2];c.children=m}return s(e.type,u,l,f,p,d,c)},s.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},e.exports=s},function(e,t,n){"use strict";var r=!1;e.exports=r},function(e,t){"use strict";function n(e){return!!o[e]}function r(e){o[e]=!0}function i(e){delete o[e]}var o={},a={isNullComponentID:n,registerNullComponentID:r,deregisterNullComponentID:i};e.exports=a},function(e,t,n){"use strict";function r(e){return d+e.toString(36)}function i(e,t){return e.charAt(t)===d||t===e.length}function o(e){return""===e||e.charAt(0)===d&&e.charAt(e.length-1)!==d;
}function a(e,t){return 0===t.indexOf(e)&&i(t,e.length)}function s(e){return e?e.substr(0,e.lastIndexOf(d)):""}function c(e,t){if(o(e)&&o(t)?void 0:p(!1),a(e,t)?void 0:p(!1),e===t)return e;var n,r=e.length+h;for(n=r;n<t.length&&!i(t,n);n++);return t.substr(0,n)}function u(e,t){var n=Math.min(e.length,t.length);if(0===n)return"";for(var r=0,a=0;a<=n;a++)if(i(e,a)&&i(t,a))r=a;else if(e.charAt(a)!==t.charAt(a))break;var s=e.substr(0,r);return o(s)?void 0:p(!1),s}function l(e,t,n,r,i,o){e=e||"",t=t||"",e===t?p(!1):void 0;var u=a(t,e);u||a(e,t)?void 0:p(!1);for(var l=0,f=u?s:c,d=e;;d=f(d,t)){var h;if(i&&d===e||o&&d===t||(h=n(d,u,r)),h===!1||d===t)break;l++<m?void 0:p(!1)}}var f=n(51),p=n(18),d=".",h=d.length,m=1e4,v={createReactRootID:function(){return r(f.createReactRootIndex())},createReactID:function(e,t){return e+t},getReactRootIDFromNodeID:function(e){if(e&&e.charAt(0)===d&&e.length>1){var t=e.indexOf(d,1);return t>-1?e.substr(0,t):e}return null},traverseEnterLeave:function(e,t,n,r,i){var o=u(e,t);o!==e&&l(e,o,n,r,!1,!0),o!==t&&l(o,t,n,i,!0,!1)},traverseTwoPhase:function(e,t,n){e&&(l("",e,t,n,!0,!1),l(e,"",t,n,!1,!0))},traverseTwoPhaseSkipTarget:function(e,t,n){e&&(l("",e,t,n,!0,!0),l(e,"",t,n,!0,!0))},traverseAncestors:function(e,t,n){l("",e,t,n,!0,!1)},getFirstCommonAncestorID:u,_getNextDescendantID:c,isAncestorIDOf:a,SEPARATOR:d};e.exports=v},function(e,t){"use strict";var n={injectCreateReactRootIndex:function(e){r.createReactRootIndex=e}},r={createReactRootIndex:null,injection:n};e.exports=r},function(e,t){"use strict";var n={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};e.exports=n},function(e,t,n){"use strict";var r=n(54),i=/\/?>/,o={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=r(e);return e.replace(i," "+o.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var n=t.getAttribute(o.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var i=r(e);return i===n}};e.exports=o},function(e,t){"use strict";function n(e){for(var t=1,n=0,i=0,o=e.length,a=o&-4;i<a;){for(;i<Math.min(i+4096,a);i+=4)n+=(t+=e.charCodeAt(i))+(t+=e.charCodeAt(i+1))+(t+=e.charCodeAt(i+2))+(t+=e.charCodeAt(i+3));t%=r,n%=r}for(;i<o;i++)n+=t+=e.charCodeAt(i);return t%=r,n%=r,t|n<<16}var r=65521;e.exports=n},function(e,t,n){"use strict";function r(){i.attachRefs(this,this._currentElement)}var i=n(56),o={mountComponent:function(e,t,n,i){var o=e.mountComponent(t,n,i);return e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(r,e),o},unmountComponent:function(e){i.detachRefs(e,e._currentElement),e.unmountComponent()},receiveComponent:function(e,t,n,o){var a=e._currentElement;if(t!==a||o!==e._context){var s=i.shouldUpdateRefs(a,t);s&&i.detachRefs(e,a),e.receiveComponent(t,n,o),s&&e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(r,e)}},performUpdateIfNecessary:function(e,t){e.performUpdateIfNecessary(t)}};e.exports=o},function(e,t,n){"use strict";function r(e,t,n){"function"==typeof e?e(t.getPublicInstance()):o.addComponentAsRefTo(t,e,n)}function i(e,t,n){"function"==typeof e?e(null):o.removeComponentAsRefFrom(t,e,n)}var o=n(57),a={};a.attachRefs=function(e,t){if(null!==t&&t!==!1){var n=t.ref;null!=n&&r(n,e,t._owner)}},a.shouldUpdateRefs=function(e,t){var n=null===e||e===!1,r=null===t||t===!1;return n||r||t._owner!==e._owner||t.ref!==e.ref},a.detachRefs=function(e,t){if(null!==t&&t!==!1){var n=t.ref;null!=n&&i(n,e,t._owner)}},e.exports=a},function(e,t,n){"use strict";var r=n(18),i={isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,t,n){i.isValidOwner(n)?void 0:r(!1),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){i.isValidOwner(n)?void 0:r(!1),n.getPublicInstance().refs[t]===e.getPublicInstance()&&n.detachRef(t)}};e.exports=i},function(e,t,n){"use strict";function r(e){s.enqueueUpdate(e)}function i(e,t){var n=a.get(e);return n?n:null}var o=(n(10),n(47)),a=n(52),s=n(59),c=n(44),u=n(18),l=(n(30),{isMounted:function(e){var t=a.get(e);return!!t&&!!t._renderedComponent},enqueueCallback:function(e,t){"function"!=typeof t?u(!1):void 0;var n=i(e);return n?(n._pendingCallbacks?n._pendingCallbacks.push(t):n._pendingCallbacks=[t],void r(n)):null},enqueueCallbackInternal:function(e,t){"function"!=typeof t?u(!1):void 0,e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],r(e)},enqueueForceUpdate:function(e){var t=i(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,r(t))},enqueueReplaceState:function(e,t){var n=i(e,"replaceState");n&&(n._pendingStateQueue=[t],n._pendingReplaceState=!0,r(n))},enqueueSetState:function(e,t){var n=i(e,"setState");if(n){var o=n._pendingStateQueue||(n._pendingStateQueue=[]);o.push(t),r(n)}},enqueueSetProps:function(e,t){var n=i(e,"setProps");n&&l.enqueueSetPropsInternal(n,t)},enqueueSetPropsInternal:function(e,t){var n=e._topLevelWrapper;n?void 0:u(!1);var i=n._pendingElement||n._currentElement,a=i.props,s=c({},a.props,t);n._pendingElement=o.cloneAndReplaceProps(i,o.cloneAndReplaceProps(a,s)),r(n)},enqueueReplaceProps:function(e,t){var n=i(e,"replaceProps");n&&l.enqueueReplacePropsInternal(n,t)},enqueueReplacePropsInternal:function(e,t){var n=e._topLevelWrapper;n?void 0:u(!1);var i=n._pendingElement||n._currentElement,a=i.props;n._pendingElement=o.cloneAndReplaceProps(i,o.cloneAndReplaceProps(a,t)),r(n)},enqueueElementInternal:function(e,t){e._pendingElement=t,r(e)}});e.exports=l},function(e,t,n){"use strict";function r(){S.ReactReconcileTransaction&&w?void 0:v(!1)}function i(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=l.getPooled(),this.reconcileTransaction=S.ReactReconcileTransaction.getPooled(!1)}function o(e,t,n,i,o,a){r(),w.batchedUpdates(e,t,n,i,o,a)}function a(e,t){return e._mountOrder-t._mountOrder}function s(e){var t=e.dirtyComponentsLength;t!==g.length?v(!1):void 0,g.sort(a);for(var n=0;n<t;n++){var r=g[n],i=r._pendingCallbacks;if(r._pendingCallbacks=null,d.performUpdateIfNecessary(r,e.reconcileTransaction),i)for(var o=0;o<i.length;o++)e.callbackQueue.enqueue(i[o],r.getPublicInstance())}}function c(e){return r(),w.isBatchingUpdates?void g.push(e):void w.batchedUpdates(c,e)}function u(e,t){w.isBatchingUpdates?void 0:v(!1),y.enqueue(e,t),b=!0}var l=n(60),f=n(61),p=n(23),d=n(55),h=n(62),m=n(44),v=n(18),g=[],y=l.getPooled(),b=!1,w=null,_={initialize:function(){this.dirtyComponentsLength=g.length},close:function(){this.dirtyComponentsLength!==g.length?(g.splice(0,this.dirtyComponentsLength),k()):g.length=0}},x={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},C=[_,x];m(i.prototype,h.Mixin,{getTransactionWrappers:function(){return C},destructor:function(){this.dirtyComponentsLength=null,l.release(this.callbackQueue),this.callbackQueue=null,S.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return h.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),f.addPoolingTo(i);var k=function(){for(;g.length||b;){if(g.length){var e=i.getPooled();e.perform(s,null,e),i.release(e)}if(b){b=!1;var t=y;y=l.getPooled(),t.notifyAll(),l.release(t)}}};k=p.measure("ReactUpdates","flushBatchedUpdates",k);var T={injectReconcileTransaction:function(e){e?void 0:v(!1),S.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e?void 0:v(!1),"function"!=typeof e.batchedUpdates?v(!1):void 0,"boolean"!=typeof e.isBatchingUpdates?v(!1):void 0,w=e}},S={ReactReconcileTransaction:null,batchedUpdates:o,enqueueUpdate:c,flushBatchedUpdates:k,injection:T,asap:u};e.exports=S},function(e,t,n){"use strict";function r(){this._callbacks=null,this._contexts=null}var i=n(61),o=n(44),a=n(18);o(r.prototype,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,t=this._contexts;if(e){e.length!==t.length?a(!1):void 0,this._callbacks=null,this._contexts=null;for(var n=0;n<e.length;n++)e[n].call(t[n]);e.length=0,t.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),i.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";var r=n(18),i=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},o=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},a=function(e,t,n){var r=this;if(r.instancePool.length){var i=r.instancePool.pop();return r.call(i,e,t,n),i}return new r(e,t,n)},s=function(e,t,n,r){var i=this;if(i.instancePool.length){var o=i.instancePool.pop();return i.call(o,e,t,n,r),o}return new i(e,t,n,r)},c=function(e,t,n,r,i){var o=this;if(o.instancePool.length){var a=o.instancePool.pop();return o.call(a,e,t,n,r,i),a}return new o(e,t,n,r,i)},u=function(e){var t=this;e instanceof t?void 0:r(!1),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},l=10,f=i,p=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||f,n.poolSize||(n.poolSize=l),n.release=u,n},d={addPoolingTo:p,oneArgumentPooler:i,twoArgumentPooler:o,threeArgumentPooler:a,fourArgumentPooler:s,fiveArgumentPooler:c};e.exports=d},function(e,t,n){"use strict";var r=n(18),i={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,i,o,a,s,c){this.isInTransaction()?r(!1):void 0;var u,l;try{this._isInTransaction=!0,u=!0,this.initializeAll(0),l=e.call(t,n,i,o,a,s,c),u=!1}finally{try{if(u)try{this.closeAll(0)}catch(e){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return l},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=o.OBSERVED_ERROR,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===o.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(e){}}}},closeAll:function(e){this.isInTransaction()?void 0:r(!1);for(var t=this.transactionWrappers,n=e;n<t.length;n++){var i,a=t[n],s=this.wrapperInitData[n];try{i=!0,s!==o.OBSERVED_ERROR&&a.close&&a.close.call(this,s),i=!1}finally{if(i)try{this.closeAll(n+1)}catch(e){}}}this.wrapperInitData.length=0}},o={Mixin:i,OBSERVED_ERROR:{}};e.exports=o},function(e,t,n){"use strict";var r={};e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=!0;e:for(;n;){var r=e,o=t;if(n=!1,r&&o){if(r===o)return!0;if(i(r))return!1;if(i(o)){e=r,t=o.parentNode,n=!0;continue e}return r.contains?r.contains(o):!!r.compareDocumentPosition&&!!(16&r.compareDocumentPosition(o))}return!1}}var i=n(65);e.exports=r},function(e,t,n){"use strict";function r(e){return i(e)&&3==e.nodeType}var i=n(66);e.exports=r},function(e,t){"use strict";function n(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=n},function(e,t,n){"use strict";function r(e){return"function"==typeof e&&"undefined"!=typeof e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function i(e){var t;if(null===e||e===!1)t=new a(i);else if("object"==typeof e){var n=e;!n||"function"!=typeof n.type&&"string"!=typeof n.type?u(!1):void 0,t="string"==typeof n.type?s.createInternalComponent(n):r(n.type)?new n.type(n):new l}else"string"==typeof e||"number"==typeof e?t=s.createInstanceForText(e):u(!1);return t.construct(e),t._mountIndex=0,t._mountImage=null,t}var o=n(68),a=n(73),s=n(74),c=n(44),u=n(18),l=(n(30),function(){});c(l.prototype,o.Mixin,{_instantiateReactComponent:i}),e.exports=i},function(e,t,n){"use strict";function r(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" Check the render method of `"+n+"`."}return""}function i(e){}var o=n(69),a=n(10),s=n(47),c=n(52),u=n(23),l=n(70),f=(n(71),n(55)),p=n(58),d=n(44),h=n(63),m=n(18),v=n(72);n(30);i.prototype.render=function(){var e=c.get(this)._currentElement.type;return e(this.props,this.context,this.updater)};var g=1,y={construct:function(e){this._currentElement=e,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null},mountComponent:function(e,t,n){this._context=n,this._mountOrder=g++,this._rootNodeID=e;var r,o,a=this._processProps(this._currentElement.props),u=this._processContext(n),l=this._currentElement.type,d="prototype"in l;d&&(r=new l(a,u,p)),d&&null!==r&&r!==!1&&!s.isValidElement(r)||(o=r,r=new i(l)),r.props=a,r.context=u,r.refs=h,r.updater=p,this._instance=r,c.set(r,this);var v=r.state;void 0===v&&(r.state=v=null),"object"!=typeof v||Array.isArray(v)?m(!1):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,r.componentWillMount&&(r.componentWillMount(),this._pendingStateQueue&&(r.state=this._processPendingState(r.props,r.context))),void 0===o&&(o=this._renderValidatedComponent()),this._renderedComponent=this._instantiateReactComponent(o);var y=f.mountComponent(this._renderedComponent,e,t,this._processChildContext(n));return r.componentDidMount&&t.getReactMountReady().enqueue(r.componentDidMount,r),y},unmountComponent:function(){var e=this._instance;e.componentWillUnmount&&e.componentWillUnmount(),f.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._instance=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,this._topLevelWrapper=null,c.remove(e)},_maskContext:function(e){var t=null,n=this._currentElement.type,r=n.contextTypes;if(!r)return h;t={};for(var i in r)t[i]=e[i];return t},_processContext:function(e){var t=this._maskContext(e);return t},_processChildContext:function(e){var t=this._currentElement.type,n=this._instance,r=n.getChildContext&&n.getChildContext();if(r){"object"!=typeof t.childContextTypes?m(!1):void 0;for(var i in r)i in t.childContextTypes?void 0:m(!1);return d({},e,r)}return e},_processProps:function(e){return e},_checkPropTypes:function(e,t,n){var i=this.getName();for(var o in e)if(e.hasOwnProperty(o)){var a;try{"function"!=typeof e[o]?m(!1):void 0,a=e[o](t,o,i,n)}catch(e){a=e}if(a instanceof Error){r(this);n===l.prop}}},receiveComponent:function(e,t,n){var r=this._currentElement,i=this._context;this._pendingElement=null,this.updateComponent(t,r,e,i,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement&&f.receiveComponent(this,this._pendingElement||this._currentElement,e,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context)},updateComponent:function(e,t,n,r,i){var o,a=this._instance,s=this._context===i?a.context:this._processContext(i);t===n?o=n.props:(o=this._processProps(n.props),a.componentWillReceiveProps&&a.componentWillReceiveProps(o,s));var c=this._processPendingState(o,s),u=this._pendingForceUpdate||!a.shouldComponentUpdate||a.shouldComponentUpdate(o,c,s);u?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,o,c,s,e,i)):(this._currentElement=n,this._context=i,a.props=o,a.state=c,a.context=s)},_processPendingState:function(e,t){var n=this._instance,r=this._pendingStateQueue,i=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(i&&1===r.length)return r[0];for(var o=d({},i?r[0]:n.state),a=i?1:0;a<r.length;a++){var s=r[a];d(o,"function"==typeof s?s.call(n,o,e,t):s)}return o},_performComponentUpdate:function(e,t,n,r,i,o){var a,s,c,u=this._instance,l=Boolean(u.componentDidUpdate);l&&(a=u.props,s=u.state,c=u.context),u.componentWillUpdate&&u.componentWillUpdate(t,n,r),this._currentElement=e,this._context=o,u.props=t,u.state=n,u.context=r,this._updateRenderedComponent(i,o),l&&i.getReactMountReady().enqueue(u.componentDidUpdate.bind(u,a,s,c),u)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,r=n._currentElement,i=this._renderValidatedComponent();if(v(r,i))f.receiveComponent(n,i,e,this._processChildContext(t));else{var o=this._rootNodeID,a=n._rootNodeID;f.unmountComponent(n),this._renderedComponent=this._instantiateReactComponent(i);var s=f.mountComponent(this._renderedComponent,o,e,this._processChildContext(t));this._replaceNodeWithMarkupByID(a,s)}},_replaceNodeWithMarkupByID:function(e,t){o.replaceNodeWithMarkupByID(e,t)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e=this._instance,t=e.render();return t},_renderValidatedComponent:function(){var e;a.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{a.current=null}return null===e||e===!1||s.isValidElement(e)?void 0:m(!1),e},attachRef:function(e,t){var n=this.getPublicInstance();null==n?m(!1):void 0;var r=t.getPublicInstance(),i=n.refs===h?n.refs={}:n.refs;i[e]=r},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return e instanceof i?null:e},_instantiateReactComponent:null};u.measureMethods(y,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var b={Mixin:y};e.exports=b},function(e,t,n){"use strict";var r=n(18),i=!1,o={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){i?r(!1):void 0,o.unmountIDFromEnvironment=e.unmountIDFromEnvironment,o.replaceNodeWithMarkupByID=e.replaceNodeWithMarkupByID,o.processChildrenUpdates=e.processChildrenUpdates,i=!0}}};e.exports=o},function(e,t,n){"use strict";var r=n(22),i=r({prop:null,context:null,childContext:null});e.exports=i},function(e,t,n){"use strict";var r={};e.exports=r},function(e,t){"use strict";function n(e,t){var n=null===e||e===!1,r=null===t||t===!1;if(n||r)return n===r;var i=typeof e,o=typeof t;return"string"===i||"number"===i?"string"===o||"number"===o:"object"===o&&e.type===t.type&&e.key===t.key}e.exports=n},function(e,t,n){"use strict";var r,i=n(47),o=n(49),a=n(55),s=n(44),c={injectEmptyComponent:function(e){r=i.createElement(e)}},u=function(e){this._currentElement=null,this._rootNodeID=null,this._renderedComponent=e(r)};s(u.prototype,{construct:function(e){},mountComponent:function(e,t,n){return o.registerNullComponentID(e),this._rootNodeID=e,a.mountComponent(this._renderedComponent,e,t,n)},receiveComponent:function(){},unmountComponent:function(e,t,n){a.unmountComponent(this._renderedComponent),o.deregisterNullComponentID(this._rootNodeID),this._rootNodeID=null,this._renderedComponent=null}}),u.injection=c,e.exports=u},function(e,t,n){"use strict";function r(e){if("function"==typeof e.type)return e.type;var t=e.type,n=f[t];return null==n&&(f[t]=n=u(t)),n}function i(e){return l?void 0:c(!1),new l(e.type,e.props)}function o(e){return new p(e)}function a(e){return e instanceof p}var s=n(44),c=n(18),u=null,l=null,f={},p=null,d={injectGenericComponentClass:function(e){l=e},injectTextComponentClass:function(e){p=e},injectComponentClasses:function(e){s(f,e)}},h={getComponentClassForElement:r,createInternalComponent:i,createInstanceForText:o,isTextComponent:a,injection:d};e.exports=h},function(e,t,n){"use strict";var r=(n(44),n(20)),i=(n(30),r);e.exports=i},function(e,t,n){"use strict";function r(){if(!T){T=!0,g.EventEmitter.injectReactEventListener(v),g.EventPluginHub.injectEventPluginOrder(s),g.EventPluginHub.injectInstanceHandle(y),g.EventPluginHub.injectMount(b),g.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:C,EnterLeaveEventPlugin:c,ChangeEventPlugin:o,SelectEventPlugin:_,BeforeInputEventPlugin:i}),g.NativeComponent.injectGenericComponentClass(h),g.NativeComponent.injectTextComponentClass(m),g.Class.injectMixin(f),g.DOMProperty.injectDOMPropertyConfig(l),g.DOMProperty.injectDOMPropertyConfig(k),g.EmptyComponent.injectEmptyComponent("noscript"),g.Updates.injectReconcileTransaction(w),g.Updates.injectBatchingStrategy(d),g.RootIndex.injectCreateReactRootIndex(u.canUseDOM?a.createReactRootIndex:x.createReactRootIndex),g.Component.injectEnvironment(p)}}var i=n(77),o=n(85),a=n(88),s=n(89),c=n(90),u=n(14),l=n(94),f=n(95),p=n(31),d=n(97),h=n(98),m=n(11),v=n(123),g=n(126),y=n(50),b=n(33),w=n(130),_=n(135),x=n(136),C=n(137),k=n(146),T=!1;e.exports={inject:r}},function(e,t,n){"use strict";function r(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function i(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function o(e){switch(e){case A.topCompositionStart:return I.compositionStart;case A.topCompositionEnd:return I.compositionEnd;case A.topCompositionUpdate:return I.compositionUpdate}}function a(e,t){return e===A.topKeyDown&&t.keyCode===_}function s(e,t){switch(e){case A.topKeyUp:return w.indexOf(t.keyCode)!==-1;case A.topKeyDown:return t.keyCode!==_;case A.topKeyPress:case A.topMouseDown:case A.topBlur:return!0;default:return!1}}function c(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function u(e,t,n,r,i){var u,l;if(x?u=o(e):P?s(e,r)&&(u=I.compositionEnd):a(e,r)&&(u=I.compositionStart),!u)return null;T&&(P||u!==I.compositionStart?u===I.compositionEnd&&P&&(l=P.getData()):P=v.getPooled(t));var f=g.getPooled(u,n,r,i);if(l)f.data=l;else{var p=c(r);null!==p&&(f.data=p)}return h.accumulateTwoPhaseDispatches(f),f}function l(e,t){switch(e){case A.topCompositionEnd:return c(t);case A.topKeyPress:var n=t.which;return n!==S?null:(O=!0,E);case A.topTextInput:var r=t.data;return r===E&&O?null:r;default:return null}}function f(e,t){if(P){if(e===A.topCompositionEnd||s(e,t)){var n=P.getData();return v.release(P),P=null,n}return null}switch(e){case A.topPaste:return null;case A.topKeyPress:return t.which&&!i(t)?String.fromCharCode(t.which):null;case A.topCompositionEnd:return T?null:t.data;default:return null}}function p(e,t,n,r,i){var o;if(o=k?l(e,r):f(e,r),!o)return null;var a=y.getPooled(I.beforeInput,n,r,i);return a.data=o,h.accumulateTwoPhaseDispatches(a),a}var d=n(35),h=n(78),m=n(14),v=n(79),g=n(81),y=n(83),b=n(84),w=[9,13,27,32],_=229,x=m.canUseDOM&&"CompositionEvent"in window,C=null;m.canUseDOM&&"documentMode"in document&&(C=document.documentMode);var k=m.canUseDOM&&"TextEvent"in window&&!C&&!r(),T=m.canUseDOM&&(!x||C&&C>8&&C<=11),S=32,E=String.fromCharCode(S),A=d.topLevelTypes,I={beforeInput:{phasedRegistrationNames:{bubbled:b({onBeforeInput:null}),captured:b({onBeforeInputCapture:null})},dependencies:[A.topCompositionEnd,A.topKeyPress,A.topTextInput,A.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:b({onCompositionEnd:null}),captured:b({onCompositionEndCapture:null})},dependencies:[A.topBlur,A.topCompositionEnd,A.topKeyDown,A.topKeyPress,A.topKeyUp,A.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:b({onCompositionStart:null}),captured:b({onCompositionStartCapture:null})},dependencies:[A.topBlur,A.topCompositionStart,A.topKeyDown,A.topKeyPress,A.topKeyUp,A.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:b({onCompositionUpdate:null}),captured:b({onCompositionUpdateCapture:null})},dependencies:[A.topBlur,A.topCompositionUpdate,A.topKeyDown,A.topKeyPress,A.topKeyUp,A.topMouseDown]}},O=!1,P=null,N={eventTypes:I,extractEvents:function(e,t,n,r,i){return[u(e,t,n,r,i),p(e,t,n,r,i)]}};e.exports=N},function(e,t,n){"use strict";function r(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return y(e,r)}function i(e,t,n){var i=t?g.bubbled:g.captured,o=r(e,n,i);o&&(n._dispatchListeners=m(n._dispatchListeners,o),n._dispatchIDs=m(n._dispatchIDs,e))}function o(e){e&&e.dispatchConfig.phasedRegistrationNames&&h.injection.getInstanceHandle().traverseTwoPhase(e.dispatchMarker,i,e)}function a(e){e&&e.dispatchConfig.phasedRegistrationNames&&h.injection.getInstanceHandle().traverseTwoPhaseSkipTarget(e.dispatchMarker,i,e)}function s(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,i=y(e,r);i&&(n._dispatchListeners=m(n._dispatchListeners,i),n._dispatchIDs=m(n._dispatchIDs,e))}}function c(e){e&&e.dispatchConfig.registrationName&&s(e.dispatchMarker,null,e)}function u(e){v(e,o)}function l(e){v(e,a)}function f(e,t,n,r){h.injection.getInstanceHandle().traverseEnterLeave(n,r,s,e,t)}function p(e){v(e,c)}var d=n(35),h=n(36),m=(n(30),n(40)),v=n(41),g=d.PropagationPhases,y=h.getListener,b={accumulateTwoPhaseDispatches:u,accumulateTwoPhaseDispatchesSkipTarget:l,accumulateDirectDispatches:p,accumulateEnterLeaveDispatches:f};e.exports=b},function(e,t,n){"use strict";function r(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var i=n(61),o=n(44),a=n(80);o(r.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,r=n.length,i=this.getText(),o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);var s=t>1?1-t:void 0;return this._fallbackText=i.slice(e,s),this._fallbackText}}),i.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";function r(){return!o&&i.canUseDOM&&(o="textContent"in document.documentElement?"textContent":"innerText"),o}var i=n(14),o=null;e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){i.call(this,e,t,n,r)}var i=n(82),o={data:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){this.dispatchConfig=e,this.dispatchMarker=t,this.nativeEvent=n,this.target=r,this.currentTarget=r;var i=this.constructor.Interface;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];s?this[o]=s(n):this[o]=n[o]}var c=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;c?this.isDefaultPrevented=a.thatReturnsTrue:this.isDefaultPrevented=a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse}var i=n(61),o=n(44),a=n(20),s=(n(30),{type:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null});o(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1,this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),r.Interface=s,r.augmentClass=function(e,t){var n=this,r=Object.create(n.prototype);o(r,e.prototype),e.prototype=r,e.prototype.constructor=e,e.Interface=o({},n.Interface,t),e.augmentClass=n.augmentClass,i.addPoolingTo(e,i.fourArgumentPooler)},i.addPoolingTo(r,i.fourArgumentPooler),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){i.call(this,e,t,n,r)}var i=n(82),o={data:null};i.augmentClass(r,o),e.exports=r},function(e,t){"use strict";var n=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};e.exports=n},function(e,t,n){"use strict";function r(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function i(e){var t=C.getPooled(I.change,P,e,k(e));w.accumulateTwoPhaseDispatches(t),x.batchedUpdates(o,t)}function o(e){b.enqueueEvents(e),b.processEventQueue(!1)}function a(e,t){O=e,P=t,O.attachEvent("onchange",i)}function s(){O&&(O.detachEvent("onchange",i),O=null,P=null)}function c(e,t,n){if(e===A.topChange)return n}function u(e,t,n){e===A.topFocus?(s(),a(t,n)):e===A.topBlur&&s()}function l(e,t){O=e,P=t,N=e.value,D=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(O,"value",R),O.attachEvent("onpropertychange",p)}function f(){O&&(delete O.value,O.detachEvent("onpropertychange",p),O=null,P=null,N=null,D=null)}function p(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==N&&(N=t,i(e))}}function d(e,t,n){if(e===A.topInput)return n}function h(e,t,n){e===A.topFocus?(f(),l(t,n)):e===A.topBlur&&f()}function m(e,t,n){if((e===A.topSelectionChange||e===A.topKeyUp||e===A.topKeyDown)&&O&&O.value!==N)return N=O.value,P}function v(e){return e.nodeName&&"input"===e.nodeName.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function g(e,t,n){if(e===A.topClick)return n}var y=n(35),b=n(36),w=n(78),_=n(14),x=n(59),C=n(82),k=n(86),T=n(45),S=n(87),E=n(84),A=y.topLevelTypes,I={change:{phasedRegistrationNames:{bubbled:E({onChange:null}),captured:E({onChangeCapture:null})},dependencies:[A.topBlur,A.topChange,A.topClick,A.topFocus,A.topInput,A.topKeyDown,A.topKeyUp,A.topSelectionChange]}},O=null,P=null,N=null,D=null,L=!1;_.canUseDOM&&(L=T("change")&&(!("documentMode"in document)||document.documentMode>8));var M=!1;_.canUseDOM&&(M=T("input")&&(!("documentMode"in document)||document.documentMode>9));var R={get:function(){return D.get.call(this)},set:function(e){N=""+e,D.set.call(this,e)}},j={eventTypes:I,extractEvents:function(e,t,n,i,o){var a,s;if(r(t)?L?a=c:s=u:S(t)?M?a=d:(a=m,s=h):v(t)&&(a=g),a){var l=a(e,t,n);if(l){var f=C.getPooled(I.change,l,i,o);return f.type="change",w.accumulateTwoPhaseDispatches(f),f}}s&&s(e,t,n)}};e.exports=j},function(e,t){"use strict";function n(e){var t=e.target||e.srcElement||window;return 3===t.nodeType?t.parentNode:t}e.exports=n},function(e,t){"use strict";function n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&r[e.type]||"textarea"===t)}var r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};e.exports=n},function(e,t){"use strict";var n=0,r={createReactRootIndex:function(){return n++}};e.exports=r},function(e,t,n){"use strict";var r=n(84),i=[r({ResponderEventPlugin:null}),r({SimpleEventPlugin:null}),r({TapEventPlugin:null}),r({EnterLeaveEventPlugin:null}),r({ChangeEventPlugin:null}),r({SelectEventPlugin:null}),r({BeforeInputEventPlugin:null})];e.exports=i},function(e,t,n){"use strict";var r=n(35),i=n(78),o=n(91),a=n(33),s=n(84),c=r.topLevelTypes,u=a.getFirstReactDOM,l={mouseEnter:{registrationName:s({onMouseEnter:null}),dependencies:[c.topMouseOut,c.topMouseOver]},mouseLeave:{registrationName:s({onMouseLeave:null}),dependencies:[c.topMouseOut,c.topMouseOver]}},f=[null,null],p={eventTypes:l,extractEvents:function(e,t,n,r,s){if(e===c.topMouseOver&&(r.relatedTarget||r.fromElement))return null;if(e!==c.topMouseOut&&e!==c.topMouseOver)return null;var p;if(t.window===t)p=t;else{var d=t.ownerDocument;p=d?d.defaultView||d.parentWindow:window}var h,m,v="",g="";if(e===c.topMouseOut?(h=t,v=n,m=u(r.relatedTarget||r.toElement),m?g=a.getID(m):m=p,m=m||p):(h=p,m=t,g=n),h===m)return null;var y=o.getPooled(l.mouseLeave,v,r,s);y.type="mouseleave",y.target=h,y.relatedTarget=m;var b=o.getPooled(l.mouseEnter,g,r,s);return b.type="mouseenter",b.target=m,b.relatedTarget=h,i.accumulateEnterLeaveDispatches(y,b,v,g),f[0]=y,f[1]=b,f}};e.exports=p},function(e,t,n){"use strict";
function r(e,t,n,r){i.call(this,e,t,n,r)}var i=n(92),o=n(43),a=n(93),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+o.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+o.currentScrollTop}};i.augmentClass(r,s),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){i.call(this,e,t,n,r)}var i=n(82),o=n(86),a={view:function(e){if(e.view)return e.view;var t=o(e);if(null!=t&&t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};i.augmentClass(r,a),e.exports=r},function(e,t){"use strict";function n(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var r=i[e];return!!r&&!!n[r]}function r(e){return n}var i={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};e.exports=r},function(e,t,n){"use strict";var r,i=n(28),o=n(14),a=i.injection.MUST_USE_ATTRIBUTE,s=i.injection.MUST_USE_PROPERTY,c=i.injection.HAS_BOOLEAN_VALUE,u=i.injection.HAS_SIDE_EFFECTS,l=i.injection.HAS_NUMERIC_VALUE,f=i.injection.HAS_POSITIVE_NUMERIC_VALUE,p=i.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(o.canUseDOM){var d=document.implementation;r=d&&d.hasFeature&&d.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var h={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:a|c,allowTransparency:a,alt:null,async:c,autoComplete:null,autoPlay:c,capture:a|c,cellPadding:null,cellSpacing:null,charSet:a,challenge:a,checked:s|c,classID:a,className:r?a:s,cols:a|f,colSpan:null,content:null,contentEditable:null,contextMenu:a,controls:s|c,coords:null,crossOrigin:null,data:null,dateTime:a,default:c,defer:c,dir:null,disabled:a|c,download:p,draggable:null,encType:null,form:a,formAction:a,formEncType:a,formMethod:a,formNoValidate:c,formTarget:a,frameBorder:a,headers:null,height:a,hidden:a|c,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:s,inputMode:a,integrity:null,is:a,keyParams:a,keyType:a,kind:null,label:null,lang:null,list:a,loop:s|c,low:null,manifest:a,marginHeight:null,marginWidth:null,max:null,maxLength:a,media:a,mediaGroup:null,method:null,min:null,minLength:a,multiple:s|c,muted:s|c,name:null,nonce:a,noValidate:c,open:c,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:s|c,rel:null,required:c,reversed:c,role:a,rows:a|f,rowSpan:null,sandbox:null,scope:null,scoped:c,scrolling:null,seamless:a|c,selected:s|c,shape:null,size:a|f,sizes:a,span:f,spellCheck:null,src:null,srcDoc:s,srcLang:null,srcSet:a,start:l,step:null,style:null,summary:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:s|u,width:a,wmode:a,wrap:null,about:a,datatype:a,inlist:a,prefix:a,property:a,resource:a,typeof:a,vocab:a,autoCapitalize:null,autoCorrect:null,autoSave:null,color:null,itemProp:a,itemScope:a|c,itemType:a,itemID:a,itemRef:a,results:null,security:a,unselectable:a},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",autoSave:"autosave",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};e.exports=h},function(e,t,n){"use strict";var r=(n(52),n(96)),i=(n(30),"_getDOMNodeDidWarn"),o={getDOMNode:function(){return this.constructor[i]=!0,r(this)}};e.exports=o},function(e,t,n){"use strict";function r(e){return null==e?null:1===e.nodeType?e:i.has(e)?o.getNodeFromInstance(e):(null!=e.render&&"function"==typeof e.render?a(!1):void 0,void a(!1))}var i=(n(10),n(52)),o=n(33),a=n(18);n(30);e.exports=r},function(e,t,n){"use strict";function r(){this.reinitializeTransaction()}var i=n(59),o=n(62),a=n(44),s=n(20),c={initialize:s,close:function(){p.isBatchingUpdates=!1}},u={initialize:s,close:i.flushBatchedUpdates.bind(i)},l=[u,c];a(r.prototype,o.Mixin,{getTransactionWrappers:function(){return l}});var f=new r,p={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,i,o){var a=p.isBatchingUpdates;p.isBatchingUpdates=!0,a?e(t,n,r,i,o):f.perform(e,null,t,n,r,i,o)}};e.exports=p},function(e,t,n){"use strict";function r(){return this}function i(){var e=this._reactInternalComponent;return!!e}function o(){}function a(e,t){var n=this._reactInternalComponent;n&&(N.enqueueSetPropsInternal(n,e),t&&N.enqueueCallbackInternal(n,t))}function s(e,t){var n=this._reactInternalComponent;n&&(N.enqueueReplacePropsInternal(n,e),t&&N.enqueueCallbackInternal(n,t))}function c(e,t){t&&(null!=t.dangerouslySetInnerHTML&&(null!=t.children?R(!1):void 0,"object"==typeof t.dangerouslySetInnerHTML&&q in t.dangerouslySetInnerHTML?void 0:R(!1)),null!=t.style&&"object"!=typeof t.style?R(!1):void 0)}function u(e,t,n,r){var i=I.findReactContainerForID(e);if(i){var o=i.nodeType===K?i.ownerDocument:i;z(t,o)}r.getReactMountReady().enqueue(l,{id:e,registrationName:t,listener:n})}function l(){var e=this;x.putListener(e.id,e.registrationName,e.listener)}function f(){var e=this;e._rootNodeID?void 0:R(!1);var t=I.getNode(e._rootNodeID);switch(t?void 0:R(!1),e._tag){case"iframe":e._wrapperState.listeners=[x.trapBubbledEvent(_.topLevelTypes.topLoad,"load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var n in G)G.hasOwnProperty(n)&&e._wrapperState.listeners.push(x.trapBubbledEvent(_.topLevelTypes[n],G[n],t));break;case"img":e._wrapperState.listeners=[x.trapBubbledEvent(_.topLevelTypes.topError,"error",t),x.trapBubbledEvent(_.topLevelTypes.topLoad,"load",t)];break;case"form":e._wrapperState.listeners=[x.trapBubbledEvent(_.topLevelTypes.topReset,"reset",t),x.trapBubbledEvent(_.topLevelTypes.topSubmit,"submit",t)]}}function p(){T.mountReadyWrapper(this)}function d(){E.postUpdateWrapper(this)}function h(e){Q.call(Z,e)||(J.test(e)?void 0:R(!1),Z[e]=!0)}function m(e,t){return e.indexOf("-")>=0||null!=t.is}function v(e){h(e),this._tag=e.toLowerCase(),this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._rootNodeID=null,this._wrapperState=null,this._topLevelWrapper=null,this._nodeWithLegacyProperties=null}var g=n(99),y=n(101),b=n(28),w=n(27),_=n(35),x=n(34),C=n(31),k=n(109),T=n(110),S=n(114),E=n(117),A=n(118),I=n(33),O=n(119),P=n(23),N=n(58),D=n(44),L=n(48),M=n(26),R=n(18),j=(n(45),n(84)),F=n(24),B=n(25),U=(n(122),n(75),n(30),x.deleteListener),z=x.listenTo,W=x.registrationNameModules,V={string:!0,number:!0},$=j({children:null}),H=j({style:null}),q=j({__html:null}),K=1,G={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},Y={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},X={listing:!0,pre:!0,textarea:!0},J=(D({menuitem:!0},Y),/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/),Z={},Q={}.hasOwnProperty;v.displayName="ReactDOMComponent",v.Mixin={construct:function(e){this._currentElement=e},mountComponent:function(e,t,n){this._rootNodeID=e;var r=this._currentElement.props;switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":this._wrapperState={listeners:null},t.getReactMountReady().enqueue(f,this);break;case"button":r=k.getNativeProps(this,r,n);break;case"input":T.mountWrapper(this,r,n),r=T.getNativeProps(this,r,n);break;case"option":S.mountWrapper(this,r,n),r=S.getNativeProps(this,r,n);break;case"select":E.mountWrapper(this,r,n),r=E.getNativeProps(this,r,n),n=E.processChildContext(this,r,n);break;case"textarea":A.mountWrapper(this,r,n),r=A.getNativeProps(this,r,n)}c(this,r);var i;if(t.useCreateElement){var o=n[I.ownerDocumentContextKey],a=o.createElement(this._currentElement.type);w.setAttributeForID(a,this._rootNodeID),I.getID(a),this._updateDOMProperties({},r,t,a),this._createInitialChildren(t,r,n,a),i=a}else{var s=this._createOpenTagMarkupAndPutListeners(t,r),u=this._createContentMarkup(t,r,n);i=!u&&Y[this._tag]?s+"/>":s+">"+u+"</"+this._currentElement.type+">"}switch(this._tag){case"input":t.getReactMountReady().enqueue(p,this);case"button":case"select":case"textarea":r.autoFocus&&t.getReactMountReady().enqueue(g.focusDOMComponent,this)}return i},_createOpenTagMarkupAndPutListeners:function(e,t){var n="<"+this._currentElement.type;for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];if(null!=i)if(W.hasOwnProperty(r))i&&u(this._rootNodeID,r,i,e);else{r===H&&(i&&(i=this._previousStyleCopy=D({},t.style)),i=y.createMarkupForStyles(i));var o=null;null!=this._tag&&m(this._tag,t)?r!==$&&(o=w.createMarkupForCustomAttribute(r,i)):o=w.createMarkupForProperty(r,i),o&&(n+=" "+o)}}if(e.renderToStaticMarkup)return n;var a=w.createMarkupForID(this._rootNodeID);return n+" "+a},_createContentMarkup:function(e,t,n){var r="",i=t.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&(r=i.__html);else{var o=V[typeof t.children]?t.children:null,a=null!=o?null:t.children;if(null!=o)r=M(o);else if(null!=a){var s=this.mountChildren(a,e,n);r=s.join("")}}return X[this._tag]&&"\n"===r.charAt(0)?"\n"+r:r},_createInitialChildren:function(e,t,n,r){var i=t.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&F(r,i.__html);else{var o=V[typeof t.children]?t.children:null,a=null!=o?null:t.children;if(null!=o)B(r,o);else if(null!=a)for(var s=this.mountChildren(a,e,n),c=0;c<s.length;c++)r.appendChild(s[c])}},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,r){var i=t.props,o=this._currentElement.props;switch(this._tag){case"button":i=k.getNativeProps(this,i),o=k.getNativeProps(this,o);break;case"input":T.updateWrapper(this),i=T.getNativeProps(this,i),o=T.getNativeProps(this,o);break;case"option":i=S.getNativeProps(this,i),o=S.getNativeProps(this,o);break;case"select":i=E.getNativeProps(this,i),o=E.getNativeProps(this,o);break;case"textarea":A.updateWrapper(this),i=A.getNativeProps(this,i),o=A.getNativeProps(this,o)}c(this,o),this._updateDOMProperties(i,o,e,null),this._updateDOMChildren(i,o,e,r),!L&&this._nodeWithLegacyProperties&&(this._nodeWithLegacyProperties.props=o),"select"===this._tag&&e.getReactMountReady().enqueue(d,this)},_updateDOMProperties:function(e,t,n,r){var i,o,a;for(i in e)if(!t.hasOwnProperty(i)&&e.hasOwnProperty(i))if(i===H){var s=this._previousStyleCopy;for(o in s)s.hasOwnProperty(o)&&(a=a||{},a[o]="");this._previousStyleCopy=null}else W.hasOwnProperty(i)?e[i]&&U(this._rootNodeID,i):(b.properties[i]||b.isCustomAttribute(i))&&(r||(r=I.getNode(this._rootNodeID)),w.deleteValueForProperty(r,i));for(i in t){var c=t[i],l=i===H?this._previousStyleCopy:e[i];if(t.hasOwnProperty(i)&&c!==l)if(i===H)if(c?c=this._previousStyleCopy=D({},c):this._previousStyleCopy=null,l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(a=a||{},a[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(a=a||{},a[o]=c[o])}else a=c;else W.hasOwnProperty(i)?c?u(this._rootNodeID,i,c,n):l&&U(this._rootNodeID,i):m(this._tag,t)?(r||(r=I.getNode(this._rootNodeID)),i===$&&(c=null),w.setValueForAttribute(r,i,c)):(b.properties[i]||b.isCustomAttribute(i))&&(r||(r=I.getNode(this._rootNodeID)),null!=c?w.setValueForProperty(r,i,c):w.deleteValueForProperty(r,i))}a&&(r||(r=I.getNode(this._rootNodeID)),y.setValueForStyles(r,a))},_updateDOMChildren:function(e,t,n,r){var i=V[typeof e.children]?e.children:null,o=V[typeof t.children]?t.children:null,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,c=null!=i?null:e.children,u=null!=o?null:t.children,l=null!=i||null!=a,f=null!=o||null!=s;null!=c&&null==u?this.updateChildren(null,n,r):l&&!f&&this.updateTextContent(""),null!=o?i!==o&&this.updateTextContent(""+o):null!=s?a!==s&&this.updateMarkup(""+s):null!=u&&this.updateChildren(u,n,r)},unmountComponent:function(){switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":var e=this._wrapperState.listeners;if(e)for(var t=0;t<e.length;t++)e[t].remove();break;case"input":T.unmountWrapper(this);break;case"html":case"head":case"body":R(!1)}if(this.unmountChildren(),x.deleteAllListeners(this._rootNodeID),C.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._wrapperState=null,this._nodeWithLegacyProperties){var n=this._nodeWithLegacyProperties;n._reactInternalComponent=null,this._nodeWithLegacyProperties=null}},getPublicInstance:function(){if(!this._nodeWithLegacyProperties){var e=I.getNode(this._rootNodeID);e._reactInternalComponent=this,e.getDOMNode=r,e.isMounted=i,e.setState=o,e.replaceState=o,e.forceUpdate=o,e.setProps=a,e.replaceProps=s,e.props=this._currentElement.props,this._nodeWithLegacyProperties=e}return this._nodeWithLegacyProperties}},P.measureMethods(v,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),D(v.prototype,v.Mixin,O.Mixin),e.exports=v},function(e,t,n){"use strict";var r=n(33),i=n(96),o=n(100),a={componentDidMount:function(){this.props.autoFocus&&o(i(this))}},s={Mixin:a,focusDOMComponent:function(){o(r.getNode(this._rootNodeID))}};e.exports=s},function(e,t){"use strict";function n(e){try{e.focus()}catch(e){}}e.exports=n},function(e,t,n){"use strict";var r=n(102),i=n(14),o=n(23),a=(n(103),n(105)),s=n(106),c=n(108),u=(n(30),c(function(e){return s(e)})),l=!1,f="cssFloat";if(i.canUseDOM){var p=document.createElement("div").style;try{p.font=""}catch(e){l=!0}void 0===document.documentElement.style.cssFloat&&(f="styleFloat")}var d={createMarkupForStyles:function(e){var t="";for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];null!=r&&(t+=u(n)+":",t+=a(n,r)+";")}return t||null},setValueForStyles:function(e,t){var n=e.style;for(var i in t)if(t.hasOwnProperty(i)){var o=a(i,t[i]);if("float"===i&&(i=f),o)n[i]=o;else{var s=l&&r.shorthandPropertyExpansions[i];if(s)for(var c in s)n[c]="";else n[i]=""}}}};o.measureMethods(d,"CSSPropertyOperations",{setValueForStyles:"setValueForStyles"}),e.exports=d},function(e,t){"use strict";function n(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var r={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},i=["Webkit","ms","Moz","O"];Object.keys(r).forEach(function(e){i.forEach(function(t){r[n(t,e)]=r[e]})});var o={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},a={isUnitlessNumber:r,shorthandPropertyExpansions:o};e.exports=a},function(e,t,n){"use strict";function r(e){return i(e.replace(o,"ms-"))}var i=n(104),o=/^-ms-/;e.exports=r},function(e,t){"use strict";function n(e){return e.replace(r,function(e,t){return t.toUpperCase()})}var r=/-(.)/g;e.exports=n},function(e,t,n){"use strict";function r(e,t){var n=null==t||"boolean"==typeof t||""===t;if(n)return"";var r=isNaN(t);return r||0===t||o.hasOwnProperty(e)&&o[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}var i=n(102),o=i.isUnitlessNumber;e.exports=r},function(e,t,n){"use strict";function r(e){return i(e).replace(o,"-ms-")}var i=n(107),o=/^ms-/;e.exports=r},function(e,t){"use strict";function n(e){return e.replace(r,"-$1").toLowerCase()}var r=/([A-Z])/g;e.exports=n},function(e,t){"use strict";function n(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}e.exports=n},function(e,t){"use strict";var n={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},r={getNativeProps:function(e,t,r){if(!t.disabled)return t;var i={};for(var o in t)t.hasOwnProperty(o)&&!n[o]&&(i[o]=t[o]);return i}};e.exports=r},function(e,t,n){"use strict";function r(){this._rootNodeID&&p.updateWrapper(this)}function i(e){var t=this._currentElement.props,n=a.executeOnChange(t,e);c.asap(r,this);var i=t.name;if("radio"===t.type&&null!=i){for(var o=s.getNode(this._rootNodeID),u=o;u.parentNode;)u=u.parentNode;for(var p=u.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),d=0;d<p.length;d++){var h=p[d];if(h!==o&&h.form===o.form){var m=s.getID(h);m?void 0:l(!1);var v=f[m];v?void 0:l(!1),c.asap(r,v)}}}return n}var o=n(32),a=n(111),s=n(33),c=n(59),u=n(44),l=n(18),f={},p={getNativeProps:function(e,t,n){var r=a.getValue(t),i=a.getChecked(t),o=u({},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=r?r:e._wrapperState.initialValue,checked:null!=i?i:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange});return o},mountWrapper:function(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:t.defaultChecked||!1,initialValue:null!=n?n:null,onChange:i.bind(e)}},mountReadyWrapper:function(e){f[e._rootNodeID]=e},unmountWrapper:function(e){delete f[e._rootNodeID]},updateWrapper:function(e){var t=e._currentElement.props,n=t.checked;null!=n&&o.updatePropertyByID(e._rootNodeID,"checked",n||!1);var r=a.getValue(t);null!=r&&o.updatePropertyByID(e._rootNodeID,"value",""+r)}};e.exports=p},function(e,t,n){"use strict";function r(e){null!=e.checkedLink&&null!=e.valueLink?u(!1):void 0}function i(e){r(e),null!=e.value||null!=e.onChange?u(!1):void 0}function o(e){r(e),null!=e.checked||null!=e.onChange?u(!1):void 0}function a(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var s=n(112),c=n(70),u=n(18),l=(n(30),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),f={value:function(e,t,n){return!e[t]||l[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:s.func},p={},d={checkPropTypes:function(e,t,n){for(var r in f){if(f.hasOwnProperty(r))var i=f[r](t,r,e,c.prop);if(i instanceof Error&&!(i.message in p)){p[i.message]=!0;a(n)}}},getValue:function(e){return e.valueLink?(i(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(o(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(i(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(o(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};e.exports=d},function(e,t,n){"use strict";function r(e){function t(t,n,r,i,o,a){if(i=i||x,a=a||r,null==n[r]){var s=b[o];return t?new Error("Required "+s+" `"+a+"` was not specified in "+("`"+i+"`.")):null}return e(n,r,i,o,a)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function i(e){function t(t,n,r,i,o){var a=t[n],s=m(a);if(s!==e){var c=b[i],u=v(a);return new Error("Invalid "+c+" `"+o+"` of type "+("`"+u+"` supplied to `"+r+"`, expected ")+("`"+e+"`."))}return null}return r(t)}function o(){return r(w.thatReturns(null))}function a(e){function t(t,n,r,i,o){var a=t[n];if(!Array.isArray(a)){var s=b[i],c=m(a);return new Error("Invalid "+s+" `"+o+"` of type "+("`"+c+"` supplied to `"+r+"`, expected an array."))}for(var u=0;u<a.length;u++){var l=e(a,u,r,i,o+"["+u+"]");if(l instanceof Error)return l}return null}return r(t)}function s(){function e(e,t,n,r,i){if(!y.isValidElement(e[t])){var o=b[r];return new Error("Invalid "+o+" `"+i+"` supplied to "+("`"+n+"`, expected a single ReactElement."))}return null}return r(e)}function c(e){function t(t,n,r,i,o){if(!(t[n]instanceof e)){var a=b[i],s=e.name||x,c=g(t[n]);return new Error("Invalid "+a+" `"+o+"` of type "+("`"+c+"` supplied to `"+r+"`, expected ")+("instance of `"+s+"`."))}return null}return r(t)}function u(e){function t(t,n,r,i,o){for(var a=t[n],s=0;s<e.length;s++)if(a===e[s])return null;var c=b[i],u=JSON.stringify(e);return new Error("Invalid "+c+" `"+o+"` of value `"+a+"` "+("supplied to `"+r+"`, expected one of "+u+"."))}return r(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function l(e){function t(t,n,r,i,o){var a=t[n],s=m(a);if("object"!==s){var c=b[i];return new Error("Invalid "+c+" `"+o+"` of type "+("`"+s+"` supplied to `"+r+"`, expected an object."))}for(var u in a)if(a.hasOwnProperty(u)){var l=e(a,u,r,i,o+"."+u);if(l instanceof Error)return l}return null}return r(t)}function f(e){function t(t,n,r,i,o){for(var a=0;a<e.length;a++){var s=e[a];if(null==s(t,n,r,i,o))return null}var c=b[i];return new Error("Invalid "+c+" `"+o+"` supplied to "+("`"+r+"`."))}return r(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function p(){function e(e,t,n,r,i){if(!h(e[t])){var o=b[r];return new Error("Invalid "+o+" `"+i+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return r(e)}function d(e){function t(t,n,r,i,o){var a=t[n],s=m(a);if("object"!==s){var c=b[i];return new Error("Invalid "+c+" `"+o+"` of type `"+s+"` "+("supplied to `"+r+"`, expected `object`."))}for(var u in e){var l=e[u];if(l){var f=l(a,u,r,i,o+"."+u);if(f)return f}}return null}return r(t)}function h(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(h);if(null===e||y.isValidElement(e))return!0;var t=_(e);if(!t)return!1;var n,r=t.call(e);if(t!==e.entries){for(;!(n=r.next()).done;)if(!h(n.value))return!1}else for(;!(n=r.next()).done;){var i=n.value;if(i&&!h(i[1]))return!1}return!0;default:return!1}}function m(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":t}function v(e){var t=m(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function g(e){return e.constructor&&e.constructor.name?e.constructor.name:"<<anonymous>>"}var y=n(47),b=n(71),w=n(20),_=n(113),x="<<anonymous>>",C={array:i("array"),bool:i("boolean"),func:i("function"),number:i("number"),object:i("object"),string:i("string"),any:o(),arrayOf:a,element:s(),instanceOf:c,node:p(),objectOf:l,oneOf:u,oneOfType:f,shape:d};e.exports=C},function(e,t){"use strict";function n(e){var t=e&&(r&&e[r]||e[i]);if("function"==typeof t)return t}var r="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";e.exports=n},function(e,t,n){"use strict";var r=n(115),i=n(117),o=n(44),a=(n(30),i.valueContextKey),s={mountWrapper:function(e,t,n){var r=n[a],i=null;if(null!=r)if(i=!1,Array.isArray(r)){for(var o=0;o<r.length;o++)if(""+r[o]==""+t.value){i=!0;break}}else i=""+r==""+t.value;e._wrapperState={selected:i}},getNativeProps:function(e,t,n){var i=o({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(i.selected=e._wrapperState.selected);var a="";return r.forEach(t.children,function(e){null!=e&&("string"!=typeof e&&"number"!=typeof e||(a+=e))}),i.children=a,i}};e.exports=s},function(e,t,n){"use strict";function r(e){return(""+e).replace(w,"//")}function i(e,t){this.func=e,this.context=t,this.count=0}function o(e,t,n){var r=e.func,i=e.context;r.call(i,t,e.count++)}function a(e,t,n){if(null==e)return e;var r=i.getPooled(t,n);g(e,o,r),i.release(r)}function s(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function c(e,t,n){var i=e.result,o=e.keyPrefix,a=e.func,s=e.context,c=a.call(s,t,e.count++);Array.isArray(c)?u(c,i,n,v.thatReturnsArgument):null!=c&&(m.isValidElement(c)&&(c=m.cloneAndReplaceKey(c,o+(c!==t?r(c.key||"")+"/":"")+n)),i.push(c))}function u(e,t,n,i,o){var a="";null!=n&&(a=r(n)+"/");var u=s.getPooled(t,a,i,o);g(e,c,u),s.release(u)}function l(e,t,n){if(null==e)return e;var r=[];return u(e,r,null,t,n),r}function f(e,t,n){return null}function p(e,t){return g(e,f,null)}function d(e){var t=[];return u(e,t,null,v.thatReturnsArgument),t}var h=n(61),m=n(47),v=n(20),g=n(116),y=h.twoArgumentPooler,b=h.fourArgumentPooler,w=/\/(?!\/)/g;i.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},h.addPoolingTo(i,y),s.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},h.addPoolingTo(s,b);var _={forEach:a,map:l,mapIntoWithKeyPrefixInternal:u,count:p,toArray:d};e.exports=_},function(e,t,n){"use strict";function r(e){return m[e]}function i(e,t){return e&&null!=e.key?a(e.key):t.toString(36)}function o(e){return(""+e).replace(v,r)}function a(e){return"$"+o(e)}function s(e,t,n,r){var o=typeof e;if("undefined"!==o&&"boolean"!==o||(e=null),null===e||"string"===o||"number"===o||u.isValidElement(e))return n(r,e,""===t?d+i(e,0):t),1;var c,l,m=0,v=""===t?d:t+h;if(Array.isArray(e))for(var g=0;g<e.length;g++)c=e[g],l=v+i(c,g),m+=s(c,l,n,r);else{var y=f(e);if(y){var b,w=y.call(e);if(y!==e.entries)for(var _=0;!(b=w.next()).done;)c=b.value,l=v+i(c,_++),m+=s(c,l,n,r);else for(;!(b=w.next()).done;){var x=b.value;x&&(c=x[1],l=v+a(x[0])+h+i(c,0),m+=s(c,l,n,r))}}else if("object"===o){String(e);p(!1)}}return m}function c(e,t,n){return null==e?0:s(e,"",t,n)}var u=(n(10),n(47)),l=n(50),f=n(113),p=n(18),d=(n(30),l.SEPARATOR),h=":",m={"=":"=0",".":"=1",":":"=2"},v=/[=.:]/g;e.exports=c},function(e,t,n){"use strict";function r(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=a.getValue(e);null!=t&&i(this,e,t)}}function i(e,t,n){var r,i,o=s.getNode(e._rootNodeID).options;if(t){for(r={},i=0;i<n.length;i++)r[""+n[i]]=!0;for(i=0;i<o.length;i++){var a=r.hasOwnProperty(o[i].value);o[i].selected!==a&&(o[i].selected=a)}}else{for(r=""+n,i=0;i<o.length;i++)if(o[i].value===r)return void(o[i].selected=!0);o.length&&(o[0].selected=!0)}}function o(e){var t=this._currentElement.props,n=a.executeOnChange(t,e);return this._wrapperState.pendingUpdate=!0,c.asap(r,this),n}var a=n(111),s=n(33),c=n(59),u=n(44),l=(n(30),"__ReactDOMSelect_value$"+Math.random().toString(36).slice(2)),f={valueContextKey:l,getNativeProps:function(e,t,n){return u({},t,{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var n=a.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:t.defaultValue,onChange:o.bind(e),wasMultiple:Boolean(t.multiple)}},processChildContext:function(e,t,n){var r=u({},n);return r[l]=e._wrapperState.initialValue,r},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var r=a.getValue(t);null!=r?(e._wrapperState.pendingUpdate=!1,i(e,Boolean(t.multiple),r)):n!==Boolean(t.multiple)&&(null!=t.defaultValue?i(e,Boolean(t.multiple),t.defaultValue):i(e,Boolean(t.multiple),t.multiple?[]:""))}};e.exports=f},function(e,t,n){"use strict";function r(){this._rootNodeID&&l.updateWrapper(this)}function i(e){var t=this._currentElement.props,n=o.executeOnChange(t,e);return s.asap(r,this),n}var o=n(111),a=n(32),s=n(59),c=n(44),u=n(18),l=(n(30),{getNativeProps:function(e,t,n){null!=t.dangerouslySetInnerHTML?u(!1):void 0;var r=c({},t,{defaultValue:void 0,value:void 0,children:e._wrapperState.initialValue,onChange:e._wrapperState.onChange});return r},mountWrapper:function(e,t){var n=t.defaultValue,r=t.children;null!=r&&(null!=n?u(!1):void 0,Array.isArray(r)&&(r.length<=1?void 0:u(!1),r=r[0]),n=""+r),null==n&&(n="");var a=o.getValue(t);e._wrapperState={initialValue:""+(null!=a?a:n),onChange:i.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=o.getValue(t);null!=n&&a.updatePropertyByID(e._rootNodeID,"value",""+n)}});e.exports=l},function(e,t,n){"use strict";function r(e,t,n){v.push({parentID:e,parentNode:null,type:f.INSERT_MARKUP,markupIndex:g.push(t)-1,content:null,fromIndex:null,toIndex:n})}function i(e,t,n){v.push({parentID:e,parentNode:null,type:f.MOVE_EXISTING,markupIndex:null,content:null,fromIndex:t,toIndex:n})}function o(e,t){v.push({parentID:e,parentNode:null,type:f.REMOVE_NODE,markupIndex:null,content:null,fromIndex:t,toIndex:null})}function a(e,t){v.push({parentID:e,parentNode:null,type:f.SET_MARKUP,markupIndex:null,content:t,fromIndex:null,toIndex:null})}function s(e,t){v.push({parentID:e,parentNode:null,type:f.TEXT_CONTENT,markupIndex:null,content:t,fromIndex:null,toIndex:null})}function c(){v.length&&(l.processChildrenUpdates(v,g),u())}function u(){v.length=0,g.length=0}var l=n(69),f=n(21),p=(n(10),n(55)),d=n(120),h=n(121),m=0,v=[],g=[],y={Mixin:{_reconcilerInstantiateChildren:function(e,t,n){return d.instantiateChildren(e,t,n)},_reconcilerUpdateChildren:function(e,t,n,r){var i;return i=h(t),d.updateChildren(e,i,n,r)},mountChildren:function(e,t,n){var r=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=r;var i=[],o=0;for(var a in r)if(r.hasOwnProperty(a)){var s=r[a],c=this._rootNodeID+a,u=p.mountComponent(s,c,t,n);s._mountIndex=o++,i.push(u)}return i},updateTextContent:function(e){m++;var t=!0;try{var n=this._renderedChildren;d.unmountChildren(n);for(var r in n)n.hasOwnProperty(r)&&this._unmountChild(n[r]);this.setTextContent(e),t=!1}finally{m--,m||(t?u():c())}},updateMarkup:function(e){m++;var t=!0;try{var n=this._renderedChildren;d.unmountChildren(n);for(var r in n)n.hasOwnProperty(r)&&this._unmountChildByName(n[r],r);this.setMarkup(e),t=!1}finally{m--,m||(t?u():c())}},updateChildren:function(e,t,n){m++;var r=!0;try{this._updateChildren(e,t,n),r=!1}finally{m--,m||(r?u():c())}},_updateChildren:function(e,t,n){var r=this._renderedChildren,i=this._reconcilerUpdateChildren(r,e,t,n);if(this._renderedChildren=i,i||r){var o,a=0,s=0;for(o in i)if(i.hasOwnProperty(o)){var c=r&&r[o],u=i[o];c===u?(this.moveChild(c,s,a),a=Math.max(c._mountIndex,a),c._mountIndex=s):(c&&(a=Math.max(c._mountIndex,a),this._unmountChild(c)),this._mountChildByNameAtIndex(u,o,s,t,n)),s++}for(o in r)!r.hasOwnProperty(o)||i&&i.hasOwnProperty(o)||this._unmountChild(r[o])}},unmountChildren:function(){var e=this._renderedChildren;d.unmountChildren(e),this._renderedChildren=null},moveChild:function(e,t,n){e._mountIndex<n&&i(this._rootNodeID,e._mountIndex,t)},createChild:function(e,t){r(this._rootNodeID,t,e._mountIndex)},removeChild:function(e){o(this._rootNodeID,e._mountIndex)},setTextContent:function(e){s(this._rootNodeID,e)},setMarkup:function(e){a(this._rootNodeID,e)},_mountChildByNameAtIndex:function(e,t,n,r,i){
var o=this._rootNodeID+t,a=p.mountComponent(e,o,r,i);e._mountIndex=n,this.createChild(e,a)},_unmountChild:function(e){this.removeChild(e),e._mountIndex=null}}};e.exports=y},function(e,t,n){"use strict";function r(e,t,n){var r=void 0===e[n];null!=t&&r&&(e[n]=o(t,null))}var i=n(55),o=n(67),a=n(72),s=n(116),c=(n(30),{instantiateChildren:function(e,t,n){if(null==e)return null;var i={};return s(e,r,i),i},updateChildren:function(e,t,n,r){if(!t&&!e)return null;var s;for(s in t)if(t.hasOwnProperty(s)){var c=e&&e[s],u=c&&c._currentElement,l=t[s];if(null!=c&&a(u,l))i.receiveComponent(c,l,n,r),t[s]=c;else{c&&i.unmountComponent(c,s);var f=o(l,null);t[s]=f}}for(s in e)!e.hasOwnProperty(s)||t&&t.hasOwnProperty(s)||i.unmountComponent(e[s]);return t},unmountChildren:function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];i.unmountComponent(n)}}});e.exports=c},function(e,t,n){"use strict";function r(e,t,n){var r=e,i=void 0===r[n];i&&null!=t&&(r[n]=t)}function i(e){if(null==e)return e;var t={};return o(e,r,t),t}var o=n(116);n(30);e.exports=i},function(e,t){"use strict";function n(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var o=r.bind(t),a=0;a<n.length;a++)if(!o(n[a])||e[n[a]]!==t[n[a]])return!1;return!0}var r=Object.prototype.hasOwnProperty;e.exports=n},function(e,t,n){"use strict";function r(e){var t=p.getID(e),n=f.getReactRootIDFromNodeID(t),r=p.findReactContainerForID(n),i=p.getFirstReactDOM(r);return i}function i(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function o(e){a(e)}function a(e){for(var t=p.getFirstReactDOM(m(e.nativeEvent))||window,n=t;n;)e.ancestors.push(n),n=r(n);for(var i=0;i<e.ancestors.length;i++){t=e.ancestors[i];var o=p.getID(t)||"";g._handleTopLevel(e.topLevelType,t,o,e.nativeEvent,m(e.nativeEvent))}}function s(e){var t=v(window);e(t)}var c=n(124),u=n(14),l=n(61),f=n(50),p=n(33),d=n(59),h=n(44),m=n(86),v=n(125);h(i.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),l.addPoolingTo(i,l.twoArgumentPooler);var g={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:u.canUseDOM?window:null,setHandleTopLevel:function(e){g._handleTopLevel=e},setEnabled:function(e){g._enabled=!!e},isEnabled:function(){return g._enabled},trapBubbledEvent:function(e,t,n){var r=n;return r?c.listen(r,t,g.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){var r=n;return r?c.capture(r,t,g.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=s.bind(null,e);c.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(g._enabled){var n=i.getPooled(e,t);try{d.batchedUpdates(o,n)}finally{i.release(n)}}}};e.exports=g},function(e,t,n){"use strict";var r=n(20),i={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};e.exports=i},function(e,t){"use strict";function n(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}e.exports=n},function(e,t,n){"use strict";var r=n(28),i=n(36),o=n(69),a=n(127),s=n(73),c=n(34),u=n(74),l=n(23),f=n(51),p=n(59),d={Component:o.injection,Class:a.injection,DOMProperty:r.injection,EmptyComponent:s.injection,EventPluginHub:i.injection,EventEmitter:c.injection,NativeComponent:u.injection,Perf:l.injection,RootIndex:f.injection,Updates:p.injection};e.exports=d},function(e,t,n){"use strict";function r(e,t){var n=x.hasOwnProperty(t)?x[t]:null;k.hasOwnProperty(t)&&(n!==w.OVERRIDE_BASE?v(!1):void 0),e.hasOwnProperty(t)&&(n!==w.DEFINE_MANY&&n!==w.DEFINE_MANY_MERGED?v(!1):void 0)}function i(e,t){if(t){"function"==typeof t?v(!1):void 0,p.isValidElement(t)?v(!1):void 0;var n=e.prototype;t.hasOwnProperty(b)&&C.mixins(e,t.mixins);for(var i in t)if(t.hasOwnProperty(i)&&i!==b){var o=t[i];if(r(n,i),C.hasOwnProperty(i))C[i](e,o);else{var a=x.hasOwnProperty(i),u=n.hasOwnProperty(i),l="function"==typeof o,f=l&&!a&&!u&&t.autobind!==!1;if(f)n.__reactAutoBindMap||(n.__reactAutoBindMap={}),n.__reactAutoBindMap[i]=o,n[i]=o;else if(u){var d=x[i];!a||d!==w.DEFINE_MANY_MERGED&&d!==w.DEFINE_MANY?v(!1):void 0,d===w.DEFINE_MANY_MERGED?n[i]=s(n[i],o):d===w.DEFINE_MANY&&(n[i]=c(n[i],o))}else n[i]=o}}}}function o(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var i=n in C;i?v(!1):void 0;var o=n in e;o?v(!1):void 0,e[n]=r}}}function a(e,t){e&&t&&"object"==typeof e&&"object"==typeof t?void 0:v(!1);for(var n in t)t.hasOwnProperty(n)&&(void 0!==e[n]?v(!1):void 0,e[n]=t[n]);return e}function s(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return a(i,n),a(i,r),i}}function c(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function u(e,t){var n=t.bind(e);return n}function l(e){for(var t in e.__reactAutoBindMap)if(e.__reactAutoBindMap.hasOwnProperty(t)){var n=e.__reactAutoBindMap[t];e[t]=u(e,n)}}var f=n(128),p=n(47),d=(n(70),n(71),n(129)),h=n(44),m=n(63),v=n(18),g=n(22),y=n(84),b=(n(30),y({mixins:null})),w=g({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),_=[],x={mixins:w.DEFINE_MANY,statics:w.DEFINE_MANY,propTypes:w.DEFINE_MANY,contextTypes:w.DEFINE_MANY,childContextTypes:w.DEFINE_MANY,getDefaultProps:w.DEFINE_MANY_MERGED,getInitialState:w.DEFINE_MANY_MERGED,getChildContext:w.DEFINE_MANY_MERGED,render:w.DEFINE_ONCE,componentWillMount:w.DEFINE_MANY,componentDidMount:w.DEFINE_MANY,componentWillReceiveProps:w.DEFINE_MANY,shouldComponentUpdate:w.DEFINE_ONCE,componentWillUpdate:w.DEFINE_MANY,componentDidUpdate:w.DEFINE_MANY,componentWillUnmount:w.DEFINE_MANY,updateComponent:w.OVERRIDE_BASE},C={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)i(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=h({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=h({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=s(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=h({},e.propTypes,t)},statics:function(e,t){o(e,t)},autobind:function(){}},k={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e),t&&this.updater.enqueueCallback(this,t)},isMounted:function(){return this.updater.isMounted(this)},setProps:function(e,t){this.updater.enqueueSetProps(this,e),t&&this.updater.enqueueCallback(this,t)},replaceProps:function(e,t){this.updater.enqueueReplaceProps(this,e),t&&this.updater.enqueueCallback(this,t)}},T=function(){};h(T.prototype,f.prototype,k);var S={createClass:function(e){var t=function(e,t,n){this.__reactAutoBindMap&&l(this),this.props=e,this.context=t,this.refs=m,this.updater=n||d,this.state=null;var r=this.getInitialState?this.getInitialState():null;"object"!=typeof r||Array.isArray(r)?v(!1):void 0,this.state=r};t.prototype=new T,t.prototype.constructor=t,_.forEach(i.bind(null,t)),i(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),t.prototype.render?void 0:v(!1);for(var n in x)t.prototype[n]||(t.prototype[n]=null);return t},injection:{injectMixin:function(e){_.push(e)}}};e.exports=S},function(e,t,n){"use strict";function r(e,t,n){this.props=e,this.context=t,this.refs=o,this.updater=n||i}var i=n(129),o=(n(48),n(63)),a=n(18);n(30);r.prototype.isReactComponent={},r.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e?a(!1):void 0,this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t)},r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e)};e.exports=r},function(e,t,n){"use strict";function r(e,t){}var i=(n(30),{isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){r(e,"forceUpdate")},enqueueReplaceState:function(e,t){r(e,"replaceState")},enqueueSetState:function(e,t){r(e,"setState")},enqueueSetProps:function(e,t){r(e,"setProps")},enqueueReplaceProps:function(e,t){r(e,"replaceProps")}});e.exports=i},function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=i.getPooled(null),this.useCreateElement=!e&&s.useCreateElement}var i=n(60),o=n(61),a=n(34),s=n(46),c=n(131),u=n(62),l=n(44),f={initialize:c.getSelectionInformation,close:c.restoreSelection},p={initialize:function(){var e=a.isEnabled();return a.setEnabled(!1),e},close:function(e){a.setEnabled(e)}},d={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},h=[f,p,d],m={getTransactionWrappers:function(){return h},getReactMountReady:function(){return this.reactMountReady},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null}};l(r.prototype,u.Mixin,m),o.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";function r(e){return o(document.documentElement,e)}var i=n(132),o=n(64),a=n(100),s=n(134),c={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=s();return{focusedElem:e,selectionRange:c.hasSelectionCapabilities(e)?c.getSelection(e):null}},restoreSelection:function(e){var t=s(),n=e.focusedElem,i=e.selectionRange;t!==n&&r(n)&&(c.hasSelectionCapabilities(n)&&c.setSelection(n,i),a(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=i.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,r=t.end;if("undefined"==typeof r&&(r=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var o=e.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",r-n),o.select()}else i.setOffsets(e,t)}};e.exports=c},function(e,t,n){"use strict";function r(e,t,n,r){return e===n&&t===r}function i(e){var t=document.selection,n=t.createRange(),r=n.text.length,i=n.duplicate();i.moveToElementText(e),i.setEndPoint("EndToStart",n);var o=i.text.length,a=o+r;return{start:o,end:a}}function o(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,i=t.anchorOffset,o=t.focusNode,a=t.focusOffset,s=t.getRangeAt(0);try{s.startContainer.nodeType,s.endContainer.nodeType}catch(e){return null}var c=r(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),u=c?0:s.toString().length,l=s.cloneRange();l.selectNodeContents(e),l.setEnd(s.startContainer,s.startOffset);var f=r(l.startContainer,l.startOffset,l.endContainer,l.endOffset),p=f?0:l.toString().length,d=p+u,h=document.createRange();h.setStart(n,i),h.setEnd(o,a);var m=h.collapsed;return{start:m?d:p,end:m?p:d}}function a(e,t){var n,r,i=document.selection.createRange().duplicate();"undefined"==typeof t.end?(n=t.start,r=n):t.start>t.end?(n=t.end,r=t.start):(n=t.start,r=t.end),i.moveToElementText(e),i.moveStart("character",n),i.setEndPoint("EndToStart",i),i.moveEnd("character",r-n),i.select()}function s(e,t){if(window.getSelection){var n=window.getSelection(),r=e[l()].length,i=Math.min(t.start,r),o="undefined"==typeof t.end?i:Math.min(t.end,r);if(!n.extend&&i>o){var a=o;o=i,i=a}var s=u(e,i),c=u(e,o);if(s&&c){var f=document.createRange();f.setStart(s.node,s.offset),n.removeAllRanges(),i>o?(n.addRange(f),n.extend(c.node,c.offset)):(f.setEnd(c.node,c.offset),n.addRange(f))}}}var c=n(14),u=n(133),l=n(80),f=c.canUseDOM&&"selection"in document&&!("getSelection"in window),p={getOffsets:f?i:o,setOffsets:f?a:s};e.exports=p},function(e,t){"use strict";function n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function r(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function i(e,t){for(var i=n(e),o=0,a=0;i;){if(3===i.nodeType){if(a=o+i.textContent.length,o<=t&&a>=t)return{node:i,offset:t-o};o=a}i=n(r(i))}}e.exports=i},function(e,t){"use strict";function n(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(e){return document.body}}e.exports=n},function(e,t,n){"use strict";function r(e){if("selectionStart"in e&&c.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function i(e,t){if(w||null==g||g!==l())return null;var n=r(g);if(!b||!d(b,n)){b=n;var i=u.getPooled(v.select,y,e,t);return i.type="select",i.target=g,a.accumulateTwoPhaseDispatches(i),i}return null}var o=n(35),a=n(78),s=n(14),c=n(131),u=n(82),l=n(134),f=n(87),p=n(84),d=n(122),h=o.topLevelTypes,m=s.canUseDOM&&"documentMode"in document&&document.documentMode<=11,v={select:{phasedRegistrationNames:{bubbled:p({onSelect:null}),captured:p({onSelectCapture:null})},dependencies:[h.topBlur,h.topContextMenu,h.topFocus,h.topKeyDown,h.topMouseDown,h.topMouseUp,h.topSelectionChange]}},g=null,y=null,b=null,w=!1,_=!1,x=p({onSelect:null}),C={eventTypes:v,extractEvents:function(e,t,n,r,o){if(!_)return null;switch(e){case h.topFocus:(f(t)||"true"===t.contentEditable)&&(g=t,y=n,b=null);break;case h.topBlur:g=null,y=null,b=null;break;case h.topMouseDown:w=!0;break;case h.topContextMenu:case h.topMouseUp:return w=!1,i(r,o);case h.topSelectionChange:if(m)break;case h.topKeyDown:case h.topKeyUp:return i(r,o)}return null},didPutListener:function(e,t,n){t===x&&(_=!0)}};e.exports=C},function(e,t){"use strict";var n=Math.pow(2,53),r={createReactRootIndex:function(){return Math.ceil(Math.random()*n)}};e.exports=r},function(e,t,n){"use strict";var r=n(35),i=n(124),o=n(78),a=n(33),s=n(138),c=n(82),u=n(139),l=n(140),f=n(91),p=n(143),d=n(144),h=n(92),m=n(145),v=n(20),g=n(141),y=n(18),b=n(84),w=r.topLevelTypes,_={abort:{phasedRegistrationNames:{bubbled:b({onAbort:!0}),captured:b({onAbortCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:b({onBlur:!0}),captured:b({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:b({onCanPlay:!0}),captured:b({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:b({onCanPlayThrough:!0}),captured:b({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:b({onClick:!0}),captured:b({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:b({onContextMenu:!0}),captured:b({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:b({onCopy:!0}),captured:b({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:b({onCut:!0}),captured:b({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:b({onDoubleClick:!0}),captured:b({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:b({onDrag:!0}),captured:b({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:b({onDragEnd:!0}),captured:b({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:b({onDragEnter:!0}),captured:b({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:b({onDragExit:!0}),captured:b({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:b({onDragLeave:!0}),captured:b({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:b({onDragOver:!0}),captured:b({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:b({onDragStart:!0}),captured:b({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:b({onDrop:!0}),captured:b({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:b({onDurationChange:!0}),captured:b({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:b({onEmptied:!0}),captured:b({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:b({onEncrypted:!0}),captured:b({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:b({onEnded:!0}),captured:b({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:b({onError:!0}),captured:b({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:b({onFocus:!0}),captured:b({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:b({onInput:!0}),captured:b({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:b({onKeyDown:!0}),captured:b({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:b({onKeyPress:!0}),captured:b({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:b({onKeyUp:!0}),captured:b({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:b({onLoad:!0}),captured:b({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:b({onLoadedData:!0}),captured:b({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:b({onLoadedMetadata:!0}),captured:b({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:b({onLoadStart:!0}),captured:b({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:b({onMouseDown:!0}),captured:b({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:b({onMouseMove:!0}),captured:b({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:b({onMouseOut:!0}),captured:b({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:b({onMouseOver:!0}),captured:b({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:b({onMouseUp:!0}),captured:b({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:b({onPaste:!0}),captured:b({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:b({onPause:!0}),captured:b({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:b({onPlay:!0}),captured:b({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:b({onPlaying:!0}),captured:b({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:b({onProgress:!0}),captured:b({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:b({onRateChange:!0}),captured:b({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:b({onReset:!0}),captured:b({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:b({onScroll:!0}),captured:b({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:b({onSeeked:!0}),captured:b({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:b({onSeeking:!0}),captured:b({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:b({onStalled:!0}),captured:b({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:b({onSubmit:!0}),captured:b({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:b({onSuspend:!0}),captured:b({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:b({onTimeUpdate:!0}),captured:b({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:b({onTouchCancel:!0}),captured:b({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:b({onTouchEnd:!0}),captured:b({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:b({onTouchMove:!0}),captured:b({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:b({onTouchStart:!0}),captured:b({onTouchStartCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:b({onVolumeChange:!0}),captured:b({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:b({onWaiting:!0}),captured:b({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:b({onWheel:!0}),captured:b({onWheelCapture:!0})}}},x={topAbort:_.abort,topBlur:_.blur,topCanPlay:_.canPlay,topCanPlayThrough:_.canPlayThrough,topClick:_.click,topContextMenu:_.contextMenu,topCopy:_.copy,topCut:_.cut,topDoubleClick:_.doubleClick,topDrag:_.drag,topDragEnd:_.dragEnd,topDragEnter:_.dragEnter,topDragExit:_.dragExit,topDragLeave:_.dragLeave,topDragOver:_.dragOver,topDragStart:_.dragStart,topDrop:_.drop,topDurationChange:_.durationChange,topEmptied:_.emptied,topEncrypted:_.encrypted,topEnded:_.ended,topError:_.error,topFocus:_.focus,topInput:_.input,topKeyDown:_.keyDown,topKeyPress:_.keyPress,topKeyUp:_.keyUp,topLoad:_.load,topLoadedData:_.loadedData,topLoadedMetadata:_.loadedMetadata,topLoadStart:_.loadStart,topMouseDown:_.mouseDown,topMouseMove:_.mouseMove,topMouseOut:_.mouseOut,topMouseOver:_.mouseOver,topMouseUp:_.mouseUp,topPaste:_.paste,topPause:_.pause,topPlay:_.play,topPlaying:_.playing,topProgress:_.progress,topRateChange:_.rateChange,topReset:_.reset,topScroll:_.scroll,topSeeked:_.seeked,topSeeking:_.seeking,topStalled:_.stalled,topSubmit:_.submit,topSuspend:_.suspend,topTimeUpdate:_.timeUpdate,topTouchCancel:_.touchCancel,topTouchEnd:_.touchEnd,topTouchMove:_.touchMove,topTouchStart:_.touchStart,topVolumeChange:_.volumeChange,topWaiting:_.waiting,topWheel:_.wheel};for(var C in x)x[C].dependencies=[C];var k=b({onClick:null}),T={},S={eventTypes:_,extractEvents:function(e,t,n,r,i){var a=x[e];if(!a)return null;var v;switch(e){case w.topAbort:case w.topCanPlay:case w.topCanPlayThrough:case w.topDurationChange:case w.topEmptied:case w.topEncrypted:case w.topEnded:case w.topError:case w.topInput:case w.topLoad:case w.topLoadedData:case w.topLoadedMetadata:case w.topLoadStart:case w.topPause:case w.topPlay:case w.topPlaying:case w.topProgress:case w.topRateChange:case w.topReset:case w.topSeeked:case w.topSeeking:case w.topStalled:case w.topSubmit:case w.topSuspend:case w.topTimeUpdate:case w.topVolumeChange:case w.topWaiting:v=c;break;case w.topKeyPress:if(0===g(r))return null;case w.topKeyDown:case w.topKeyUp:v=l;break;case w.topBlur:case w.topFocus:v=u;break;case w.topClick:if(2===r.button)return null;case w.topContextMenu:case w.topDoubleClick:case w.topMouseDown:case w.topMouseMove:case w.topMouseOut:case w.topMouseOver:case w.topMouseUp:v=f;break;case w.topDrag:case w.topDragEnd:case w.topDragEnter:case w.topDragExit:case w.topDragLeave:case w.topDragOver:case w.topDragStart:case w.topDrop:v=p;break;case w.topTouchCancel:case w.topTouchEnd:case w.topTouchMove:case w.topTouchStart:v=d;break;case w.topScroll:v=h;break;case w.topWheel:v=m;break;case w.topCopy:case w.topCut:case w.topPaste:v=s}v?void 0:y(!1);var b=v.getPooled(a,n,r,i);return o.accumulateTwoPhaseDispatches(b),b},didPutListener:function(e,t,n){if(t===k){var r=a.getNode(e);T[e]||(T[e]=i.listen(r,"click",v))}},willDeleteListener:function(e,t){t===k&&(T[e].remove(),delete T[e])}};e.exports=S},function(e,t,n){"use strict";function r(e,t,n,r){i.call(this,e,t,n,r)}var i=n(82),o={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){i.call(this,e,t,n,r)}var i=n(92),o={relatedTarget:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){i.call(this,e,t,n,r)}var i=n(92),o=n(141),a=n(142),s=n(93),c={key:a,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(e){return"keypress"===e.type?o(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?o(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};i.augmentClass(r,c),e.exports=r},function(e,t){"use strict";function n(e){var t,n=e.keyCode;return"charCode"in e?(t=e.charCode,0===t&&13===n&&(t=13)):t=n,t>=32||13===t?t:0}e.exports=n},function(e,t,n){"use strict";function r(e){if(e.key){var t=o[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=i(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?a[e.keyCode]||"Unidentified":""}var i=n(141),o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){i.call(this,e,t,n,r)}var i=n(91),o={dataTransfer:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){i.call(this,e,t,n,r)}var i=n(92),o=n(93),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:o};i.augmentClass(r,a),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){i.call(this,e,t,n,r)}var i=n(91),o={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";var r=n(28),i=r.injection.MUST_USE_ATTRIBUTE,o={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},a={Properties:{clipPath:i,cx:i,cy:i,d:i,dx:i,dy:i,fill:i,fillOpacity:i,fontFamily:i,fontSize:i,fx:i,fy:i,gradientTransform:i,gradientUnits:i,markerEnd:i,markerMid:i,markerStart:i,offset:i,opacity:i,patternContentUnits:i,patternUnits:i,points:i,preserveAspectRatio:i,r:i,rx:i,ry:i,spreadMethod:i,stopColor:i,stopOpacity:i,stroke:i,strokeDasharray:i,strokeLinecap:i,strokeOpacity:i,strokeWidth:i,textAnchor:i,transform:i,version:i,viewBox:i,x1:i,x2:i,x:i,xlinkActuate:i,xlinkArcrole:i,xlinkHref:i,xlinkRole:i,xlinkShow:i,xlinkTitle:i,xlinkType:i,xmlBase:i,xmlLang:i,xmlSpace:i,y1:i,y2:i,y:i},DOMAttributeNamespaces:{xlinkActuate:o.xlink,xlinkArcrole:o.xlink,xlinkHref:o.xlink,xlinkRole:o.xlink,xlinkShow:o.xlink,xlinkTitle:o.xlink,xlinkType:o.xlink,xmlBase:o.xml,xmlLang:o.xml,xmlSpace:o.xml},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space"}};e.exports=a},function(e,t){"use strict";e.exports="0.14.3"},function(e,t,n){"use strict";var r=n(33);e.exports=r.renderSubtreeIntoContainer},function(e,t,n){"use strict";var r=n(76),i=n(150),o=n(147);r.inject();var a={renderToString:i.renderToString,renderToStaticMarkup:i.renderToStaticMarkup,version:o};e.exports=a},function(e,t,n){"use strict";function r(e){a.isValidElement(e)?void 0:h(!1);var t;try{f.injection.injectBatchingStrategy(u);var n=s.createReactRootID();return t=l.getPooled(!1),t.perform(function(){var r=d(e,null),i=r.mountComponent(n,t,p);return c.addChecksumToMarkup(i)},null)}finally{l.release(t),f.injection.injectBatchingStrategy(o)}}function i(e){a.isValidElement(e)?void 0:h(!1);var t;try{f.injection.injectBatchingStrategy(u);var n=s.createReactRootID();return t=l.getPooled(!0),t.perform(function(){var r=d(e,null);return r.mountComponent(n,t,p)},null)}finally{l.release(t),f.injection.injectBatchingStrategy(o)}}var o=n(97),a=n(47),s=n(50),c=n(53),u=n(151),l=n(152),f=n(59),p=n(63),d=n(67),h=n(18);e.exports={renderToString:r,renderToStaticMarkup:i}},function(e,t){"use strict";var n={isBatchingUpdates:!1,batchedUpdates:function(e){}};e.exports=n},function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.reactMountReady=o.getPooled(null),this.useCreateElement=!1}var i=n(61),o=n(60),a=n(62),s=n(44),c=n(20),u={initialize:function(){this.reactMountReady.reset()},close:c},l=[u],f={getTransactionWrappers:function(){return l},getReactMountReady:function(){return this.reactMountReady},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null}};s(r.prototype,a.Mixin,f),i.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";var r=n(115),i=n(128),o=n(127),a=n(154),s=n(47),c=(n(155),n(112)),u=n(147),l=n(44),f=n(157),p=s.createElement,d=s.createFactory,h=s.cloneElement,m={Children:{map:r.map,forEach:r.forEach,count:r.count,toArray:r.toArray,only:f},Component:i,createElement:p,cloneElement:h,isValidElement:s.isValidElement,PropTypes:c,createClass:o.createClass,createFactory:d,createMixin:function(e){return e},DOM:a,version:u,__spread:l};e.exports=m},function(e,t,n){"use strict";function r(e){return i.createFactory(e)}var i=n(47),o=(n(155),n(156)),a=o({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul",var:"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},r);e.exports=a},function(e,t,n){"use strict";function r(){if(f.current){var e=f.current.getName();if(e)return" Check the render method of `"+e+"`."}return""}function i(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;o("uniqueKey",e,t)}}function o(e,t,n){var i=r();if(!i){var o="string"==typeof n?n:n.displayName||n.name;o&&(i=" Check the top-level render call using <"+o+">.")}var a=h[e]||(h[e]={});if(a[i])return null;a[i]=!0;var s={parentOrOwner:i,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null
};return t&&t._owner&&t._owner!==f.current&&(s.childOwner=" It was passed a child from "+t._owner.getName()+"."),s}function a(e,t){if("object"==typeof e)if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];u.isValidElement(r)&&i(r,t)}else if(u.isValidElement(e))e._store&&(e._store.validated=!0);else if(e){var o=p(e);if(o&&o!==e.entries)for(var a,s=o.call(e);!(a=s.next()).done;)u.isValidElement(a.value)&&i(a.value,t)}}function s(e,t,n,i){for(var o in t)if(t.hasOwnProperty(o)){var a;try{"function"!=typeof t[o]?d(!1):void 0,a=t[o](n,o,e,i)}catch(e){a=e}if(a instanceof Error&&!(a.message in m)){m[a.message]=!0;r()}}}function c(e){var t=e.type;if("function"==typeof t){var n=t.displayName||t.name;t.propTypes&&s(n,t.propTypes,e.props,l.prop),"function"==typeof t.getDefaultProps}}var u=n(47),l=n(70),f=(n(71),n(10)),p=(n(48),n(113)),d=n(18),h=(n(30),{}),m={},v={createElement:function(e,t,n){var r="string"==typeof e||"function"==typeof e,i=u.createElement.apply(this,arguments);if(null==i)return i;if(r)for(var o=2;o<arguments.length;o++)a(arguments[o],e);return c(i),i},createFactory:function(e){var t=v.createElement.bind(null,e);return t.type=e,t},cloneElement:function(e,t,n){for(var r=u.cloneElement.apply(this,arguments),i=2;i<arguments.length;i++)a(arguments[i],r.type);return c(r),r}};e.exports=v},function(e,t){"use strict";function n(e,t,n){if(!e)return null;var i={};for(var o in e)r.call(e,o)&&(i[o]=t.call(n,e[o],o,e));return i}var r=Object.prototype.hasOwnProperty;e.exports=n},function(e,t,n){"use strict";function r(e){return i.isValidElement(e)?void 0:o(!1),e}var i=n(47),o=n(18);e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r,i){return i}n(44),n(30);e.exports=r},,,function(e,t,n){!function(e,t){for(var n in t)e[n]=t[n]}(t,function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){n(1),e.exports=n(5)},function(e,t){},,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(6),o=r(i),a=n(10),s=r(a),c=n(9),u=r(c),l=n(16),f=r(l),p=n(17),d=r(p),h=n(18),m=r(h),v=n(19),g=r(v),y=n(20),b=r(y),w=n(21),_=r(w),x=n(24),C=r(x),k=n(25),T=r(k),S=n(27),E=r(S),A=n(28),I=r(A),O=n(12),P=r(O),N=n(26),D=r(N),L=n(29),M=r(L),R=n(30),j=r(R),F=n(31),B=r(F),U=n(32),z=r(U),W=n(13),V=r(W);e.exports={DropdownMenu:o.default,MenuItem:s.default,Menu:u.default,IconButton:f.default,SimpleButton:d.default,LinkButton:m.default,Checkbox:g.default,CheckboxGroup:b.default,Tab:_.default,TabItem:C.default,Dialog:T.default,Draggable:E.default,DraggableDialog:I.default,Tooltip:P.default,Mask:D.default,Toast:M.default,SearchInput:j.default,ImageIcon:B.default,WindowListener:z.default,DelegateClick:V.default}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(7),o=r(i),a=n(8),s=r(a),c=n(9),u=r(c),l=n(12),f=r(l),p=n(13),d=r(p);e.exports=o.default.createClass({displayName:"exports",mixins:[d.default],propTypes:{menuItems:o.default.PropTypes.array.isRequired,className:o.default.PropTypes.string,wrapClassName:o.default.PropTypes.string,itemTpl:o.default.PropTypes.func,selectedTpl:o.default.PropTypes.func,selectedIndex:o.default.PropTypes.number,onTap:o.default.PropTypes.func,onMenuChange:o.default.PropTypes.func,forceTap:o.default.PropTypes.bool,tooltip:o.default.PropTypes.string,tipClass:o.default.PropTypes.string,isScroll:o.default.PropTypes.bool},getDefaultProps:function(){return{className:"d-menu-wrap",hasMask:!1,autoWidth:!1,tooltip:"",tipClass:"",displayKey:"text",valKey:"value",itemTpl:function(e,t,n,r,i){var a=t[r],s=t[i];return o.default.createElement("div",{"data-val":s},a)},selectedTpl:function(e,t,n,r){var i=t[n];return o.default.createElement("div",null,t[i])}}},getInitialState:function(){return{open:!1,selectedIndex:this.props.selectedIndex||0,isShowTip:!1,hovered:!1}},componentDidMount:function(){this.props.autoWidth&&this._setWidth(),this.props.hasOwnProperty("selectedIndex")&&this._setSelectedIndex(this.props.selectedIndex)},componentDidUpdate:function(e,t){t.open&&!this.state.open&&this.props.onClose&&this.props.onClose()},componentWillReceiveProps:function(e){this.props.autoWidth&&this._setWidth(),e.hasOwnProperty("selectedIndex")&&this._setSelectedIndex(e.selectedIndex)},render:function(){var e,t=this.props,n=this.state.open?"":"unactive",r=(t.wrapClassName||"")+" "+t.className+" "+n;this.state.hovered?"hovered":"";return t.tooltip&&(e=o.default.createElement(f.default,{ref:"tooltip",tip:t.tooltip,isShow:this.state.isShowTip,customClass:t.tipClass})),o.default.createElement("div",{className:r,onMouseEnter:this._handleMouseEnter,onMouseLeave:this._handleMouseLeave},o.default.createElement("div",{className:"d-menu-display-wrap",onTouchTap:this._onToggleMenu},t.selectedTpl(this.state.selectedIndex,t.menuItems[this.state.selectedIndex],t.displayKey,t.valKey),e),o.default.createElement(u.default,{ref:"menuWrap",menuItems:t.menuItems,displayKey:t.displayKey,valKey:t.valKey,isScroll:t.isScroll,selectedIndex:this.state.selectedIndex,itemTpl:t.itemTpl,onItemTap:this._onItemTap}),this.state.open&&t.hasMask&&o.default.createElement("div",{className:"d-menu-mask",onTouchTap:this._onMenuMaskTap}))},componentClick:function(){this.close()},close:function(){this.state.open&&this.setState({open:!1})},_onToggleMenu:function(){this.setState({open:!this.state.open,isShowTip:this.state.open}),this.props.onTap&&this.props.onTap()},_onItemTap:function(e,t,n){var r=this.props;r.onMenuChange&&(this.state.selectedIndex!==t||r.forceTap)&&r.onMenuChange(e,t,n),this.setState({selectedIndex:t,open:!!r.keepOpen})},_onMenuMaskTap:function(){this.setState({open:!1})},_setWidth:function(){var e=s.default.findDOMNode(this),t=s.default.findDOMNode(this.refs.menuWrap);e.style.width=t.offsetWidth+"px"},_setSelectedIndex:function(e){this.setState({selectedIndex:e})},_handleMouseEnter:function(e){this.setState({isShowTip:!this.state.open,hovered:!0})},_handleMouseLeave:function(e){this.setState({isShowTip:!1,hovered:!1})}})},function(e,t){e.exports=n(7)},function(e,t){e.exports=n(162)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(7),o=r(i),a=n(10),s=r(a),c=n(11),u=r(c);e.exports=o.default.createClass({displayName:"exports",propTypes:{menuItems:o.default.PropTypes.array.isRequired,selectedIndex:o.default.PropTypes.number,selectedVal:o.default.PropTypes.string,onItemTap:o.default.PropTypes.func,itemTpl:o.default.PropTypes.func,isScroll:o.default.PropTypes.bool},getDefaultProps:function(){},getInitialState:function(){return{selectedIndex:this.props.selectedIndex||this._getSelectedIndexByVal()}},componentDidMount:function(){this.props.hasOwnProperty("selectedIndex")&&this._setSelectedIndex(this.props.selectedIndex)},componentWillReceiveProps:function(e){e.hasOwnProperty("selectedIndex")&&this._setSelectedIndex(e.selectedIndex)},render:function(){return o.default.createElement("div",{className:"menu-wrap"},this._renderChilden())},_renderChilden:function(){for(var e,t,n=[],r=this.props,i=0,a=r.menuItems.length;i<a;i++)e=r.menuItems[i],t=o.default.createElement(s.default,{selected:this.state.selectedIndex===i,key:i,index:i,data:e,itemTpl:r.itemTpl,displayKey:r.displayKey,valKey:r.valKey,onTap:this._onItemTap}),n.push(t),"divider"===e.type&&n.push(o.default.createElement(u.default,{key:"divider"+i}));return r.isScroll?o.default.createElement("div",{className:"menu-scroller-wrap"},n):n},_onItemTap:function(e,t,n){this.setState({selectedIndex:t}),this.props.onItemTap&&this.props.onItemTap(e,t,n)},_getSelectedIndexByVal:function(){var e=this.props;if(e.selectedVal)for(var t=0,n=e.menuItems.length;t<n;t++)if(e.menuItems[t][e.valKey]==e.selectedVal)return t;return 0},_setSelectedIndex:function(e){this.setState({selectedIndex:e})}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(7),o=r(i);e.exports=o.default.createClass({displayName:"exports",propTypes:{index:o.default.PropTypes.number.isRequired,selected:o.default.PropTypes.bool,data:o.default.PropTypes.object,onTap:o.default.PropTypes.func,itemTpl:o.default.PropTypes.func},getDefaultProps:function(){return{itemTpl:function(e,t,n,r,i){var a=t[r],s=t[i];return o.default.createElement("div",{"data-val":s},a)}}},getInitialState:function(){return{hovered:!1}},render:function(){var e=this.props,t="menu-item",n=this.state.hovered?"hovered":"";return n&&(t+=" "+n),e.selected&&(t+=" menu-item-selected"),e.data.class&&(t+=" "+e.data.class),o.default.createElement("div",{className:t,onMouseEnter:this._handleMouseEnter,onMouseLeave:this._handleMouseLeave,onTouchTap:this._onTap},e.itemTpl(e.index,e.data,e.selected,e.displayKey,e.valKey))},_onTap:function(e){var t=this.props;t.onTap&&t.onTap(e,t.index,t.data)},_handleMouseEnter:function(e){this.setState({hovered:!0})},_handleMouseLeave:function(e){this.setState({hovered:!1})}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){return a.default.createElement("div",{className:"menu-divider"})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(7),a=r(o)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(7),o=r(i);e.exports=o.default.createClass({displayName:"exports",propTypes:{tip:o.default.PropTypes.string.isRequired,isShow:o.default.PropTypes.bool,customClass:o.default.PropTypes.string},render:function(){var e=this.props,t=e.isShow?"":"hide",n=e.customClass||"";return o.default.createElement("span",{className:"tooltip "+t+" "+n},e.tip)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(7),o=(r(i),n(8)),a=r(o),s=n(14),c=r(s),u=n(15),l=r(u);e.exports={componentDidMount:function(){this._bindClick()},componentWillUnmount:function(){this._unbindClick()},_checkClick:function(e){var t=a.default.findDOMNode(this),n=e.target;n!=t&&!l.default.isDescendant(t,n)&&document.documentElement.contains(n)&&this.componentClick&&this.componentClick(e,t)},_bindClick:function(){c.default.on(document,"mouseup",this._checkClick),c.default.on(document,"touchend",this._checkClick)},_unbindClick:function(){c.default.off(document,"mouseup",this._checkClick),c.default.off(document,"touchend",this._checkClick)}}},function(e,t){"use strict";e.exports={on:function(e,t,n){window.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},off:function(e,t,n){window.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)}}},function(e,t){"use strict";e.exports={isDescendant:function(e,t){for(var n=t.parentNode;null!=n;){if(n===e)return!0;n=n.parentNode}return!1}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(7),o=r(i),a=n(12),s=r(a);e.exports=o.default.createClass({displayName:"exports",propTypes:{customClass:o.default.PropTypes.string,tooltip:o.default.PropTypes.string,disabled:o.default.PropTypes.bool,onBtnTap:o.default.PropTypes.func,isShowTip:o.default.PropTypes.bool,tipClass:o.default.PropTypes.string,iconBtnClass:o.default.PropTypes.string,iconBtnTpl:o.default.PropTypes.func},getDefaultProps:function(){return{customClass:""}},getInitialState:function(){return{isShowTip:!1,hovered:!1,tipClass:""}},render:function(){var e,t=this.props,n=this.state.hovered?"hovered":"";return t.tooltip&&(e=o.default.createElement(s.default,{ref:"tooltip",tip:t.tooltip,isShow:this.state.isShowTip,customClass:t.tipClass})),o.default.createElement("span",{className:"icon-btn-wrap "+n+" "+t.customClass,onMouseEnter:this._handleMouseEnter,onMouseLeave:this._handleMouseLeave,onTouchTap:t.onBtnTap},o.default.createElement("span",{className:"icon-btn "+t.iconBtnClass},t.iconBtnTpl?t.iconBtnTpl():""),e)},_handleMouseEnter:function(e){this.setState({isShowTip:!0,hovered:!0})},_handleMouseLeave:function(e){this.setState({isShowTip:!1,hovered:!1})}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(7),o=r(i);e.exports=o.default.createClass({displayName:"exports",propTypes:{customClass:o.default.PropTypes.string,disabled:o.default.PropTypes.bool,label:o.default.PropTypes.string,btnTpl:o.default.PropTypes.func,onTap:o.default.PropTypes.func},getDefaultProps:function(){return{customClass:""}},render:function(){var e,t=this.props;return e=t.btnTpl?t.btnTpl(t.label):o.default.createElement("div",{className:"btn-inner"},t.label&&o.default.createElement("span",{ref:"btnLabel",className:"btn-label"},t.label),t.children),o.default.createElement("button",{className:"btn "+t.customClass,disabled:t.disabled,onTouchTap:this._onTap},e)},_onTap:function(e){var t=this.props;!t.disabled&&t.onTap&&t.onTap(e)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(7),o=r(i),a=n(17),s=r(a);e.exports=o.default.createClass({displayName:"exports",propTypes:{customClass:o.default.PropTypes.string,disabled:o.default.PropTypes.bool,newTab:o.default.PropTypes.bool,label:o.default.PropTypes.string,btnTpl:o.default.PropTypes.func,href:o.default.PropTypes.string.isRequired,onTap:o.default.PropTypes.func},getDefaultProps:function(){return{customClass:"",newTab:!1}},render:function(){var e,t=this.props;return e=t.btnTpl?t.btnTpl(t.label):o.default.createElement("div",{className:"btn-inner"},t.label&&o.default.createElement("span",{ref:"btnLabel",className:"btn-label"},t.label),t.children),o.default.createElement(s.default,{customClass:t.customClass,disabled:t.disabled,onTap:t.onTap},o.default.createElement("a",{className:"link-btn",href:t.href,target:t.newTab?"_blank":"_self"},e))}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(7),u=r(c),l=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={checked:e.checked},n}return a(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){e.checked!==this.state.checked&&this.setState({checked:e.checked})}},{key:"render",value:function(){var e=this,t=this.props,n=t.className?"checkbox-item "+t.className:"checkbox-item";return n+=this.state.checked?" checked":"",u.default.createElement("div",{className:n,onTouchTap:function(){return e._onChange()}},this.props.tpl(this.state.checked,t.item))}},{key:"_onChange",value:function(){var e=this.props,t=!this.state.checked;this.setState({checked:t}),e.onCheck&&e.onCheck(e.item,t)}}]),t}(c.Component);t.default=l,l.propTypes={className:c.PropTypes.string,item:c.PropTypes.object,tpl:c.PropTypes.func,checked:c.PropTypes.bool,onCheck:c.PropTypes.func},l.defaultProps={checked:!1,tpl:function(e,t){var n=t?t.name:"全选";return u.default.createElement("span",null,n)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(7),u=r(c),l=n(19),f=r(l),p=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={items:e.items,checkedItems:e.checkedItems,isSelectAll:n._isSelectAll(e.checkedItems,e.items)},n}return a(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){var t={};e.items!==this.state.items&&(t.items=e.items),e.checkedItems!==this.state.checkedItems&&(t.checkedItems=e.checkedItems),Object.keys(t).length>0&&this.setState(t)}},{key:"shouldComponentUpdate",value:function(e,t){return this.state!==t}},{key:"render",value:function(){var e=this,t=this.props,n=t.className?"checkbox-group-wrap "+t.className:"checkbox-group-wrap";return u.default.createElement("div",{className:n},!t.disableSelectAll&&u.default.createElement(f.default,{checked:this.state.isSelectAll,onCheck:this._onSelectAll.bind(this),tpl:t.selectAllTpl}),this.state.items.map(function(n,r){return u.default.createElement(f.default,{key:r,item:n,checked:e.state.checkedItems.indexOf(n.name)>-1,onCheck:e._onCheck.bind(e),tpl:t.itemTpl})}))}},{key:"_isSelectAll",value:function(e,t){return e.length===t.length||!1}},{key:"_onSelectAll",value:function(e,t){var n=t?this._getAllItems(this.state.items):[];this._onChange(n)}},{key:"_onCheck",value:function(e,t){var n=(this.props,this.state.checkedItems),r=e.name;t?n.push(r):n.splice(n.indexOf(r),1),this._onChange(n)}},{key:"_onChange",value:function(e){var t=this.props;this.setState({checkedItems:e,isSelectAll:this._isSelectAll(e,this.state.items)}),t.onChange&&t.onChange(e)}},{key:"_getAllItems",value:function(e){var t=[];return e.forEach(function(e){t.push(e.name)}),t}}]),t}(c.Component);t.default=p,p.propTypes={className:c.PropTypes.string,items:c.PropTypes.array.isRequired,checkedItems:c.PropTypes.array,itemTpl:c.PropTypes.func,onChange:c.PropTypes.func,disableSelectAll:c.PropTypes.bool,selectAllTpl:c.PropTypes.func},p.defaultProps={defaultChecked:[],disableSelectAll:!1,selectAllTpl:function(e){return u.default.createElement("div",{className:"checkbox-select-all"},"全选")}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(7),o=r(i),a=n(22),s=r(a),c=n(23),u=r(c);e.exports=o.default.createClass({displayName:"exports",propTypes:{customClass:o.default.PropTypes.string,selectedIndex:o.default.PropTypes.number,tabWillChange:o.default.PropTypes.func,tabDidChange:o.default.PropTypes.func,onTapContent:o.default.PropTypes.func,disableSetWidth:o.default.PropTypes.bool},getInitialState:function(){return{selectedIndex:this.props.selectedIndex||0}},componentWillReceiveProps:function(e){void 0!==e.selectedIndex&&e.selectedIndex!==this.props.selectedIndex&&this.setState({selectedIndex:e.selectedIndex})},render:function(){var e,t,n,r=this.props,i=[],a=[];return o.default.Children.forEach(r.children,function(c,l){"TabItem"==c.type.displayName?(r.disableSetWidth?e=o.default.createElement(s.default,{key:l,index:l,title:c.props.title,selected:this.state.selectedIndex===l,headTpl:r.headTpl,onTap:this._onHeadTap}):(n=100/this.getTabCount()+"%",e=o.default.createElement(s.default,{key:l,index:l,title:c.props.title,selected:this.state.selectedIndex===l,width:n,headTpl:r.headTpl,onTap:this._onHeadTap})),t=o.default.createElement(u.default,{key:l,index:l,selected:this.state.selectedIndex===l,onTapContent:this._onTapContent,className:c.props.className},c.props.children),i.push(e),a.push(t)):console.error("The tab item tag name must be TagItem")}.bind(this)),o.default.createElement("div",{className:"tab-wrap "+(r.customClass||"")+" selected-"+this.state.selectedIndex},o.default.createElement("div",{className:"tab-head-wrap"},i),o.default.createElement("div",{className:"tab-content-wrap"},a))},getTabCount:function(){return o.default.Children.count(this.props.children)},_onHeadTap:function(e,t,n){var r=this.props;r.tabWillChange&&r.tabWillChange(this.state.selectedIndex,e,n),this.setState({selectedIndex:e},function(){r.tabDidChange&&r.tabDidChange(e,t,n)})},_onTapContent:function(e,t,n){this.props.onTapContent&&this.props.onTapContent(e,t,n)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(7),o=r(i);e.exports=o.default.createClass({displayName:"exports",propTypes:{index:o.default.PropTypes.number,title:o.default.PropTypes.string,selected:o.default.PropTypes.bool,headTpl:o.default.PropTypes.func,onTap:o.default.PropTypes.func},getDefaultProps:function(){return{index:0,selected:!1}},render:function(){var e,t=this.props,n={width:t.width};return e=t.headTpl?t.headTpl(t.title,t.selected):t.title,o.default.createElement("div",{className:"tab-head-item "+(t.selected?"selected":""),style:n,onTouchTap:this._onTap},e)},_onTap:function(e){this.props.onTap&&this.props.onTap(this.props.index,this.props.title,e)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(7),o=r(i);e.exports=o.default.createClass({displayName:"exports",propTypes:{index:o.default.PropTypes.number,selected:o.default.PropTypes.bool,onTapContent:o.default.PropTypes.func,className:o.default.PropTypes.string},getDefaultProps:function(){return{index:0,selected:!1}},render:function(){var e=this.props,t="tab-content-item";return e.className&&(t+=" "+e.className),o.default.createElement("div",{className:t+(e.selected?" selected":" hide"),onTouchTap:this._onTap},e.children)},_onTap:function(e){var t=this.props;t.onTapContent&&t.onTapContent(t.index,this,e)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(7),o=r(i);e.exports=o.default.createClass({render:function(){return o.default.createElement("div",{className:"tab-item"})},displayName:"TabItem"})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(7),a=r(o),s=n(8),c=n(17),u=r(c),l=n(26),f=r(l);t.default=a.default.createClass({displayName:"Dialog",propTypes:{title:a.default.PropTypes.string,body:a.default.PropTypes.string,headTpl:a.default.PropTypes.func,bodyTpl:a.default.PropTypes.func,footTpl:a.default.PropTypes.func,hasMask:a.default.PropTypes.bool,hasActions:a.default.PropTypes.bool,actions:a.default.PropTypes.array,onShow:a.default.PropTypes.func,onClose:a.default.PropTypes.func,open:a.default.PropTypes.bool,keepCenter:a.default.PropTypes.bool,enableCloseClickMask:a.default.PropTypes.bool},getDefaultProps:function(){return{hasMask:!0,hasActions:!0,customClass:"",actions:[{customClass:"dialog-submit",onTap:this._onSubmit,label:"submit"},{customClass:"dialog-cancel",onTap:this.close,label:"cancel"}]}},getInitialState:function(){return{open:this.props.open||!1}},componentDidMount:function(){this.props.open&&(this._asCenter(),this._onShow())},componentWillReceiveProps:function(e){void 0!==e.open&&e.open!==this.state.open&&this.setState({open:e.open})},componentDidUpdate:function(e,t){var n=t.open;!this.state.open||!e.keepCenter&&n||this._asCenter()},render:function(){var e,t,n=this.props,r=n.actions,o=[],s={style:n.style,onMouseDown:n.onMouseDown,onMouseUp:n.onMouseUp};if(n.hasActions)for(var c=0,l=r.length;c<l;c++)t=r[c],e=t.tpl?t.tpl(t):a.default.createElement(u.default,{key:c,customClass:t.customClass||"",disabled:t.disabled||!1,onTap:t.onTap||this.close,label:t.label}),o.push(e);return a.default.createElement("div",i({ref:"dialogWrap",className:"dialog-wrap "+n.customClass},s),this.state.open&&a.default.createElement("div",{ref:"dialog",className:"dialog"},a.default.createElement("div",{className:"dialog-head"},n.headTpl?n.headTpl(n.title):n.title),a.default.createElement("div",{className:"dialog-body"},n.bodyTpl?n.bodyTpl(n.body):n.body),a.default.createElement("div",{className:"dialog-foot"},n.footTpl?n.footTpl():null,o)),this.state.open&&this.props.hasMask&&a.default.createElement(f.default,{autoLockScroll:!0,isShow:!0,onTap:this._handleMaskTap}))},show:function(){this.setState({open:!0},this._onShow)},close:function(){this.setState({open:!1},this._onClose)},_asCenter:function(){var e=(0,s.findDOMNode)(this.refs.dialogWrap);e.style.marginLeft=-(e.clientWidth/2)+"px",e.style.marginTop=-(e.clientHeight/2)+"px"},_onShow:function(){this.props.onShow&&this.props.onShow()},_onClose:function(){this.props.onClose&&this.props.onClose()},_onSubmit:function(){this.setState({open:!1}),this.props.onClose(!0)},_handleMaskTap:function(){var e=this.props.enableCloseClickMask;("undefined"==typeof e||e)&&this.close()}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(7),o=r(i);e.exports=o.default.createClass({displayName:"exports",propTypes:{autoLockScroll:o.default.PropTypes.bool,isShow:o.default.PropTypes.bool,onTap:o.default.PropTypes.func},_originalBodyOverflow:"",componentDidMount:function(){this._originalBodyOverflow=document.getElementsByTagName("body")[0].style.oveflow,this.props.autoLockScroll&&this._disableScroll()},componentWillUnmount:function(){this._enableScroll()},componentDidUpdate:function(){this.props.autoLockScroll&&(this.props.isShow?this._disableScroll():this._enableScroll())},render:function(){return o.default.createElement("div",{className:"mask",onTouchTap:this._onTap})},_disableScroll:function(){document.getElementsByTagName("body")[0].style.oveflow="hidden"},_enableScroll:function(){document.getElementsByTagName("body")[0].style.oveflow=this._originalBodyOverflow},_onTap:function(e){this.props.onTap&&this.props.onTap(e)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e&&e.call.apply(e,[null].concat(n))}function u(e,t,n){return Math.max(t,Math.min(n,e))}function l(e,t){return e.indexOf(t)>-1}function f(e,t){var n={};return Object.keys(t).forEach(function(r){return!l(e,r)&&(n[r]=t[r])}),n}Object.defineProperty(t,"__esModule",{value:!0});var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=n(7),m=r(h),v=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],n=arguments.length<=1||void 0===arguments[1]?0:arguments[1];s(this,e),this.set(t,n)}return d(e,[{key:"set",value:function(e,t){this.x=e,this.y=t}}]),e}(),g=function(e){function t(e){s(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._start=function(e){return!n.state.dragging&&(c(n.props.onStart,e)!==!1&&(document.body.addEventListener("mousemove",n._drag),document.body.style.webkitUserSelect="none",n._setStartingCoord(e),void n.setState({dragging:!0})))},n._drag=function(e){if(n.state.dragging){var t=n._makeDeltaInViewport(n.deltaPoint.x+e.clientX-n.startingPoint.x,n.deltaPoint.y+e.clientY-n.startingPoint.y),r=t.dx,i=t.dy;if(c(n.props.onDrag,e,r,i)===!1)return!1;n.setState({dx:r,dy:i})}},n._stop=function(e){return c(n.props.onStop,e)!==!1&&(document.body.removeEventListener("mousemove",n._drag),document.body.style.webkitUserSelect=n.presetWebkitUserSelect,void n.setState({dragging:!1}))},n.presetWebkitUserSelect=document.body.style.webkitUserSelect,n.rect=null,n.deltaPoint=new v,n.startingPoint=new v,n.state={dx:0,dy:0,dragging:!1},n}return a(t,e),d(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.reset;t&&(this.rect=null,this.deltaPoint=new v,this.setState({dx:0,dy:0}))}},{key:"_setStartingCoord",value:function(e){var t=e.currentTarget,n=e.clientX,r=e.clientY;this.startingPoint.set(n,r),this.rect=t.getBoundingClientRect(),this.deltaPoint.set(this.state.dx,this.state.dy)}},{key:"_makeDeltaInViewport",value:function(e,t){var n=this.deltaPoint,r=n.x,i=n.y,o=this.rect,a=o.left,s=o.top,c=o.right,l=o.bottom,f=document.body,p=f.clientWidth,d=f.clientHeight;return e=u(e,-(a-r),p-(c-r)),t=u(t,-(s-i),d-(l-i)),{dx:e,dy:t}}},{key:"render",value:function(){var e=this.props,n=e.children,r=e.wrapper,o=i(e,["children","wrapper"]),a=this.state,s=a.dx,c=a.dy,u=h.Children.only(n),l=p({style:{transform:"translate("+s+"px,"+c+"px)"},onMouseDown:this._start,onMouseUp:this._stop},f(Object.keys(t.propTypes),o));return r?m.default.createElement("div",l,u):m.default.cloneElement(u,l)}}]),t}(h.Component);g.propTypes={wrapper:h.PropTypes.bool,onStart:h.PropTypes.func,onDrag:h.PropTypes.func,onStop:h.PropTypes.func,reset:h.PropTypes.bool,children:h.PropTypes.element.isRequired},t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(7),l=r(u),f=n(27),p=r(f),d=n(25),h=r(d),m=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._onStop=function(){n.setState({reset:!1})},n.state={reset:!1},n}return a(t,e),c(t,[{key:"show",value:function(){var e;this.setState({reset:!0}),(e=this.refs.dialog).show.apply(e,arguments)}},{key:"close",value:function(){var e;(e=this.refs.dialog).close.apply(e,arguments)}},{key:"render",value:function(){var e=this.state.reset;return l.default.createElement(p.default,{onStop:this._onStop,reset:e},l.default.createElement(h.default,s({ref:"dialog",hasMask:!1},this.props)))}}]),t}(u.Component);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(7),o=r(i),a=n(8),s=r(a);e.exports=o.default.createClass({
displayName:"exports",propTypes:{msg:o.default.PropTypes.string,timeout:o.default.PropTypes.number,type:o.default.PropTypes.string},getDefaultProps:function(){return{msg:"",timeout:3e3,type:"info"}},render:function(){return o.default.createElement("div",{id:"toast-wrap",className:"toast fadein "+this.props.type},this.props.msg)},componentDidMount:function(){this._setTimeout()},componentDidUpdate:function(){this._setTimeout()},_timeoutId:null,_setTimeout:function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=setTimeout(function(){s.default.unmountComponentAtNode(s.default.findDOMNode(this).parentNode)}.bind(this),this.props.timeout)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(7),o=r(i),a=n(8),s=r(a);e.exports=o.default.createClass({displayName:"exports",propTypes:{customClass:o.default.PropTypes.string,placeholder:o.default.PropTypes.string,onSearch:o.default.PropTypes.func,throttle:o.default.PropTypes.number,isFocus:o.default.PropTypes.bool,text:o.default.PropTypes.string},getDefaultProps:function(){return{customClass:"",placeholder:"search...",throttle:200,isFocus:!0}},getInitialState:function(){return{text:this.props.text||""}},componentDidMount:function(){this.props.isFocus&&this._setFocus()},componentWillReceiveProps:function(e){"undefined"!=typeof e.text&&e.text!==this.state.text&&this.setState({text:e.text})},render:function(){var e=this.props;return o.default.createElement("div",{className:"search-wrap "+e.customClass},o.default.createElement("form",{className:"search-form",onSubmit:this._onSubmit},o.default.createElement("input",{ref:"searchInput",type:"text",autoComplete:"off",value:this.state.text,className:"search-input",placeholder:e.placeholder,onChange:this._onInputChange,onKeyDown:this._onKeyDown,onFocus:this._onFocus,onBlur:this._onBlur})))},_timeoutId:null,_onKeyDown:function(e){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=setTimeout(function(){this._goSearch(e)}.bind(this),this.props.throttle)},_onSubmit:function(e){return this._goSearch(e),e.preventDefault(),!1},_goSearch:function(e){var t,n;t=s.default.findDOMNode(this.refs.searchInput),n=t.value,this.props.onSearch&&this.props.onSearch(n,e)},_setFocus:function(){var e;e=s.default.findDOMNode(this.refs.searchInput),e.focus()},_onInputChange:function(e){var t;t=s.default.findDOMNode(this.refs.searchInput),this.setState({text:t.value})},_onFocus:function(){this.props.onFocus&&this.props.onFocus()},_onBlur:function(){this.props.onBlur&&this.props.onBlur()}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(7),o=r(i),a=n(14),s=r(a);e.exports=o.default.createClass({displayName:"exports",propTypes:{customClass:o.default.PropTypes.string,defaultImg:o.default.PropTypes.string,realImg:o.default.PropTypes.string},getDefaultProps:function(){return{customClass:"",defaultImg:"",realImg:""}},getInitialState:function(){return{loaded:null}},componentDidMount:function(){var e,t=this,n=this.props.realImg;n&&(e=document.createElement("img"),s.default.on(e,"load",function(){t.isMounted()&&t.setState({loaded:"success"})}),s.default.on(e,"error",function(){t.isMounted()&&t.setState({loaded:"failed"})}),e.setAttribute("src",n))},render:function(){var e=this.props,t={},n={};return"success"==this.state.loaded?(t={backgroundImage:"url("+e.realImg+")"},n={visibility:"hidden"}):"failed"==this.state.loaded&&(n={visibility:"visible"}),o.default.createElement("div",{className:"img-wrap "+e.customClass,style:t},o.default.createElement("img",{ref:"image","data-real":e.realImg,src:e.defaultImg,style:n}))}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(14),o=r(i);e.exports={componentDidMount:function(){var e,t=this.windowListeners;for(var n in t)e=t[n],o.default.on(window,n,this[e])},componentWillUnmount:function(){var e,t=this.windowListeners;for(var n in t)e=t[n],o.default.off(window,n,this[e])}}}]))},function(e,t,n){"use strict";e.exports=n(9)},function(e,t,n){var r,i;(function(o,a){r=[n(164),n(165),n(166)],i=function(e,t,n){var r,i,s,c;return r="/api/log/jserror",i=void 0,i=function(t){return function(n,i,a,c,u){var l;return o.isFunction(i)&&(c=a,a=i),l=function(r){var a;403===r.code&&(window.location.href="/login?redirect_url="+encodeURIComponent(window.location.href)),a={message:t+" ["+n+"] error:",err:r,sendData:i},e.error(a),o.isFunction(c)&&c(r)},s({url:n,type:t,dataType:"json",data:i,beforeSend:u}).then(function(e,t,n){var r;return window.cow.client||(r=n.getResponseHeader("X-Server-Version"),window.cow.serverVersion&&window.cow.serverVersion!==r&&(window.cow._needReload=!0,console.log("get new version",r)),window.cow.serverVersion=r),0===e.code?a&&a(e):l.call(this,e),e},function(e){if(n&&n.indexOf(r)===-1)return l.call(this,e)})}},setInterval(function(){return i.get("/api/heartbeat")},54e4),window.cow.client&&(c={},n.attach("ajax:response",function(e,t,n){var r;return r=c[e],delete c[e],n?r.reject(n):r.resolve(t)})),s=function(e){var r,i;return window.cow.client?(r=a.Deferred(),i=t.genGuid(),c[i]=r,n.notify("ajax",{data:{url:e.url,type:e.type,data:e.data,guid:i}}),r.promise()):(window.cow._csrf&&(e.headers={"X-CSRF-Token":window.cow._csrf}),a.ajax(e))},i.get=i("get"),i.delete=i("delete"),i.post=i("post"),i.patch=i("patch"),i}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(4),n(1))},function(e,t,n){var r;r=function(){var e,t;return t={},Function.prototype.bind&&window.console&&"object"==typeof window.console.log&&["log","info","warn","error","assert","dir","clear","profile","profileEnd"].forEach(function(e){return console[e]=this.bind(console[e],console)},Function.prototype.call),e=function(e){return function(){return window.console[e].apply(window.console,arguments)}},t.log=e("log"),t.error=e("error"),t.warn=e("warn"),t}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r,i=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};r=function(){var e;return e={genGuid:function(e){var t,n,r,i;for(r=17,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=[];r-=1;)i.push(t[parseInt(62*Math.random())]);return n=i.join(""),e?e+"-"+n:n},nodeText:function(e){return e.innerText||e.textContent||e.nodeValue||""},getCookie:function(e){var t,n;if(n="; "+document.cookie,t=n.split("; "+e+"="),2===t.length)return t.pop().split(";").shift()},isDingTalk:function(){var e;return e=window.navigator.userAgent.toLowerCase(),/dingtalk/i.test(e)},isMobile:function(){var e;return e=window.navigator.userAgent.toLowerCase(),!this.isWechatPc()&&!!e.match(/(iphone|ipod|android|windows phone|micromessenger)/)},isWechat:function(){var e;return e=window.navigator.userAgent.toLowerCase(),!!/micromessenger/.test(e)&&!this.isWechatPc()},isWechatPc:function(){var e;return e=window.navigator.userAgent.toLowerCase(),!!/micromessenger.*?windowswechat/.test(e)},isDingtalk:function(){var e;return e=window.navigator.userAgent.toLowerCase(),!!e.match(/mobile.*dingtalk/i)},isIOS:function(){var e;return e=window.navigator.userAgent.toLowerCase(),!!/(ipad|iphone|ipod)/g.test(e)},isAndroid:function(){var e;return e=window.navigator.userAgent.toLowerCase(),!!/(android)/g.test(e)},isAndroidApp:function(){var e;return e=window.navigator.userAgent.toLowerCase(),!!/shimo-android-app/g.test(e)},isIE:function(){return!!window.ActiveXObject||i.call(window,"ActiveXObject")>=0},isFireFox:function(){return!!navigator.userAgent.match(/firefox/i)},isSafari:function(){return navigator.userAgent.indexOf("Safari")!==-1&&navigator.userAgent.indexOf("Chrome")===-1},isMac:function(){return/Mac|iPod|iPhone|iPad/.test(navigator.platform)},isWebIOS:function(){return!(window.cow.iOS||!this.isIOS())},isIphone6:function(){var e,t;return e=568,t=!1,this.isIOS()&&screen.height>e&&(t=!0),t},getQrImageUrl:function(e,t){var n;return n=e*window.devicePixelRatio,"/qrcode?size="+n+"&url="+t},emailList:{"mapgis.com":"mail.mapgis.com","foxmail.com":"mail.foxmail.com","qq.com":"mail.qq.com","vip.qq.com":"mail.qq.com","gmail.com":"mail.google.com","163.com":"mail.163.com","126.com":"mail.126.com","yeah.net":"mail.yeah.net","tom.com":"mail.tom.com","188.com":"mail.188.com","sina.com":"mail.sina.com","sohu.com":"mail.sohu.com","yahoo.cn":"mail.yahoo.com","yahoo.com.cn":"mail.yahoo.com","hotmail.com":"mail.hotmail.com","live.com":"mail.live.com"},regs:{url:/(http|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&amp;:\/~\+#]*[\w\-\@?^=%&amp;\/~\+#])?/i,email:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,guid:/^[0-9A-Za-z]{16}$/},keyCodes:{BACKSPACE:8,TAB:9,ENTER:13,ESC:27,CAPS_LOCK:20,LEFT:37,RIGHT:39,UP:38,DOWN:40,AT:50}}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n={},r=function(e,t,r){if("string"==typeof e)if("function"==typeof t){for(var i=(n[e]||[]).length;i--;)if(n[e][i].fun===t){if(r!==!0)return n[e][i];n[e].splice(i,1)}}else{var o=!!t;if(o!==!0)return n[e];delete n[e]}return null},i=function(e,t,i){var o=i||{};if("string"==typeof e&&"function"==typeof t){var a=r(e);a||(n[e]=[]),r(e).push({fun:t,scope:o.scope,isAsync:o.isAsync})}},o=function(e,t){"string"==typeof e&&("function"==typeof t?r(e,t,!0):r(e,!0))},a=function(e,t,n){o(e),i(e,t,n)},s=function(e){var t=r(e)||[],n=t.length;if(0!==n)for(var i=Array.prototype.slice.call(arguments,1),o=0;o<t.length;o++)if(t[o].isAsync)!function(e){setTimeout(function(){e.fun.apply(e.scope,i)},0)}(t[o]);else try{t[o].fun.apply(t[o].scope,i)}catch(e){console.error(e.stack)}},c=function(e){var t=e,n=Object.keys(e);return n.forEach(function(e){return i(e,t[e])}),{detach:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];e?o(e,t[e]):n.forEach(function(e){return o(e,t[e])})}}};t.default={on:i,off:o,attach:i,detach:o,notify:s,attachOne:a,BCBundle:c},e.exports=t.default},,,,function(e,t,n){(function(t,n,r,i){!function(t){e.exports=t()}(function(){var e,o,a;return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var c="function"==typeof _dereq_&&_dereq_;if(!s&&c)return c(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof _dereq_&&_dereq_,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";t.exports=function(e){function t(e){var t=new n(e),r=t.promise();return t.setHowMany(1),t.setUnwrap(),t.init(),r}var n=e._SomePromiseArray;e.any=function(e){return t(e)},e.prototype.any=function(){return t(this)}}},{}],2:[function(e,n,r){"use strict";function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new l(16),this._normalQueue=new l(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=u}function o(e,t,n){this._lateQueue.push(e,t,n),this._queueTick()}function a(e,t,n){this._normalQueue.push(e,t,n),this._queueTick()}function s(e){this._normalQueue._pushOne(e),this._queueTick()}var c;try{throw new Error}catch(e){c=e}var u=e("./schedule"),l=e("./queue"),f=e("./util");i.prototype.setScheduler=function(e){var t=this._schedule;return this._schedule=e,this._customScheduler=!0,t},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},i.prototype.disableTrampolineIfNecessary=function(){f.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(e,n){n?(t.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n"),t.exit(2)):this.throwLater(e)},i.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},f.hasDevTools?(i.prototype.invokeLater=function(e,t,n){this._trampolineEnabled?o.call(this,e,t,n):this._schedule(function(){setTimeout(function(){e.call(t,n)},100)})},i.prototype.invoke=function(e,t,n){this._trampolineEnabled?a.call(this,e,t,n):this._schedule(function(){e.call(t,n)})},i.prototype.settlePromises=function(e){this._trampolineEnabled?s.call(this,e):this._schedule(function(){e._settlePromises()})}):(i.prototype.invokeLater=o,i.prototype.invoke=a,i.prototype.settlePromises=s),i.prototype._drainQueue=function(e){for(;e.length()>0;){var t=e.shift();if("function"==typeof t){var n=e.shift(),r=e.shift();t.call(n,r)}else t._settlePromises()}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},n.exports=i,n.exports.firstLineError=c},{"./queue":26,"./schedule":29,"./util":36}],3:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){var i=!1,o=function(e,t){this._reject(t)},a=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(o,o,null,this,e)},s=function(e,t){0===(50397184&this._bitField)&&this._resolveCallback(t.target)},c=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(o){i||(i=!0,e.prototype._propagateFrom=r.propagateFromFunction(),e.prototype._boundValue=r.boundValueFunction());var u=n(o),l=new e(t);l._propagateFrom(this,1);var f=this._target();if(l._setBoundTo(u),u instanceof e){var p={promiseRejectionQueued:!1,promise:l,target:f,bindingPromise:u};f._then(t,a,void 0,l,p),u._then(s,c,void 0,l,p),l._setOnCancel(u)}else l._resolveCallback(f);return l},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=2097152|this._bitField,this._boundTo=e):this._bitField=this._bitField&-2097153},e.prototype._isBound=function(){return 2097152===(2097152&this._bitField)},e.bind=function(t,n){return e.resolve(n).bind(t)}}},{}],4:[function(e,t,r){"use strict";function i(){try{n===a&&(n=o)}catch(e){}return a}var o;"undefined"!=typeof n&&(o=n);var a=e("./promise")();a.noConflict=i,t.exports=a},{"./promise":22}],5:[function(e,t,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}t.exports=function(t){function n(e,n){var r;if(null!=e&&(r=e[n]),"function"!=typeof r){var i="Object "+s.classString(e)+" has no method '"+s.toString(n)+"'";throw new t.TypeError(i)}return r}function r(e){var t=this.pop(),r=n(e,t);return r.apply(e,this)}function i(e){return e[this]}function o(e){var t=+this;return t<0&&(t=Math.max(0,t+e.length)),e[t]}var a,s=e("./util"),c=s.canEvaluate;s.isIdentifier;t.prototype.call=function(e){var t=[].slice.call(arguments,1);return t.push(e),this._then(r,void 0,void 0,t,void 0)},t.prototype.get=function(e){var t,n="number"==typeof e;if(n)t=o;else if(c){var r=a(e);t=null!==r?r:i}else t=i;return this._then(t,void 0,void 0,e,void 0)}}},{"./util":36}],6:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){var o=e("./util"),a=o.tryCatch,s=o.errorObj,c=t._async;t.prototype.break=t.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var e=this,t=e;e._isCancellable();){if(!e._cancelBy(t)){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}var n=e._cancellationParent;if(null==n||!n._isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel(),e._setWillBeCancelled(),t=e,e=n}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),c.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(e,t){if(o.isArray(e))for(var n=0;n<e.length;++n)this._doInvokeOnCancel(e[n],t);else if(void 0!==e)if("function"==typeof e){if(!t){var r=a(e).call(this._boundValue());r===s&&(this._attachExtraTrace(r.e),c.throwLater(r.e))}}else e._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),c.invoke(this._doInvokeOnCancel,this,e)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(e,t,n){"use strict";t.exports=function(t){function n(e,n,s){return function(c){var u=s._boundValue();e:for(var l=0;l<e.length;++l){var f=e[l];if(f===Error||null!=f&&f.prototype instanceof Error){if(c instanceof f)return o(n).call(u,c)}else if("function"==typeof f){var p=o(f).call(u,c);if(p===a)return p;if(p)return o(n).call(u,c)}else if(r.isObject(c)){for(var d=i(f),h=0;h<d.length;++h){var m=d[h];if(f[m]!=c[m])continue e}return o(n).call(u,c)}}return t}}var r=e("./util"),i=e("./es5").keys,o=r.tryCatch,a=r.errorObj;return n}},{"./es5":13,"./util":36}],8:[function(e,t,n){"use strict";t.exports=function(e){function t(){this._trace=new t.CapturedTrace(r())}function n(){if(i)return new t}function r(){var e=o.length-1;if(e>=0)return o[e]}var i=!1,o=[];return e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){},t.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,o.push(this._trace))},t.prototype._popContext=function(){if(void 0!==this._trace){var e=o.pop(),t=e._promiseCreated;return e._promiseCreated=null,t}return null},t.CapturedTrace=null,t.create=n,t.deactivateLongStackTraces=function(){},t.activateLongStackTraces=function(){var n=e.prototype._pushContext,o=e.prototype._popContext,a=e._peekContext,s=e.prototype._peekContext,c=e.prototype._promiseCreated;t.deactivateLongStackTraces=function(){e.prototype._pushContext=n,e.prototype._popContext=o,e._peekContext=a,e.prototype._peekContext=s,e.prototype._promiseCreated=c,i=!1},i=!0,e.prototype._pushContext=t.prototype._pushContext,e.prototype._popContext=t.prototype._popContext,e._peekContext=e.prototype._peekContext=r,e.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}},t}},{}],9:[function(e,n,r){"use strict";n.exports=function(n,r){function i(e,t){return{promise:t}}function o(){return!1}function a(e,t,n){var r=this;try{e(t,n,function(e){if("function"!=typeof e)throw new TypeError("onCancel must be a function, got: "+B.toString(e));r._attachCancellationCallback(e)})}catch(e){return e}}function s(e){if(!this._isCancellable())return this;var t=this._onCancel();void 0!==t?B.isArray(t)?t.push(e):this._setOnCancel([t,e]):this._setOnCancel(e)}function c(){return this._onCancelField}function u(e){this._onCancelField=e}function l(){this._cancellationParent=void 0,this._onCancelField=void 0}function f(e,t){if(0!==(1&t)){this._cancellationParent=e;var n=e._branchesRemainingToCancel;void 0===n&&(n=0),e._branchesRemainingToCancel=n+1}0!==(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function p(e,t){0!==(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function d(){var e=this._boundTo;return void 0!==e&&e instanceof n?e.isFulfilled()?e.value():void 0:e}function h(){this._trace=new N(this._peekContext())}function m(e,t){if(U(e)){var n=this._trace;if(void 0!==n&&t&&(n=n._parent),void 0!==n)n.attachExtraTrace(e);else if(!e.__stackCleaned__){var r=k(e);B.notEnumerableProp(e,"stack",r.message+"\n"+r.stack.join("\n")),B.notEnumerableProp(e,"__stackCleaned__",!0)}}}function v(e,t,n,r,i){if(void 0===e&&null!==t&&X){if(void 0!==i&&i._returnedNonUndefined())return;if(0===(65535&r._bitField))return;n&&(n+=" ");var o="",a="";if(t._trace){for(var s=t._trace.stack.split("\n"),c=x(s),u=c.length-1;u>=0;--u){var l=c[u];if(!W.test(l)){var f=l.match(V);f&&(o="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(c.length>0)for(var p=c[0],u=0;u<s.length;++u)if(s[u]===p){u>0&&(a="\n"+s[u-1]);break}}var d="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+a;r._warn(d,!0,t)}}function g(e,t){var n=e+" is deprecated and will be removed in a future version.";return t&&(n+=" Use "+t+" instead."),y(n)}function y(e,t,r){if(ae.warnings){var i,o=new F(e);if(t)r._attachExtraTrace(o);else if(ae.longStackTraces&&(i=n._peekContext()))i.attachExtraTrace(o);else{var a=k(o);o.stack=a.message+"\n"+a.stack.join("\n")}te("warning",o)||T(o,"",!0)}}function b(e,t){for(var n=0;n<t.length-1;++n)t[n].push("From previous event:"),t[n]=t[n].join("\n");return n<t.length&&(t[n]=t[n].join("\n")),e+"\n"+t.join("\n")}function w(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}function _(e){for(var t=e[0],n=1;n<e.length;++n){for(var r=e[n],i=t.length-1,o=t[i],a=-1,s=r.length-1;s>=0;--s)if(r[s]===o){a=s;break}for(var s=a;s>=0;--s){var c=r[s];if(t[i]!==c)break;t.pop(),i--}t=r}}function x(e){for(var t=[],n=0;n<e.length;++n){var r=e[n],i="    (No stack trace)"===r||$.test(r),o=i&&re(r);i&&!o&&(q&&" "!==r.charAt(0)&&(r="    "+r),t.push(r))}return t}function C(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),n=0;n<t.length;++n){var r=t[n];if("    (No stack trace)"===r||$.test(r))break}return n>0&&"SyntaxError"!=e.name&&(t=t.slice(n)),t}function k(e){var t=e.stack,n=e.toString();return t="string"==typeof t&&t.length>0?C(e):["    (No stack trace)"],{message:n,stack:"SyntaxError"==e.name?t:x(t)}}function T(e,t,n){if("undefined"!=typeof console){var r;if(B.isObject(e)){var i=e.stack;r=t+H(i,e)}else r=t+String(e);"function"==typeof M?M(r,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function S(e,t,n,r){var i=!1;try{"function"==typeof t&&(i=!0,"rejectionHandled"===e?t(r):t(n,r))}catch(e){j.throwLater(e)}"unhandledRejection"===e?te(e,n,r)||i||T(n,"Unhandled rejection "):te(e,r)}function E(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{t=e&&"function"==typeof e.toString?e.toString():B.toString(e);var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(t))try{var r=JSON.stringify(e);t=r}catch(e){}0===t.length&&(t="(empty array)")}return"(<"+A(t)+">, no stack trace)"}function A(e){var t=41;return e.length<t?e:e.substr(0,t-3)+"..."}function I(){return"function"==typeof oe}function O(e){var t=e.match(ie);if(t)return{fileName:t[1],line:parseInt(t[2],10)}}function P(e,t){if(I()){for(var n,r,i=e.stack.split("\n"),o=t.stack.split("\n"),a=-1,s=-1,c=0;c<i.length;++c){var u=O(i[c]);if(u){n=u.fileName,a=u.line;break}}for(var c=0;c<o.length;++c){var u=O(o[c]);if(u){r=u.fileName,s=u.line;break}}a<0||s<0||!n||!r||n!==r||a>=s||(re=function(e){if(z.test(e))return!0;var t=O(e);return!!(t&&t.fileName===n&&a<=t.line&&t.line<=s)})}}function N(e){this._parent=e,this._promisesCreated=0;var t=this._length=1+(void 0===e?0:e._length);oe(this,N),t>32&&this.uncycle()}var D,L,M,R=n._getDomain,j=n._async,F=e("./errors").Warning,B=e("./util"),U=B.canAttachTrace,z=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,W=/\((?:timers\.js):\d+:\d+\)/,V=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,$=null,H=null,q=!1,K=!(0==B.env("BLUEBIRD_DEBUG")),G=!(0==B.env("BLUEBIRD_WARNINGS")||!K&&!B.env("BLUEBIRD_WARNINGS")),Y=!(0==B.env("BLUEBIRD_LONG_STACK_TRACES")||!K&&!B.env("BLUEBIRD_LONG_STACK_TRACES")),X=0!=B.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(G||!!B.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=e._bitField&-1048577|524288},n.prototype._ensurePossibleRejectionHandled=function(){0===(524288&this._bitField)&&(this._setRejectionIsUnhandled(),j.invokeLater(this._notifyUnhandledRejection,this,void 0))},n.prototype._notifyUnhandledRejectionIsHandled=function(){S("rejectionHandled",D,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},n.prototype._returnedNonUndefined=function(){return 0!==(268435456&this._bitField)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified(),S("unhandledRejection",L,e,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},n.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},n.prototype._warn=function(e,t,n){return y(e,t,n||this)},n.onPossiblyUnhandledRejection=function(e){var t=R();L="function"==typeof e?null===t?e:B.domainBind(t,e):void 0},n.onUnhandledRejectionHandled=function(e){var t=R();D="function"==typeof e?null===t?e:B.domainBind(t,e):void 0};var J=function(){};n.longStackTraces=function(){if(j.haveItemsQueued()&&!ae.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!ae.longStackTraces&&I()){var e=n.prototype._captureStackTrace,t=n.prototype._attachExtraTrace;ae.longStackTraces=!0,J=function(){if(j.haveItemsQueued()&&!ae.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype._captureStackTrace=e,n.prototype._attachExtraTrace=t,r.deactivateLongStackTraces(),j.enableTrampoline(),ae.longStackTraces=!1},n.prototype._captureStackTrace=h,n.prototype._attachExtraTrace=m,r.activateLongStackTraces(),j.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return ae.longStackTraces&&I()};var Z=function(){try{if("function"==typeof CustomEvent){var e=new CustomEvent("CustomEvent");return B.global.dispatchEvent(e),function(e,t){var n=new CustomEvent(e.toLowerCase(),{detail:t,cancelable:!0});return!B.global.dispatchEvent(n)}}if("function"==typeof Event){var e=new Event("CustomEvent");return B.global.dispatchEvent(e),function(e,t){var n=new Event(e.toLowerCase(),{cancelable:!0});return n.detail=t,!B.global.dispatchEvent(n)}}var e=document.createEvent("CustomEvent");return e.initCustomEvent("testingtheevent",!1,!0,{}),B.global.dispatchEvent(e),function(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e.toLowerCase(),!1,!0,t),!B.global.dispatchEvent(n)}}catch(e){}return function(){return!1}}(),Q=function(){return B.isNode?function(){return t.emit.apply(t,arguments)}:B.global?function(e){var t="on"+e.toLowerCase(),n=B.global[t];return!!n&&(n.apply(B.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}(),ee={promiseCreated:i,promiseFulfilled:i,promiseRejected:i,promiseResolved:i,promiseCancelled:i,promiseChained:function(e,t,n){return{promise:t,child:n}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,n){return{reason:t,promise:n}},rejectionHandled:i},te=function(e){var t=!1;try{t=Q.apply(null,arguments)}catch(e){j.throwLater(e),t=!0}var n=!1;try{n=Z(e,ee[e].apply(null,arguments))}catch(e){j.throwLater(e),n=!0}return n||t};n.config=function(e){if(e=Object(e),"longStackTraces"in e&&(e.longStackTraces?n.longStackTraces():!e.longStackTraces&&n.hasLongStackTraces()&&J()),"warnings"in e){var t=e.warnings;ae.warnings=!!t,X=ae.warnings,B.isObject(t)&&"wForgottenReturn"in t&&(X=!!t.wForgottenReturn)}if("cancellation"in e&&e.cancellation&&!ae.cancellation){if(j.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=l,n.prototype._propagateFrom=f,n.prototype._onCancel=c,n.prototype._setOnCancel=u,n.prototype._attachCancellationCallback=s,n.prototype._execute=a,ne=f,ae.cancellation=!0}return"monitoring"in e&&(e.monitoring&&!ae.monitoring?(ae.monitoring=!0,n.prototype._fireEvent=te):!e.monitoring&&ae.monitoring&&(ae.monitoring=!1,n.prototype._fireEvent=o)),n},n.prototype._fireEvent=o,n.prototype._execute=function(e,t,n){try{e(t,n)}catch(e){return e}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(e){},n.prototype._attachCancellationCallback=function(e){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(e,t){};var ne=p,re=function(){return!1},ie=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;B.inherits(N,Error),r.CapturedTrace=N,N.prototype.uncycle=function(){var e=this._length;if(!(e<2)){for(var t=[],n={},r=0,i=this;void 0!==i;++r)t.push(i),i=i._parent;e=this._length=r;for(var r=e-1;r>=0;--r){var o=t[r].stack;void 0===n[o]&&(n[o]=r)}for(var r=0;r<e;++r){var a=t[r].stack,s=n[a];if(void 0!==s&&s!==r){s>0&&(t[s-1]._parent=void 0,t[s-1]._length=1),t[r]._parent=void 0,t[r]._length=1;var c=r>0?t[r-1]:this;s<e-1?(c._parent=t[s+1],c._parent.uncycle(),c._length=c._parent._length+1):(c._parent=void 0,c._length=1);for(var u=c._length+1,l=r-2;l>=0;--l)t[l]._length=u,u++;return}}}},N.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=k(e),n=t.message,r=[t.stack],i=this;void 0!==i;)r.push(x(i.stack.split("\n"))),i=i._parent;_(r),w(r),B.notEnumerableProp(e,"stack",b(n,r)),B.notEnumerableProp(e,"__stackCleaned__",!0)}};var oe=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():E(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,$=e,H=t;var n=Error.captureStackTrace;return re=function(e){return z.test(e)},function(e,t){Error.stackTraceLimit+=6,n(e,t),Error.stackTraceLimit-=6}}var r=new Error;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return $=/@/,H=t,q=!0,function(e){e.stack=(new Error).stack};var i;try{throw new Error}catch(e){i="stack"in e}return"stack"in r||!i||"number"!=typeof Error.stackTraceLimit?(H=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||void 0===t.name||void 0===t.message?E(t):t.toString()},null):($=e,H=t,function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit-=6})}([]);"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(M=function(e){console.warn(e)},B.isNode&&t.stderr.isTTY?M=function(e,t){var n=t?"[33m":"[31m";console.warn(n+e+"[0m\n")}:B.isNode||"string"!=typeof(new Error).stack||(M=function(e,t){console.warn("%c"+e,t?"color: darkorange":"color: red")}));var ae={warnings:G,longStackTraces:!1,cancellation:!1,monitoring:!1};return Y&&n.longStackTraces(),{longStackTraces:function(){return ae.longStackTraces},warnings:function(){return ae.warnings},cancellation:function(){return ae.cancellation},monitoring:function(){return ae.monitoring;
},propagateFromFunction:function(){return ne},boundValueFunction:function(){return d},checkForgottenReturns:v,setBounds:P,warn:y,deprecated:g,CapturedTrace:N,fireDomEvent:Z,fireGlobalEvent:Q}}},{"./errors":12,"./util":36}],10:[function(e,t,n){"use strict";t.exports=function(e){function t(){return this.value}function n(){throw this.reason}e.prototype.return=e.prototype.thenReturn=function(n){return n instanceof e&&n.suppressUnhandledRejections(),this._then(t,void 0,void 0,{value:n},void 0)},e.prototype.throw=e.prototype.thenThrow=function(e){return this._then(n,void 0,void 0,{reason:e},void 0)},e.prototype.catchThrow=function(e){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:e},void 0);var t=arguments[1],r=function(){throw t};return this.caught(e,r)},e.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof e&&n.suppressUnhandledRejections(),this._then(void 0,t,void 0,{value:n},void 0);var r=arguments[1];r instanceof e&&r.suppressUnhandledRejections();var i=function(){return r};return this.caught(n,i)}}},{}],11:[function(e,t,n){"use strict";t.exports=function(e,t){function n(){return o(this)}function r(e,n){return i(e,n,t,t)}var i=e.reduce,o=e.all;e.prototype.each=function(e){return i(this,e,t,0)._then(n,void 0,void 0,this,void 0)},e.prototype.mapSeries=function(e){return i(this,e,t,t)},e.each=function(e,r){return i(e,r,t,0)._then(n,void 0,void 0,e,void 0)},e.mapSeries=r}},{}],12:[function(e,t,n){"use strict";function r(e,t){function n(r){return this instanceof n?(f(this,"message","string"==typeof r?r:t),f(this,"name",e),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new n(r)}return l(n,Error),n}function i(e){return this instanceof i?(f(this,"name","OperationalError"),f(this,"message",e),this.cause=e,this.isOperational=!0,void(e instanceof Error?(f(this,"message",e.message),f(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new i(e)}var o,a,s=e("./es5"),c=s.freeze,u=e("./util"),l=u.inherits,f=u.notEnumerableProp,p=r("Warning","warning"),d=r("CancellationError","cancellation error"),h=r("TimeoutError","timeout error"),m=r("AggregateError","aggregate error");try{o=TypeError,a=RangeError}catch(e){o=r("TypeError","type error"),a=r("RangeError","range error")}for(var v="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),g=0;g<v.length;++g)"function"==typeof Array.prototype[v[g]]&&(m.prototype[v[g]]=Array.prototype[v[g]]);s.defineProperty(m.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),m.prototype.isOperational=!0;var y=0;m.prototype.toString=function(){var e=Array(4*y+1).join(" "),t="\n"+e+"AggregateError of:\n";y++,e=Array(4*y+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=e+i[o];r=i.join("\n"),t+=r+"\n"}return y--,t},l(i,Error);var b=Error.__BluebirdErrorTypes__;b||(b=c({CancellationError:d,TimeoutError:h,OperationalError:i,RejectionError:i,AggregateError:m}),s.defineProperty(Error,"__BluebirdErrorTypes__",{value:b,writable:!1,enumerable:!1,configurable:!1})),t.exports={Error:Error,TypeError:o,RangeError:a,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:p}},{"./es5":13,"./util":36}],13:[function(e,t,n){var r=function(){"use strict";return void 0===this}();if(r)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,o={}.toString,a={}.constructor.prototype,s=function(e){var t=[];for(var n in e)i.call(e,n)&&t.push(n);return t},c=function(e,t){return{value:e[t]}},u=function(e,t,n){return e[t]=n.value,e},l=function(e){return e},f=function(e){try{return Object(e).constructor.prototype}catch(e){return a}},p=function(e){try{return"[object Array]"===o.call(e)}catch(e){return!1}};t.exports={isArray:p,keys:s,names:s,defineProperty:u,getDescriptor:c,freeze:l,getPrototypeOf:f,isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.map;e.prototype.filter=function(e,r){return n(this,e,r,t)},e.filter=function(e,r,i){return n(e,r,i,t)}}},{}],15:[function(e,t,n){"use strict";t.exports=function(t,n){function r(e,t,n){this.promise=e,this.type=t,this.handler=n,this.called=!1,this.cancelPromise=null}function i(e){this.finallyHandler=e}function o(e,t){return null!=e.cancelPromise&&(arguments.length>1?e.cancelPromise._reject(t):e.cancelPromise._cancel(),e.cancelPromise=null,!0)}function a(){return c.call(this,this.promise._target()._settledValue())}function s(e){if(!o(this,e))return f.e=e,f}function c(e){var r=this.promise,c=this.handler;if(!this.called){this.called=!0;var u=this.isFinallyHandler()?c.call(r._boundValue()):c.call(r._boundValue(),e);if(void 0!==u){r._setReturnedNonUndefined();var p=n(u,r);if(p instanceof t){if(null!=this.cancelPromise){if(p._isCancelled()){var d=new l("late cancellation observer");return r._attachExtraTrace(d),f.e=d,f}p.isPending()&&p._attachCancellationCallback(new i(this))}return p._then(a,s,void 0,this,void 0)}}}return r.isRejected()?(o(this),f.e=e,f):(o(this),e)}var u=e("./util"),l=t.CancellationError,f=u.errorObj;return r.prototype.isFinallyHandler=function(){return 0===this.type},i.prototype._resultCancelled=function(){o(this.finallyHandler)},t.prototype._passThrough=function(e,t,n,i){return"function"!=typeof e?this.then():this._then(n,i,void 0,new r(this,t,e),void 0)},t.prototype.lastly=t.prototype.finally=function(e){return this._passThrough(e,0,c,c)},t.prototype.tap=function(e){return this._passThrough(e,1,c)},r}},{"./util":36}],16:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,a){function s(e,n,r){for(var o=0;o<n.length;++o){r._pushContext();var a=d(n[o])(e);if(r._popContext(),a===p){r._pushContext();var s=t.reject(p.e);return r._popContext(),s}var c=i(a,r);if(c instanceof t)return c}return null}function c(e,n,i,o){if(a.cancellation()){var s=new t(r),c=this._finallyPromise=new t(r);this._promise=s.lastly(function(){return c}),s._captureStackTrace(),s._setOnCancel(this)}else{var u=this._promise=new t(r);u._captureStackTrace()}this._stack=o,this._generatorFunction=e,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(h):h,this._yieldedPromise=null,this._cancellationPhase=!1}var u=e("./errors"),l=u.TypeError,f=e("./util"),p=f.errorObj,d=f.tryCatch,h=[];f.inherits(c,o),c.prototype._isResolved=function(){return null===this._promise},c.prototype._cleanup=function(){this._promise=this._generator=null,a.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},c.prototype._promiseCancelled=function(){if(!this._isResolved()){var e,n="undefined"!=typeof this._generator.return;if(n)this._promise._pushContext(),e=d(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var r=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=r,this._promise._attachExtraTrace(r),this._promise._pushContext(),e=d(this._generator.throw).call(this._generator,r),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(e)}},c.prototype._promiseFulfilled=function(e){this._yieldedPromise=null,this._promise._pushContext();var t=d(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t)},c.prototype._promiseRejected=function(e){this._yieldedPromise=null,this._promise._attachExtraTrace(e),this._promise._pushContext();var t=d(this._generator.throw).call(this._generator,e);this._promise._popContext(),this._continue(t)},c.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var e=this._yieldedPromise;this._yieldedPromise=null,e.cancel()}},c.prototype.promise=function(){return this._promise},c.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},c.prototype._continue=function(e){var n=this._promise;if(e===p)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(e.e,!1);var r=e.value;if(e.done===!0)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var o=i(r,this._promise);if(!(o instanceof t)&&(o=s(o,this._yieldHandlers,this._promise),null===o))return void this._promiseRejected(new l("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",r)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));o=o._target();var a=o._bitField;0===(50397184&a)?(this._yieldedPromise=o,o._proxy(this,null)):0!==(33554432&a)?t._async.invoke(this._promiseFulfilled,this,o._value()):0!==(16777216&a)?t._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()},t.coroutine=function(e,t){if("function"!=typeof e)throw new l("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(t).yieldHandler,r=c,i=(new Error).stack;return function(){var t=e.apply(this,arguments),o=new r(void 0,void 0,n,i),a=o.promise();return o._generator=t,o._promiseFulfilled(void 0),a}},t.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new l("expecting a function but got "+f.classString(e));h.push(e)},t.spawn=function(e){if(a.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof e)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new c(e,this),i=r.promise();return r._run(t.spawn),i}}},{"./errors":12,"./util":36}],17:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,a){var s=e("./util");s.canEvaluate,s.tryCatch,s.errorObj;t.join=function(){var e,t=arguments.length-1;if(t>0&&"function"==typeof arguments[t]){e=arguments[t];var r}var i=[].slice.call(arguments);e&&i.pop();var r=new n(i).promise();return void 0!==e?r.spread(e):r}}},{"./util":36}],18:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,a){function s(e,t,n,r){this.constructor$(e),this._promise._captureStackTrace();var i=u();this._callback=null===i?t:l.domainBind(i,t),this._preservedValues=r===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],d.invoke(this._asyncInit,this,void 0)}function c(e,n,i,o){if("function"!=typeof n)return r("expecting a function but got "+l.classString(n));var a=0;if(void 0!==i){if("object"!=typeof i||null===i)return t.reject(new TypeError("options argument must be an object but it is "+l.classString(i)));if("number"!=typeof i.concurrency)return t.reject(new TypeError("'concurrency' must be a number but it is "+l.classString(i.concurrency)));a=i.concurrency}return a="number"==typeof a&&isFinite(a)&&a>=1?a:0,new s(e,n,a,o).promise()}var u=t._getDomain,l=e("./util"),f=l.tryCatch,p=l.errorObj,d=t._async;l.inherits(s,n),s.prototype._asyncInit=function(){this._init$(void 0,-2)},s.prototype._init=function(){},s.prototype._promiseFulfilled=function(e,n){var r=this._values,o=this.length(),s=this._preservedValues,c=this._limit;if(n<0){if(n=n*-1-1,r[n]=e,c>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(c>=1&&this._inFlight>=c)return r[n]=e,this._queue.push(n),!1;null!==s&&(s[n]=e);var u=this._promise,l=this._callback,d=u._boundValue();u._pushContext();var h=f(l).call(d,e,n,o),m=u._popContext();if(a.checkForgottenReturns(h,m,null!==s?"Promise.filter":"Promise.map",u),h===p)return this._reject(h.e),!0;var v=i(h,this._promise);if(v instanceof t){v=v._target();var g=v._bitField;if(0===(50397184&g))return c>=1&&this._inFlight++,r[n]=v,v._proxy(this,(n+1)*-1),!1;if(0===(33554432&g))return 0!==(16777216&g)?(this._reject(v._reason()),!0):(this._cancel(),!0);h=v._value()}r[n]=h}var y=++this._totalResolved;return y>=o&&(null!==s?this._filter(r,s):this._resolve(r),!0)},s.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,n=this._values;e.length>0&&this._inFlight<t;){if(this._isResolved())return;var r=e.pop();this._promiseFulfilled(n[r],r)}},s.prototype._filter=function(e,t){for(var n=t.length,r=new Array(n),i=0,o=0;o<n;++o)e[o]&&(r[i++]=t[o]);r.length=i,this._resolve(r)},s.prototype.preservedValues=function(){return this._preservedValues},t.prototype.map=function(e,t){return c(this,e,t,null)},t.map=function(e,t,n,r){return c(e,t,n,r)}}},{"./util":36}],19:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o){var a=e("./util"),s=a.tryCatch;t.method=function(e){if("function"!=typeof e)throw new t.TypeError("expecting a function but got "+a.classString(e));return function(){var r=new t(n);r._captureStackTrace(),r._pushContext();var i=s(e).apply(this,arguments),a=r._popContext();return o.checkForgottenReturns(i,a,"Promise.method",r),r._resolveFromSyncValue(i),r}},t.attempt=t.try=function(e){if("function"!=typeof e)return i("expecting a function but got "+a.classString(e));var r=new t(n);r._captureStackTrace(),r._pushContext();var c;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var u=arguments[1],l=arguments[2];c=a.isArray(u)?s(e).apply(l,u):s(e).call(l,u)}else c=s(e)();var f=r._popContext();return o.checkForgottenReturns(c,f,"Promise.try",r),r._resolveFromSyncValue(c),r},t.prototype._resolveFromSyncValue=function(e){e===a.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}}},{"./util":36}],20:[function(e,t,n){"use strict";function r(e){return e instanceof Error&&l.getPrototypeOf(e)===Error.prototype}function i(e){var t;if(r(e)){t=new u(e),t.name=e.name,t.message=e.message,t.stack=e.stack;for(var n=l.keys(e),i=0;i<n.length;++i){var o=n[i];f.test(o)||(t[o]=e[o])}return t}return a.markAsOriginatingFromRejection(e),e}function o(e,t){return function(n,r){if(null!==e){if(n){var o=i(s(n));e._attachExtraTrace(o),e._reject(o)}else if(t){var a=[].slice.call(arguments,1);e._fulfill(a)}else e._fulfill(r);e=null}}}var a=e("./util"),s=a.maybeWrapAsError,c=e("./errors"),u=c.OperationalError,l=e("./es5"),f=/^(?:name|message|stack|cause)$/;t.exports=o},{"./errors":12,"./es5":13,"./util":36}],21:[function(e,t,n){"use strict";t.exports=function(t){function n(e,t){var n=this;if(!o.isArray(e))return r.call(n,e,t);var i=s(t).apply(n._boundValue(),[null].concat(e));i===c&&a.throwLater(i.e)}function r(e,t){var n=this,r=n._boundValue(),i=void 0===e?s(t).call(r,null):s(t).call(r,null,e);i===c&&a.throwLater(i.e)}function i(e,t){var n=this;if(!e){var r=new Error(e+"");r.cause=e,e=r}var i=s(t).call(n._boundValue(),e);i===c&&a.throwLater(i.e)}var o=e("./util"),a=t._async,s=o.tryCatch,c=o.errorObj;t.prototype.asCallback=t.prototype.nodeify=function(e,t){if("function"==typeof e){var o=r;void 0!==t&&Object(t).spread&&(o=n),this._then(o,i,void 0,this,e)}return this}}},{"./util":36}],22:[function(e,n,r){"use strict";n.exports=function(){function r(){}function i(e,t){if("function"!=typeof t)throw new b("expecting a function but got "+h.classString(t));if(e.constructor!==o)throw new b("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}function o(e){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,e!==_&&(i(this,e),this._resolveFromExecutor(e)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function a(e){this.promise._resolveCallback(e)}function s(e){this.promise._rejectCallback(e,!1)}function c(e){var t=new o(_);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._promise0=e,t._receiver0=e}var u,l=function(){return new b("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},f=function(){return new o.PromiseInspection(this._target())},p=function(e){return o.reject(new b(e))},d={},h=e("./util");u=h.isNode?function(){var e=t.domain;return void 0===e&&(e=null),e}:function(){return null},h.notEnumerableProp(o,"_getDomain",u);var m=e("./es5"),v=e("./async"),g=new v;m.defineProperty(o,"_async",{value:g});var y=e("./errors"),b=o.TypeError=y.TypeError;o.RangeError=y.RangeError;var w=o.CancellationError=y.CancellationError;o.TimeoutError=y.TimeoutError,o.OperationalError=y.OperationalError,o.RejectionError=y.OperationalError,o.AggregateError=y.AggregateError;var _=function(){},x={},C={},k=e("./thenables")(o,_),T=e("./promise_array")(o,_,k,p,r),S=e("./context")(o),E=S.create,A=e("./debuggability")(o,S),I=(A.CapturedTrace,e("./finally")(o,k)),O=e("./catch_filter")(C),P=e("./nodeback"),N=h.errorObj,D=h.tryCatch;return o.prototype.toString=function(){return"[object Promise]"},o.prototype.caught=o.prototype.catch=function(e){var t=arguments.length;if(t>1){var n,r=new Array(t-1),i=0;for(n=0;n<t-1;++n){var o=arguments[n];if(!h.isObject(o))return p("expecting an object but got A catch statement predicate "+h.classString(o));r[i++]=o}return r.length=i,e=arguments[n],this.then(void 0,O(r,e,this))}return this.then(void 0,e)},o.prototype.reflect=function(){return this._then(f,f,void 0,this,void 0)},o.prototype.then=function(e,t){if(A.warnings()&&arguments.length>0&&"function"!=typeof e&&"function"!=typeof t){var n=".then() only accepts functions but was passed: "+h.classString(e);arguments.length>1&&(n+=", "+h.classString(t)),this._warn(n)}return this._then(e,t,void 0,void 0,void 0)},o.prototype.done=function(e,t){var n=this._then(e,t,void 0,void 0,void 0);n._setIsFinal()},o.prototype.spread=function(e){return"function"!=typeof e?p("expecting a function but got "+h.classString(e)):this.all()._then(e,void 0,void 0,x,void 0)},o.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},o.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new T(this).promise()},o.prototype.error=function(e){return this.caught(h.originatesFromRejection,e)},o.getNewLibraryCopy=n.exports,o.is=function(e){return e instanceof o},o.fromNode=o.fromCallback=function(e){var t=new o(_);t._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,r=D(e)(P(t,n));return r===N&&t._rejectCallback(r.e,!0),t._isFateSealed()||t._setAsyncGuaranteed(),t},o.all=function(e){return new T(e).promise()},o.cast=function(e){var t=k(e);return t instanceof o||(t=new o(_),t._captureStackTrace(),t._setFulfilled(),t._rejectionHandler0=e),t},o.resolve=o.fulfilled=o.cast,o.reject=o.rejected=function(e){var t=new o(_);return t._captureStackTrace(),t._rejectCallback(e,!0),t},o.setScheduler=function(e){if("function"!=typeof e)throw new b("expecting a function but got "+h.classString(e));return g.setScheduler(e)},o.prototype._then=function(e,t,n,r,i){var a=void 0!==i,s=a?i:new o(_),c=this._target(),l=c._bitField;a||(s._propagateFrom(this,3),s._captureStackTrace(),void 0===r&&0!==(2097152&this._bitField)&&(r=0!==(50397184&l)?this._boundValue():c===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,s));var f=u();if(0!==(50397184&l)){var p,d,m=c._settlePromiseCtx;0!==(33554432&l)?(d=c._rejectionHandler0,p=e):0!==(16777216&l)?(d=c._fulfillmentHandler0,p=t,c._unsetRejectionIsUnhandled()):(m=c._settlePromiseLateCancellationObserver,d=new w("late cancellation observer"),c._attachExtraTrace(d),p=t),g.invoke(m,c,{handler:null===f?p:"function"==typeof p&&h.domainBind(f,p),promise:s,receiver:r,value:d})}else c._addCallbacks(e,t,s,r,f);return s},o.prototype._length=function(){return 65535&this._bitField},o.prototype._isFateSealed=function(){return 0!==(117506048&this._bitField)},o.prototype._isFollowing=function(){return 67108864===(67108864&this._bitField)},o.prototype._setLength=function(e){this._bitField=this._bitField&-65536|65535&e},o.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},o.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},o.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},o.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},o.prototype._isFinal=function(){return(4194304&this._bitField)>0},o.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},o.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},o.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},o.prototype._setAsyncGuaranteed=function(){g.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},o.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[4*e-4+3];if(t!==d)return void 0===t&&this._isBound()?this._boundValue():t},o.prototype._promiseAt=function(e){return this[4*e-4+2]},o.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4+0]},o.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]},o.prototype._boundValue=function(){},o.prototype._migrateCallback0=function(e){var t=(e._bitField,e._fulfillmentHandler0),n=e._rejectionHandler0,r=e._promise0,i=e._receiverAt(0);void 0===i&&(i=d),this._addCallbacks(t,n,r,i,null)},o.prototype._migrateCallbackAt=function(e,t){var n=e._fulfillmentHandlerAt(t),r=e._rejectionHandlerAt(t),i=e._promiseAt(t),o=e._receiverAt(t);void 0===o&&(o=d),this._addCallbacks(n,r,i,o,null)},o.prototype._addCallbacks=function(e,t,n,r,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"==typeof e&&(this._fulfillmentHandler0=null===i?e:h.domainBind(i,e)),"function"==typeof t&&(this._rejectionHandler0=null===i?t:h.domainBind(i,t));else{var a=4*o-4;this[a+2]=n,this[a+3]=r,"function"==typeof e&&(this[a+0]=null===i?e:h.domainBind(i,e)),"function"==typeof t&&(this[a+1]=null===i?t:h.domainBind(i,t))}return this._setLength(o+1),o},o.prototype._proxy=function(e,t){this._addCallbacks(void 0,void 0,t,e,null)},o.prototype._resolveCallback=function(e,t){if(0===(117506048&this._bitField)){if(e===this)return this._rejectCallback(l(),!1);var n=k(e,this);if(!(n instanceof o))return this._fulfill(e);t&&this._propagateFrom(n,2);var r=n._target();if(r===this)return void this._reject(l());var i=r._bitField;if(0===(50397184&i)){var a=this._length();a>0&&r._migrateCallback0(this);for(var s=1;s<a;++s)r._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(r)}else if(0!==(33554432&i))this._fulfill(r._value());else if(0!==(16777216&i))this._reject(r._reason());else{var c=new w("late cancellation observer");r._attachExtraTrace(c),this._reject(c)}}},o.prototype._rejectCallback=function(e,t,n){var r=h.ensureErrorObject(e),i=r===e;if(!i&&!n&&A.warnings()){var o="a promise was rejected with a non-error: "+h.classString(e);this._warn(o,!0)}this._attachExtraTrace(r,!!t&&i),this._reject(e)},o.prototype._resolveFromExecutor=function(e){var t=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(e,function(e){t._resolveCallback(e)},function(e){t._rejectCallback(e,n)});n=!1,this._popContext(),void 0!==r&&t._rejectCallback(r,!0)},o.prototype._settlePromiseFromHandler=function(e,t,n,r){var i=r._bitField;if(0===(65536&i)){r._pushContext();var o;t===x?n&&"number"==typeof n.length?o=D(e).apply(this._boundValue(),n):(o=N,o.e=new b("cannot .spread() a non-array: "+h.classString(n))):o=D(e).call(t,n);var a=r._popContext();i=r._bitField,0===(65536&i)&&(o===C?r._reject(n):o===N?r._rejectCallback(o.e,!1):(A.checkForgottenReturns(o,a,"",r,this),r._resolveCallback(o)))}},o.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},o.prototype._followee=function(){return this._rejectionHandler0},o.prototype._setFollowee=function(e){this._rejectionHandler0=e},o.prototype._settlePromise=function(e,t,n,i){var a=e instanceof o,s=this._bitField,c=0!==(134217728&s);0!==(65536&s)?(a&&e._invokeInternalOnCancel(),n instanceof I&&n.isFinallyHandler()?(n.cancelPromise=e,D(t).call(n,i)===N&&e._reject(N.e)):t===f?e._fulfill(f.call(n)):n instanceof r?n._promiseCancelled(e):a||e instanceof T?e._cancel():n.cancel()):"function"==typeof t?a?(c&&e._setAsyncGuaranteed(),this._settlePromiseFromHandler(t,n,i,e)):t.call(n,i,e):n instanceof r?n._isResolved()||(0!==(33554432&s)?n._promiseFulfilled(i,e):n._promiseRejected(i,e)):a&&(c&&e._setAsyncGuaranteed(),0!==(33554432&s)?e._fulfill(i):e._reject(i))},o.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler,n=e.promise,r=e.receiver,i=e.value;"function"==typeof t?n instanceof o?this._settlePromiseFromHandler(t,r,i,n):t.call(r,i,n):n instanceof o&&n._reject(i)},o.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)},o.prototype._settlePromise0=function(e,t,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,e,i,t)},o.prototype._clearCallbackDataAtIndex=function(e){var t=4*e-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=void 0},o.prototype._fulfill=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(e===this){var n=l();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=e,(65535&t)>0&&(0!==(134217728&t)?this._settlePromises():g.settlePromises(this))}},o.prototype._reject=function(e){var t=this._bitField;if(!((117506048&t)>>>16))return this._setRejected(),this._fulfillmentHandler0=e,this._isFinal()?g.fatalError(e,h.isNode):void((65535&t)>0?g.settlePromises(this):this._ensurePossibleRejectionHandled())},o.prototype._fulfillPromises=function(e,t){for(var n=1;n<e;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,t)}},o.prototype._rejectPromises=function(e,t){for(var n=1;n<e;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,t)}},o.prototype._settlePromises=function(){var e=this._bitField,t=65535&e;if(t>0){if(0!==(16842752&e)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,e),this._rejectPromises(t,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,e),this._fulfillPromises(t,r)}this._setLength(0)}this._clearCancellationData()},o.prototype._settledValue=function(){var e=this._bitField;return 0!==(33554432&e)?this._rejectionHandler0:0!==(16777216&e)?this._fulfillmentHandler0:void 0},o.defer=o.pending=function(){A.deprecated("Promise.defer","new Promise");var e=new o(_);return{promise:e,resolve:a,reject:s}},h.notEnumerableProp(o,"_makeSelfResolutionError",l),e("./method")(o,_,k,p,A),e("./bind")(o,_,k,A),e("./cancel")(o,T,p,A),e("./direct_resolve")(o),e("./synchronous_inspection")(o),e("./join")(o,T,k,_,g,u),o.Promise=o,o.version="3.4.7",e("./map.js")(o,T,p,k,_,A),e("./call_get.js")(o),e("./using.js")(o,p,k,E,_,A),e("./timers.js")(o,_,A),e("./generators.js")(o,p,_,k,r,A),e("./nodeify.js")(o),e("./promisify.js")(o,_),e("./props.js")(o,T,k,p),e("./race.js")(o,_,k,p),e("./reduce.js")(o,T,p,k,_,A),e("./settle.js")(o,T,A),e("./some.js")(o,T,p),e("./filter.js")(o,_),e("./each.js")(o,_),e("./any.js")(o),h.toFastProperties(o),h.toFastProperties(o.prototype),c({a:1}),c({b:2}),c({c:3}),c(1),c(function(){}),c(void 0),c(!1),c(new o(_)),A.setBounds(v.firstLineError,h.lastLineError),o}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o){function a(e){switch(e){case-2:return[];case-3:return{}}}function s(e){var r=this._promise=new t(n);e instanceof t&&r._propagateFrom(e,3),r._setOnCancel(this),this._values=e,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var c=e("./util");c.isArray;return c.inherits(s,o),s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function e(n,o){var s=r(this._values,this._promise);if(s instanceof t){s=s._target();var u=s._bitField;if(this._values=s,0===(50397184&u))return this._promise._setAsyncGuaranteed(),s._then(e,this._reject,void 0,this,o);if(0===(33554432&u))return 0!==(16777216&u)?this._reject(s._reason()):this._cancel();s=s._value()}if(s=c.asArray(s),null===s){var l=i("expecting an array or an iterable object but got "+c.classString(s)).reason();return void this._promise._rejectCallback(l,!1)}return 0===s.length?void(o===-5?this._resolveEmptyArray():this._resolve(a(o))):void this._iterate(s)},s.prototype._iterate=function(e){var n=this.getActualLength(e.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,o=!1,a=null,s=0;s<n;++s){var c=r(e[s],i);c instanceof t?(c=c._target(),a=c._bitField):a=null,o?null!==a&&c.suppressUnhandledRejections():null!==a?0===(50397184&a)?(c._proxy(this,s),this._values[s]=c):o=0!==(33554432&a)?this._promiseFulfilled(c._value(),s):0!==(16777216&a)?this._promiseRejected(c._reason(),s):this._promiseCancelled(s):o=this._promiseFulfilled(c,s)}o||i._setAsyncGuaranteed()},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},s.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},s.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1)},s.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},s.prototype._promiseCancelled=function(){return this._cancel(),!0},s.prototype._promiseRejected=function(e){return this._totalResolved++,this._reject(e),!0},s.prototype._resultCancelled=function(){if(!this._isResolved()){var e=this._values;if(this._cancel(),e instanceof t)e.cancel();else for(var n=0;n<e.length;++n)e[n]instanceof t&&e[n].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(e){return e},s}},{"./util":36}],24:[function(e,t,n){"use strict";t.exports=function(t,n){function r(e){return!x.test(e)}function i(e){try{return e.__isPromisified__===!0}catch(e){return!1}}function o(e,t,n){var r=d.getDataPropertyOrDefault(e,t+n,w);return!!r&&i(r)}function a(e,t,n){for(var r=0;r<e.length;r+=2){var i=e[r];if(n.test(i))for(var o=i.replace(n,""),a=0;a<e.length;a+=2)if(e[a]===o)throw new y("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",t))}}function s(e,t,n,r){for(var s=d.inheritedDataKeys(e),c=[],u=0;u<s.length;++u){var l=s[u],f=e[l],p=r===C||C(l,f,e);"function"!=typeof f||i(f)||o(e,l,t)||!r(l,f,e,p)||c.push(l,f)}return a(c,t,n),c}function c(e,r,i,o,a,s){function c(){var i=r;r===p&&(i=this);var o=new t(n);o._captureStackTrace();var a="string"==typeof l&&this!==u?this[l]:e,c=h(o,s);try{a.apply(i,m(arguments,c))}catch(e){o._rejectCallback(v(e),!0,!0)}return o._isFateSealed()||o._setAsyncGuaranteed(),o}var u=function(){return this}(),l=e;return"string"==typeof l&&(e=o),d.notEnumerableProp(c,"__isPromisified__",!0),
c}function u(e,t,n,r,i){for(var o=new RegExp(k(t)+"$"),a=s(e,t,o,n),c=0,u=a.length;c<u;c+=2){var l=a[c],f=a[c+1],h=l+t;if(r===T)e[h]=T(l,p,l,f,t,i);else{var m=r(f,function(){return T(l,p,l,f,t,i)});d.notEnumerableProp(m,"__isPromisified__",!0),e[h]=m}}return d.toFastProperties(e),e}function l(e,t,n){return T(e,t,void 0,e,null,n)}var f,p={},d=e("./util"),h=e("./nodeback"),m=d.withAppended,v=d.maybeWrapAsError,g=d.canEvaluate,y=e("./errors").TypeError,b="Async",w={__isPromisified__:!0},_=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],x=new RegExp("^(?:"+_.join("|")+")$"),C=function(e){return d.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e},k=function(e){return e.replace(/([$])/,"\\$")},T=g?f:c;t.promisify=function(e,t){if("function"!=typeof e)throw new y("expecting a function but got "+d.classString(e));if(i(e))return e;t=Object(t);var n=void 0===t.context?p:t.context,o=!!t.multiArgs,a=l(e,n,o);return d.copyDescriptors(e,a,r),a},t.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!=typeof e)throw new y("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");t=Object(t);var n=!!t.multiArgs,r=t.suffix;"string"!=typeof r&&(r=b);var i=t.filter;"function"!=typeof i&&(i=C);var o=t.promisifier;if("function"!=typeof o&&(o=T),!d.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var a=d.inheritedDataKeys(e),s=0;s<a.length;++s){var c=e[a[s]];"constructor"!==a[s]&&d.isClass(c)&&(u(c.prototype,r,i,o,n),u(c,r,i,o,n))}return u(e,r,i,o,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){function o(e){var t,n=!1;if(void 0!==s&&e instanceof s)t=f(e),n=!0;else{var r=l.keys(e),i=r.length;t=new Array(2*i);for(var o=0;o<i;++o){var a=r[o];t[o]=e[a],t[o+i]=a}}this.constructor$(t),this._isMap=n,this._init$(void 0,-3)}function a(e){var n,a=r(e);return u(a)?(n=a instanceof t?a._then(t.props,void 0,void 0,void 0,void 0):new o(a).promise(),a instanceof t&&n._propagateFrom(a,2),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var s,c=e("./util"),u=c.isObject,l=e("./es5");"function"==typeof Map&&(s=Map);var f=function(){function e(e,r){this[t]=e,this[t+n]=r,t++}var t=0,n=0;return function(r){n=r.size,t=0;var i=new Array(2*r.size);return r.forEach(e,i),i}}(),p=function(e){for(var t=new s,n=e.length/2|0,r=0;r<n;++r){var i=e[n+r],o=e[r];t.set(i,o)}return t};c.inherits(o,n),o.prototype._init=function(){},o.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var n=++this._totalResolved;if(n>=this._length){var r;if(this._isMap)r=p(this._values);else{r={};for(var i=this.length(),o=0,a=this.length();o<a;++o)r[this._values[o+i]]=this._values[o]}return this._resolve(r),!0}return!1},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(e){return e>>1},t.prototype.props=function(){return a(this)},t.props=function(e){return a(e)}}},{"./es5":13,"./util":36}],26:[function(e,t,n){"use strict";function r(e,t,n,r,i){for(var o=0;o<i;++o)n[o+r]=e[o+t],e[o+t]=void 0}function i(e){this._capacity=e,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(e){return this._capacity<e},i.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1);var n=this._front+t&this._capacity-1;this[n]=e,this._length=t+1},i.prototype.push=function(e,t,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(e),this._pushOne(t),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=e,this[i+1&o]=t,this[i+2&o]=n,this._length=r},i.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e;var n=this._front,i=this._length,o=n+i&t-1;r(this,0,this,t,o)},t.exports=i},{}],27:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){function o(e,o){var c=r(e);if(c instanceof t)return s(c);if(e=a.asArray(e),null===e)return i("expecting an array or an iterable object but got "+a.classString(e));var u=new t(n);void 0!==o&&u._propagateFrom(o,3);for(var l=u._fulfill,f=u._reject,p=0,d=e.length;p<d;++p){var h=e[p];(void 0!==h||p in e)&&t.cast(h)._then(l,f,void 0,u,null)}return u}var a=e("./util"),s=function(e){return e.then(function(t){return o(t,e)})};t.race=function(e){return o(e,void 0)},t.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,a){function s(e,n,r,i){this.constructor$(e);var a=p();this._fn=null===a?n:d.domainBind(a,n),void 0!==r&&(r=t.resolve(r),r._attachCancellationCallback(this)),this._initialValue=r,this._currentCancellable=null,i===o?this._eachValues=Array(this._length):0===i?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function c(e,t){this.isFulfilled()?t._resolve(e):t._reject(e)}function u(e,t,n,i){if("function"!=typeof t)return r("expecting a function but got "+d.classString(t));var o=new s(e,t,n,i);return o.promise()}function l(e){this.accum=e,this.array._gotAccum(e);var n=i(this.value,this.array._promise);return n instanceof t?(this.array._currentCancellable=n,n._then(f,void 0,void 0,this,void 0)):f.call(this,n)}function f(e){var n=this.array,r=n._promise,i=h(n._fn);r._pushContext();var o;o=void 0!==n._eachValues?i.call(r._boundValue(),e,this.index,this.length):i.call(r._boundValue(),this.accum,e,this.index,this.length),o instanceof t&&(n._currentCancellable=o);var s=r._popContext();return a.checkForgottenReturns(o,s,void 0!==n._eachValues?"Promise.each":"Promise.reduce",r),o}var p=t._getDomain,d=e("./util"),h=d.tryCatch;d.inherits(s,n),s.prototype._gotAccum=function(e){void 0!==this._eachValues&&null!==this._eachValues&&e!==o&&this._eachValues.push(e)},s.prototype._eachComplete=function(e){return null!==this._eachValues&&this._eachValues.push(e),this._eachValues},s.prototype._init=function(){},s.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},s.prototype.shouldCopyValues=function(){return!1},s.prototype._resolve=function(e){this._promise._resolveCallback(e),this._values=null},s.prototype._resultCancelled=function(e){return e===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel()))},s.prototype._iterate=function(e){this._values=e;var n,r,i=e.length;if(void 0!==this._initialValue?(n=this._initialValue,r=0):(n=t.resolve(e[0]),r=1),this._currentCancellable=n,!n.isRejected())for(;r<i;++r){var o={accum:null,value:e[r],index:r,length:i,array:this};n=n._then(l,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(c,c,void 0,n,this)},t.prototype.reduce=function(e,t){return u(this,e,t,null)},t.reduce=function(e,t,n,r){return u(e,t,n,r)}}},{"./util":36}],29:[function(e,n,o){"use strict";var a,s=e("./util"),c=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},u=s.getNativePromise();if(s.isNode&&"undefined"==typeof MutationObserver){var l=r.setImmediate,f=t.nextTick;a=s.isRecentNode?function(e){l.call(r,e)}:function(e){f.call(t,e)}}else if("function"==typeof u&&"function"==typeof u.resolve){var p=u.resolve();a=function(e){p.then(e)}}else a="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?"undefined"!=typeof i?function(e){i(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:c:function(){var e=document.createElement("div"),t={attributes:!0},n=!1,r=document.createElement("div"),i=new MutationObserver(function(){e.classList.toggle("foo"),n=!1});i.observe(r,t);var o=function(){n||(n=!0,r.classList.toggle("foo"))};return function(n){var r=new MutationObserver(function(){r.disconnect(),n()});r.observe(e,t),o()}}();n.exports=a},{"./util":36}],30:[function(e,t,n){"use strict";t.exports=function(t,n,r){function i(e){this.constructor$(e)}var o=t.PromiseInspection,a=e("./util");a.inherits(i,n),i.prototype._promiseResolved=function(e,t){this._values[e]=t;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},i.prototype._promiseFulfilled=function(e,t){var n=new o;return n._bitField=33554432,n._settledValueField=e,this._promiseResolved(t,n)},i.prototype._promiseRejected=function(e,t){var n=new o;return n._bitField=16777216,n._settledValueField=e,this._promiseResolved(t,n)},t.settle=function(e){return r.deprecated(".settle()",".reflect()"),new i(e).promise()},t.prototype.settle=function(){return t.settle(this)}}},{"./util":36}],31:[function(e,t,n){"use strict";t.exports=function(t,n,r){function i(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(e,t){if((0|t)!==t||t<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new i(e),o=n.promise();return n.setHowMany(t),n.init(),o}var a=e("./util"),s=e("./errors").RangeError,c=e("./errors").AggregateError,u=a.isArray,l={};a.inherits(i,n),i.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var e=u(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},i.prototype.init=function(){this._initialized=!0,this._init()},i.prototype.setUnwrap=function(){this._unwrap=!0},i.prototype.howMany=function(){return this._howMany},i.prototype.setHowMany=function(e){this._howMany=e},i.prototype._promiseFulfilled=function(e){return this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},i.prototype._promiseRejected=function(e){return this._addRejected(e),this._checkOutcome()},i.prototype._promiseCancelled=function(){return this._values instanceof t||null==this._values?this._cancel():(this._addRejected(l),this._checkOutcome())},i.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new c,t=this.length();t<this._values.length;++t)this._values[t]!==l&&e.push(this._values[t]);return e.length>0?this._reject(e):this._cancel(),!0}return!1},i.prototype._fulfilled=function(){return this._totalResolved},i.prototype._rejected=function(){return this._values.length-this.length()},i.prototype._addRejected=function(e){this._values.push(e)},i.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},i.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},i.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new s(t)},i.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=function(e,t){return o(e,t)},t.prototype.some=function(e){return o(this,e)},t._SomePromiseArray=i}},{"./errors":12,"./util":36}],32:[function(e,t,n){"use strict";t.exports=function(e){function t(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValueField=e._isFateSealed()?e._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}t.prototype._settledValue=function(){return this._settledValueField};var n=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=t.prototype.isFulfilled=function(){return 0!==(33554432&this._bitField)},o=t.prototype.isRejected=function(){return 0!==(16777216&this._bitField)},a=t.prototype.isPending=function(){return 0===(50397184&this._bitField)},s=t.prototype.isResolved=function(){return 0!==(50331648&this._bitField)};t.prototype.isCancelled=function(){return 0!==(8454144&this._bitField)},e.prototype.__isCancelled=function(){return 65536===(65536&this._bitField)},e.prototype._isCancelled=function(){return this._target().__isCancelled()},e.prototype.isCancelled=function(){return 0!==(8454144&this._target()._bitField)},e.prototype.isPending=function(){return a.call(this._target())},e.prototype.isRejected=function(){return o.call(this._target())},e.prototype.isFulfilled=function(){return i.call(this._target())},e.prototype.isResolved=function(){return s.call(this._target())},e.prototype.value=function(){return n.call(this._target())},e.prototype.reason=function(){var e=this._target();return e._unsetRejectionIsUnhandled(),r.call(e)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=t}},{}],33:[function(e,t,n){"use strict";t.exports=function(t,n){function r(e,r){if(l(e)){if(e instanceof t)return e;var i=o(e);if(i===u){r&&r._pushContext();var c=t.reject(i.e);return r&&r._popContext(),c}if("function"==typeof i){if(a(e)){var c=new t(n);return e._then(c._fulfill,c._reject,void 0,c,null),c}return s(e,i,r)}}return e}function i(e){return e.then}function o(e){try{return i(e)}catch(e){return u.e=e,u}}function a(e){try{return f.call(e,"_promise0")}catch(e){return!1}}function s(e,r,i){function o(e){s&&(s._resolveCallback(e),s=null)}function a(e){s&&(s._rejectCallback(e,f,!0),s=null)}var s=new t(n),l=s;i&&i._pushContext(),s._captureStackTrace(),i&&i._popContext();var f=!0,p=c.tryCatch(r).call(e,o,a);return f=!1,s&&p===u&&(s._rejectCallback(p.e,!0,!0),s=null),l}var c=e("./util"),u=c.errorObj,l=c.isObject,f={}.hasOwnProperty;return r}},{"./util":36}],34:[function(e,t,n){"use strict";t.exports=function(t,n,r){function i(e){this.handle=e}function o(e){return clearTimeout(this.handle),e}function a(e){throw clearTimeout(this.handle),e}var s=e("./util"),c=t.TimeoutError;i.prototype._resultCancelled=function(){clearTimeout(this.handle)};var u=function(e){return l(+this).thenReturn(e)},l=t.delay=function(e,o){var a,s;return void 0!==o?(a=t.resolve(o)._then(u,null,null,e,void 0),r.cancellation()&&o instanceof t&&a._setOnCancel(o)):(a=new t(n),s=setTimeout(function(){a._fulfill()},+e),r.cancellation()&&a._setOnCancel(new i(s)),a._captureStackTrace()),a._setAsyncGuaranteed(),a};t.prototype.delay=function(e){return l(e,this)};var f=function(e,t,n){var r;r="string"!=typeof t?t instanceof Error?t:new c("operation timed out"):new c(t),s.markAsOriginatingFromRejection(r),e._attachExtraTrace(r),e._reject(r),null!=n&&n.cancel()};t.prototype.timeout=function(e,t){e=+e;var n,s,c=new i(setTimeout(function(){n.isPending()&&f(n,t,s)},e));return r.cancellation()?(s=this.then(),n=s._then(o,a,void 0,c,void 0),n._setOnCancel(c)):n=this._then(o,a,void 0,c,void 0),n}}},{"./util":36}],35:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,a){function s(e){setTimeout(function(){throw e},0)}function c(e){var t=r(e);return t!==e&&"function"==typeof e._isDisposable&&"function"==typeof e._getDisposer&&e._isDisposable()&&t._setDisposable(e._getDisposer()),t}function u(e,n){function i(){if(a>=u)return l._fulfill();var o=c(e[a++]);if(o instanceof t&&o._isDisposable()){try{o=r(o._getDisposer().tryDispose(n),e.promise)}catch(e){return s(e)}if(o instanceof t)return o._then(i,s,null,null,null)}i()}var a=0,u=e.length,l=new t(o);return i(),l}function l(e,t,n){this._data=e,this._promise=t,this._context=n}function f(e,t,n){this.constructor$(e,t,n)}function p(e){return l.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}function d(e){this.length=e,this.promise=null,this[e-1]=null}var h=e("./util"),m=e("./errors").TypeError,v=e("./util").inherits,g=h.errorObj,y=h.tryCatch,b={};l.prototype.data=function(){return this._data},l.prototype.promise=function(){return this._promise},l.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():b},l.prototype.tryDispose=function(e){var t=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=t!==b?this.doDispose(t,e):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},l.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},v(f,l),f.prototype.doDispose=function(e,t){var n=this.data();return n.call(e,e,t)},d.prototype._resultCancelled=function(){for(var e=this.length,n=0;n<e;++n){var r=this[n];r instanceof t&&r.cancel()}},t.using=function(){var e=arguments.length;if(e<2)return n("you must pass at least 2 arguments to Promise.using");var i=arguments[e-1];if("function"!=typeof i)return n("expecting a function but got "+h.classString(i));var o,s=!0;2===e&&Array.isArray(arguments[0])?(o=arguments[0],e=o.length,s=!1):(o=arguments,e--);for(var c=new d(e),f=0;f<e;++f){var m=o[f];if(l.isDisposer(m)){var v=m;m=m.promise(),m._setDisposable(v)}else{var b=r(m);b instanceof t&&(m=b._then(p,null,null,{resources:c,index:f},void 0))}c[f]=m}for(var w=new Array(c.length),f=0;f<w.length;++f)w[f]=t.resolve(c[f]).reflect();var _=t.all(w).then(function(e){for(var t=0;t<e.length;++t){var n=e[t];if(n.isRejected())return g.e=n.error(),g;if(!n.isFulfilled())return void _.cancel();e[t]=n.value()}x._pushContext(),i=y(i);var r=s?i.apply(void 0,e):i(e),o=x._popContext();return a.checkForgottenReturns(r,o,"Promise.using",x),r}),x=_.lastly(function(){var e=new t.PromiseInspection(_);return u(c,e)});return c.promise=x,x._setOnCancel(c),x},t.prototype._setDisposable=function(e){this._bitField=131072|this._bitField,this._disposer=e},t.prototype._isDisposable=function(){return(131072&this._bitField)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},t.prototype.disposer=function(e){if("function"==typeof e)return new f(e,this,i());throw new m}}},{"./errors":12,"./util":36}],36:[function(e,i,o){"use strict";function a(){try{var e=N;return N=null,e.apply(this,arguments)}catch(e){return P.e=e,P}}function s(e){return N=e,a}function c(e){return null==e||e===!0||e===!1||"string"==typeof e||"number"==typeof e}function u(e){return"function"==typeof e||"object"==typeof e&&null!==e}function l(e){return c(e)?new Error(b(e)):e}function f(e,t){var n,r=e.length,i=new Array(r+1);for(n=0;n<r;++n)i[n]=e[n];return i[n]=t,i}function p(e,t,n){if(!I.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var r=Object.getOwnPropertyDescriptor(e,t);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function d(e,t,n){if(c(e))return e;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return I.defineProperty(e,t,r),e}function h(e){throw e}function m(e){try{if("function"==typeof e){var t=I.names(e.prototype),n=I.isES5&&t.length>1,r=t.length>0&&!(1===t.length&&"constructor"===t[0]),i=R.test(e+"")&&I.names(e).length>0;if(n||r||i)return!0}return!1}catch(e){return!1}}function v(e){function t(){}t.prototype=e;for(var n=8;n--;)new t;return e}function g(e){return j.test(e)}function y(e,t,n){for(var r=new Array(e),i=0;i<e;++i)r[i]=t+i+n;return r}function b(e){try{return e+""}catch(e){return"[no string representation]"}}function w(e){return null!==e&&"object"==typeof e&&"string"==typeof e.message&&"string"==typeof e.name}function _(e){try{d(e,"isOperational",!0)}catch(e){}}function x(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||e.isOperational===!0)}function C(e){return w(e)&&I.propertyIsWritable(e,"stack")}function k(e){return{}.toString.call(e)}function T(e,t,n){for(var r=I.names(e),i=0;i<r.length;++i){var o=r[i];if(n(o))try{I.defineProperty(t,o,I.getDescriptor(e,o))}catch(e){}}}function S(e){return W?t.env[e]:void 0}function E(){if("function"==typeof n)try{var e=new n(function(){});if("[object Promise]"==={}.toString.call(e))return n}catch(e){}}function A(e,t){return e.bind(t)}var I=e("./es5"),O="undefined"==typeof navigator,P={e:{}},N,D="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof r?r:void 0!==this?this:null,L=function(e,t){function n(){this.constructor=e,this.constructor$=t;for(var n in t.prototype)r.call(t.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=t.prototype[n])}var r={}.hasOwnProperty;return n.prototype=t.prototype,e.prototype=new n,e.prototype},M=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1};if(I.isES5){var n=Object.getOwnPropertyNames;return function(e){for(var r=[],i=Object.create(null);null!=e&&!t(e);){var o;try{o=n(e)}catch(e){return r}for(var a=0;a<o.length;++a){var s=o[a];if(!i[s]){i[s]=!0;var c=Object.getOwnPropertyDescriptor(e,s);null!=c&&null==c.get&&null==c.set&&r.push(s)}}e=I.getPrototypeOf(e)}return r}}var r={}.hasOwnProperty;return function(n){if(t(n))return[];var i=[];e:for(var o in n)if(r.call(n,o))i.push(o);else{for(var a=0;a<e.length;++a)if(r.call(e[a],o))continue e;i.push(o)}return i}}(),R=/this\s*\.\s*\S+\s*=/,j=/^[a-z$_][a-z$_0-9]*$/i,F=function(){return"stack"in new Error?function(e){return C(e)?e:new Error(b(e))}:function(e){if(C(e))return e;try{throw new Error(b(e))}catch(e){return e}}}(),B=function(e){return I.isArray(e)?e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var U="function"==typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,n=[],r=e[Symbol.iterator]();!(t=r.next()).done;)n.push(t.value);return n};B=function(e){return I.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?U(e):null}}var z="undefined"!=typeof t&&"[object process]"===k(t).toLowerCase(),W="undefined"!=typeof t&&"undefined"!=typeof t.env,V={isClass:m,isIdentifier:g,inheritedDataKeys:M,getDataPropertyOrDefault:p,thrower:h,isArray:I.isArray,asArray:B,notEnumerableProp:d,isPrimitive:c,isObject:u,isError:w,canEvaluate:O,errorObj:P,tryCatch:s,inherits:L,withAppended:f,maybeWrapAsError:l,toFastProperties:v,filledRange:y,toString:b,canAttachTrace:C,ensureErrorObject:F,originatesFromRejection:x,markAsOriginatingFromRejection:_,classString:k,copyDescriptors:T,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:z,hasEnvVariables:W,env:S,global:D,getNativePromise:E,domainBind:A};V.isRecentNode=V.isNode&&function(){var e=t.versions.node.split(".").map(Number);return 0===e[0]&&e[1]>10||e[0]>0}(),V.isNode&&V.toFastProperties(t);try{throw new Error}catch(e){V.lastLineError=e}i.exports=V},{"./es5":13}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(t,n(171),n(170),function(){return this}(),n(172).setImmediate)},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){m&&d&&(m=!1,d.length?h=d.concat(h):v=-1,h.length&&s())}function s(){if(!m){var e=i(a);m=!0;for(var t=h.length;t;){for(d=h,h=[];++v<t;)d&&d[v].run();v=-1,t=h.length}d=null,m=!1,o(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var l,f,p=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var d,h=[],m=!1,v=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new c(e,t)),1!==h.length||m||i(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=u,p.addListener=u,p.once=u,p.off=u,p.removeListener=u,p.removeAllListeners=u,p.emit=u,p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t,n){function r(e,t){this._id=e,this._clearFn=t}var i=Function.prototype.apply;t.setTimeout=function(){return new r(i.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(i.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(173),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return m[h]=r,d(h),h++}function i(e){delete m[e]}function o(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function a(e){if(v)setTimeout(a,0,e);else{var t=m[e];if(t){v=!0;try{o(t)}finally{i(e),v=!1}}}}function s(){d=function(e){t.nextTick(function(){a(e)})}}function c(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}function u(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&a(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),d=function(n){e.postMessage(t+n,"*")}}function l(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;a(t)},d=function(t){e.port2.postMessage(t)}}function f(){var e=g.documentElement;d=function(t){var n=g.createElement("script");n.onreadystatechange=function(){a(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}function p(){d=function(e){setTimeout(a,0,e)}}if(!e.setImmediate){var d,h=1,m={},v=!1,g=e.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(e);y=y&&y.setTimeout?y:e,"[object process]"==={}.toString.call(e.process)?s():c()?u():e.MessageChannel?l():g&&"onreadystatechange"in g.createElement("script")?f():p(),y.setImmediate=r,y.clearImmediate=i}}("undefined"==typeof self?"undefined"==typeof e?this:e:self)}).call(t,function(){return this}(),n(171))},,function(e,t,n){var r,i;(function(o,a){r=[n(165),n(164),n(163),n(178),n(179),n(181),n(182),n(177),n(183),n(192),n(199),n(191),n(200),n(201)],i=function(e,t,n,r,i,s,c,u,l,f,p,d,h){var m,v,g;return v={},[e,t,n,r,i,c,u,h].forEach(function(e){var t,n;for(t in e)n=e[t],v[t]=n}),m=new f,v.alert=function(e){return m.alert(e)},v.hide=function(){return m.hide()},g=new f,v.tip=function(e){return g.alert(e)},v.base64toBlob=function(e,t,n){var r,i,o,a,s,c,u,l,f,p,d,h,m;for(t=t||"",n=n||512,a=atob(e),o=[],f=0,f=u=0,p=a.length,d=n;d>0?u<p:u>p;f=u+=d){for(m=a.slice(f,f+n),s=new Array(m.length),c=l=0,h=m.length;0<=h?l<h:l>h;c=0<=h?++l:--l)s[c]=m.charCodeAt(c);i=new Uint8Array(s),o.push(i)}return r=new Blob(o,{type:t})},v.formattedSidebarInfo=function(e){return e.online=l.isOnline(e.user_id),e.formattedTime=v.DateTime.format(e.updated_at),e.sortTime=new Date(e.updated_at).getTime(),o.isString(e.user_id)&&e.user_id.indexOf(",")!==-1?e.name=d.getUserNames(e.user_id):e.name=d.getUserName(e.user_id),e},v.getDiffFields=function(e,t){var n,r;if(r=[],!o.isObject(e))return r;if(!o.isObject(t))return o.keys(e);for(n in e)o.isEqual(e[n],t[n])||r.push(n);return r},v.goBack=function(e){var t,n;return a.len>0?a.back():(t=e||cow.currentFile,n="/desktop",window.cow.authorized&&t.parent&&t.parent.guid&&(n="/folder/"+t.parent.guid),a(n))},v.track=function(e,t,n){if("undefined"!=typeof window.ga)return window.ga("send","event",e,t,n)},v}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(4),n(176))},function(e,t){!function(n){if("object"==typeof t&&"undefined"!=typeof e)e.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var r;"undefined"!=typeof window?r=window:"undefined"!=typeof global?r=global:"undefined"!=typeof self&&(r=self),r.page=n()}}(function(){return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){(function(n){"use strict";function r(e,t){if("function"==typeof e)return r("*",e);if("function"==typeof t)for(var n=new s(e),i=1;i<arguments.length;++i)r.callbacks.push(n.middleware(arguments[i]));else"string"==typeof e?r["string"==typeof t?"redirect":"show"](e,t):r.start(e)}function i(e){if(!e.handled){var t;t=b?y+m.hash.replace("#!",""):m.pathname+m.search,t!==e.canonicalPath&&(r.stop(),e.handled=!1,m.href=e.canonicalPath)}}function o(e){return"string"!=typeof e?e:g?decodeURIComponent(e.replace(/\+/g," ")):e}function a(e,t){"/"===e[0]&&0!==e.indexOf(y)&&(e=y+(b?"#!":"")+e);var n=e.indexOf("?");if(this.canonicalPath=e,this.path=e.replace(y,"")||"/",b&&(this.path=this.path.replace("#!","")||"/"),this.title=document.title,this.state=t||{},this.state.path=e,this.querystring=~n?o(e.slice(n+1)):"",this.pathname=o(~n?e.slice(0,n):e),this.params={},this.hash="",!b){if(!~this.path.indexOf("#"))return;var r=this.path.split("#");this.path=r[0],this.hash=o(r[1])||"",this.querystring=this.querystring.split("#")[0]}}function s(e,t){t=t||{},this.path="*"===e?"(.*)":e,this.method="GET",this.regexp=f(this.path,this.keys=[],t)}function c(e){if(1===u(e)&&!(e.metaKey||e.ctrlKey||e.shiftKey||e.defaultPrevented)){for(var t=e.path?e.path[0]:e.target;t&&"A"!==t.nodeName;)t=t.parentNode;if(t&&"A"===t.nodeName&&!t.hasAttribute("download")&&"external"!==t.getAttribute("rel")){var i=t.getAttribute("href");if((b||t.pathname!==m.pathname||!t.hash&&"#"!==i)&&!(i&&i.indexOf("mailto:")>-1)&&!t.target&&l(t.href)){var o=t.pathname+t.search+(t.hash||"");"undefined"!=typeof n&&o.match(/^\/[a-zA-Z]:\//)&&(o=o.replace(/^\/[a-zA-Z]:\//,"/"));var a=o;0===o.indexOf(y)&&(o=o.substr(y.length)),b&&(o=o.replace("#!","")),y&&a===o||(e.preventDefault(),r.show(a))}}}}function u(e){return e=e||window.event,null===e.which?e.button:e.which}function l(e){var t=m.protocol+"//"+m.hostname;return m.port&&(t+=":"+m.port),e&&0===e.indexOf(t)}var f=e("path-to-regexp");t.exports=r;var p,d,h="undefined"!=typeof document&&document.ontouchstart?"touchstart":"click",m="undefined"!=typeof window&&(window.history.location||window.location),v=!0,g=!0,y="",b=!1;r.callbacks=[],r.exits=[],r.current="",r.len=0,r.base=function(e){return 0===arguments.length?y:void(y=e)},r.start=function(e){if(e=e||{},!p&&(p=!0,!1===e.dispatch&&(v=!1),!1===e.decodeURLComponents&&(g=!1),
!1!==e.popstate&&window.addEventListener("popstate",w,!1),!1!==e.click&&document.addEventListener(h,c,!1),!0===e.hashbang&&(b=!0),v)){var t=b&&~m.hash.indexOf("#!")?m.hash.substr(2)+m.search:m.pathname+m.search+m.hash;r.replace(t,null,!0,v)}},r.stop=function(){p&&(r.current="",r.len=0,p=!1,document.removeEventListener(h,c,!1),window.removeEventListener("popstate",w,!1))},r.show=function(e,t,n,i){var o=new a(e,t);return r.current=o.path,!1!==n&&r.dispatch(o),!1!==o.handled&&!1!==i&&o.pushState(),o},r.back=function(e,t){r.len>0?(history.back(),r.len--):e?setTimeout(function(){r.show(e,t)}):setTimeout(function(){r.show(y,t)})},r.redirect=function(e,t){"string"==typeof e&&"string"==typeof t&&r(e,function(e){setTimeout(function(){r.replace(t)},0)}),"string"==typeof e&&"undefined"==typeof t&&setTimeout(function(){r.replace(e)},0)},r.replace=function(e,t,n,i){var o=new a(e,t);return r.current=o.path,o.init=n,o.save(),!1!==i&&r.dispatch(o),o},r.dispatch=function(e){function t(){var e=r.exits[s++];return e?void e(o,t):n()}function n(){var t=r.callbacks[a++];return e.path!==r.current?void(e.handled=!1):t?void t(e,n):i(e)}var o=d,a=0,s=0;d=e,o?t():n()},r.exit=function(e,t){if("function"==typeof e)return r.exit("*",e);for(var n=new s(e),i=1;i<arguments.length;++i)r.exits.push(n.middleware(arguments[i]))},r.Context=a,a.prototype.pushState=function(){r.len++,history.pushState(this.state,this.title,b&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},a.prototype.save=function(){history.replaceState(this.state,this.title,b&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},r.Route=s,s.prototype.middleware=function(e){var t=this;return function(n,r){return t.match(n.path,n.params)?e(n,r):void r()}},s.prototype.match=function(e,t){var n=this.keys,r=e.indexOf("?"),i=~r?e.slice(0,r):e,a=this.regexp.exec(decodeURIComponent(i));if(!a)return!1;for(var s=1,c=a.length;s<c;++s){var u=n[s-1],l=o(a[s]);void 0===l&&hasOwnProperty.call(t,u.name)||(t[u.name]=l)}return!0};var w=function(){var e=!1;if("undefined"!=typeof window)return"complete"===document.readyState?e=!0:window.addEventListener("load",function(){setTimeout(function(){e=!0},0)}),function(t){if(e)if(t.state){var n=t.state.path;r.replace(n,t.state)}else r.show(m.pathname+m.hash,void 0,void 0,!1)}}();r.sameOrigin=l}).call(this,e("_process"))},{_process:2,"path-to-regexp":3}],2:[function(e,t,n){function r(){}var i=t.exports={};i.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.MutationObserver,n="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};var r=[];if(t){var i=document.createElement("div"),o=new MutationObserver(function(){var e=r.slice();r.length=0,e.forEach(function(e){e()})});return o.observe(i,{attributes:!0}),function(e){r.length||i.setAttribute("yes","no"),r.push(e)}}return n?(window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),r.length>0)){var n=r.shift();n()}},!0),function(e){r.push(e),window.postMessage("process-tick","*")}):function(e){setTimeout(e,0)}}(),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.on=r,i.addListener=r,i.once=r,i.off=r,i.removeListener=r,i.removeAllListeners=r,i.emit=r,i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")}},{}],3:[function(e,t,n){function r(e){for(var t,n=[],r=0,i=0,o="";null!=(t=v.exec(e));){var a=t[0],c=t[1],u=t.index;if(o+=e.slice(i,u),i=u+a.length,c)o+=c[1];else{o&&(n.push(o),o="");var l=t[2],f=t[3],p=t[4],d=t[5],h=t[6],m=t[7],g="+"===h||"*"===h,y="?"===h||"*"===h,b=l||"/",w=p||d||(m?".*":"[^"+b+"]+?");n.push({name:f||r++,prefix:l||"",delimiter:b,optional:y,repeat:g,pattern:s(w)})}}return i<e.length&&(o+=e.substr(i)),o&&n.push(o),n}function i(e){return o(r(e))}function o(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(t[n]=new RegExp("^"+e[n].pattern+"$"));return function(n){for(var r="",i=n||{},o=0;o<e.length;o++){var a=e[o];if("string"!=typeof a){var s,c=i[a.name];if(null==c){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to be defined')}if(m(c)){if(!a.repeat)throw new TypeError('Expected "'+a.name+'" to not repeat, but received "'+c+'"');if(0===c.length){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to not be empty')}for(var u=0;u<c.length;u++){if(s=encodeURIComponent(c[u]),!t[o].test(s))throw new TypeError('Expected all "'+a.name+'" to match "'+a.pattern+'", but received "'+s+'"');r+=(0===u?a.prefix:a.delimiter)+s}}else{if(s=encodeURIComponent(c),!t[o].test(s))throw new TypeError('Expected "'+a.name+'" to match "'+a.pattern+'", but received "'+s+'"');r+=a.prefix+s}}else r+=a}return r}}function a(e){return e.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function s(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function c(e,t){return e.keys=t,e}function u(e){return e.sensitive?"":"i"}function l(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return c(e,t)}function f(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(h(e[i],t,n).source);var o=new RegExp("(?:"+r.join("|")+")",u(n));return c(o,t)}function p(e,t,n){for(var i=r(e),o=d(i,n),a=0;a<i.length;a++)"string"!=typeof i[a]&&t.push(i[a]);return c(o,t)}function d(e,t){t=t||{};for(var n=t.strict,r=t.end!==!1,i="",o=e[e.length-1],s="string"==typeof o&&/\/$/.test(o),c=0;c<e.length;c++){var l=e[c];if("string"==typeof l)i+=a(l);else{var f=a(l.prefix),p=l.pattern;l.repeat&&(p+="(?:"+f+p+")*"),p=l.optional?f?"(?:"+f+"("+p+"))?":"("+p+")?":f+"("+p+")",i+=p}}return n||(i=(s?i.slice(0,-2):i)+"(?:\\/(?=$))?"),i+=r?"$":n&&s?"":"(?=\\/|$)",new RegExp("^"+i,u(t))}function h(e,t,n){return t=t||[],m(t)?n||(n={}):(n=t,t=[]),e instanceof RegExp?l(e,t,n):m(e)?f(e,t,n):p(e,t,n)}var m=e("isarray");t.exports=h,t.exports.parse=r,t.exports.compile=i,t.exports.tokensToFunction=o,t.exports.tokensToRegExp=d;var v=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g")},{isarray:4}],4:[function(e,t,n){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}]},{},[1])(1)})},function(e,t,n){var r;(function(i){r=function(){var e,t,n;return t=function(e){return e.replace(/[^\x00-\xff]/g,"xx")},n=function(e){return e.replace(/^[\uDC00-\uDFFF]|[\uD800-\uDBFF]$/,"")},e={},e.cutLength=function(e,r,o){var a,s,c,u,l,f,p,d,h,m,v,g,y,b;if(h=r||30,e=i.trim(e),y=t(e).length,y>h){if(a=e.split(" "),d=a[a.length-1],p=t(d).length,p>4){for(p=4,a=d.split("").reverse(),f=[],b=0,c=u=0,m=a.length;0<=m?u<=m:u>=m;c=0<=m?++u:--u){if(b+=t(a[c]).length,f.push(c>0?f[c-1]+a[c]:a[0]),b===p){d=f[c];break}if(b>p){d=f[c-1];break}}d=d.split("").reverse().join("")}for(h=h-p-3,c=l=v=parseInt(h/2),g=h;v<=g?l<=g:l>=g;c=v<=g?++l:--l){if(s=t(e.substring(0,c)).length,s===h){e=o?n(e.substring(0,c))+n(d)+"...":n(e.substring(0,c))+"..."+n(d);break}if(s>h){e=o?n(e.substring(0,c-1))+n(d)+"...":n(e.substring(0,c-1))+"..."+n(d);break}}}return e},e.getSelectionPosition=function(){var e,t,n,r,i,o,a;return i=document.selection,i?"Control"!==i.type&&(r=i.createRange(),n=r.boundingLeft,o=r.boundingTop,a=r.boundingHeight):window.getSelection&&(i=window.getSelection(),i.rangeCount&&(r=i.getRangeAt(0).cloneRange(),r.getBoundingClientRect&&(e=r.getBoundingClientRect(),n=e.left,o=e.top,a=e.right-e.left,t=e.bottom-e.top))),{x:n,y:o,width:a,height:t}},e.getLineDom=function(e){var t,n;if(n=i("#innerdocbody")[0],!e||!i(e).parents("#innerdocbody")[0])return!1;for(;(t=e.parentNode)!==n;)e=t;return e},e.getSelection=function(){var e,t,n;return window.getSelection?(t=window.getSelection().toString(),n=window.getSelection()):document.getSelection?(t=document.getSelection(),n=document.getSelection()):document.selection&&(t=document.selection.createRange().text),e={selection:n,string:t}},e.cutName=function(e,t){var n,r,i,o,a,s,c,u,l,f,p,d,h,m;if(null==e&&(e=""),l=t||25,h=e.replace(/[^\x00-\xff]/g,"xx").length,h>l){if(n=e.split(" "),u=n[n.length-1],c=u.replace(/[^\x00-\xff]/g,"xx").length,c>4){for(c=4,n=u.split("").reverse(),s=[],m=0,i=o=0,f=n.length;0<=f?o<=f:o>=f;i=0<=f?++o:--o){if(m+=n[i].replace(/[^\x00-\xff]/g,"xx").length,s.push(i>0?s[i-1]+n[i]:n[0]),m===c){u=s[i];break}if(m>c){u=s[i-1];break}}u=u.split("").reverse().join("")}for(l=l-c-3,i=a=p=parseInt(l/2),d=l;p<=d?a<=d:a>=d;i=p<=d?++a:--a){if(r=e.substring(0,i).replace(/[^\x00-\xff]/g,"xx").length,r===l){e=e.substring(0,i)+"..."+u;break}if(r>l){e=e.substring(0,i-1)+"..."+u;break}}}return e},e.copyTextToClipboard=function(e){var t,n,r;r=document.createElement("textarea"),r.style.position="fixed",r.style.top=0,r.style.left=0,r.style.width="2em",r.style.height="2em",r.style.padding=0,r.style.border="none",r.style.outline="none",r.style.boxShadow="none",r.style.background="transparent",r.value=e,document.body.appendChild(r),r.select();try{t=document.execCommand("copy")}catch(e){n=e,t=!1}return document.body.removeChild(r),t},e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}).call(t,n(1))},function(e,t,n){var r;(function(i,o){r=function(){var e;return e=function(){function e(){var e;e=this,window.setInterval(function(){var t,n,r,i,o;for(i=e.$autoRefreshSelectors,o=[],n=0,r=i.length;n<r;n++)t=i[n],o.push(e.refresh(t));return o},15e3)}return e.prototype.$autoRefreshSelectors=[],e.prototype.autoRefresh=function(e){return this.$autoRefreshSelectors.push(i.isString(e)?o(e):e)},e.prototype.refresh=function(e){var t;return t=this,e.find("[data-time]").each(function(e){var n;return n=o(this),n.html(t.format(n.attr("data-time"),"1"===n.attr("full")))})},e.prototype.format=function(e,t){var n,r,i,o,a,s,c,u,l;return null==t&&(t=!1),a=60*(new Date).getTimezoneOffset(),o=new Date,i=+o/1e3,c=new Date(e),u=+new Date(e)/1e3,r=i-u,r<60?"刚刚":r<3600?parseInt(r/60)+"分钟前":(l=u-i+i%86400-a,n=this.addZero(c.getHours())+":"+this.addZero(c.getMinutes()),0<l&&l<86400?"今天 "+n:-86400<l&&l<0?"昨天 "+n:(s=c.getMonth()+1+"/"+c.getDate(),s+=" "+n,(t||c.getFullYear()!==o.getFullYear())&&(s=c.getFullYear()+"/"+s),s))},e.prototype.addZero=function(e){return e<10?"0"+e:e},e.prototype.isDateInArea=function(e,t){var n,r;return n=t?new Date(new Date(e).valueOf()+t):new Date(e),r=new Date,n.setHours(0,0,0,0)>=r.setHours(0,0,0,0)},e.prototype.sortByDate=function(e){var t,n,r,o,a,s;return o=this,r=864e5,s=0,a=[[]],t=function(e){switch(s){case 0:return o.isDateInArea(e);case 1:return o.isDateInArea(e,r);case 2:return o.isDateInArea(e,7*r);case 3:return o.isDateInArea(e,30*r);default:return!0}},n=function(e){return t(e.lastUsedAt)?a[s].push(e):(s++,a[s]=[],n(e))},i.forEach(e,n),a},e}(),{DateTime:new e}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}).call(t,n(4),n(1))},function(e,t,n){var r,i;(function(o,a){r=[n(163),n(180)],i=function(e,n){var r,i;return window.$=o,i=function(e,t){var n;if(n=this,e=e||this.events)return a.each(e,function(e,r){var i,o,a;return a=r.split(" "),o=a.shift(),i=a.length?a.join(" "):void 0,i&&n.view.off(o,i),n.view.on(o,i,function(r){return(t?t:n)[e].call(n,r,this)})})},r=function(){function n(e,t){var n,r,i;if(e instanceof o?this.$view=e:(this.ele=e,this.$view=o(e)),this.$view&&this.$view.length){i=t||{};for(r in i)n=i[r],this[r]=n;this.init&&this.init(e,t),this.initEvents(),this.initPendingAction()}}return n.prototype.ajax={post:e("post"),get:e("get"),delete:e("delete")},n.prototype.$=function(e){return this.$view.find(e)},n.prototype.initPendingAction=function(){var e,t;if((t=this.pendingAction)&&(e=window.cow.pendingAction))return a.isEqual(t.data,e)?t.fn.call(this,t.data.url,a.assign({},t.data.data,{_code_trigger:1})):console.warn("pendingAction not match.")},n.prototype.registerPendingAction=function(e,t,n){return e&&t&&n?this.pendingAction={data:{url:e,data:t},fn:n}:void console.warn("url/data/fn cant be empty when registerPendingAction.")},n.prototype.initEvents=function(e,n){var r,i,o,a;if(a=this,e=e||this.eventMap||{},n=n||this.domEvents||{},!e)return void t.log(ele+" events bind error!");i=function(e){var t,i,o;return o=r.split(" "),i=o.shift(),t=o.length?o.join(" "):void 0,t&&"body"!==t&&"#innerdocbody"!==t&&a.$view.off(i,t),a.$view.on(i,t,function(t){return n[e]?n[e].call(a,t,this):console.warn("cannot find dom event ",e)})};for(r in e)o=e[r],i(o)},n}(),a.extend(r.prototype,n),{bindEvents:i,DomModule:r}}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(1),n(4))},function(e,t,n){var r;(function(i){r=function(){var e=[].slice,t={on:function(e,t,n){if(!r(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var i=this._events[e]||(this._events[e]=[]);return i.push({callback:t,context:n,ctx:n||this}),this},once:function e(t,n,o){if(!r(this,"once",t,[n,o])||!n)return this;var a=this,e=i.once(function(){a.off(t,e),n.apply(this,arguments)});return e._callback=n,this.on(t,e,o)},off:function(e,t,n){var o,a,s,c,u,l,f,p;if(!this._events||!r(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events=void 0,this;for(c=e?[e]:i.keys(this._events),u=0,l=c.length;u<l;u++)if(e=c[u],s=this._events[e]){if(this._events[e]=o=[],t||n)for(f=0,p=s.length;f<p;f++)a=s[f],(t&&t!==a.callback&&t!==a.callback._callback||n&&n!==a.context)&&o.push(a);o.length||delete this._events[e]}return this},trigger:function(t){if(!this._events)return this;var n=e.call(arguments,1);if(!r(this,"trigger",t,n))return this;var i=this._events[t],a=this._events.all;return i&&o(i,n),a&&o(a,arguments),this},stopListening:function(e,t,n){var r=this._listeningTo;if(!r)return this;var o=!t&&!n;n||"object"!=typeof t||(n=this),e&&((r={})[e._listenId]=e);for(var a in r)e=r[a],e.off(t,n,this),(o||i.isEmpty(e._events))&&delete this._listeningTo[a];return this}},n=/\s+/,r=function(e,t,r,i){if(!r)return!0;if("object"==typeof r){for(var o in r)e[t].apply(e,[o,r[o]].concat(i));return!1}if(n.test(r)){for(var a=r.split(n),s=0,c=a.length;s<c;s++)e[t].apply(e,[a[s]].concat(i));return!1}return!0},o=function(e,t){var n,r=-1,i=e.length,o=t[0],a=t[1],s=t[2];switch(t.length){case 0:for(;++r<i;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,a);return;case 3:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,a,s);return;default:for(;++r<i;)(n=e[r]).callback.apply(n.ctx,t);return}},a={listenTo:"on",listenToOnce:"once"};return i.each(a,function(e,n){t[n]=function(t,n,r){var o=this._listeningTo||(this._listeningTo={}),a=t._listenId||(t._listenId=i.uniqueId("l"));return o[a]=t,r||"object"!=typeof n||(r=this),t[e](n,r,this),this}}),t.bind=t.on,t.unbind=t.off,t}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}).call(t,n(4))},function(e,t,n){var r,i;(function(o){var a=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};r=[n(165)],i=function(e){var t,n,r,i,s,c;return"undefined"!=typeof document.hidden?(r="hidden",c="visibilitychange",s="visibilityState"):"undefined"!=typeof document.mozHidden?(r="mozHidden",c="mozvisibilitychange",s="mozVisibilityState"):"undefined"!=typeof document.msHidden?(r="msHidden",c="msvisibilitychange",s="msVisibilityState"):"undefined"!=typeof document.webkitHidden&&(r="webkitHidden",c="webkitvisibilitychange",s="webkitVisibilityState"),t=document.hidden,document.addEventListener(c,function(){var n,r;return r="hidden"===document[s],t?t=!1:(n=+e.getCookie("userId"),!r&&window.cow.currentUser&&n&&n!==window.cow.currentUser.id?location.reload():o(document).trigger("visibilityChange",[r]))},!1),n=function(){var e,t,n;if(t=["webkit","moz","ms","o"],a.call(document,"hidden")>=0)return"hidden";for(e in t)if(n=e+"Hidden",a.call(document,n)>=0)return e+"Hidden";return null},i=function(){var e;return e=n(),!!e&&document[e]},{getHiddenProp:n,isHidden:i}}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(1))},function(e,t,n){var r,i;(function(o,a){r=[n(179)],i=function(e){var t;return t={},t.clearDropdown=function(){var e,t;return t=o(".dropdown, .dropdown-item"),e=o(".dropdown-btn"),t.removeClass("active fixed"),e.removeClass("active"),t.parent(".thumbnail")&&t.parent(".thumbnail").removeClass("active"),o(".dropdown-menu").removeClass("active"),o(".custom-show .custom-box-status").removeClass("box-status"),o("#custom-submit-btn").removeClass("disable").text("提交")},o("html").off().on("click",function(e){if(!(e.target.id.indexOf("global-zeroclipboard")>-1))return t.clearDropdown()}),t.dropdownable=function(e){return a.extend(e.prototype,{isOpen:!0,open:function(e){this.$view.addClass("active"),this.isOpen=!0,e&&e.call(this)},close:function(e){this.$view.removeClass("active"),this.isOpen=!1,e&&e.call(this)},toggleOpen:function(e){var n;n=this.$view.hasClass("active"),t.clearDropdown(),n||this.$view.addClass("active"),this.isOpen=this.$view.hasClass("active"),e&&e.call(this,this.isOpen)}}),e},t}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(1),n(4))},function(e,t,n){var r,i;(function(o){r=[n(175),n(184),n(191)],i=function(e,t,n){var r;return new(r=function(){function e(){this.currentUser=window.cow.currentUser||{},this.elePool={},this.listen()}return e.prototype.watch=function(e,t,n){return this.elePool[e]={$target:t,filter:n}},e.prototype.unwatch=function(e){return delete this.elePool[e]},e.prototype.refresh=function(e,t){var n,r,i,a,s;a=t?"addClass":"removeClass",s=this.elePool;for(i in s){if(r=s[i],!o.isFunction(r.filter))return;n=r.filter.call(r.$target,e,t),n[a]&&n[a]("online")}},e.prototype.format=function(e,t){var n,r,i,a;if(null==t&&(t="user_id"),o.isArray(e)){for(a=[],n=0,i=e.length;n<i;n++)r=e[n],a.push(r.online=this.isOnline(r[t]));return a}if(o.isObject(e))return e.online=this.isOnline(e[t])},e.prototype.isOnline=function(e){return n.get(e).online},e.prototype.listen=function(){var e;return e=this,t.bind("userOnline",function(t){if(n.exists(t.user_id))return n.get(t.user_id).online=t.online,e.refresh(t.user_id,t.online)})},e}())}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(4))},function(e,t,n){var r,i;(function(o){r=[n(170),n(186),n(185),n(164),n(163),n(166),n(181),n(187),n(165),n(190)],i=function(e,t,n,r,i,a,s,c,u,l){var f,p,d;return d=n.qsa,p=n.delNode,f=function(){function n(){var e;e=this,e.connected=!1,e.reconnectFlag=!1,e.isReconnectFailed=!1,this.eventPool={},this.bind("connect",function(){e.isReconnectFailed=!1,r.log("connect")}),this.bind("reconnect",function(){e.isReconnectFailed=!1,e.reconnectFlag=!0,r.log("reconnect")}),this.bind("reconnect_error",function(e){window.ga&&ga("send","event","socket","reconnect-error",e.toString()),r.log("reconnect_error"),r.error(e)}),this.bind("reconnect_failed",function(){e.isReconnectFailed=!0,window.ga&&ga("send","event","socket","reconnect-failed"),r.log("reconnect_failed")}),this.bind("reconnecting",function(e){return a.notify("socket:reconnecting"),r.log("reconnecting",e)}),this.bind("message",function(t){return t.accessStatus&&("deny"===t.accessStatus?window.cow.client||u.isAndroidApp()?a.notify("denyAccess"):location.reload():"need_login"===t.accessStatus&&(location.href="/login")),"CONNECTED"!==t.type||e.reconnectFlag?"CONNECTED"===t.type&&e.reconnectFlag?(r.log("RECONNECTED"),e.connected=!0,a.notify("socket:reconnected"),e.hideNetworkDisconnected(),e.reconnectFlag=!1):"LOGOUT"===t.type?location.href="/":(a.notify("status:save",t),a.notify("socket:message",t)):(r.log("CONNECTED"),e.connected=!0,a.notify("socket:connected"))}),this.bind("disconnect",function(t){return window.ga&&ga("send","event","socket","disconnect",t),r.log("disconnect:"+t),e.connected=!1,a.notify("socket:disconnected",t)}),this.bind("ping",function(){return e.socket.emit("pong",{beat:1})}),this.bind("Invite",function(e){return a.notify("socket:invite",e)}),this.bind("Action",function(e){var t,n,r,o,a,s;if("relogin"===e.name&&i.get("/relogin"),"poke"===e.name&&[0,-1].indexOf(null!=(a=cow.currentFile)?a.type:void 0)>-1)for(t=d("div.header-avatar"),r=0,o=t.length;r<o;r++)if(n=t[r],e.from===+n.getAttribute("data-user-id")){s=document.createElement("span"),s.innerText="😎",s.className="tooltip header-avatar-tooltip s-tooltip",s.style.display="block",n.appendChild(s),setTimeout(function(){return p(s)},1e3);break}}),t.on(document,"visibilityChange",function(t,n){if(window.io&&!n&&!e.connected&&e.socket&&!e.socket.io.reconnecting)return e.socket.io.reconnect()})}return n.prototype.init=function(){var e,t,n,r;r=this,window.cow.client?window.socket=r.socket={json:{send:function(e){return a.notify("socket",{data:["message",e]})}},emit:function(e,t){return a.notify("socket",{data:[e,t]})},on:function(e,t){return a.attach("client:"+e,t)}}:(window.socket=r.socket=c(),r.appendDisconnectDomToBody()),n=this.eventPool;for(t in n)e=n[t],e.forEach(function(e){return r.socket.on(t,function(){return e.apply(this,arguments)})})},n.prototype.getConnectSocket=function(){var t;return t=this,new e(function(e,n){return t.connected?e(t.socket):(a.attach("socket:connected",function(){return e(t.socket)}),a.attach("socket:reconnected",function(){return e(t.socket)}))})},n.prototype.bind=function(e,t,n){n&&(n=t.bind(n)),(this.eventPool[e]=this.eventPool[e]||[]).push(t),this.socket&&this.socket.on(e,t)},n.prototype.emit=function(e,t){return this.socket.emit(e,t)},n.prototype.isMobile=function(){var e;return e=window.navigator.userAgent.toLowerCase(),!!e.match(/(iphone|ipod|android|windows phone|micromessenger)/)&&!e.match(/micromessenger.*?windowswechat/)},n.prototype.appendDisconnectDomToBody=function(){var e,t,n;return t=this.isMobile(),n=t?"m-":"",!d("."+n+"disconnect").length>0&&(e='<div class="disconnect-mask"></div><a href="javascript:void(0)" class="'+n+'disconnect"><span class="disconnect-info">正在尝试重连，重连后会自动同步离线内容</span></a>',o("body").append(e)),this.$disconnect=o("."+n+"disconnect"),this.$disconnectMask=o("."+n+"disconnect-mask"),this.$disconnectInfo=o(".disconnect-info")},n.prototype.showNetworkDisconnected=function(){var e;if(!window.cow.iOS&&this.showDisconnect!==!0)return this.showDisconnect=!0,this.isMobile()?(this.$disconnectMask.addClass("active"),this.$disconnect.addClass("active"),this.showTime=+new Date):(l.isSheet(window.cow.pageType)&&this.$disconnectMask.show(),this.$disconnect.show()),e=this,setTimeout(function(){if(!l.isSheet(window.cow.pageType))return e.hideNetworkDisconnected()},2e3)},n.prototype.hideNetworkDisconnected=function(){if(!window.cow.iOS&&this.showDisconnect&&!this.saveError)return this.showDisconnect=!1,this.isMobile()?(this.$disconnectMask.removeClass("active"),this.$disconnect.removeClass("active")):(this.$disconnectMask.hide(),this.$disconnect.hide())},n}(),f.prototype.on=f.prototype.bind,new f}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(1))},function(e,t,n){(function(n){function r(e){var t=arguments.length<=1||void 0===arguments[1]?document:arguments[1],n=/^\.([\w-]+)$/,r=/^#([\w-]*)$/,i=/^[\w-]+$/,o=void 0;return r.test(e)?(o=t.getElementById(RegExp.$1))?[o]:[]:1!==t.nodeType&&9!==t.nodeType?[]:[].slice.call(n.test(e)?t.getElementsByClassName(RegExp.$1):i.test(e)?t.getElementsByTagName(e):t.querySelectorAll(e))}function i(e){e&&e.nodeName&&e.parentNode&&e.parentNode.removeChild(e)}function o(e,t){return!!e&&(n.isArray(e)||(e=[e]),n(e).forEach(function(e){var n=" "+t+" ",r=" "+e.className+" ";if(1===e.nodeType&&r.indexOf(n)>-1)return!0}),!1)}function a(e,t){return!!e&&(n.isArray(e)||(e=[e]),void n(e).forEach(function(e){var n=t.split(" ");if(1===e.nodeType)if(e.className||1!==n.length){for(var r=" "+e.className+" ",i=0,o=n.length;i<o;i++)r.indexOf(" "+n[i]+" ")<0&&(r+=n[i]+" ");e.className=r.replace(/^\s+|\s+$/g,"")}else e.className=t}))}function s(e,t){return!!e&&(n.isArray(e)||(e=[e]),void n(e).forEach(function(e){if(void 0===t)return void(e.className="");var n=t.split(" "),r=e.className.split(" ");if(1===e.nodeType)for(var i=0,o=r.length;i<o;i++)n.indexOf(r[i])>-1&&(r[i]="");e.className=r.join(" ").trim()}))}function c(e){n(e).forEach(function(e){e.innerHTML=""})}function u(){}function l(e,t){var n=arguments.length<=2||void 0===arguments[2]?1e3:arguments[2],r=e.scrollTop,i=1e3/60,o=n/1e3*i,a=parseInt(e.getAttribute("data-scrollTimer"),10),s=function n(){!isNaN(a)&&a>-1&&(clearTimeout(a),a=-1),r<t?(r+=o,e.scrollTop=r,r<t&&(a=setTimeout(n,i))):(r-=o,e.scrollTop=r,r>t&&(a=setTimeout(n,i))),e.setAttribute("data-scrollTimer",a)};s()}function f(e){var t=arguments.length<=1||void 0===arguments[1]?10:arguments[1],n=e.currentTarget,r=n.scrollTop,i=n.scrollHeight-n.clientHeight;return r>i-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default={qsa:r,delNode:i,hasClass:o,addClass:a,removeClass:s,empty:c,append:u,isScrollAtEnd:f,scrollWithAnimation:l},e.exports=t.default}).call(t,n(4))},function(e,t){function n(e,t,n){e.addEventListener(t,n,!1)}function r(e,t,n){e.removeEventListener(t,n,!1)}function i(e){return e.stopPropagation(),e}function o(e){return e.preventDefault(),e}function a(e){return i(o(e))}Object.defineProperty(t,"__esModule",{value:!0}),t.default={on:n,off:r,stop:i,prevent:o,stopAndPrevent:a},e.exports=t.default},function(e,t,n){var r,i;(function(o,a,s){r=[n(166),n(189)],i=function(e,t){var n;return function(){return n||(n=o(location.protocol+"//"+location.host,{query:a.pick(t.getJSON(),"rememberMeToken","userId")}),n.on("connect_error",function(e){window.ga&&ga("send","event","socket","connect-error",e.toString()),console.log("connect_error"),console.error(e)}).on("error",function(t){return console.log("error: "+t),"need_login"==t&&a.indexOf(["home","folder","doc","sheet"],window.cow.pageType)>-1?void(location.href="/"):("undefined"!=typeof ga&&ga("send","event","socket","error",t),e.notify("socket:error",t),void s.post("/api/log/jserror",a.pick(t,a.keysIn(t).concat(["message","stack"])),a.noop))})),n}}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(188),n(4),n(1))},function(e,t){!function(n){if("object"==typeof t&&"undefined"!=typeof e)e.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,r.io=n()}}(function(){var e;return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){t.exports=e("./lib/")},{"./lib/":2}],2:[function(e,t,n){t.exports=e("./socket"),t.exports.parser=e("engine.io-parser")},{"./socket":3,"engine.io-parser":19}],3:[function(e,t,n){(function(n){function r(e,t){if(!(this instanceof r))return new r(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=l(e),t.hostname=e.host,t.secure="https"==e.protocol||"wss"==e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=l(t.host).host),this.secure=null!=t.secure?t.secure:n.location&&"https:"==location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||(n.location?location.hostname:"localhost"),this.port=t.port||(n.location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=p.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized?null:t.rejectUnauthorized;var i="object"==typeof n&&n;i.global===i&&t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),this.open()}function i(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var o=e("./transports"),a=e("component-emitter"),s=e("debug")("engine.io-client:socket"),c=e("indexof"),u=e("engine.io-parser"),l=e("parseuri"),f=e("parsejson"),p=e("parseqs");t.exports=r,r.priorWebsocketSuccess=!1,a(r.prototype),r.protocol=u.protocol,r.Socket=r,r.Transport=e("./transport"),r.transports=e("./transports"),r.parser=e("engine.io-parser"),r.prototype.createTransport=function(e){s('creating transport "%s"',e);var t=i(this.query);t.EIO=u.protocol,t.transport=e,this.id&&(t.sid=this.id);var n=new o[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders});return n},r.prototype.open=function(){var e;if(this.rememberUpgrade&&r.priorWebsocketSuccess&&this.transports.indexOf("websocket")!=-1)e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},r.prototype.setTransport=function(e){s("setting transport %s",e.name);var t=this;this.transport&&(s("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},r.prototype.probe=function(e){function t(){if(p.onlyBinaryUpgrades){var t=!this.supportsBinary&&p.transport.supportsBinary;f=f||t}f||(s('probe transport "%s" opened',e),l.send([{type:"ping",data:"probe"}]),l.once("packet",function(t){if(!f)if("pong"==t.type&&"probe"==t.data){if(s('probe transport "%s" pong',e),p.upgrading=!0,p.emit("upgrading",l),!l)return;r.priorWebsocketSuccess="websocket"==l.name,s('pausing current transport "%s"',p.transport.name),p.transport.pause(function(){f||"closed"!=p.readyState&&(s("changing transport and sending upgrade packet"),u(),p.setTransport(l),l.send([{type:"upgrade"}]),p.emit("upgrade",l),l=null,p.upgrading=!1,p.flush())})}else{s('probe transport "%s" failed',e);var n=new Error("probe error");n.transport=l.name,p.emit("upgradeError",n)}}))}function n(){f||(f=!0,u(),l.close(),l=null)}function i(t){var r=new Error("probe error: "+t);r.transport=l.name,n(),s('probe transport "%s" failed because of error: %s',e,t),p.emit("upgradeError",r)}function o(){i("transport closed")}function a(){i("socket closed")}function c(e){l&&e.name!=l.name&&(s('"%s" works - aborting "%s"',e.name,l.name),n())}function u(){l.removeListener("open",t),l.removeListener("error",i),l.removeListener("close",o),p.removeListener("close",a),p.removeListener("upgrading",c)}s('probing transport "%s"',e);var l=this.createTransport(e,{probe:1}),f=!1,p=this;r.priorWebsocketSuccess=!1,l.once("open",t),
l.once("error",i),l.once("close",o),this.once("close",a),this.once("upgrading",c),l.open()},r.prototype.onOpen=function(){if(s("socket open"),this.readyState="open",r.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){s("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},r.prototype.onPacket=function(e){if("opening"==this.readyState||"open"==this.readyState)switch(s('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(f(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else s('packet received with socket readyState "%s"',this.readyState)},r.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},r.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!=t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},r.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){s("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},r.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},r.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},r.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(s("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},r.prototype.write=r.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},r.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!=this.readyState&&"closed"!=this.readyState){n=n||{},n.compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},r.prototype.close=function(){function e(){r.onClose("forced close"),s("socket closing - telling transport to close"),r.transport.close()}function t(){r.removeListener("upgrade",t),r.removeListener("upgradeError",t),e()}function n(){r.once("upgrade",t),r.once("upgradeError",t)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var r=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():e()}):this.upgrading?n():e()}return this},r.prototype.onError=function(e){s("socket error %j",e),r.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},r.prototype.onClose=function(e,t){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){s('socket close with reason: "%s"',e);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),n.writeBuffer=[],n.prevBufferLen=0}},r.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~c(this.transports,e[n])&&t.push(e[n]);return t}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./transport":4,"./transports":5,"component-emitter":15,debug:17,"engine.io-parser":19,indexof:23,parsejson:26,parseqs:27,parseuri:28}],4:[function(e,t,n){function r(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders}var i=e("engine.io-parser"),o=e("component-emitter");t.exports=r,o(r.prototype),r.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},r.prototype.open=function(){return"closed"!=this.readyState&&""!=this.readyState||(this.readyState="opening",this.doOpen()),this},r.prototype.close=function(){return"opening"!=this.readyState&&"open"!=this.readyState||(this.doClose(),this.onClose()),this},r.prototype.send=function(e){if("open"!=this.readyState)throw new Error("Transport not open");this.write(e)},r.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},r.prototype.onData=function(e){var t=i.decodePacket(e,this.socket.binaryType);this.onPacket(t)},r.prototype.onPacket=function(e){this.emit("packet",e)},r.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":15,"engine.io-parser":19}],5:[function(e,t,n){(function(t){function r(e){var n,r=!1,s=!1,c=!1!==e.jsonp;if(t.location){var u="https:"==location.protocol,l=location.port;l||(l=u?443:80),r=e.hostname!=location.hostname||l!=e.port,s=e.secure!=u}if(e.xdomain=r,e.xscheme=s,n=new i(e),"open"in n&&!e.forceJSONP)return new o(e);if(!c)throw new Error("JSONP disabled");return new a(e)}var i=e("xmlhttprequest-ssl"),o=e("./polling-xhr"),a=e("./polling-jsonp"),s=e("./websocket");n.polling=r,n.websocket=s}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./polling-jsonp":6,"./polling-xhr":7,"./websocket":9,"xmlhttprequest-ssl":10}],6:[function(e,t,n){(function(n){function r(){}function i(e){o.call(this,e),this.query=this.query||{},s||(n.___eio||(n.___eio=[]),s=n.___eio),this.index=s.length;var t=this;s.push(function(e){t.onData(e)}),this.query.j=this.index,n.document&&n.addEventListener&&n.addEventListener("beforeunload",function(){t.script&&(t.script.onerror=r)},!1)}var o=e("./polling"),a=e("component-inherit");t.exports=i;var s,c=/\n/g,u=/\\n/g;a(i,o),i.prototype.supportsBinary=!1,i.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),o.prototype.doClose.call(this)},i.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t;var r="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);r&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},i.prototype.doWrite=function(e,t){function n(){r(),t()}function r(){if(i.iframe)try{i.form.removeChild(i.iframe)}catch(e){i.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+i.iframeId+'">';o=document.createElement(e)}catch(e){o=document.createElement("iframe"),o.name=i.iframeId,o.src="javascript:0"}o.id=i.iframeId,i.form.appendChild(o),i.iframe=o}var i=this;if(!this.form){var o,a=document.createElement("form"),s=document.createElement("textarea"),l=this.iframeId="eio_iframe_"+this.index;a.className="socketio",a.style.position="absolute",a.style.top="-1000px",a.style.left="-1000px",a.target=l,a.method="POST",a.setAttribute("accept-charset","utf-8"),s.name="d",a.appendChild(s),document.body.appendChild(a),this.form=a,this.area=s}this.form.action=this.uri(),r(),e=e.replace(u,"\\\n"),this.area.value=e.replace(c,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==i.iframe.readyState&&n()}:this.iframe.onload=n}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./polling":8,"component-inherit":16}],7:[function(e,t,n){(function(n){function r(){}function i(e){if(c.call(this,e),n.location){var t="https:"==location.protocol,r=location.port;r||(r=t?443:80),this.xd=e.hostname!=n.location.hostname||r!=e.port,this.xs=e.secure!=t}else this.extraHeaders=e.extraHeaders}function o(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!=e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function a(){for(var e in o.requests)o.requests.hasOwnProperty(e)&&o.requests[e].abort()}var s=e("xmlhttprequest-ssl"),c=e("./polling"),u=e("component-emitter"),l=e("component-inherit"),f=e("debug")("engine.io-client:polling-xhr");t.exports=i,t.exports.Request=o,l(i,c),i.prototype.supportsBinary=!0,i.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.extraHeaders=this.extraHeaders,new o(e)},i.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),i=this;r.on("success",t),r.on("error",function(e){i.onError("xhr post error",e)}),this.sendXhr=r},i.prototype.doPoll=function(){f("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},u(o.prototype),o.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new s(e),r=this;try{f("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders){t.setDisableHeaderCheck(!0);for(var i in this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&t.setRequestHeader(i,this.extraHeaders[i])}}catch(e){}if(this.supportsBinary&&(t.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}"withCredentials"in t&&(t.withCredentials=!0),this.hasXDR()?(t.onload=function(){r.onLoad()},t.onerror=function(){r.onError(t.responseText)}):t.onreadystatechange=function(){4==t.readyState&&(200==t.status||1223==t.status?r.onLoad():setTimeout(function(){r.onError(t.status)},0))},f("xhr data %s",this.data),t.send(this.data)}catch(e){return void setTimeout(function(){r.onError(e)},0)}n.document&&(this.index=o.requestsCount++,o.requests[this.index]=this)},o.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},o.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},o.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},o.prototype.cleanup=function(e){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=r:this.xhr.onreadystatechange=r,e)try{this.xhr.abort()}catch(e){}n.document&&delete o.requests[this.index],this.xhr=null}},o.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(e){}if("application/octet-stream"===t)e=this.xhr.response;else if(this.supportsBinary)try{e=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(t){for(var n=new Uint8Array(this.xhr.response),r=[],i=0,o=n.length;i<o;i++)r.push(n[i]);e=String.fromCharCode.apply(null,r)}else e=this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},o.prototype.hasXDR=function(){return"undefined"!=typeof n.XDomainRequest&&!this.xs&&this.enablesXDR},o.prototype.abort=function(){this.cleanup()},n.document&&(o.requestsCount=0,o.requests={},n.attachEvent?n.attachEvent("onunload",a):n.addEventListener&&n.addEventListener("beforeunload",a,!1))}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./polling":8,"component-emitter":15,"component-inherit":16,debug:17,"xmlhttprequest-ssl":10}],8:[function(e,t,n){function r(e){var t=e&&e.forceBase64;l&&!t||(this.supportsBinary=!1),i.call(this,e)}var i=e("../transport"),o=e("parseqs"),a=e("engine.io-parser"),s=e("component-inherit"),c=e("yeast"),u=e("debug")("engine.io-client:polling");t.exports=r;var l=function(){var t=e("xmlhttprequest-ssl"),n=new t({xdomain:!1});return null!=n.responseType}();s(r,i),r.prototype.name="polling",r.prototype.doOpen=function(){this.poll()},r.prototype.pause=function(e){function t(){u("paused"),n.readyState="paused",e()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(u("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){u("pre-pause polling complete"),--r||t()})),this.writable||(u("we are currently writing - waiting to pause"),r++,this.once("drain",function(){u("pre-pause writing complete"),--r||t()}))}else t()},r.prototype.poll=function(){u("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},r.prototype.onData=function(e){var t=this;u("polling got data %s",e);var n=function(e,n,r){return"opening"==t.readyState&&t.onOpen(),"close"==e.type?(t.onClose(),!1):void t.onPacket(e)};a.decodePayload(e,this.socket.binaryType,n),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():u('ignoring poll - transport state "%s"',this.readyState))},r.prototype.doClose=function(){function e(){u("writing close packet"),t.write([{type:"close"}])}var t=this;"open"==this.readyState?(u("transport open - closing"),e()):(u("transport not open - deferring close"),this.once("open",e))},r.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")},t=this;a.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},r.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";!1!==this.timestampRequests&&(e[this.timestampParam]=c()),this.supportsBinary||e.sid||(e.b64=1),e=o.encode(e),this.port&&("https"==t&&443!=this.port||"http"==t&&80!=this.port)&&(n=":"+this.port),e.length&&(e="?"+e);var r=this.hostname.indexOf(":")!==-1;return t+"://"+(r?"["+this.hostname+"]":this.hostname)+n+this.path+e}},{"../transport":4,"component-inherit":16,debug:17,"engine.io-parser":19,parseqs:27,"xmlhttprequest-ssl":10,yeast:30}],9:[function(e,t,n){(function(n){function r(e){var t=e&&e.forceBase64;t&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,i.call(this,e)}var i=e("../transport"),o=e("engine.io-parser"),a=e("parseqs"),s=e("component-inherit"),c=e("yeast"),u=e("debug")("engine.io-client:websocket"),l=n.WebSocket||n.MozWebSocket,f=l;if(!f&&"undefined"==typeof window)try{f=e("ws")}catch(e){}t.exports=r,s(r,i),r.prototype.name="websocket",r.prototype.supportsBinary=!0,r.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=void 0,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.ws=l?new f(e):new f(e,t,n),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="buffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},r.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(r.prototype.onData=function(e){var t=this;setTimeout(function(){i.prototype.onData.call(t,e)},0)}),r.prototype.write=function(e){function t(){r.emit("flush"),setTimeout(function(){r.writable=!0,r.emit("drain")},0)}var r=this;this.writable=!1;for(var i=e.length,a=0,s=i;a<s;a++)!function(e){o.encodePacket(e,r.supportsBinary,function(o){if(!l){var a={};if(e.options&&(a.compress=e.options.compress),r.perMessageDeflate){var s="string"==typeof o?n.Buffer.byteLength(o):o.length;s<r.perMessageDeflate.threshold&&(a.compress=!1)}}try{l?r.ws.send(o):r.ws.send(o,a)}catch(e){u("websocket closed before onclose event")}--i||t()})}(e[a])},r.prototype.onClose=function(){i.prototype.onClose.call(this)},r.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},r.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";this.port&&("wss"==t&&443!=this.port||"ws"==t&&80!=this.port)&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=c()),this.supportsBinary||(e.b64=1),e=a.encode(e),e.length&&(e="?"+e);var r=this.hostname.indexOf(":")!==-1;return t+"://"+(r?"["+this.hostname+"]":this.hostname)+n+this.path+e},r.prototype.check=function(){return!(!f||"__initialize"in f&&this.name===r.prototype.name)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"../transport":4,"component-inherit":16,debug:17,"engine.io-parser":19,parseqs:27,ws:void 0,yeast:30}],10:[function(e,t,n){var r=e("has-cors");t.exports=function(e){var t=e.xdomain,n=e.xscheme,i=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||r))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!n&&i)return new XDomainRequest}catch(e){}if(!t)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}},{"has-cors":22}],11:[function(e,t,n){function r(e,t,n){function r(e,i){if(r.count<=0)throw new Error("after called too many times");--r.count,e?(o=!0,t(e),t=n):0!==r.count||o||t(null,i)}var o=!1;return n=n||i,r.count=e,0===e?t():r}function i(){}t.exports=r},{}],12:[function(e,t,n){t.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var i=new Uint8Array(e),o=new Uint8Array(n-t),a=t,s=0;a<n;a++,s++)o[s]=i[a];return o.buffer}},{}],13:[function(e,t,n){!function(e){"use strict";n.encode=function(t){var n,r=new Uint8Array(t),i=r.length,o="";for(n=0;n<i;n+=3)o+=e[r[n]>>2],o+=e[(3&r[n])<<4|r[n+1]>>4],o+=e[(15&r[n+1])<<2|r[n+2]>>6],o+=e[63&r[n+2]];return i%3===2?o=o.substring(0,o.length-1)+"=":i%3===1&&(o=o.substring(0,o.length-2)+"=="),o},n.decode=function(t){var n,r,i,o,a,s=.75*t.length,c=t.length,u=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var l=new ArrayBuffer(s),f=new Uint8Array(l);for(n=0;n<c;n+=4)r=e.indexOf(t[n]),i=e.indexOf(t[n+1]),o=e.indexOf(t[n+2]),a=e.indexOf(t[n+3]),f[u++]=r<<2|i>>4,f[u++]=(15&i)<<4|o>>2,f[u++]=(3&o)<<6|63&a;return l}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],14:[function(e,t,n){(function(e){function n(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.buffer instanceof ArrayBuffer){var r=n.buffer;if(n.byteLength!==r.byteLength){var i=new Uint8Array(n.byteLength);i.set(new Uint8Array(r,n.byteOffset,n.byteLength)),r=i.buffer}e[t]=r}}}function r(e,t){t=t||{};var r=new o;n(e);for(var i=0;i<e.length;i++)r.append(e[i]);return t.type?r.getBlob(t.type):r.getBlob()}function i(e,t){return n(e),new Blob(e,t||{})}var o=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,a=function(){try{var e=new Blob(["hi"]);return 2===e.size}catch(e){return!1}}(),s=a&&function(){try{var e=new Blob([new Uint8Array([1,2])]);return 2===e.size}catch(e){return!1}}(),c=o&&o.prototype.append&&o.prototype.getBlob;t.exports=function(){return a?s?e.Blob:i:c?r:void 0}()}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],15:[function(e,t,n){function r(e){if(e)return i(e)}function i(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){r.off(e,n),t.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],16:[function(e,t,n){t.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],17:[function(e,t,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,o=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,r),e}function o(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(e){}}function s(){var e;try{e=n.storage.debug}catch(e){}return e}function c(){try{return window.localStorage}catch(e){}}n=t.exports=e("./debug"),n.log=o,n.formatArgs=i,n.save=a,n.load=s,n.useColors=r,n.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:c(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)},n.enable(s())},{"./debug":18}],18:[function(e,t,n){function r(){return n.colors[l++%n.colors.length]}function i(e){function t(){}function i(){var e=i,t=+new Date,o=t-(u||t);e.diff=o,e.prev=u,e.curr=t,u=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=r());var a=Array.prototype.slice.call(arguments);a[0]=n.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var s=0;a[0]=a[0].replace(/%([a-z%])/g,function(t,r){if("%%"===t)return t;s++;var i=n.formatters[r];if("function"==typeof i){var o=a[s];t=i.call(e,o),a.splice(s,1),s--}return t}),"function"==typeof n.formatArgs&&(a=n.formatArgs.apply(e,a));var c=i.log||n.log||console.log.bind(console);c.apply(e,a)}t.enabled=!1,i.enabled=!0;var o=n.enabled(e)?i:t;return o.namespace=e,o}function o(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),r=t.length,i=0;i<r;i++)t[i]&&(e=t[i].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function a(){n.enable("")}function s(e){var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=i,n.coerce=c,n.disable=a,n.enable=o,n.enabled=s,n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={};var u,l=0},{ms:25}],19:[function(e,t,n){(function(t){function r(e,t){var r="b"+n.packets[e.type]+e.data.data;return t(r)}function i(e,t,r){if(!t)return n.encodeBase64Packet(e,r);var i=e.data,o=new Uint8Array(i),a=new Uint8Array(1+i.byteLength);a[0]=g[e.type];for(var s=0;s<o.length;s++)a[s+1]=o[s];return r(a.buffer)}function o(e,t,r){if(!t)return n.encodeBase64Packet(e,r);var i=new FileReader;return i.onload=function(){e.data=i.result,n.encodePacket(e,t,!0,r)},i.readAsArrayBuffer(e.data)}function a(e,t,r){if(!t)return n.encodeBase64Packet(e,r);if(v)return o(e,t,r);var i=new Uint8Array(1);i[0]=g[e.type];var a=new w([i.buffer,e.data]);return r(a)}function s(e,t,n){for(var r=new Array(e.length),i=p(e.length,n),o=function(e,n,i){t(n,function(t,n){r[e]=n,i(t,r)})},a=0;a<e.length;a++)o(a,e[a],i)}var c=e("./keys"),u=e("has-binary"),l=e("arraybuffer.slice"),f=e("base64-arraybuffer"),p=e("after"),d=e("utf8"),h=navigator.userAgent.match(/Android/i),m=/PhantomJS/i.test(navigator.userAgent),v=h||m;n.protocol=3;var g=n.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},y=c(g),b={type:"error",data:"parser error"},w=e("blob");n.encodePacket=function(e,n,o,s){"function"==typeof n&&(s=n,n=!1),"function"==typeof o&&(s=o,o=null);var c=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&c instanceof ArrayBuffer)return i(e,n,s);if(w&&c instanceof t.Blob)return a(e,n,s);if(c&&c.base64)return r(e,s);var u=g[e.type];return void 0!==e.data&&(u+=o?d.encode(String(e.data)):String(e.data)),s(""+u)},n.encodeBase64Packet=function(e,r){var i="b"+n.packets[e.type];if(w&&e.data instanceof t.Blob){var o=new FileReader;return o.onload=function(){var e=o.result.split(",")[1];r(i+e)},o.readAsDataURL(e.data)}var a;try{a=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(t){for(var s=new Uint8Array(e.data),c=new Array(s.length),u=0;u<s.length;u++)c[u]=s[u];a=String.fromCharCode.apply(null,c)}return i+=t.btoa(a),r(i)},n.decodePacket=function(e,t,r){if("string"==typeof e||void 0===e){if("b"==e.charAt(0))return n.decodeBase64Packet(e.substr(1),t);if(r)try{e=d.decode(e)}catch(e){return b}var i=e.charAt(0);return Number(i)==i&&y[i]?e.length>1?{type:y[i],data:e.substring(1)}:{type:y[i]}:b}var o=new Uint8Array(e),i=o[0],a=l(e,1);return w&&"blob"===t&&(a=new w([a])),{type:y[i],data:a}},n.decodeBase64Packet=function(e,n){var r=y[e.charAt(0)];if(!t.ArrayBuffer)return{type:r,data:{base64:!0,data:e.substr(1)}};var i=f.decode(e.substr(1));return"blob"===n&&w&&(i=new w([i])),{type:r,data:i}},n.encodePayload=function(e,t,r){function i(e){return e.length+":"+e}function o(e,r){n.encodePacket(e,!!a&&t,!0,function(e){r(null,i(e))})}"function"==typeof t&&(r=t,t=null);var a=u(e);return t&&a?w&&!v?n.encodePayloadAsBlob(e,r):n.encodePayloadAsArrayBuffer(e,r):e.length?void s(e,o,function(e,t){return r(t.join(""))}):r("0:")},n.decodePayload=function(e,t,r){if("string"!=typeof e)return n.decodePayloadAsBinary(e,t,r);"function"==typeof t&&(r=t,t=null);var i;if(""==e)return r(b,0,1);for(var o,a,s="",c=0,u=e.length;c<u;c++){var l=e.charAt(c);if(":"!=l)s+=l;else{if(""==s||s!=(o=Number(s)))return r(b,0,1);if(a=e.substr(c+1,o),s!=a.length)return r(b,0,1);if(a.length){if(i=n.decodePacket(a,t,!0),b.type==i.type&&b.data==i.data)return r(b,0,1);var f=r(i,c+o,u);if(!1===f)return}c+=o,s=""}}return""!=s?r(b,0,1):void 0},n.encodePayloadAsArrayBuffer=function(e,t){function r(e,t){n.encodePacket(e,!0,!0,function(e){return t(null,e)})}return e.length?void s(e,r,function(e,n){var r=n.reduce(function(e,t){var n;return n="string"==typeof t?t.length:t.byteLength,e+n.toString().length+n+2},0),i=new Uint8Array(r),o=0;return n.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),a=0;a<e.length;a++)r[a]=e.charCodeAt(a);n=r.buffer}t?i[o++]=0:i[o++]=1;for(var s=n.byteLength.toString(),a=0;a<s.length;a++)i[o++]=parseInt(s[a]);i[o++]=255;for(var r=new Uint8Array(n),a=0;a<r.length;a++)i[o++]=r[a]}),t(i.buffer)}):t(new ArrayBuffer(0))},n.encodePayloadAsBlob=function(e,t){function r(e,t){n.encodePacket(e,!0,!0,function(e){var n=new Uint8Array(1);if(n[0]=1,"string"==typeof e){for(var r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);e=r.buffer,n[0]=0}for(var o=e instanceof ArrayBuffer?e.byteLength:e.size,a=o.toString(),s=new Uint8Array(a.length+1),i=0;i<a.length;i++)s[i]=parseInt(a[i]);if(s[a.length]=255,w){var c=new w([n.buffer,s.buffer,e]);t(null,c)}})}s(e,r,function(e,n){return t(new w(n))})},n.decodePayloadAsBinary=function(e,t,r){"function"==typeof t&&(r=t,t=null);for(var i=e,o=[],a=!1;i.byteLength>0;){for(var s=new Uint8Array(i),c=0===s[0],u="",f=1;255!=s[f];f++){if(u.length>310){a=!0;break}u+=s[f]}if(a)return r(b,0,1);i=l(i,2+u.length),u=parseInt(u);var p=l(i,0,u);if(c)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(e){var d=new Uint8Array(p);p="";for(var f=0;f<d.length;f++)p+=String.fromCharCode(d[f])}o.push(p),i=l(i,u)}var h=o.length;o.forEach(function(e,i){r(n.decodePacket(e,t,!0),i,h)})}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./keys":20,after:11,"arraybuffer.slice":12,"base64-arraybuffer":13,blob:14,"has-binary":21,utf8:29}],20:[function(e,t,n){t.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},{}],21:[function(e,t,n){(function(n){function r(e){function t(e){if(!e)return!1;if(n.Buffer&&n.Buffer.isBuffer(e)||n.ArrayBuffer&&e instanceof ArrayBuffer||n.Blob&&e instanceof Blob||n.File&&e instanceof File)return!0;if(i(e)){for(var r=0;r<e.length;r++)if(t(e[r]))return!0}else if(e&&"object"==typeof e){e.toJSON&&(e=e.toJSON());for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&t(e[o]))return!0}return!1}return t(e)}var i=e("isarray");t.exports=r}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{isarray:24}],22:[function(e,t,n){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},{}],23:[function(e,t,n){var r=[].indexOf;t.exports=function(e,t){if(r)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},{}],24:[function(e,t,n){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],25:[function(e,t,n){function r(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*f;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*u;case"minutes":case"minute":case"mins":case"min":case"m":return n*c;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function i(e){return e>=l?Math.round(e/l)+"d":e>=u?Math.round(e/u)+"h":e>=c?Math.round(e/c)+"m":e>=s?Math.round(e/s)+"s":e+"ms"}function o(e){
return a(e,l,"day")||a(e,u,"hour")||a(e,c,"minute")||a(e,s,"second")||e+" ms"}function a(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var s=1e3,c=60*s,u=60*c,l=24*u,f=365.25*l;t.exports=function(e,t){return t=t||{},"string"==typeof e?r(e):t.long?o(e):i(e)}},{}],26:[function(e,t,n){(function(e){var n=/^[\],:{}\s]*$/,r=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,i=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,o=/(?:^|:|,)(?:\s*\[)+/g,a=/^\s+/,s=/\s+$/;t.exports=function(t){return"string"==typeof t&&t?(t=t.replace(a,"").replace(s,""),e.JSON&&JSON.parse?JSON.parse(t):n.test(t.replace(r,"@").replace(i,"]").replace(o,""))?new Function("return "+t)():void 0):null}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],27:[function(e,t,n){n.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},n.decode=function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},{}],28:[function(e,t,n){var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){var t=e,n=e.indexOf("["),o=e.indexOf("]");n!=-1&&o!=-1&&(e=e.substring(0,n)+e.substring(n,o).replace(/:/g,";")+e.substring(o,e.length));for(var a=r.exec(e||""),s={},c=14;c--;)s[i[c]]=a[c]||"";return n!=-1&&o!=-1&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},{}],29:[function(t,n,r){(function(t){!function(i){function o(e){for(var t,n,r=[],i=0,o=e.length;i<o;)t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<o?(n=e.charCodeAt(i++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--)):r.push(t);return r}function a(e){for(var t,n=e.length,r=-1,i="";++r<n;)t=e[r],t>65535&&(t-=65536,i+=w(t>>>10&1023|55296),t=56320|1023&t),i+=w(t);return i}function s(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}function c(e,t){return w(e>>t&63|128)}function u(e){if(0==(4294967168&e))return w(e);var t="";return 0==(4294965248&e)?t=w(e>>6&31|192):0==(4294901760&e)?(s(e),t=w(e>>12&15|224),t+=c(e,6)):0==(4292870144&e)&&(t=w(e>>18&7|240),t+=c(e,12),t+=c(e,6)),t+=w(63&e|128)}function l(e){for(var t,n=o(e),r=n.length,i=-1,a="";++i<r;)t=n[i],a+=u(t);return a}function f(){if(b>=y)throw Error("Invalid byte index");var e=255&g[b];if(b++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function p(){var e,t,n,r,i;if(b>y)throw Error("Invalid byte index");if(b==y)return!1;if(e=255&g[b],b++,0==(128&e))return e;if(192==(224&e)){var t=f();if(i=(31&e)<<6|t,i>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&e)){if(t=f(),n=f(),i=(15&e)<<12|t<<6|n,i>=2048)return s(i),i;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=f(),n=f(),r=f(),i=(15&e)<<18|t<<12|n<<6|r,i>=65536&&i<=1114111))return i;throw Error("Invalid UTF-8 detected")}function d(e){g=o(e),y=g.length,b=0;for(var t,n=[];(t=p())!==!1;)n.push(t);return a(n)}var h="object"==typeof r&&r,m="object"==typeof n&&n&&n.exports==h&&n,v="object"==typeof t&&t;v.global!==v&&v.window!==v||(i=v);var g,y,b,w=String.fromCharCode,_={version:"2.0.0",encode:l,decode:d};if("function"==typeof e&&"object"==typeof e.amd&&e.amd)e(function(){return _});else if(h&&!h.nodeType)if(m)m.exports=_;else{var x={},C=x.hasOwnProperty;for(var k in _)C.call(_,k)&&(h[k]=_[k])}else i.utf8=_}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],30:[function(e,t,n){"use strict";function r(e){var t="";do t=s[e%c]+t,e=Math.floor(e/c);while(e>0);return t}function i(e){var t=0;for(f=0;f<e.length;f++)t=t*c+u[e.charAt(f)];return t}function o(){var e=r(+new Date);return e!==a?(l=0,a=e):e+"."+r(l++)}for(var a,s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),c=64,u={},l=0,f=0;f<c;f++)u[s[f]]=f;o.encode=r,o.decode=i,t.exports=o},{}],31:[function(e,t,n){function r(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r=i(e),o=r.source,u=r.id,l=r.path,f=c[u]&&l in c[u].nsps,p=t.forceNew||t["force new connection"]||!1===t.multiplex||f;return p?(s("ignoring socket cache for %s",o),n=a(o,t)):(c[u]||(s("new io instance for %s",o),c[u]=a(o,t)),n=c[u]),n.socket(r.path)}var i=e("./url"),o=e("socket.io-parser"),a=e("./manager"),s=e("debug")("socket.io-client");t.exports=n=r;var c=n.managers={};n.protocol=o.protocol,n.connect=r,n.Manager=e("./manager"),n.Socket=e("./socket")},{"./manager":32,"./socket":34,"./url":35,debug:39,"socket.io-parser":47}],32:[function(e,t,n){function r(e,t){return this instanceof r?(e&&"object"==typeof e&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new s.Encoder,this.decoder=new s.Decoder,this.autoConnect=t.autoConnect!==!1,void(this.autoConnect&&this.open())):new r(e,t)}var i=e("engine.io-client"),o=e("./socket"),a=e("component-emitter"),s=e("socket.io-parser"),c=e("./on"),u=e("component-bind"),l=e("debug")("socket.io-client:manager"),f=e("indexof"),p=e("backo2"),d=Object.prototype.hasOwnProperty;t.exports=r,r.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)d.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},r.prototype.updateSocketIds=function(){for(var e in this.nsps)d.call(this.nsps,e)&&(this.nsps[e].id=this.engine.id)},a(r.prototype),r.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},r.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},r.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},r.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},r.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},r.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},r.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},r.prototype.open=r.prototype.connect=function(e){if(l("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;l("opening %s",this.uri),this.engine=i(this.uri,this.opts);var t=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var r=c(t,"open",function(){n.onopen(),e&&e()}),o=c(t,"error",function(t){if(l("connect_error"),n.cleanup(),n.readyState="closed",n.emitAll("connect_error",t),e){var r=new Error("Connection error");r.data=t,e(r)}else n.maybeReconnectOnOpen()});if(!1!==this._timeout){var a=this._timeout;l("connect attempt will timeout after %d",a);var s=setTimeout(function(){l("connect attempt timed out after %d",a),r.destroy(),t.close(),t.emit("error","timeout"),n.emitAll("connect_timeout",a)},a);this.subs.push({destroy:function(){clearTimeout(s)}})}return this.subs.push(r),this.subs.push(o),this},r.prototype.onopen=function(){l("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(c(e,"data",u(this,"ondata"))),this.subs.push(c(e,"ping",u(this,"onping"))),this.subs.push(c(e,"pong",u(this,"onpong"))),this.subs.push(c(e,"error",u(this,"onerror"))),this.subs.push(c(e,"close",u(this,"onclose"))),this.subs.push(c(this.decoder,"decoded",u(this,"ondecoded")))},r.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},r.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},r.prototype.ondata=function(e){this.decoder.add(e)},r.prototype.ondecoded=function(e){this.emit("packet",e)},r.prototype.onerror=function(e){l("error",e),this.emitAll("error",e)},r.prototype.socket=function(e){function t(){~f(r.connecting,n)||r.connecting.push(n)}var n=this.nsps[e];if(!n){n=new o(this,e),this.nsps[e]=n;var r=this;n.on("connecting",t),n.on("connect",function(){n.id=r.engine.id}),this.autoConnect&&t()}return n},r.prototype.destroy=function(e){var t=f(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},r.prototype.packet=function(e){l("writing packet %j",e);var t=this;t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()}))},r.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},r.prototype.cleanup=function(){l("cleanup");for(var e;e=this.subs.shift();)e.destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},r.prototype.close=r.prototype.disconnect=function(){l("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"==this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},r.prototype.onclose=function(e){l("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},r.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)l("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();l("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(l("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(l("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(l("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},r.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},{"./on":33,"./socket":34,backo2:36,"component-bind":37,"component-emitter":38,debug:39,"engine.io-client":1,indexof:42,"socket.io-parser":47}],33:[function(e,t,n){function r(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}t.exports=r},{}],34:[function(e,t,n){function r(e,t){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.io.autoConnect&&this.open()}var i=e("socket.io-parser"),o=e("component-emitter"),a=e("to-array"),s=e("./on"),c=e("component-bind"),u=e("debug")("socket.io-client:socket"),l=e("has-binary");t.exports=n=r;var f={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},p=o.prototype.emit;o(r.prototype),r.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[s(e,"open",c(this,"onopen")),s(e,"packet",c(this,"onpacket")),s(e,"close",c(this,"onclose"))]}},r.prototype.open=r.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"==this.io.readyState&&this.onopen(),this.emit("connecting"),this)},r.prototype.send=function(){var e=a(arguments);return e.unshift("message"),this.emit.apply(this,e),this},r.prototype.emit=function(e){if(f.hasOwnProperty(e))return p.apply(this,arguments),this;var t=a(arguments),n=i.EVENT;l(t)&&(n=i.BINARY_EVENT);var r={type:n,data:t};return r.options={},r.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(u("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),r.id=this.ids++),this.connected?this.packet(r):this.sendBuffer.push(r),delete this.flags,this},r.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},r.prototype.onopen=function(){u("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:i.CONNECT})},r.prototype.onclose=function(e){u("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},r.prototype.onpacket=function(e){if(e.nsp==this.nsp)switch(e.type){case i.CONNECT:this.onconnect();break;case i.EVENT:this.onevent(e);break;case i.BINARY_EVENT:this.onevent(e);break;case i.ACK:this.onack(e);break;case i.BINARY_ACK:this.onack(e);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit("error",e.data)}},r.prototype.onevent=function(e){var t=e.data||[];u("emitting event %j",t),null!=e.id&&(u("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?p.apply(this,t):this.receiveBuffer.push(t)},r.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var r=a(arguments);u("sending ack %j",r);var o=l(r)?i.BINARY_ACK:i.ACK;t.packet({type:o,id:e,data:r})}}},r.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(u("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):u("bad ack %s",e.id)},r.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},r.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)p.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},r.prototype.ondisconnect=function(){u("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},r.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},r.prototype.close=r.prototype.disconnect=function(){return this.connected&&(u("performing disconnect (%s)",this.nsp),this.packet({type:i.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},r.prototype.compress=function(e){return this.flags=this.flags||{},this.flags.compress=e,this}},{"./on":33,"component-bind":37,"component-emitter":38,debug:39,"has-binary":41,"socket.io-parser":47,"to-array":51}],35:[function(e,t,n){(function(n){function r(e,t){var r=e,t=t||n.location;null==e&&(e=t.protocol+"//"+t.host),"string"==typeof e&&("/"==e.charAt(0)&&(e="/"==e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(o("protocol-less url %s",e),e="undefined"!=typeof t?t.protocol+"//"+e:"https://"+e),o("parse %s",e),r=i(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var a=r.host.indexOf(":")!==-1,s=a?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port,r.href=r.protocol+"://"+s+(t&&t.port==r.port?"":":"+r.port),r}var i=e("parseuri"),o=e("debug")("socket.io-client:url");t.exports=r}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{debug:39,parseuri:45}],36:[function(e,t,n){function r(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}t.exports=r,r.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(e){this.ms=e},r.prototype.setMax=function(e){this.max=e},r.prototype.setJitter=function(e){this.jitter=e}},{}],37:[function(e,t,n){var r=[].slice;t.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var n=r.call(arguments,2);return function(){return t.apply(e,n.concat(r.call(arguments)))}}},{}],38:[function(e,t,n){function r(e){if(e)return i(e)}function i(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],39:[function(e,t,n){arguments[4][17][0].apply(n,arguments)},{"./debug":40,dup:17}],40:[function(e,t,n){arguments[4][18][0].apply(n,arguments)},{dup:18,ms:44}],41:[function(e,t,n){(function(n){function r(e){function t(e){if(!e)return!1;if(n.Buffer&&n.Buffer.isBuffer&&n.Buffer.isBuffer(e)||n.ArrayBuffer&&e instanceof ArrayBuffer||n.Blob&&e instanceof Blob||n.File&&e instanceof File)return!0;if(i(e)){for(var r=0;r<e.length;r++)if(t(e[r]))return!0}else if(e&&"object"==typeof e){e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON());for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&t(e[o]))return!0}return!1}return t(e)}var i=e("isarray");t.exports=r}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{isarray:43}],42:[function(e,t,n){arguments[4][23][0].apply(n,arguments)},{dup:23}],43:[function(e,t,n){arguments[4][24][0].apply(n,arguments)},{dup:24}],44:[function(e,t,n){arguments[4][25][0].apply(n,arguments)},{dup:25}],45:[function(e,t,n){arguments[4][28][0].apply(n,arguments)},{dup:28}],46:[function(e,t,n){(function(t){var r=e("isarray"),i=e("./is-buffer");n.deconstructPacket=function(e){function t(e){if(!e)return e;if(i(e)){var o={_placeholder:!0,num:n.length};return n.push(e),o}if(r(e)){for(var a=new Array(e.length),s=0;s<e.length;s++)a[s]=t(e[s]);return a}if("object"==typeof e&&!(e instanceof Date)){var a={};for(var c in e)a[c]=t(e[c]);return a}return e}var n=[],o=e.data,a=e;return a.data=t(o),a.attachments=n.length,{packet:a,buffers:n}},n.reconstructPacket=function(e,t){function n(e){if(e&&e._placeholder){var i=t[e.num];return i}if(r(e)){for(var o=0;o<e.length;o++)e[o]=n(e[o]);return e}if(e&&"object"==typeof e){for(var a in e)e[a]=n(e[a]);return e}return e}return e.data=n(e.data),e.attachments=void 0,e},n.removeBlobs=function(e,n){function o(e,c,u){if(!e)return e;if(t.Blob&&e instanceof Blob||t.File&&e instanceof File){a++;var l=new FileReader;l.onload=function(){u?u[c]=this.result:s=this.result,--a||n(s)},l.readAsArrayBuffer(e)}else if(r(e))for(var f=0;f<e.length;f++)o(e[f],f,e);else if(e&&"object"==typeof e&&!i(e))for(var p in e)o(e[p],p,e)}var a=0,s=e;o(s),a||n(s)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./is-buffer":48,isarray:43}],47:[function(e,t,n){function r(){}function i(e){var t="",r=!1;return t+=e.type,n.BINARY_EVENT!=e.type&&n.BINARY_ACK!=e.type||(t+=e.attachments,t+="-"),e.nsp&&"/"!=e.nsp&&(r=!0,t+=e.nsp),null!=e.id&&(r&&(t+=",",r=!1),t+=e.id),null!=e.data&&(r&&(t+=","),t+=f.stringify(e.data)),l("encoded %j as %s",e,t),t}function o(e,t){function n(e){var n=d.deconstructPacket(e),r=i(n.packet),o=n.buffers;o.unshift(r),t(o)}d.removeBlobs(e,n)}function a(){this.reconstructor=null}function s(e){var t={},r=0;if(t.type=Number(e.charAt(0)),null==n.types[t.type])return u();if(n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type){for(var i="";"-"!=e.charAt(++r)&&(i+=e.charAt(r),r!=e.length););if(i!=Number(i)||"-"!=e.charAt(r))throw new Error("Illegal attachments");t.attachments=Number(i)}if("/"==e.charAt(r+1))for(t.nsp="";++r;){var o=e.charAt(r);if(","==o)break;if(t.nsp+=o,r==e.length)break}else t.nsp="/";var a=e.charAt(r+1);if(""!==a&&Number(a)==a){for(t.id="";++r;){var o=e.charAt(r);if(null==o||Number(o)!=o){--r;break}if(t.id+=e.charAt(r),r==e.length)break}t.id=Number(t.id)}if(e.charAt(++r))try{t.data=f.parse(e.substr(r))}catch(e){return u()}return l("decoded %s as %j",e,t),t}function c(e){this.reconPack=e,this.buffers=[]}function u(e){return{type:n.ERROR,data:"parser error"}}var l=e("debug")("socket.io-parser"),f=e("json3"),p=(e("isarray"),e("component-emitter")),d=e("./binary"),h=e("./is-buffer");n.protocol=4,n.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],n.CONNECT=0,n.DISCONNECT=1,n.EVENT=2,n.ACK=3,n.ERROR=4,n.BINARY_EVENT=5,n.BINARY_ACK=6,n.Encoder=r,n.Decoder=a,r.prototype.encode=function(e,t){if(l("encoding packet %j",e),n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type)o(e,t);else{var r=i(e);t([r])}},p(a.prototype),a.prototype.add=function(e){var t;if("string"==typeof e)t=s(e),n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type?(this.reconstructor=new c(t),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",t)):this.emit("decoded",t);else{if(!h(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,this.emit("decoded",t))}},a.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},c.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length==this.reconPack.attachments){var t=d.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},c.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":46,"./is-buffer":48,"component-emitter":49,debug:39,isarray:43,json3:50}],48:[function(e,t,n){(function(e){function n(t){return e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer}t.exports=n}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],49:[function(e,t,n){arguments[4][15][0].apply(n,arguments)},{dup:15}],50:[function(t,n,r){(function(t){(function(){function i(e,t){function n(e){if(n[e]!==v)return n[e];var i;if("bug-string-char-index"==e)i="a"!="a"[0];else if("json"==e)i=n("json-stringify")&&n("json-parse");else{var a,s='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var c=t.stringify,l="function"==typeof c&&b;if(l){(a=function(){return 1}).toJSON=a;try{l="0"===c(0)&&"0"===c(new r)&&'""'==c(new o)&&c(y)===v&&c(v)===v&&c()===v&&"1"===c(a)&&"[1]"==c([a])&&"[null]"==c([v])&&"null"==c(null)&&"[null,null,null]"==c([v,y,null])&&c({a:[a,!0,!1,null,"\0\b\n\f\r\t"]})==s&&"1"===c(null,a)&&"[\n 1,\n 2\n]"==c([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==c(new u(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==c(new u(864e13))&&'"-000001-01-01T00:00:00.000Z"'==c(new u(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==c(new u(-1))}catch(e){l=!1}}i=l}if("json-parse"==e){var f=t.parse;if("function"==typeof f)try{if(0===f("0")&&!f(!1)){a=f(s);var p=5==a.a.length&&1===a.a[0];if(p){try{p=!f('"\t"')}catch(e){}if(p)try{p=1!==f("01")}catch(e){}if(p)try{p=1!==f("1.")}catch(e){}}}}catch(e){p=!1}i=p}}return n[e]=!!i}e||(e=c.Object()),t||(t=c.Object());var r=e.Number||c.Number,o=e.String||c.String,s=e.Object||c.Object,u=e.Date||c.Date,l=e.SyntaxError||c.SyntaxError,f=e.TypeError||c.TypeError,p=e.Math||c.Math,d=e.JSON||c.JSON;"object"==typeof d&&d&&(t.stringify=d.stringify,t.parse=d.parse);var h,m,v,g=s.prototype,y=g.toString,b=new u(-0xc782b5b800cec);try{b=b.getUTCFullYear()==-109252&&0===b.getUTCMonth()&&1===b.getUTCDate()&&10==b.getUTCHours()&&37==b.getUTCMinutes()&&6==b.getUTCSeconds()&&708==b.getUTCMilliseconds()}catch(e){}if(!n("json")){var w="[object Function]",_="[object Date]",x="[object Number]",C="[object String]",k="[object Array]",T="[object Boolean]",S=n("bug-string-char-index");if(!b)var E=p.floor,A=[0,31,59,90,120,151,181,212,243,273,304,334],I=function(e,t){return A[t]+365*(e-1970)+E((e-1969+(t=+(t>1)))/4)-E((e-1901+t)/100)+E((e-1601+t)/400)};if((h=g.hasOwnProperty)||(h=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=y?h=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,h=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,h.call(this,e)}),m=function(e,t){var n,r,i,o=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n;for(i in r)h.call(r,i)&&o++;return n=r=null,o?m=2==o?function(e,t){var n,r={},i=y.call(e)==w;for(n in e)i&&"prototype"==n||h.call(r,n)||!(r[n]=1)||!h.call(e,n)||t(n)}:function(e,t){var n,r,i=y.call(e)==w;for(n in e)i&&"prototype"==n||!h.call(e,n)||(r="constructor"===n)||t(n);(r||h.call(e,n="constructor"))&&t(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],m=function(e,t){var n,i,o=y.call(e)==w,s=!o&&"function"!=typeof e.constructor&&a[typeof e.hasOwnProperty]&&e.hasOwnProperty||h;for(n in e)o&&"prototype"==n||!s.call(e,n)||t(n);for(i=r.length;n=r[--i];s.call(e,n)&&t(n));}),m(e,t)},!n("json-stringify")){var O={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},P="000000",N=function(e,t){return(P+(t||0)).slice(-e)},D="\\u00",L=function(e){for(var t='"',n=0,r=e.length,i=!S||r>10,o=i&&(S?e.split(""):e);n<r;n++){var a=e.charCodeAt(n);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=O[a];break;default:if(a<32){t+=D+N(2,a.toString(16));break}t+=i?o[n]:e.charAt(n)}}return t+'"'},M=function(e,t,n,r,i,o,a){var s,c,u,l,p,d,g,b,w,S,A,O,P,D,R,j;try{s=t[e]}catch(e){}if("object"==typeof s&&s)if(c=y.call(s),c!=_||h.call(s,"toJSON"))"function"==typeof s.toJSON&&(c!=x&&c!=C&&c!=k||h.call(s,"toJSON"))&&(s=s.toJSON(e));else if(s>-1/0&&s<1/0){if(I){for(p=E(s/864e5),u=E(p/365.2425)+1970-1;I(u+1,0)<=p;u++);for(l=E((p-I(u,0))/30.42);I(u,l+1)<=p;l++);p=1+p-I(u,l),d=(s%864e5+864e5)%864e5,g=E(d/36e5)%24,b=E(d/6e4)%60,w=E(d/1e3)%60,S=d%1e3}else u=s.getUTCFullYear(),l=s.getUTCMonth(),p=s.getUTCDate(),g=s.getUTCHours(),b=s.getUTCMinutes(),w=s.getUTCSeconds(),S=s.getUTCMilliseconds();s=(u<=0||u>=1e4?(u<0?"-":"+")+N(6,u<0?-u:u):N(4,u))+"-"+N(2,l+1)+"-"+N(2,p)+"T"+N(2,g)+":"+N(2,b)+":"+N(2,w)+"."+N(3,S)+"Z"}else s=null;if(n&&(s=n.call(t,e,s)),null===s)return"null";if(c=y.call(s),c==T)return""+s;if(c==x)return s>-1/0&&s<1/0?""+s:"null";if(c==C)return L(""+s);if("object"==typeof s){for(D=a.length;D--;)if(a[D]===s)throw f();if(a.push(s),A=[],R=o,o+=i,c==k){for(P=0,D=s.length;P<D;P++)O=M(P,s,n,r,i,o,a),A.push(O===v?"null":O);j=A.length?i?"[\n"+o+A.join(",\n"+o)+"\n"+R+"]":"["+A.join(",")+"]":"[]"}else m(r||s,function(e){var t=M(e,s,n,r,i,o,a);t!==v&&A.push(L(e)+":"+(i?" ":"")+t)}),j=A.length?i?"{\n"+o+A.join(",\n"+o)+"\n"+R+"}":"{"+A.join(",")+"}":"{}";return a.pop(),j}};t.stringify=function(e,t,n){var r,i,o,s;if(a[typeof t]&&t)if((s=y.call(t))==w)i=t;else if(s==k){o={};for(var c,u=0,l=t.length;u<l;c=t[u++],s=y.call(c),(s==C||s==x)&&(o[c]=1));}if(n)if((s=y.call(n))==x){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else s==C&&(r=n.length<=10?n:n.slice(0,10));return M("",(c={},c[""]=e,c),i,o,r,"",[])}}if(!n("json-parse")){var R,j,F=o.fromCharCode,B={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},U=function(){throw R=j=null,l()},z=function(){for(var e,t,n,r,i,o=j,a=o.length;R<a;)switch(i=o.charCodeAt(R)){case 9:case 10:case 13:case 32:R++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=S?o.charAt(R):o[R],R++,e;case 34:for(e="@",R++;R<a;)if(i=o.charCodeAt(R),i<32)U();else if(92==i)switch(i=o.charCodeAt(++R)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=B[i],R++;break;case 117:for(t=++R,n=R+4;R<n;R++)i=o.charCodeAt(R),i>=48&&i<=57||i>=97&&i<=102||i>=65&&i<=70||U();e+=F("0x"+o.slice(t,R));break;default:U()}else{if(34==i)break;for(i=o.charCodeAt(R),t=R;i>=32&&92!=i&&34!=i;)i=o.charCodeAt(++R);e+=o.slice(t,R)}if(34==o.charCodeAt(R))return R++,e;U();default:if(t=R,45==i&&(r=!0,i=o.charCodeAt(++R)),i>=48&&i<=57){for(48==i&&(i=o.charCodeAt(R+1),i>=48&&i<=57)&&U(),r=!1;R<a&&(i=o.charCodeAt(R),i>=48&&i<=57);R++);if(46==o.charCodeAt(R)){for(n=++R;n<a&&(i=o.charCodeAt(n),i>=48&&i<=57);n++);n==R&&U(),R=n}if(i=o.charCodeAt(R),101==i||69==i){for(i=o.charCodeAt(++R),43!=i&&45!=i||R++,n=R;n<a&&(i=o.charCodeAt(n),i>=48&&i<=57);n++);n==R&&U(),R=n}return+o.slice(t,R)}if(r&&U(),"true"==o.slice(R,R+4))return R+=4,!0;if("false"==o.slice(R,R+5))return R+=5,!1;if("null"==o.slice(R,R+4))return R+=4,null;U()}return"$"},W=function(e){var t,n;if("$"==e&&U(),"string"==typeof e){if("@"==(S?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=z(),"]"!=e;n||(n=!0))n&&(","==e?(e=z(),"]"==e&&U()):U()),","==e&&U(),t.push(W(e));return t}if("{"==e){for(t={};e=z(),"}"!=e;n||(n=!0))n&&(","==e?(e=z(),"}"==e&&U()):U()),","!=e&&"string"==typeof e&&"@"==(S?e.charAt(0):e[0])&&":"==z()||U(),t[e.slice(1)]=W(z());return t}U()}return e},V=function(e,t,n){var r=$(e,t,n);r===v?delete e[t]:e[t]=r},$=function(e,t,n){var r,i=e[t];if("object"==typeof i&&i)if(y.call(i)==k)for(r=i.length;r--;)V(i,r,n);else m(i,function(e){V(i,e,n)});return n.call(e,t,i)};t.parse=function(e,t){var n,r;return R=0,j=""+e,n=W(z()),"$"!=z()&&U(),R=j=null,t&&y.call(t)==w?$((r={},r[""]=n,r),"",t):n}}}return t.runInContext=i,t}var o="function"==typeof e&&e.amd,a={function:!0,object:!0},s=a[typeof r]&&r&&!r.nodeType&&r,c=a[typeof window]&&window||this,u=s&&a[typeof n]&&n&&!n.nodeType&&"object"==typeof t&&t;if(!u||u.global!==u&&u.window!==u&&u.self!==u||(c=u),s&&!o)i(c,s);else{var l=c.JSON,f=c.JSON3,p=!1,d=i(c,c.JSON3={noConflict:function(){return p||(p=!0,c.JSON=l,c.JSON3=f,l=f=null),d}});c.JSON={parse:d.parse,stringify:d.stringify}}o&&e(function(){return d})}).call(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],51:[function(e,t,n){function r(e,t){var n=[];t=t||0;for(var r=t||0;r<e.length;r++)n[r-t]=e[r];return n}t.exports=r},{}]},{},[31])(31)})},function(e,t,n){var r,i;!function(o){var a=!1;if(r=o,i="function"==typeof r?r.call(t,n,t,e):r,!(void 0!==i&&(e.exports=i)),a=!0,e.exports=o(),a=!0,!a){var s=window.Cookies,c=window.Cookies=o();c.noConflict=function(){return window.Cookies=s,c}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(n){function r(t,i,o){var a;if("undefined"!=typeof document){if(arguments.length>1){if(o=e({path:"/"
},r.defaults,o),"number"==typeof o.expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*o.expires),o.expires=s}try{a=JSON.stringify(i),/^[\{\[]/.test(a)&&(i=a)}catch(e){}return i=n.write?n.write(i,t):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape),document.cookie=[t,"=",i,o.expires?"; expires="+o.expires.toUTCString():"",o.path?"; path="+o.path:"",o.domain?"; domain="+o.domain:"",o.secure?"; secure":""].join("")}t||(a={});for(var c=document.cookie?document.cookie.split("; "):[],u=/(%[0-9A-Z]{2})+/g,l=0;l<c.length;l++){var f=c[l].split("="),p=f.slice(1).join("=");'"'===p.charAt(0)&&(p=p.slice(1,-1));try{var d=f[0].replace(u,decodeURIComponent);if(p=n.read?n.read(p,d):n(p,d)||p.replace(u,decodeURIComponent),this.json)try{p=JSON.parse(p)}catch(e){}if(t===d){a=p;break}t||(a[d]=p)}catch(e){}}return a}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}return t(function(){})})},function(e,t){function n(e){return"doc"===e||"newdoc"===e}function r(e){return"spreadsheet"===e||"sheet"===e}Object.defineProperty(t,"__esModule",{value:!0}),t.isDoc=n,t.isSheet=r},function(e,t,n){var r,i;(function(o,a){r=[n(166),n(163),n(165)],i=function(e,t,n){var r;return r={contacts:{},keywords:{},keywordRule:/^[\w-@\.\u4E00-\u9FFF]+$/,loaded:!1,load:function(n){var r;window.cow.readonly||(this.loaded=!1,r=n?"/api/"+n+"/contacts":"/api/share/recent_contact",t.get(r,function(t){return function(n){var r,i,o;i=n.data;for(r in i)o=i[r],t.push(o);return t.loaded=!0,e.notify("contact:loaded")}}(this)))},fetch:function(){return new o(function(t){return function(n,r){return t.loaded?n(t.contacts):e.attach("contact:loaded",function(){return n(t.contacts)})}}(this))},get:function(e){var t;return t=window.cow.defaultAnonymousUser,n.regs.guid.test(e)?t:(e=+e,0===e||NaN===e?{id:0,avatar:"",email:"",name:"路人"}:cow.currentUser&&e===cow.currentUser.id?(null==cow.currentUser.online&&(cow.currentUser.online=!0),cow.currentUser):this.contacts[e]?this.contacts[e]:window.cow.shareObj&&window.cow.shareObj[e]?window.cow.shareObj[e]:e<0?t:{id:e,avatar:t.avatar,email:"",name:"路人"})},set:function(e){var t;if(e&&0!==(t=+e.id)&&NaN!==t)return this.contacts[e.id]=e,this._setKeyword(e),this.contacts[e.id]},exists:function(e){return!!this.contacts[+e]||+e===window.cow.currentUser.id},count:function(){return Object.keys(this.contacts).length},each:function(e){var t,n,r;if("function"==typeof e){e.call(this,window.cow.currentUser),n=this.contacts;for(t in n)r=n[t],r.id!==window.cow.currentUser.id&&e.call(this,r)}},getUserName:function(e){return this.get(e).name},getUserNames:function(e){var t;return t=this,a.without(e.split(","),"0").map(function(e){return t.getUserName(e)}).join("、")},_setKeyword:function(e){var t,n,r;if(e.name_pinyin&&!(e.id<0))return r=e.name_pinyin.split("|"),t=r[1].replace(/\'/g,""),this.keywords[e.id]={name:e.name,firstLetters:r[0],fullPinyin:r[1],fullPinyinS:r[1].replace(/\'/g,""),emailPrefix:(null!=(n=e.email)?n.split("@")[0]:void 0)||"",emailFull:e.email||""}},search:function(e,t){var n,r,i;return e&&this.keywordRule.test(e)?(i=this,e=e.toLowerCase(),r=[],n=function(t){var n,o,s,c,u,l,f,p;if(t.name_pinyin||(t=i.contacts[t.id]),t.name_pinyin&&!(t.id<0))return i.keywords[t.id]||i._setKeyword(t),l=i.keywords[t.id],f=l.name.toLowerCase().indexOf(e)+1,s=l.firstLetters.toLowerCase().indexOf(e)+1,c=l.fullPinyin.toLowerCase().indexOf("'"+e)+1,o=l.emailPrefix.toLowerCase().indexOf(e)+1,n=l.emailFull.toLowerCase().indexOf(e)+1,u=l.fullPinyinS.toLowerCase().indexOf(e)+1,p=a.min([f,20*s,20*c,20*o,1e4*n,1e3*u].filter(function(e){return e>0})),"undefined"!=typeof p&&t.status>-1?r.push({weight:p,user:t}):void 0},t?a.each(t,n):this.each(n),r.sort(function(e,t){return e.weight-t.weight}).map(function(e){return e.user})):[]}},r.push=r.set,window.cow.Contact=r}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(170),n(4))},function(e,t,n){var r,i;(function(o){r=[n(179),n(193),n(165),n(194)],i=function(e,t,n,r){var i;return i=function(){function e(){this.guid=n.genGuid(),this.$view=o("<div></div").addClass("alert hide animated "+this.guid),o("body").append(this.$view),this.$view.html(t),this.$title=this.$view.find(".title"),this.$titleText=this.$title.find("span.text"),this.$content=this.$view.find(".content")}return e.prototype.timeout=void 0,e.prototype.filterXss=function(e){return e=r(e,{whiteList:{span:["class"],br:[]}})},e.prototype.alert=function(e){var t,n;return n=this,e.title?(this.$titleText.html(this.filterXss(e.title)),this.$title.show()):this.$title.hide(),e.content?this.$content.html(this.filterXss(e.content)).show():this.$content.hide(),this.$view.removeClass(null!=(t=this.preOption)?t.type:void 0),this.$view.addClass(e.type),e.delay=e.delay||3e3,this.timeout?(this.hide(),window.setTimeout(function(){return n.$view.removeClass("hide")},100),window.clearTimeout(this.timeout)):this.$view.removeClass("hide"),e.delay!==1/0&&(this.timeout=window.setTimeout(function(){return n.hide(),n.timeout=void 0},e.delay)),this.preOption=e},e.prototype.hide=function(){return this.$view.addClass("hide")},e}()}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(1))},function(e,t){e.exports='<div class="alert-wrap">\n    <div class="title">\n        <span class="text">TITLE..</span>\n    </div>\n    <div class="content">\n      CONTENT...\n    </div>\n</div>\n'},function(e,t,n){function r(e,t){var n=new s(t);return n.process(e)}var i,o=n(195),a=n(197),s=n(198);t=e.exports=r,t.FilterXSS=s;for(var c in o)t[c]=o[c];for(var c in a)t[c]=a[c];i=function(){return e.exports}.call(t,n,t,e),!(void 0!==i&&(e.exports=i)),"undefined"!=typeof window&&(window.filterXSS=e.exports)},function(e,t,n){function r(e,t,n){}function i(e,t,n){}function o(e,t,n){}function a(e,t,n){}function s(e){return e.replace(x,"&lt;").replace(C,"&gt;")}function c(e,t,n){if(n=h(n),"href"===t||"src"===t){if(n=w.trim(n),"#"===n)return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"/"!==n[0])return""}else if("background"===t){if(O.lastIndex=0,O.test(n))return""}else if("style"===t){if(I.lastIndex=0,I.test(n))return"";if(P.lastIndex=0,P.test(n))return"";if(N.lastIndex=0,N.test(n)&&(O.lastIndex=0,O.test(n)))return""}return n=m(n)}function u(e){return e.replace(k,"&quot;")}function l(e){return e.replace(T,'"')}function f(e){return e.replace(S,function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))})}function p(e){return e.replace(E,":").replace(A," ")}function d(e){for(var t="",n=0,r=e.length;n<r;n++)t+=e.charCodeAt(n)<32?" ":e.charAt(n);return w.trim(t)}function h(e){return e=l(e),e=f(e),e=p(e),e=d(e)}function m(e){return e=u(e),e=s(e)}function v(){return""}function g(e,t){function n(t){return!!r||w.indexOf(e,t)!==-1}"function"!=typeof t&&(t=function(){});var r=!Array.isArray(e),i=[],o=!1;return{onIgnoreTag:function(e,r,a){if(n(e)){if(a.isClosing){var s="[/removed]",c=a.position+s.length;return i.push([o!==!1?o:a.position,c]),o=!1,s}return o||(o=a.position),"[removed]"}return t(e,r,a)},remove:function(e){var t="",n=0;return w.forEach(i,function(r){t+=e.slice(n,r[0]),n=r[1]}),t+=e.slice(n)}}}function y(e){return e.replace(D,"")}function b(e){var t=e.split("");return t=t.filter(function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))}),t.join("")}var w=n(196),_={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","colspan","align","valign"],tfoot:["align","valign"],th:["width","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]},x=/</g,C=/>/g,k=/"/g,T=/&quot;/g,S=/&#([a-zA-Z0-9]*);?/gim,E=/&colon;?/gim,A=/&newline;?/gim,I=/\/\*|\*\//gm,O=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,P=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,N=/u\s*r\s*l\s*\(.*/gi,D=/<!--[\s\S]*?-->/g;t.whiteList=_,t.onTag=r,t.onIgnoreTag=i,t.onTagAttr=o,t.onIgnoreTagAttr=a,t.safeAttrValue=c,t.escapeHtml=s,t.escapeQuote=u,t.unescapeQuote=l,t.escapeHtmlEntities=f,t.escapeDangerHtml5Entities=p,t.clearNonPrintableCharacter=d,t.friendlyAttrValue=h,t.escapeAttrValue=m,t.onIgnoreTagStripAll=v,t.StripTagBody=g,t.stripCommentTag=y,t.stripBlankChar=b},function(e,t){e.exports={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,i;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.forEach?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")}}},function(e,t,n){function r(e){var t=e.indexOf(" ");if(t===-1)var n=e.slice(1,-1);else var n=e.slice(1,t+1);return n=s.trim(n).toLowerCase(),"/"===n[0]&&(n=n.slice(1)),"/"===n[n.length-1]&&(n=n.slice(0,-1)),n}function i(e){return"</"===e.slice(0,2)}function o(e,t,n){"user strict";var o="",a=0,s=!1,c=!1,u=0,l=e.length,f="",p="";for(u=0;u<l;u++){var d=e.charAt(u);if(s===!1){if("<"===d){s=u;continue}}else if(c===!1){if("<"===d){o+=n(e.slice(a,u)),s=u,a=u;continue}if(">"===d){o+=n(e.slice(a,s)),f=e.slice(s,u+1),p=r(f),o+=t(s,o.length,p,f,i(f)),a=u+1,s=!1;continue}if('"'===d||"'"===d){c=d;continue}}else if(d===c){c=!1;continue}}return a<e.length&&(o+=n(e.substr(a))),o}function a(e,t){"user strict";function n(e,n){e=s.trim(e),e=e.replace(c,"").toLowerCase(),e.length<1||i.push(t(e,n||""))}for(var r=0,i=[],o=!1,a=e.length,u=0;u<a;u++){var l,f=e.charAt(u);if(o!==!1||"="!==f)if(o===!1||u!==r||'"'!==f&&"'"!==f)" "!==f||(l=s.trim(e.slice(r,u)),o===!1?n(l):n(o,l),o=!1,r=u+1);else{var p=e.indexOf(f,u+1);if(p===-1)break;l=s.trim(e.slice(r+1,p)),n(o,l),o=!1,u=p,r=u+1}else o=e.slice(r,u),r=u+1}return r<e.length&&(o===!1?n(e.slice(r)):n(o,e.slice(r))),s.trim(i.join(" "))}var s=n(196),c=/[^a-zA-Z0-9_:\.\-]/gim;t.parseTag=o,t.parseAttr=a},function(e,t,n){function r(e){return void 0===e||null===e}function i(e){var t=e.indexOf(" ");if(t===-1)return{html:"",closing:"/"===e[e.length-2]};e=l.trim(e.slice(t+1,-1));var n="/"===e[e.length-1];return n&&(e=l.trim(e.slice(0,-1))),{html:e,closing:n}}function o(e){e=e||{},e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=a.onIgnoreTagStripAll),e.whiteList=e.whiteList||a.whiteList,e.onTag=e.onTag||a.onTag,e.onTagAttr=e.onTagAttr||a.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||a.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||a.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||a.safeAttrValue,e.escapeHtml=e.escapeHtml||a.escapeHtml,this.options=e}var a=n(195),s=n(197),c=s.parseTag,u=s.parseAttr,l=n(196);o.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,n=t.options,o=n.whiteList,s=n.onTag,f=n.onIgnoreTag,p=n.onTagAttr,d=n.onIgnoreTagAttr,h=n.safeAttrValue,m=n.escapeHtml;if(n.stripBlankChar&&(e=a.stripBlankChar(e)),n.allowCommentTag||(e=a.stripCommentTag(e)),n.stripIgnoreTagBody){var v=a.StripTagBody(n.stripIgnoreTagBody,f);f=v.onIgnoreTag}else v=!1;var g=c(e,function(e,t,n,a,c){var v={sourcePosition:e,position:t,isClosing:c,isWhite:n in o},g=s(n,a,v);if(!r(g))return g;if(v.isWhite){if(v.isClosing)return"</"+n+">";var y=i(a),b=o[n],w=u(y.html,function(e,t){var i=l.indexOf(b,e)!==-1,o=p(n,e,t,i);if(!r(o))return o;if(i)return t=h(n,e,t),t?e+'="'+t+'"':e;var o=d(n,e,t,i);return r(o)?void 0:o}),a="<"+n;return w&&(a+=" "+w),y.closing&&(a+=" /"),a+=">"}var g=f(n,a,v);return r(g)?m(a):g},m);return v&&(g=v.remove(g)),g},e.exports=o},function(e,t,n){var r;(function(i){r=function(){return i(document).on("DOMMouseScroll mousewheel",".scrollable",function(e){var t=i(this),n=this.scrollTop,r=this.scrollHeight,o=t.height(),a="DOMMouseScroll"==e.type?e.originalEvent.detail*-40:e.originalEvent.wheelDelta,s=a>0,c=function(){return e.stopPropagation(),e.preventDefault(),e.returnValue=!1,!1};return!s&&-a>r-o-n?(t.scrollTop(r),c()):s&&a>n?(t.scrollTop(0),c()):void 0}),{}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}).call(t,n(1))},function(e,t,n){var r,i;r=[n(165)],i=function(e){var t=function(t,n){if(t&&n){var r=window.cow.childWindows[n];e.isIE()||e.isFireFox()?window.cow.childWindows[n]=window.open(t):!r||r.closed?window.cow.childWindows[n]=window.open(t,n):r.focus()}else t&&window.open(t)},n=function(e){if(e&&e.guid){var n=e.guid,r="";0===e.type?r="doc":1===e.type?r="folder":e.type===-1&&(r="spreadsheet");var i="/"+r+"/"+n;t(i,n)}},r=function(e){var n=e.match(/(folder|doc|spreadsheet|sheet)\/([0-9a-zA-Z]{16})/),r="";n&&3===n.length&&(r=n[2]),r?t(e,r):t(e)};return{openFile:n,openLink:r}}.apply(t,r),!(void 0!==i&&(e.exports=i))},function(e,t,n){(function(e){!function(){"use strict";function t(t){function n(t){var n=t.originalEvent.changedTouches[0];return n.identifier!=f?void a():(t.type="tap",e.event.dispatch.call(this,t),void a())}function o(e){var t,e=e.originalEvent;1===e.touches.length&&e.touches[0].identifier==f||a(),t=e.touches[0],(Math.abs(t.clientX-u)>=r||Math.abs(t.clientX-l)>=r)&&a()}function a(){s.off("touchend",n),e(window).off("touchmove",o).off("touchcancel",a)}var s=e(this),c=t.originalEvent.touches[0],u=c.clientX,l=c.clientY,f=c.identifier;s.on("touchend",n),e(window).on("touchmove",o).on("touchcancel",a),setTimeout(a,i)}function n(t){function n(t){t.type="tap",e.event.dispatch.call(this,t),a()}function o(e){(Math.abs(e.clientX-c)>=r||Math.abs(e.clientY-u)>=r)&&a()}function a(){s.off("click",n),e(window).off("mousemove",o)}var s=e(this),c=t.clientX,u=t.clientY;s.on("click",n),e(window).on("mousemove",o),setTimeout(a,i)}var r=5,i=400;e.event.special.tap={setup:function(){var r="ontouchstart"in window;r?e(this).on("touchstart",t.bind(this)):e(this).on("mousedown",n.bind(this))},teardown:function(){e(this).off("touchstart",t).off("mousedown",n)}},e.fn.tap=function(e){return this[e?"on":"trigger"]("tap",e)}}()}).call(t,n(1))},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r,i;(function(o,a,s){r=[n(227),n(163),n(191)],i=function(e,t,n){var r,i,c,u,l,f,p,d,h,m,v,g,y,b,w,_,x,C,k,T,S,E,A,I,O,P,N,D,L,M;return m={},O=["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo"],r=O.concat(["showMenuItems","chooseImage","previewImage","uploadImage","downloadImage","hideMenuItems"]),C="/wechat/get_signature",P={},h=!1,l=200,k=!1,p={},v=!0,S=function(){var e,t,n;return e=!1,n=null,v=!0,[].forEach.call(arguments,function(t){return"function"==typeof t?n=t:"boolean"==typeof t?e=t:void 0}),(t=i())?("undefined"!=typeof e&&null!==e&&(h=!!e),"function"==typeof n?I(n):I(),void x()):void("function"==typeof n&&n())},i=function(){var e;return e=navigator.userAgent.toLowerCase(),!!/micromessenger/.test(e)&&!/micromessenger.*?windowswechat/.test(e)},D=function(t){return e.showMenuItems({menuList:t})},T=function(t){return e.hideMenuItems({menuList:t})},N=function(e,t){if(h)return"undefined"!=typeof t&&null!==t||(t=""),"string"!=typeof t&&(t=JSON.stringify(t)),console.log(e+": "+t)},x=function(e){var n;return n=_(e),t.get(C,n,function(e){if(0===e.code)return u(e,n)})},_=function(e){var t,n;return n=window.encodeURIComponent(window.location.href.split("#")[0]),e&&o.len>0&&window.cow.originalUrl&&(n=window.encodeURIComponent(window.cow.originalUrl)),t={noncestr:g(),timestamp:f(),url:n}},f=function(){return parseInt((new Date).getTime()/1e3)+""},g=function(e){var t,n,r,i;for(r=17,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=[];r-=1;)i.push(t[parseInt(62*Math.random())]);return n=i.join(""),e?e+"-"+n:n},u=function(t,n){var i;return i={debug:h,appId:t.data.appId,timestamp:n.timestamp,nonceStr:n.noncestr,signature:t.data.signature,jsApiList:r},e.config(i)},I=function(t){return e.ready(function(){return"function"==typeof t&&t(),E()}),e.error(function(e){if(v)return x(!0),v=!1})},E=function(){var e,t,n,r;for(L(),n=[],e=0,t=O.length;e<t;e++)r=O[e],n.push(d(r));return n},L=function(){var e,t,n,r,i;for(r=[],e=0,t=O.length;e<t;e++)i=O[e],n=P[i],"undefined"!=typeof n&&null!==n||(n=P[i]={}),n.title=document.title,n.link=window.location.href,n.desc=y(),n.imgUrl=b(),"onMenuShareQQ"===i&&""===n.desc&&(n.desc="..."),n.success=function(){},n.cancel=function(){},r.push(n.trigger=function(){return E()});return r},b=function(e){var t,n,r;return null==e&&(e=!0),n=function(e){var t;return t=window.location.protocol,0===e.indexOf("http://")||0===e.indexOf("https://")?e:0===e.indexOf("//")?t+e:t+"//"+window.location.host+e},r=a.get(cow,"currentUser.id",-1)>0?a.get(cow,"currentUser.team",null):a.get(cow,"currentFile.team",null),r&&r.resources?r.resources.wechatShareLogo:("doc"===cow.pageType&&(t=s("#innerdocbody").find("img")),t&&t.length>0?n(t.eq(0).attr("src")):e?n("https://assets-cdn.shimo.im/assets/images/weixin_preview-5b8770f7a6.jpg"):void 0)},d=function(t,n){var r,i;if(r=P[t],"undefined"!=typeof n&&null!==n)for(i in n)r[i]=n[i];return k?e[t](a.assign(r,p[t])):e[t](r)},A=function(e,t){if(k=!0,e&&t)return p[e]=t},y=function(){var e,t,n,r,i;if("doc"!==window.cow.pageType)return"";for(e=s("#innerdocbody").find('[id^="magicdomid"]'),i="",t=0,n=e.length;t<n&&(r=e[t],s(r).hasClass("table-div")||(""!==i&&""!==i.substr(-1,1)&&(i+=" "),i+=w(r).trim(),!(i.length>=l)));t++);return i},w=function(e){var t,r,i,o,a,c,u,l,f;if(u="",r=s(e).children(),r.length>0)for(o=0,c=r.length;o<c;o++)a=r[o],u+=w(a);else t=s(e).parent(),t.hasClass("link-block")&&(t.attr("class")||"").indexOf("url-")>-1?u+="@"+s(e).text():"IMG"===e.tagName.toUpperCase()?u+="":(s(e).attr("class")||"").indexOf("user-")>-1?(i=s(e).attr("class"),i=i.match(/user-\d+/)[0]||"",""!==i&&(f=i.split("-")[1]),u+="@"+n.get(f).name):s(e).hasClass("attachment-file-name")?u+=" ["+s(e).attr("title")+"] ":s(e).hasClass("attachment-file-size")?u+="":(l=s(e).text(),u+=";&nbsp"===l?" ":l);return u},c=function(t){return e.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(e){var n;if(n=e.localIds,"function"==typeof t)return t(n)}})},M=function(t){return c(function(n){var r,i,o,a;for(a=[],r=0,i=n.length;r<i;r++)o=n[r],a.push(e.uploadImage({localId:o,isShowProgressTips:1,success:function(e){var n;if(n=e.serverId,"function"==typeof t)return t(n)}}));return a})},m.init=S,m.showMenuItems=D,m.hideMenuItems=T,m.checkInWechatBrowser=i,m.setCustomizeShareStyle=A,m.getImgUrl=b,m.uploadImage=M,m}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(176),n(4),n(1))},function(e,t,n){var r;r=function(){function e(e,t,r){E.WeixinJSBridge?WeixinJSBridge.invoke(e,n(t),function(t){i(e,t,r)}):s(e,r)}function t(e,t,n){E.WeixinJSBridge?WeixinJSBridge.on(e,function(r){n&&n.trigger&&n.trigger(r),i(e,r,t)}):n?s(e,n):s(e,t)}function n(e){return e=e||{},e.appId=C.appId,e.verifyAppId=C.appId,e.verifySignType="sha1",e.verifyTimestamp=C.timestamp+"",e.verifyNonceStr=C.nonceStr,e.verifySignature=C.signature,e}function r(e){return{timeStamp:e.timestamp+"",nonceStr:e.nonceStr,package:e.package,paySign:e.paySign,signType:e.signType||"SHA1"}}function i(e,t,n){var r,i,a;switch(delete t.err_code,delete t.err_desc,delete t.err_detail,r=t.errMsg,r||(r=t.err_msg,delete t.err_msg,r=o(e,r,n),t.errMsg=r),n=n||{},n._complete&&(n._complete(t),delete n._complete),r=t.errMsg||"",C.debug&&!n.isInnerInvoke&&window.alert(JSON.stringify(t)),i=r.indexOf(":"),a=r.substring(i+1)){case"ok":n.success&&n.success(t);break;case"cancel":n.cancel&&n.cancel(t);break;default:n.fail&&n.fail(t)}n.complete&&n.complete(t)}function o(e,t){var n,r,i,o;if(t){switch(n=t.indexOf(":"),e){case p.config:r="config";break;case p.openProductSpecificView:r="openProductSpecificView";break;default:r=t.substring(0,n),r=r.replace(/_/g," "),r=r.replace(/\b\w+\b/g,function(e){return e.substring(0,1).toUpperCase()+e.substring(1)}),r=r.substring(0,1).toLowerCase()+r.substring(1),r=r.replace(/ /g,""),-1!=r.indexOf("Wcpay")&&(r=r.replace("Wcpay","WCPay")),i=d[r],i&&(r=i)}o=t.substring(n+1),"confirm"==o&&(o="ok"),"failed"==o&&(o="fail"),-1!=o.indexOf("failed_")&&(o=o.substring(7)),-1!=o.indexOf("fail_")&&(o=o.substring(5)),o=o.replace(/_/g," "),o=o.toLowerCase(),("access denied"==o||"no permission to execute"==o)&&(o="permission denied"),"config"==r&&"function not exist"==o&&(o="ok"),t=r+":"+o}return t}function a(e){var t,n,r,i;if(e){for(t=0,n=e.length;n>t;++t)r=e[t],i=p[r],i&&(e[t]=i);return e}}function s(e,t){if(C.debug&&!t.isInnerInvoke){var n=d[e];n&&(e=n),t&&t._complete&&delete t._complete,console.log('"'+e+'",',t||"")}}function c(){if(!("6.0.2">w||x.systemType<0)){var e=new Image;x.appId=C.appId,x.initTime=_.initEndTime-_.initStartTime,x.preVerifyTime=_.preVerifyEndTime-_.preVerifyStartTime,S.getNetworkType({isInnerInvoke:!0,success:function(t){x.networkType=t.networkType;var n="https://open.weixin.qq.com/sdk/report?v="+x.version+"&o="+x.isPreVerifyOk+"&s="+x.systemType+"&c="+x.clientVersion+"&a="+x.appId+"&n="+x.networkType+"&i="+x.initTime+"&p="+x.preVerifyTime+"&u="+x.url;e.src=n}})}}function u(){return(new Date).getTime()}function l(e){g&&(E.WeixinJSBridge?e():h.addEventListener&&h.addEventListener("WeixinJSBridgeReady",e,!1))}function f(){S.invoke||(S.invoke=function(e,t,r){E.WeixinJSBridge&&WeixinJSBridge.invoke(e,n(t),r)},S.on=function(e,t){E.WeixinJSBridge&&WeixinJSBridge.on(e,t)})}var p,d,h,m,v,g,y,b,w,_,x,C,k,T,S,E=window,A=void 0;return E.jWeixin?S:(p={config:"preVerifyJSAPI",onMenuShareTimeline:"menu:share:timeline",onMenuShareAppMessage:"menu:share:appmessage",onMenuShareQQ:"menu:share:qq",onMenuShareWeibo:"menu:share:weiboApp",onMenuShareQZone:"menu:share:QZone",previewImage:"imagePreview",getLocation:"geoLocation",openProductSpecificView:"openProductViewWithPid",addCard:"batchAddCard",openCard:"batchViewCard",chooseWXPay:"getBrandWCPayRequest"},d=function(){var e,t={};for(e in p)t[p[e]]=e;return t}(),h=E.document,m=h.title,v=navigator.userAgent.toLowerCase(),g=-1!=v.indexOf("micromessenger"),y=-1!=v.indexOf("android"),b=-1!=v.indexOf("iphone")||-1!=v.indexOf("ipad"),w=function(){var e=v.match(/micromessenger\/(\d+\.\d+\.\d+)/)||v.match(/micromessenger\/(\d+\.\d+)/);return e?e[1]:""}(),_={initStartTime:u(),initEndTime:0,preVerifyStartTime:0,preVerifyEndTime:0},x={version:1,appId:"",initTime:0,preVerifyTime:0,networkType:"",isPreVerifyOk:1,systemType:b?1:y?2:-1,clientVersion:w,url:encodeURIComponent(location.href)},C={},k={_completes:[]},T={state:0,res:{}},l(function(){_.initEndTime=u()}),S={config:function(t){C=t,s("config",t);var n=C.check!==!1;l(function(){var t,r,i;if(n)e(p.config,{verifyJsApiList:a(C.jsApiList)},function(){k._complete=function(e){_.preVerifyEndTime=u(),T.state=1,T.res=e},k.success=function(){x.isPreVerifyOk=0},k.fail=function(e){k._fail?k._fail(e):T.state=-1};var e=k._completes;return e.push(function(){C.debug||c()}),k.complete=function(){for(var t=0,n=e.length;n>t;++t)e[t]();k._completes=[]},k}()),_.preVerifyStartTime=u();else{for(T.state=1,t=k._completes,r=0,i=t.length;i>r;++r)t[r]();k._completes=[]}}),C.beta&&f()},ready:function(e){0!=T.state?e():(k._completes.push(e),!g&&C.debug&&e())},error:function(e){"6.0.2">w||(-1==T.state?e(T.res):k._fail=e)},checkJsApi:function(t){var n=function e(t){var n,r,e=t.checkResult;for(n in e)r=d[n],r&&(e[r]=e[n],delete e[n]);return t};e("checkJsApi",{jsApiList:a(t.jsApiList)},function(){return t._complete=function(e){if(y){var t=e.checkResult;t&&(e.checkResult=JSON.parse(t))}e=n(e)},t}())},onMenuShareTimeline:function(n){t(p.onMenuShareTimeline,{complete:function(){e("shareTimeline",{title:n.title||m,desc:n.title||m,img_url:n.imgUrl||"",link:n.link||location.href},n)}},n)},onMenuShareAppMessage:function(n){t(p.onMenuShareAppMessage,{complete:function(){e("sendAppMessage",{title:n.title||m,desc:n.desc||"",link:n.link||location.href,img_url:n.imgUrl||"",type:n.type||"link",data_url:n.dataUrl||""},n)}},n)},onMenuShareQQ:function(n){t(p.onMenuShareQQ,{complete:function(){e("shareQQ",{title:n.title||m,desc:n.desc||"",img_url:n.imgUrl||"",link:n.link||location.href},n)}},n)},onMenuShareWeibo:function(n){t(p.onMenuShareWeibo,{complete:function(){e("shareWeiboApp",{title:n.title||m,desc:n.desc||"",img_url:n.imgUrl||"",link:n.link||location.href},n)}},n)},onMenuShareQZone:function(n){t(p.onMenuShareQZone,{complete:function(){e("shareQZone",{title:n.title||m,desc:n.desc||"",img_url:n.imgUrl||"",link:n.link||location.href},n)}},n)},startRecord:function(t){e("startRecord",{},t)},stopRecord:function(t){e("stopRecord",{},t)},onVoiceRecordEnd:function(e){t("onVoiceRecordEnd",e)},playVoice:function(t){e("playVoice",{localId:t.localId},t)},pauseVoice:function(t){e("pauseVoice",{localId:t.localId},t)},stopVoice:function(t){e("stopVoice",{localId:t.localId},t)},onVoicePlayEnd:function(e){t("onVoicePlayEnd",e)},uploadVoice:function(t){e("uploadVoice",{localId:t.localId,isShowProgressTips:0==t.isShowProgressTips?0:1},t)},downloadVoice:function(t){e("downloadVoice",{serverId:t.serverId,isShowProgressTips:0==t.isShowProgressTips?0:1},t)},translateVoice:function(t){e("translateVoice",{localId:t.localId,isShowProgressTips:0==t.isShowProgressTips?0:1},t)},chooseImage:function(t){e("chooseImage",{scene:"1|2",count:t.count||9,sizeType:t.sizeType||["original","compressed"]},function(){return t._complete=function(e){if(y){var t=e.localIds;t&&(e.localIds=JSON.parse(t))}},t}())},previewImage:function(t){e(p.previewImage,{current:t.current,urls:t.urls},t)},uploadImage:function(t){e("uploadImage",{localId:t.localId,isShowProgressTips:0==t.isShowProgressTips?0:1},t)},downloadImage:function(t){e("downloadImage",{serverId:t.serverId,isShowProgressTips:0==t.isShowProgressTips?0:1},t)},getNetworkType:function(t){var n=function e(t){var n,r,i,e=t.errMsg;if(t.errMsg="getNetworkType:ok",n=t.subtype,delete t.subtype,n)t.networkType=n;else switch(r=e.indexOf(":"),i=e.substring(r+1)){case"wifi":case"edge":case"wwan":t.networkType=i;break;default:t.errMsg="getNetworkType:fail"}return t};e("getNetworkType",{},function(){return t._complete=function(e){e=n(e)},t}())},openLocation:function(t){e("openLocation",{latitude:t.latitude,longitude:t.longitude,name:t.name||"",address:t.address||"",scale:t.scale||28,infoUrl:t.infoUrl||""},t)},getLocation:function(t){t=t||{},e(p.getLocation,{type:t.type||"wgs84"},function(){return t._complete=function(e){delete e.type},t}())},hideOptionMenu:function(t){e("hideOptionMenu",{},t)},showOptionMenu:function(t){e("showOptionMenu",{},t)},closeWindow:function(t){t=t||{},e("closeWindow",{immediate_close:t.immediateClose||0},t)},hideMenuItems:function(t){e("hideMenuItems",{menuList:t.menuList},t)},showMenuItems:function(t){e("showMenuItems",{menuList:t.menuList},t)},hideAllNonBaseMenuItem:function(t){e("hideAllNonBaseMenuItem",{},t)},showAllNonBaseMenuItem:function(t){e("showAllNonBaseMenuItem",{},t)},scanQRCode:function(t){t=t||{},e("scanQRCode",{needResult:t.needResult||0,scanType:t.scanType||["qrCode","barCode"]},function(){return t._complete=function(e){var t,n;b&&(t=e.resultStr,t&&(n=JSON.parse(t),e.resultStr=n&&n.scan_code&&n.scan_code.scan_result))},t}())},openProductSpecificView:function(t){e(p.openProductSpecificView,{pid:t.productId,view_type:t.viewType||0},t)},addCard:function(t){var n,r,i,o,a=t.cardList,s=[];for(n=0,r=a.length;r>n;++n)i=a[n],o={card_id:i.cardId,card_ext:i.cardExt},s.push(o);e(p.addCard,{card_list:s},function(){return t._complete=function(e){var t,n,r,i=e.card_list;if(i){for(i=JSON.parse(i),t=0,n=i.length;n>t;++t)r=i[t],r.cardId=r.card_id,r.cardExt=r.card_ext,r.isSuccess=!!r.is_succ,delete r.card_id,delete r.card_ext,delete r.is_succ;e.cardList=i,delete e.card_list}},t}())},chooseCard:function(t){e("chooseCard",{app_id:C.appId,location_id:t.shopId||"",sign_type:t.signType||"SHA1",card_id:t.cardId||"",card_type:t.cardType||"",card_sign:t.cardSign,time_stamp:t.timestamp+"",nonce_str:t.nonceStr},function(){return t._complete=function(e){e.cardList=e.choose_card_info,delete e.choose_card_info},t}())},openCard:function(t){var n,r,i,o,a=t.cardList,s=[];for(n=0,r=a.length;r>n;++n)i=a[n],o={card_id:i.cardId,code:i.code},s.push(o);e(p.openCard,{card_list:s},t)},chooseWXPay:function(t){e(p.chooseWXPay,r(t),t)}},A&&(E.wx=E.jWeixin=S),S)}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r,i;(function(o){r=[n(229),n(194)],i=function(e,t){var n,r;return r=navigator.userAgent,n=r.match(/mobile.*dingtalk/i)?e.toast:function(e,n,r){var i,a,s;return null==e&&(e=""),null==n&&(n=3e3),null==r&&(r=""),e=t(e,{whiteList:{span:["class"],br:[]}}),a=o("#toast-wrap"),i&&clearTimeout(i),a.length>0?(a.html(e),a[0].className="toast fadein "+r):(s=document.createElement("div"),s.id="toast-wrap",s.className="toast fadein "+r,s.innerHTML=e,o("body").append(s)),i=setTimeout(function(){return o("#toast-wrap").addClass("hide")},n)},window.toast=n,n}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(1))},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=D(t,["agentId","corpId","timeStamp","nonceStr","signature","onReady"]),i=r.agentId,o=r.corpId,a=r.timeStamp,s=r.nonceStr,c=r.signature,u=r.onReady;return i&&o&&a&&s&&c?(j&&R||(j=o,R=i),M.default.config({agentId:i,corpId:o,timeStamp:a,nonceStr:s,signature:c,jsApiList:["device.notification.confirm","device.notification.alert","device.notification.prompt","device.notification.toast","device.notification.showPreloader","device.notification.hidePreloader","device.notification.actionSheet","biz.util.previewImage","biz.util.uploadImage","biz.util.share","biz.util.ut","biz.util.openLink","biz.util.open","biz.contact.choose","biz.customContact.multipleChoose","biz.customContact.choose","biz.chat.chooseConversation","biz.navigation.close","biz.navigation.setMenu","biz.navigation.setIcon","biz.navigation.setRight","biz.navigation.setLeft","biz.navigation.setTitle","biz.ding.post","runtime.permission.requestAuthCode","biz.chat.chooseConversationByCorpId","biz.chat.pickConversation","ui.webViewBounce"]}),M.default.ready(function(){N(u)&&(I(),u())}),void M.default.error(function(e){console.log(e)})):(console.dir(r),void console.log("签名需要的信息不完整"))}function o(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=D(t,["message","title","buttonName","onSuccess","onFail"]),i=r.message,o=r.title,a=r.buttonName,s=r.onSuccess,c=r.onFail;M.default.device.notification.alert({message:i||"提示信息",title:o||"提示",buttonName:a||"确定",onSuccess:s||function(){},onFail:c||function(){}})}function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=D(t,["message","title","buttons"]),i=r.message,o=r.title,a=r.buttons,s={};a&&1!==a.length?!function(){var e=[];a.forEach(function(t){e.push(t.name)}),s={message:i||"",title:o||"",buttonLabels:e,onSuccess:function(e){var t=a[e.buttonIndex].onClick;N(t)&&t()}}}():s={message:i||"",title:o||"",buttonLabels:["确定"]},M.default.device.notification.confirm(s)}function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=D(t,["text","icon","delay","duration"]),i=r.icon,o=r.text,a=r.delay,s=r.duration;M.default.device.notification.toast({
icon:i||"",text:o||"toast",duration:s||1,delay:P(a)?0:a,onSuccess:function(){},onFail:function(){}})}function c(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=D(t,["text","showIcon"]),i=r.text,o=r.showIcon;o="undefined"==typeof o||o,M.default.device.notification.showPreloader({text:i||"正在加载..",showIcon:o,onSuccess:function(){},onFail:function(){}})}function u(){M.default.device.notification.hidePreloader({onSuccess:function(){},onFail:function(){}})}function l(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=D(t,["message","title","buttons"]),i=r.message,o=r.title,a=r.buttons;if(P(a)||0===a.length)return void console.log("buttons is required");var s=[];a.forEach(function(e){s.push(e.name)}),M.default.device.notification.prompt({message:i||"",title:o||"提示",buttonLabels:s||[],onSuccess:function(e){var t=e.buttonIndex,n=e.value,r=a[t],i=r.onClick;N(i)&&r.onClick(n)}})}function f(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=D(t,["title","buttons","cancelButton"]),i=r.title,o=r.buttons,a=r.cancelButton;if(0===o.length)return void console.log("buttons is required");var s=[];o.forEach(function(e){s.push(e.name)}),M.default.device.notification.actionSheet({title:i||"选择列表",otherButtons:s||[],cancelButton:a||"取消",onSuccess:function(e){var t=e.buttonIndex,n=o[t];n&&N(n.onClick)&&n.onClick()},onFail:function(){}})}function p(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=D(t,["urls","current"]),i=r.urls,o=r.current;M.default.biz.util.previewImage({urls:i||[],current:o||(i&&i[0]?i[0]:"")})}function d(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=D(t,["multiple","max","onSuccess"]),i=r.multiple,o=r.max,a=r.onSuccess;M.default.biz.util.uploadImage({multiple:!P(i)&&i,max:P(o)?10:o,onSuccess:a||function(){}})}function h(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=D(t,["users","multiple","max","onSuccess","corpId","startWithDepartmentId"]),i=r.corpId,o=r.multiple,a=r.max,s=r.users,c=r.startWithDepartmentId,u=r.onSuccess;M.default.biz.contact.choose({startWithDepartmentId:P(c)?0:c,multiple:!!P(o)||o,corpId:i||j,max:P(a)?150:a,users:P(s)?[]:s,onSuccess:function(e){N(u)&&u(e)},onFail:function(e){console.dir(e)}})}function m(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=D(t,["corpId","title","users","isShowCompanyName","selectedUsers","disabledUsers","multiple","onSuccess"]),i=r.corpId,o=r.title,a=r.users,s=r.isShowCompanyName,c=r.selectedUsers,u=r.disabledUsers,l=r.multiple,f=r.onSuccess;if(P(i))return void console.log("corpId is required");var p={title:o||"选择人员",users:a||[],corpId:i,isShowCompanyName:!P(s)&&s,selectedUsers:c||[],disabledUsers:u||[],onSuccess:function(e){N(f)&&f(e)},onFail:function(e){console.dir(e)}};l?M.default.biz.customContact.multipleChoose(p):M.default.biz.customContact.choose(p)}function v(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=D(t,["title","url","content","image"]),i=r.title,o=r.url,a=r.content,s=r.image;M.default.biz.util.share({title:i||"分享",url:o||window.location.href,content:a||"石墨文档",image:s||"",type:0})}function g(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=D(t,["users","corpId","type","alertType","alertDate","attachment","text"]),i=r.users,o=r.corpId,a=r.alertType,s=r.alertDate,c=r.attachment,u=r.text,l=r.type;l=l||1;var f={users:i||[],corpId:o||j,type:l,alertType:a||2,text:u||""};if(1===l?f.attachment=c||{images:[""]}:2===l&&(f.attachment=c||{title:"",url:"",image:"",text:""}),!s){var p=new Date,d=p.getMonth()+1;d=d<10?"0"+d:""+d;var h=p.getDate();h=h<10?"0"+h:""+h;var m=p.getHours();m=m<10?"0"+m:""+m;var v=p.getMinutes();v=v<10?"0"+v:""+v,f.alertDate={format:"yyyy-MM-dd HH:mm",value:p.getFullYear()+"-"+d+"-"+h+" "+m+":"+v}}M.default.biz.ding.post(f)}function y(e){document.title=e,M.default.biz.navigation.setTitle({title:e,onSuccess:function(){},onFail:function(e){console.dir(e)}})}function b(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=D(t,["iconIndex","showIcon","onSuccess"]),i=r.iconIndex,o=r.showIcon,a=r.onSuccess;M.default.biz.navigation.setIcon({showIcon:!!P(o)||o,iconIndex:P(i)?1:i,onSuccess:a||function(){},onFail:function(e){console.dir(e)}})}function w(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=D(t,["text","onSuccess","show","control"]),i=r.text,o=r.onSuccess,a=r.show,s=r.control;M.default.biz.navigation.setRight({text:i||"",show:P(a)?!!i:a,control:P(s)?N(o):s,onSuccess:o||function(){}})}function _(){M.default.biz.navigation.close()}function x(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=D(t,["buttons","backgroundColor"]),i=r.buttons,o=r.backgroundColor,a={};P(i)||0===i.length?a={backgroundColor:o||"#FFF",items:[],onSuccess:function(e){console.dir(e)},onFail:function(e){console.dir(e)}}:!function(){var e=[];i.forEach(function(t,n){var r={id:""+n,text:t.text||"item",iconId:t.iconId};e.push(r)}),a={backgroundColor:o||"#FFF",items:e,onSuccess:function(e){var t=i[+e.id];N(t.onClick)&&t.onClick()},onFail:function(e){console.dir(e)}}}(),M.default.biz.navigation.setMenu(a)}function C(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=D(t,["key","type"]),i=r.key,o=r.type;return R&&j?void M.default.biz.util.ut({key:i||"",value:"'corpId': "+j+", 'agentId': "+R+", 'type': "+(o||"")}):void console.log("埋点失败，签名信息不完整")}function k(e){M.default.biz.util.openLink({url:e})}function T(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=D(t,["name","params"]);r.onFail=function(e){o(JSON.stringify(e))},M.default.biz.util.open(r)}function S(e){return j?void M.default.runtime.permission.requestAuthCode({corpId:j,onSuccess:function(t){N(e)&&e(t)}}):void console.log("corpid is required")}function E(e){return j?void M.default.biz.chat.chooseConversationByCorpId({corpId:j||"",onSuccess:e||function(){},onFail:function(e){console.dir(e)}}):void console.log("corpid is required")}function A(e){return j?void M.default.biz.chat.pickConversation({corpId:j||"",isConfirm:"false",onSuccess:e||function(){},onFail:function(e){console.dir(e)}}):void console.log("corpid is required")}function I(){M.default.ui.webViewBounce.disable()}function O(e){return"object"==typeof e}function P(e){return"undefined"==typeof e||null===e}function N(e){return"function"==typeof e}function D(e){var t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],n={};if(0===e.length)return n;if(1===e.length&&O(e[0])){var r=function(){var r=e[0];return t.length&&!t.some(function(e){return r.hasOwnProperty(e)})?(n[t[0]]=r,{v:n}):{v:r}}();if("object"==typeof r)return r.v}return t.forEach(function(t,r){var i=e[r];P(i)||(n[t]=i)}),n}Object.defineProperty(t,"__esModule",{value:!0});var L=n(230),M=r(L),R="",j="";window.cow.signInfo&&(R=window.cow.signInfo.agentId,j=window.cow.signInfo.corpId),t.default={signature:i,alert:o,confirm:a,toast:s,showLoading:c,hideLoading:u,prompt:l,actionSheet:f,previewImage:p,uploadImage:d,customContactChoose:m,contactChoose:h,setTitle:y,setIcon:b,setRight:w,close:_,setMenu:x,ding:g,share:v,ut:C,openLink:k,open:T,requestAuthCode:S,chooseChatByCorpId:E,pickChat:A,disableBounce:I},e.exports=t.default},function(e,t,n){var r;(function(e,i){(function(){"use strict";var i={},o=navigator.userAgent,a=o.match(/AliApp\(\w+\/([a-zA-Z0-9.-]+)\)/);null===a&&(a=o.match(/DingTalk\/([a-zA-Z0-9.-]+)/));var s=a&&a[1];i.ios=/iPhone|iPad|iPod/i.test(o),i.android=/Android/i.test(o),i.version=s,i.cfg={},i.extend=function(e,t){if(t)for(var n in t)e[n]=t[n];return e},i.type=function(e){return Object.prototype.toString.call(e).match(/^\[object\s(.*)\]$/)[1]},"object"==typeof e&&e&&"object"==typeof e.exports?e.exports=i:(n(231)||n(232).cmd)&&(r=function(){return i}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))),"undefined"==typeof this.dd&&(this.dd=i),this.__dd=i}).call(window),function(e){"use strict";var t=["backbutton","online","offline","pause","resume","swipeRefresh","appLinkResponse","internalPageLinkResponse","networkEvent","hostTaskEvent"];e.extend(e,{events:t})}(__dd),function(e){"use strict";var t="0.5.5",n={device:[{namespace:"device.notification.alert",name:"弹窗alert",ios:"2.4.0",android:"2.4.0",defaultParams:{title:"",buttonName:"确定"}},{namespace:"device.notification.confirm",name:"弹窗confirm",ios:"2.4.0",android:"2.4.0",defaultParams:{title:"",buttonLabels:["确定","取消"]}},{namespace:"device.notification.prompt",name:"弹窗prompt",ios:"2.4.0",android:"2.4.0",defaultParams:{title:"",buttonLabels:["确定","取消"]}},{namespace:"device.notification.vibrate",name:"震动",ios:"2.4.0",android:"2.4.0",defaultParams:{duration:300}},{namespace:"device.accelerometer.watchShake",name:"启动摇一摇",ios:"2.4.0",android:"2.4.0",defaultParams:{watch:!0},paramsCallback:function(t){e.ios&&(t.sensitivity=3.2)}},{namespace:"device.notification.toast",name:"Toast",ios:"2.4.0",android:"2.4.0",defaultParams:{text:"toast",duration:3,delay:0}},{namespace:"device.notification.showPreloader",name:"显示浮层",ios:"2.4.0",android:"2.4.0",defaultParams:{text:"加载中...",showIcon:!0}},{namespace:"device.notification.hidePreloader",name:"隐藏浮层",ios:"2.4.0",android:"2.4.0"},{namespace:"device.geolocation.get",name:"获取经纬度",ios:"2.4.0",android:"2.4.0"},{namespace:"device.notification.actionSheet",name:"ActionSheet控件",ios:"2.4.0",android:"2.4.0"},{namespace:"device.connection.getNetworkType",name:"获取当前网络类型",ios:"2.4.0",android:"2.4.0"},{namespace:"device.base.getUUID",name:"获取通用唯一识别码（卸载重新安装会改变）",ios:"2.4.0",android:"2.4.0"},{namespace:"device.base.getInterface",name:"获取热点接入信息",ios:"2.4.0",android:"2.4.0"},{namespace:"device.launcher.checkInstalledApps",name:"检测应用是否安装",ios:"2.4.0",android:"2.4.0"},{namespace:"device.launcher.launchApp",name:"启动第三方app",ios:"2.4.0",android:"2.4.0"},{namespace:"device.notification.modal",name:"弹浮层",ios:"2.4.0",android:"2.4.0"},{namespace:"device.geolocation.openGps",name:"打开设置，只有android有效",ios:"2.5.0",android:"2.5.0"},{namespace:"device.notification.extendModal",name:"弹层，支持多张图片",ios:"2.5.0",android:"2.5.0"},{namespace:"device.base.getSettings",name:"获取手机设置（目前只有ios支持）",ios:"2.6.0",android:"2.6.0",release:!1},{namespace:"device.audio.download",name:"下载音频",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"device.audio.play",name:"播放音频",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"device.audio.onPlayEnd",name:"监听播放音频停止的事件接口",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"device.audio.resume",name:"暂停之后继续播放音频",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"device.audio.pause",name:"暂停播放音频",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"device.audio.stop",name:"停止播放音频",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"device.audio.startRecord",name:"开始录制音频",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"device.audio.stopRecord",name:"停止录制音频",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"device.audio.onRecordEnd",name:"监听录音自动停止",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"device.audio.upload",name:"上传已录制的音频",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"device.base.getScanWifiList",name:"获取wifi列表",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"device.base.getWifiStatus",name:"获取wifi是否打开",ios:"2.11.0",android:"2.11.0",release:!1}],biz:[{namespace:"biz.util.open",name:"打开应用内页面",ios:"2.4.0",android:"2.4.0",defaultParams:{}},{namespace:"biz.util.openLink",name:"新开页面",ios:"2.4.0",android:"2.4.0",defaultParams:{credible:!0,showMenuBar:!0}},{namespace:"biz.util.share",name:"分享",ios:"2.4.0",android:"2.4.0",defaultParams:{title:"",buttonName:"确定"}},{namespace:"biz.util.ut",name:"上报埋点",ios:"2.4.0",android:"2.4.0",paramsCallback:function(t){var n=t.value,r=[];if(n&&"Object"==e.type(n))if(e.ios)n=JSON.stringify(n);else if(e.android){for(var i in n)r.push(i+"="+n[i]);n=r.join(",")}t.value=n}},{namespace:"biz.util.datepicker",name:"日期选择器",ios:"2.4.0",android:"2.4.0"},{namespace:"biz.util.timepicker",name:"弹窗alert",ios:"2.4.0",android:"2.4.0"},{namespace:"biz.user.get",name:"获取当前登录用户信息",ios:"2.4.0",android:"2.4.0",offline:!0},{namespace:"biz.navigation.setLeft",name:"设置导航左侧按钮",ios:"2.4.0",android:"2.4.0",defaultParams:{watch:!0,show:!0,control:!1,showIcon:!0,text:""}},{namespace:"biz.navigation.setRight",name:"设置导航右侧按钮",ios:"2.4.0",android:"2.4.0",defaultParams:{watch:!0,show:!0,control:!1,showIcon:!0,text:""}},{namespace:"biz.navigation.setTitle",name:"弹窗alert",ios:"2.4.0",android:"2.4.0"},{namespace:"biz.navigation.back",name:"弹窗alert",ios:"2.4.0",android:"2.4.0"},{namespace:"biz.util.uploadImage",name:"弹窗alert",ios:"2.4.0",android:"2.4.0",defaultParams:{multiple:!1}},{namespace:"biz.util.previewImage",name:"弹窗alert",ios:"2.4.0",android:"2.4.0"},{namespace:"biz.util.qrcode",name:"弹窗alert",ios:"2.4.0",android:"2.4.0"},{namespace:"biz.ding.post",name:"发钉",ios:"2.4.0",android:"2.4.0"},{namespace:"biz.telephone.call",name:"打电话",ios:"2.4.0",android:"2.4.0"},{namespace:"biz.chat.chooseConversation",name:"选会话",ios:"2.4.0",android:"2.4.0"},{namespace:"biz.contact.createGroup",name:"创建群",ios:"2.4.0",android:"2.4.0"},{namespace:"biz.util.datetimepicker",name:"日期时间控件",ios:"2.4.0",android:"2.4.0"},{namespace:"biz.util.chosen",name:"下拉控件",ios:"2.4.0",android:"2.4.0"},{namespace:"biz.chat.getConversationInfo",name:"查询会话信息",ios:"2.4.0",android:"2.4.0"},{namespace:"biz.map.search",name:"地图搜索",ios:"2.4.0",android:"2.4.0",release:!1,defaultParams:{scope:500}},{namespace:"biz.map.locate",name:"地图定位",ios:"2.4.0",android:"2.4.0",release:!1},{namespace:"biz.map.view",name:"查看定位",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"biz.util.scan",name:"扫码(支持二维码和条形码)",ios:"2.4.0",android:"2.4.0",defaultParams:{type:"qrCode"}},{namespace:"biz.contact.choose",name:"修改企业通讯录选人",ios:"2.4.0",android:"2.4.0",defaultParams:{multiple:!0,startWithDepartmentId:0,users:[]},paramsCallback:function(t){e.cfg&&e.cfg.corpId&&(t.corpId=e.cfg.corpId)}},{namespace:"biz.contact.complexChoose",name:"企业通讯录同时选人，选部门",ios:"2.4.0",android:"2.4.0",defaultParams:{startWithDepartmentId:0,selectedUsers:[],selectedDepartments:[]},paramsCallback:function(t){e.cfg&&e.cfg.corpId&&(t.corpId=e.cfg.corpId)}},{namespace:"biz.navigation.createEditor",name:"创建通用组件",ios:"2.4.0",android:"2.4.0"},{namespace:"biz.navigation.finishEditor",name:"销毁通用组件",ios:"2.4.0",android:"2.4.0"},{namespace:"biz.chat.pickConversation",name:"选群组",ios:"2.4.2",android:"2.4.2"},{namespace:"biz.contact.complexChoose",name:"企业通讯录同时选人，选部门",ios:"2.4.0",android:"2.4.0"},{namespace:"biz.navigation.setIcon",name:"设置导航icon",ios:"2.4.0",android:"2.4.0",defaultParams:{watch:!0,showIcon:!0,iconIndex:1}},{namespace:"biz.navigation.close",name:"关闭webview",ios:"2.4.0",android:"2.4.0"},{namespace:"biz.util.uploadImageFromCamera",name:"上传图片",ios:"2.4.0",android:"2.4.0"},{namespace:"biz.user.secretID",name:"获取用户登录唯一标识",ios:"2.5.2",android:"2.5.2"},{namespace:"biz.customContact.choose",name:"自定义选人组件",ios:"2.5.2",android:"2.5.2",defaultParams:{isShowCompanyName:!1,max:50},paramsCallback:function(t){e.cfg&&e.cfg.corpId&&(t.corpId=e.cfg.corpId)}},{namespace:"biz.customContact.multipleChoose",name:"自定义选人组件（多选）",ios:"2.4.0",android:"2.4.0",defaultParams:{isShowCompanyName:!1,max:50},paramsCallback:function(t){e.cfg&&e.cfg.corpId&&(t.corpId=e.cfg.corpId)}},{namespace:"biz.util.pageClick",name:"页面打点",ios:"2.5.2",android:"2.5.2"},{namespace:"biz.chat.chooseConversationByCorpId",name:"选择企业会话",ios:"2.6.0",android:"2.6.0",defaultParams:{max:50},paramsCallback:function(t){e.cfg&&e.cfg.corpId&&(t.corpId=e.cfg.corpId)}},{namespace:"biz.chat.toConversation",name:"跳转会话",ios:"2.6.0",android:"2.6.0",paramsCallback:function(t){e.cfg&&e.cfg.corpId&&(t.corpId=e.cfg.corpId)}},{namespace:"biz.navigation.goBack",name:"",ios:"2.6.0",android:"2.6.0"},{namespace:"biz.navigation.setMenu",name:"设置导航左侧按钮",ios:"2.6.0",android:"2.6.0",defaultParams:{watch:!0}},{namespace:"biz.util.uploadAttachment",name:"附件上传",ios:"2.7.0",release:!1,android:"2.7.0"},{namespace:"biz.cspace.preview",name:"附件预览",ios:"2.7.0",android:"2.7.0",release:!1,defaultParams:{}},{namespace:"biz.cspace.saveFile",name:"转存附件",ios:"2.7.6",android:"2.7.6"},{namespace:"biz.clipboardData.setData",name:"添加到黏贴板",ios:"2.7.0",android:"2.7.0",release:!1},{namespace:"biz.util.warn",name:"报警接口",ios:"2.7.6",android:"2.7.6",release:!1,paramsCallback:function(e){var t=e.logName||"h5_common_error",n="url="+location.href,r=[],i=e.obj||{};for(var o in i)r.push(o+"="+i[o]);e.message={msg:t+" "+n+" "+r.join(" ")}}},{namespace:"biz.util.multiSelect",name:"下拉多选",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"biz.contact.getMobileContact",name:"查询手机联系人",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"biz.telephone.showCallMenu",name:"打电话选择面板",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"biz.util.presentWindow",name:"打开窗口",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"biz.contact.changeCustomerFollower",name:"企业通讯录选人，加入微应用权限过滤",ios:"2.8.0",android:"2.8.0",paramsCallback:function(t){e.cfg&&e.cfg.corpId&&(t.corpId=e.cfg.corpId)}},{namespace:"biz.notify.send",name:"消息通知H5到Native",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"biz.alipay.pay",name:"支付宝移动支付SDK，订单支付JS-API封装",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"biz.alipay.auth",name:"支付宝移动支付SDK，授权JS-API封装",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"biz.util.fetchImageData",name:"在相册中拾取某张图片，对图片数据base64编码后返回给js",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"biz.util.scanCard",name:"名片扫描",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"biz.util.addDesktopShortcuts",name:"添加桌面快捷方式",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"biz.util.timestamp",name:"获取服务器时间",ios:"2.9.0",android:"2.9.0",release:!1},{namespace:"biz.contact.complexPicker",name:"选人",ios:"2.9.0",android:"2.9.0",release:!1},{namespace:"biz.util.encrypt",name:"加密",ios:"2.9.1",android:"2.9.1",release:!1},{namespace:"biz.util.decrypt",name:"解密",ios:"2.9.1",android:"2.9.1",release:!1},{namespace:"biz.contact.pickCustomer",name:"选择客户",ios:"2.11",android:"2.11",release:!1},{namespace:"biz.map.searchRoute",name:"查询路线",ios:"2.11",android:"2.11",release:!1}],ui:[{namespace:"ui.input.plain",name:"输入框（单行）",ios:"2.4.0",android:"2.4.0"},{namespace:"ui.progressBar.setColors",name:"设置顶部进度条颜色",ios:"2.4.0",android:"2.4.0"},{namespace:"ui.pullToRefresh.enable",name:"启用下拉刷新功能",ios:"2.4.0",android:"2.4.0",defaultParams:{watch:!0}},{namespace:"ui.pullToRefresh.stop",name:"收起下拉刷新控件",ios:"2.4.0",android:"2.4.0"},{namespace:"ui.pullToRefresh.disable",name:"禁用下拉刷新功能",ios:"2.4.0",android:"2.4.0"},{namespace:"ui.webViewBounce.enable",name:"启用webview下拉弹性效果",ios:"2.4.0",android:"2.4.0"},{namespace:"ui.webViewBounce.disable",name:"禁用webview下拉弹性效果",ios:"2.4.0",android:"2.4.0"},{namespace:"ui.nav.preload",name:"",ios:"2.6.0",android:"2.6.0",release:!1},{namespace:"ui.nav.go",name:"",ios:"2.6.0",android:"2.6.0",release:!1},{namespace:"ui.nav.recycle",name:"",ios:"2.6.0",android:"2.6.0",release:!1},{namespace:"ui.nav.push",name:"",ios:"2.10.0",android:"2.11.0",release:!1},{namespace:"ui.nav.pop",name:"",ios:"2.10.0",android:"2.11.0",release:!1},{namespace:"ui.nav.quit",name:"",ios:"2.10.0",android:"2.11.0",release:!1},{namespace:"ui.nav.close",name:"",ios:"2.6.0",android:"2.6.0",release:!1},{namespace:"ui.nav.getCurrentId",name:"",ios:"2.6.0",android:"2.6.0",release:!1},{namespace:"ui.drawer.init",name:"",ios:"2.6.0",android:"2.6.0",release:!1},{namespace:"ui.drawer.config",name:"",ios:"2.6.0",android:"2.6.0",release:!1},{namespace:"ui.drawer.enable",name:"",ios:"2.6.0",android:"2.6.0",release:!1},{namespace:"ui.drawer.disable",name:"",ios:"2.6.0",android:"2.6.0",release:!1},{namespace:"ui.drawer.open",name:"",ios:"2.6.0",android:"2.6.0",release:!1},{namespace:"ui.drawer.close",name:"",ios:"2.6.0",android:"2.6.0",release:!1},{namespace:"ui.tab.init",name:"初始化tab",android:"2.7.6"},{namespace:"ui.tab.start",name:"唤起tab",android:"2.7.6"},{namespace:"ui.tab.config",name:"配置tab",android:"2.7.6"},{namespace:"ui.tab.select",name:"tab选择",android:"2.7.6"},{namespace:"ui.tab.add",name:"增加tab",android:"2.7.6"},{namespace:"ui.tab.remove",name:"移除tab",android:"2.7.6"},{namespace:"ui.appLink.open",name:"应用跳转",ios:"2.7.0",android:"2.7.0",release:!1},{namespace:"ui.appLink.request",name:"发送消息",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"ui.appLink.response",name:"返回消息",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"ui.appLink.fetch",name:"获取请求页面（sourceApp）的数据",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"ui.nav.push",name:"往路径堆栈中push路径",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"ui.nav.pop",name:"路径堆栈中删除view 路径",ios:"2.8.0",android:"2.8.0",release:!1}],runtime:[{namespace:"runtime.info",name:"获取容器信息",ios:"2.4.0",android:"2.4.0"},{namespace:"runtime.permission.requestAuthCode",name:"请求授权码，免登改造用",ios:"2.4.0",android:"2.4.0"},{namespace:"runtime.permission.requestJsApis",name:"权限校验jsapi，隐藏方法，只限sdk内部调用",ios:"2.4.0",android:"2.4.0",release:!1},{namespace:"runtime.message.post",name:"",ios:"2.6.0",android:"2.6.0",release:!1},{namespace:"runtime.message.fetch",name:"",ios:"2.6.0",android:"2.6.0",release:!1}],internal:[{namespace:"internal.lwp.call",name:"lwp接口(目前只有套件使用)",ios:"2.5.0",android:"2.5.0",offline:!0},{namespace:"internal.microapp.checkInstalled",name:"检测微应用是否安装",ios:"2.5.0",android:"2.5.0"},{namespace:"internal.user.getRole",name:"获取角色",ios:"2.5.0",android:"2.5.0"},{namespace:"internal.request.lwp",name:"lwp通道",ios:"2.5.1",android:"2.5.1",paramsCallback:function(e){var t=e.body;t=JSON.stringify(t),e.body=t}},{namespace:"internal.util.encryData",name:"参数加密生成key",ios:"2.5.2",android:"2.5.2"},{namespace:"internal.log.upload",name:"上报日志到服务端",ios:"2.6.0",android:"2.6.0"},{namespace:"internal.hpm.get",name:"获取hpm配置信息（暂未开发）",ios:"2.7.0",android:"2.7.0"},{namespace:"internal.hpm.update",name:"更新hpm",ios:"2.7.0",android:"2.7.0"},{namespace:"internal.request.getSecurityToken",name:"获取securityToken",ios:"2.7.0",android:"2.7.0"},{namespace:"internal.phoneContact.add",name:"添加号码到手机通信录",ios:"2.7.6",android:"2.7.6"},{namespace:"internal.log.add",name:"日志写入到客户端",ios:"2.7.6",android:"2.7.6",paramsCallback:function(e){var t="h5_log=1";e.text=t+e.text}},{namespace:"internal.pageLink.request",name:"发送消息",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"internal.pageLink.response",name:"返回消息",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"internal.pageLink.fetch",name:"获取请求页面（sourceApp）的数据",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"internal.util.getCorpIdByOrgId",name:"orgId换corpId",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"internal.util.getOrgIdByCorpId",name:"corpId换orgId",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"internal.request.httpOverLWP",name:"http转lwp",ios:"2.8.0",android:"2.8.0"},{namespace:"internal.notify.send",name:"消息通知H5到Native",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"internal.schema.open",name:"内部页面跳转",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"internal.contact.chooseMobileContact",name:"手机通讯录选人（单选）",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"internal.util.isSimulator",name:"模拟器",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"internal.util.getWua",name:"人机识别",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"internal.beacon.detectBeacons",name:"beacon",ios:"2.9.0",android:"2.9.0",release:!1},{namespace:"internal.host.lwp",name:"离线托管的lwp请求",ios:"2.9.0",android:"2.9.0",release:!1},{namespace:"internal.host.query",name:"查询离线托管任务",ios:"2.9.0",android:"2.9.0",release:!1},{namespace:"internal.host.cancel",name:"取消离线托管任务",ios:"2.9.0",android:"2.9.0",release:!1},{namespace:"internal.schema.openWifiSetting",name:"跳转到wifi设置（Android）",ios:"2.9.0",android:"2.9.0",release:!1},{namespace:"internal.createOrg.industryInfo",name:"获取创建团队之后的行业信息",ios:"2.9.0",android:"2.9.0",release:!1},{namespace:"internal.createOrg.successJump",name:"创建团队之后跳转",ios:"2.9.0",android:"2.9.0",release:!1},{namespace:"internal.beacon.detectStart",name:"detectStart",ios:"2.9.0",android:"2.9.0",release:!1},{namespace:"internal.beacon.detectStop",name:"detectStop",ios:"2.9.0",android:"2.9.0",release:!1},{namespace:"internal.attend.assistant",name:"上班助手",ios:"2.11.0",android:"2.11.0",release:!1},{namespace:"internal.certify.step",name:"查询活体认证状态",ios:"2.12.0",android:"2.12.0",release:!1},{namespace:"internal.certify.biometric",name:"调用活体拍照",ios:"2.12.0",android:"2.12.0",release:!1},{namespace:"internal.certify.takePhoto",name:"拍照",ios:"2.12.0",android:"2.12.0",release:!1},{namespace:"internal.certify.submit",name:"上班助手",ios:"2.12.0",android:"2.12.0",release:!1}],util:[{namespace:"util.localStorage.getItem",name:"本地存储读",ios:"2.4.2",android:"2.4.2",release:!1},{namespace:"util.localStorage.setItem",name:"本地存储写",ios:"2.4.2",android:"2.4.2",release:!1},{namespace:"util.localStorage.removeItem",name:"本地存储移除操作",ios:"2.4.2",android:"2.4.2",release:!1},{namespace:"util.domainStorage.getItem",name:"本地存储（区分域名）读",ios:"2.9.0",android:"2.9.0",release:!1},{namespace:"util.domainStorage.setItem",name:"本地存储（区分域名）写",ios:"2.9.0",android:"2.9.0",release:!1},{namespace:"util.domainStorage.removeItem",name:"本地存储（区分域名）删除",ios:"2.9.0",android:"2.9.0",release:!1},{namespace:"util.domainStorage.clearItems",name:"本地存储（区分域名）清空",ios:"2.9.0",android:"2.9.0",release:!1}],preRelease:[{namespace:"preRelease.appLink.open",name:"应用跳转",ios:"2.7.0",android:"2.7.0",release:!1},{namespace:"preRelease.appLink.request",name:"发送消息",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"preRelease.appLink.response",name:"返回消息",ios:"2.8.0",android:"2.8.0",release:!1},{namespace:"preRelease.appLink.fetch",name:"获取请求页面（sourceApp）的数据",ios:"2.8.0",android:"2.8.0",release:!1}]};e.extend(e,{sdk_version:t}),e.extend(e,{methods:n})}(__dd),function(e,t){"use strict";function n(t,n,r){"undefined"==typeof WebViewJavascriptBridge,e.__getMockName&&(t=e.__getMockName(t));var i={};i=e.extend(i,r&&r.defaultParams),e.extend(i,n),r&&r.paramsCallback&&r.paramsCallback(i);var o=function(e){console.log("默认成功回调",t,e)},a=function(e){console.log("默认失败回调",t,e)},s=function(){};i.onSuccess&&(o=i.onSuccess,delete i.onSuccess),i.onFail&&(a=i.onFail,delete i.onFail),i.onCancel&&(s=i.onCancel,delete i.onCancel);var c=function(e){var t=e||{},n=t.errorCode,r=t.result;"0"===n?o&&o.call(null,r):"-1"===n?s&&s.call(null,r):a&&a.call(null,r,n)},u=i.watch;if(e.android){var l=t.split("."),f=l.pop(),p=l.join(".");window.WebViewJavascriptBridgeAndroid&&WebViewJavascriptBridgeAndroid(o,a,p,f,i)}else e.ios&&(u?(window.WebViewJavascriptBridge&&WebViewJavascriptBridge.registerHandler(t,function(e,t){c({errorCode:"0",errorMessage:"成功",result:e}),t&&t({errorCode:"0",errorMessage:"成功"})}),window.WebViewJavascriptBridge&&WebViewJavascriptBridge.callHandler(t,i)):window.WebViewJavascriptBridge&&WebViewJavascriptBridge.callHandler(t,i,c))}var r,o=!1,a=null,s="runtime.permission.requestJsApis",c=null,u=!1,l=!1;window.ES6Promise?(ES6Promise.polyfill(),l=!0):window.Promise||(window.Promise=function(){}),e.extend(e,{ability:"",config:function(t){t&&(a={corpId:t.corpId,appId:t.appId||-1,timeStamp:t.timeStamp,nonceStr:t.nonceStr,signature:t.signature,jsApiList:t.jsApiList},e.cfg=a,t.agentId&&(a.agentId=t.agentId))},error:function(e){c=e},ready:function(n){var r=function t(r){if(!r)return console.log("bridge初始化失败");if(null!==a&&a.signature){if(e.ios)r.callHandler(s,a,function(e){var t=e||{},i=t.errorCode,o=t.errorMessage||"";t.result,"0"===i?n(r):setTimeout(function(){c&&c({message:"权限校验失败 "+o,errorCode:3})})});else if(e.android){var t=s.split("."),i=t.pop(),u=t.join(".");r(function(){n(r)},function(e){setTimeout(function(){var t=e&&e.errorMessage||"";c&&c({message:"权限校验失败 "+t,errorCode:3})})},u,i,a)}}else n(r);if(o===!1&&(o=!0,e.events.forEach(function(t){e.ios&&r.registerHandler(t,function(e,n){var r=document.createEvent("HTMLEvents");r.data=e,r.detail=e,r.initEvent(t),document.dispatchEvent(r),n&&n({errorCode:"0",errorMessage:"成功"})})}),null===a)){var l={url:encodeURIComponent(window.location.href),js:e.sdk_version,cid:a&&a.corpId||""};e.biz.util.ut({key:"dd_open_js_monitor",value:JSON.stringify(l),onSuccess:function(e){}})}};if(e.ios&&t.WebViewJavascriptBridge){try{WebViewJavascriptBridge.init(function(e,t){})}catch(e){console.log(e.message)}return r(WebViewJavascriptBridge)}if(e.android&&t.WebViewJavascriptBridgeAndroid)return r(WebViewJavascriptBridgeAndroid);if(e.ios)document.addEventListener("WebViewJavascriptBridgeReady",function(){if("undefined"==typeof WebViewJavascriptBridge)return console.log("请在钉钉App打开此页面");try{WebViewJavascriptBridge.init(function(e,t){})}catch(e){console.log(e.message)}u=!0,r(WebViewJavascriptBridge)},!1);else{if(!e.android)return console.log("请在钉钉App打开此页面");var i=function(){try{t.WebViewJavascriptBridgeAndroid=t.nuva.require(),u=!0,r(WebViewJavascriptBridgeAndroid)}catch(e){console.log("window.nuva.require出错",e.message),r(null)}};t.nuva&&(void 0===t.nuva.isReady||t.nuva.isReady)?i():document.addEventListener("runtimeready",function(){i()},!1)}},compareVersion:function(e,t,n){if("string"!=typeof e||"string"!=typeof t)return!1;for(var r,i,o=e.split("."),a=t.split(".");r===i&&a.length>0;)r=o.shift(),i=a.shift();return n?(0|i)>=(0|r):(0|i)>(0|r)}});var f=function(t,n){for(var r=t.split("."),i=e,o=0,a=r.length;a>o;o++)o===a-1&&(i[r[o]]=n),"undefined"==typeof i[r[o]]&&(i[r[o]]={}),i=i[r[o]]},p=function(t,o,a){return l?new i(function(s,c){o=o||{},o._onSuccess=o.onSuccess||function(){},o._onFail=o.onFail||function(){},o._onCancel=o.onCancel||function(){},o.onSuccess=function(){o._onSuccess.apply(this,arguments),s.apply(this,arguments)},o.onFail=function(){o._onFail.apply(this,arguments),c.apply(this,arguments)},o.onCancel=function(){o._onCancel.apply(this,arguments),c.apply(this,arguments)},r=new i(function(t,n){e.ready(function(e){t(e)})}),i.all([r]).then(function(r){o=o||{},e.cfg&&e.cfg.corpId&&(o.corpId=e.cfg.corpId),n(t,o,a)})}):(o=o||{},e.cfg&&e.cfg.corpId&&(o.corpId=e.cfg.corpId),void n(t,o,a))};for(var d in e.methods)e.methods[d].forEach(function(e){f(e.namespace,function(t){return p(e.namespace,t,e)})});e._invoke=function(e){f(e.namespace,function(t){return p(e.namespace,t,e)})},e.biz.util.pageClick=function(t){var n="open_micro_log_record_client",r=+new Date,o=t.corpId,s=t.agentId;o||(o=a&&a.corpId||""),s||(s=a&&a.agentId||"");var c={visitTime:r,clickType:2,clickButton:t.clickButton||"",url:location.href,corpId:o,agentId:s};return e.biz.util.ut({key:n,value:c}),l?new i(function(e){e()}):void 0}}(__dd,window)}).call(t,n(5)(e),n(170))},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},,function(e,t,n){(function(n){function r(){var e=void 0;return e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")}function i(e){var t=r();return t.open("GET",e,!0),t.send(),new n(function(e,n){t.onreadystatechange=function(){4===t.readyState&&(200===t.status?e(JSON.parse(t.responseText)):n(t.responseText))}})}function o(e,t){var i=r();i.open("POST",e),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),window.cow._csrf&&i.setRequestHeader("X-CSRF-Token",window.cow._csrf);var o="";return Object.keys(t).forEach(function(e){o+=e+"="+t[e]+"&"}),i.send(o),new n(function(e,t){i.onreadystatechange=function(){if(4===i.readyState)if(200===i.status){var n=void 0;try{n=JSON.parse(i.responseText)}catch(e){n=i.responseText}e(n)}else t(i.responseText)}})}function a(e,t){var i=r();i.open("PUT",e),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),window.cow._csrf&&i.setRequestHeader("X-CSRF-Token",window.cow._csrf);var o="";return t&&Object.keys(t).forEach(function(e){o+=e+"="+t[e]+"&"}),i.send(o),new n(function(e,t){i.onreadystatechange=function(){if(4===i.readyState)if(200===i.status){var n=void 0;try{n=JSON.parse(i.responseText)}catch(e){n=i.responseText}e(n)}else t(i.responseText)}})}function s(e,t){var i=r();i.open("PATCH",e),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),
window.cow._csrf&&i.setRequestHeader("X-CSRF-Token",window.cow._csrf);var o="";return t&&Object.keys(t).forEach(function(e){o+=e+"="+t[e]+"&"}),i.send(o),new n(function(e,t){i.onreadystatechange=function(){if(4===i.readyState)if(200===i.status){var n=void 0;try{n=JSON.parse(i.responseText)}catch(e){n=i.responseText}e(n)}else t(i.responseText)}})}function c(e){var t=r();return t.open("DELETE",e),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.send(),new n(function(e,n){t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status){var r=JSON.parse(t.responseText);0===r.code?e(r):n(new Error(r.message))}else n(new Error(t.responseText))}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default={ajaxGet:i,ajaxPost:o,ajaxPut:a,ajaxPatch:s,ajaxDelete:c},e.exports=t.default}).call(t,n(170))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r;(function(i){r=function(){var e;return e=function(e){var t,n;return t=i.Deferred(),n="/api/file/external_link/"+e,i.get(n).done(function(e){return 0===e.code?t.resolve(e.data):t.reject("api error")}),t.promise()},{getShareStatusByGuid:e}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}).call(t,n(1))},,,function(e,t,n){(function(r,i,o){function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){e||(e="无标题");var n={name:e},r=window.cow.currentFile.guid;O.default.post("/api/file/"+r,n).then(function(){"function"==typeof t&&t(),N.default.notify("file:updateTitle",e)}).fail(function(){console.log("name modify failed")})}function c(e,t){var n=r.Deferred(),i=[],o={};for(var a in t)e[a]!==t[a]&&(i.push(a),o[a]=t[a]);if(0===i.length)n.resolve({});else{var s="/api/file/"+e.guid;O.default.post(s,o,function(t){0===t.code?(b(e.guid,t.data),n.resolve(t.data)):n.reject()},function(e){n.reject(e)})}return n.promise()}function u(e){return(0,D.ajaxPut)("/smapi/files/"+e.id+"/star").then(function(e){if(0!==e.code)throw new Error("标星失败。错误码："+e.code);return{starred:!0}})}function l(e){return(0,D.ajaxDelete)("/smapi/files/"+e.id+"/star").then(function(e){if(0!==e.code)throw new Error("取消标星失败。错误码："+e.code);return{starred:!1}})}function f(e){var t="/api/file/create_copy",n=r.Deferred(),i={guid:e};return O.default.post(t,i,function(e){0===e.code?(n.resolve(e.data),cow.currentFile.children.push(e.data)):n.reject()},function(e){n.reject(e)}),n.promise()}function p(e){var t="/api/file/create",n=r.Deferred();return O.default.post(t,e,function(e){0===e.code?(n.resolve(e.data),cow.currentFile.children.push(e.data)):n.reject(new Error(e.message))},function(e){n.reject(e)}),n.promise()}function d(e){var t=r.Deferred(),n="/api/file/"+e+"/ancestors";return O.default.get(n,function(e){if(0===e.code){var n=e.data,r=n.ancestors||[];r.unshift({name:"我的桌面",type:"desktop",link:"/desktop"}),h(r),t.resolve(r)}else t.reject()},function(){t.reject()}),t.promise()}function h(e){e.map(function(e,t){return 0!==t&&(e.link="/folder/"+e.guid,e.type="folder"),e})}function m(e){var t=r.Deferred(),n="/api/share/delete",i={guid:e.guid,user_id:window.cow.currentUser.id,file_type:e.shortcut_id?"shortcut":"file"};return O.default.post(n,i,function(n){0===n.code?(t.resolve(n),b(e.guid,{is_delete:1})):t.reject()},function(){t.reject()}),t.promise()}function v(e,t,n){var i=arguments.length<=3||void 0===arguments[3]?"info":arguments[3],o=r.Deferred(),a={from:e,to:t,file_type:n,action_type:i},s="/api/file/move";return O.default.post(s,a,function(t){o.resolve(t),"action"===i&&b(e,{is_delete:1})},function(e){o.reject(e)}),o.promise()}function g(e,t){var n=r.Deferred(),i="/api/file/sort",o={target_id:e};return t&&(o.next_id=t),cow.currentFile.guid?(o.sort_type="folder",o.folder_id=cow.currentFile.id):o.sort_type="home",O.default.post(i,o).then(function(r){0===r.code?(n.resolve(),y(e,t)):n.reject()}).fail(function(e){n.reject(e)}),n.promise()}function y(e,t){var n=cow.currentFile.children,r=null,i=-1,o=-1;(n||[]).some(function(n,a){return n.id===e&&(r=n,i=a),n.id===t&&(o=a),i>=0&&(o>=0||null===t||"undefined"==typeof t)}),o>=0&&i>=0?(n.splice(o,0,r),o>i?n.splice(i,1):n.splice(i+1,1)):"undefined"!=typeof t&&null!==t||(n.splice(i,1),n.push(r))}function b(e,t){var n=cow.currentFile.children;(n||[]).some(function(r,i){if(r.guid===e){for(var o in t)r[o]=t[o],"is_delete"===o&&+t.is_delete>=1&&n.splice(i,1);return!0}return!1})}function w(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?10:arguments[2];return new i(function(r,i){(0,D.ajaxPost)("/smapi/search/files",{keyword:e,page:t,pageSize:n}).then(function(e){0===e.code&&e.data?r({page:e.data.page,results:e.data.results||[],count:e.data.count,pageCount:e.data.pageCount}):i(new Error(e.message))},function(e){i(e)})})}function _(e){return new i(function(t,n){var r="/smapi/files/"+e+"/star";(0,D.ajaxPut)(r).then(function(e){0===e.code?t():n(new Error("标星操作失败"))},function(){n(new Error("标星操作失败"))})})}function x(e){return new i(function(t,n){var r="/smapi/files/"+e+"/star";(0,D.ajaxDelete)(r).then(function(e){0===e.code?t():n(new Error("标星操作失败"))},function(){n(new Error("标星操作失败"))})})}function C(e){return new i(function(t,n){var r="/smapi/files/"+e+"/collaborators";(0,D.ajaxGet)(r).then(function(e){0===e.code?t(e.data):n(new Error(e.error))},function(e){n(e)})})}function k(){var e=void 0;return e=""===cow.welcomeFile?"欢迎使用石墨文档"===cow.currentFile.name:cow.currentFile.guid===cow.welcomeFile}function T(e){var t=e;return!(!cow.exampleFiles||!cow.exampleFiles.length)&&(t||(t=cow.currentFile.guid),cow.exampleFiles.split(",").some(function(e){return t===e}))}function S(e){var t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];return new i(function(n,r){e=e||"";var i="/-/"+e;(0,D.ajaxGet)(i).then(function(e){0===e.code&&e.data.file?(t.length&&(e.data.file=o.pick(e.data.file,t),t.indexOf("children")>-1&&e.data.file.children&&(e.data.file.children=e.data.file.children.map(function(e){return o.pick(e,t)}))),n(e.data.file)):r(new Error("文件获取失败"))},function(){return r(new Error("文件获取失败"))})})}function E(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];return S("",e)}function A(e){return new i(function(t,n){return e?void d(e.guid).then(function(r){var i="";r.length&&(i=r.slice(-1)[0].guid),S(i).then(function(n){var i={includedFileGuid:e.guid,crumbList:r};t({crumbInfo:i,file:n})},function(){return n(new Error("文件已被删除，或失去访问权限"))})},function(){return n(new Error("文件已被删除，或失去访问权限"))}):n(new Error("get file failed"))})}Object.defineProperty(t,"__esModule",{value:!0});var I=n(175),O=a(I),P=n(166),N=a(P),D=n(234);t.default={updateTitle:s,updateFile:c,destroyFavoriteFile:l,createFavoriteFile:u,createCopyFile:f,createFile:p,getAncestors:d,quiteShare:m,resortList:g,moveToFolder:v,searchFile:w,starFile:_,unstarFile:x,getFileCollaborators:C,checkIsWelcomeFile:k,checkIsExampleFile:T,getFile:S,getDesktop:E,getDirectoryInfo:A},e.exports=t.default}).call(t,n(1),n(170),n(4))},,,,,,,,,,,,,,,,,,function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}},u=n(7),l=r(u),f=n(161),p=n(288),d=r(p),h=function(e){function t(e){o(this,t),c(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={open:e.open||!1},this.bodyTpl=this.bodyTpl.bind(this)}return a(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){"undefined"!=typeof e.open&&e.open!==this.state.open&&this.setState({open:e.open})}},{key:"_headTpl",value:function(e){return this.props.hasCloseButton?l.default.createElement("div",null,l.default.createElement("span",{className:"dialog-title"},e),l.default.createElement("span",{className:"hicon icon-close dialog-close",onTouchTap:this._close.bind(this)})):l.default.createElement("span",{className:"dialog-title"},e)}},{key:"_close",value:function(){this.setState({open:!1});var e=this.props.onClose;"function"==typeof e&&e()}},{key:"bodyTpl",value:function(){var e=this;if("function"==typeof this.props.bodyTpl)return this.props.bodyTpl;if(this.props.children){var t=function(){var t=l.default.Children.map(e.props.children,function(e){return l.default.cloneElement(e)});return{v:function(){return t}}}();if("object"==typeof t)return t.v}}},{key:"render",value:function(){var e,t=this.props,n=t.customClass,r=t.title,o=t.onClose,a=t.actions,s=t.enableCloseClickMask,c=t.hasCloseButton,u=this.state.open,p=this.props.buttonLayout,h=!1;a&&a.length>0&&(h=!0,p=p||"vertical",a.map(function(e){e.customClass+=" flat-footer-button "+p}));var m=(0,d.default)((e={"flat-dialog":!0},i(e,""+n,!!n),i(e,"no-title",!r&&!c),i(e,"no-action",!a||!a.length),e));return l.default.createElement(f.Dialog,{ref:"dialog",customClass:m,title:r,headTpl:this._headTpl.bind(this),bodyTpl:this.bodyTpl.bind(this)(),onClose:o||function(){},actions:a||[],open:"boolean"==typeof u&&u,enableCloseClickMask:s,hasActions:h})}}]),t}(u.Component);t.default=h,h.propTypes={customClass:u.PropTypes.string,title:u.PropTypes.string,bodyTpl:u.PropTypes.func,onClose:u.PropTypes.func,actions:u.PropTypes.array,open:u.PropTypes.bool,hasCloseButton:u.PropTypes.bool,enableCloseClickMask:u.PropTypes.bool,buttonLayout:u.PropTypes.oneOf(["vertical","horizontal"])},e.exports=t.default},function(e,t,n){var r,i;!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r))e.push(n.apply(null,r));else if("object"===i)for(var a in r)o.call(r,a)&&r[a]&&e.push(a)}}return e.join(" ")}var o={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=n:(r=[],i=function(){return n}.apply(t,r),!(void 0!==i&&(e.exports=i)))}()},,,,,function(e,t,n){var r,i;(function(o,a,s,c){var u=function(e,t){function n(){this.constructor=e}for(var r in t)l.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},l={}.hasOwnProperty;r=[n(184),n(175),n(266),n(296),n(303),n(166),n(228),n(304),n(163),n(305),n(306),n(295),n(307),n(191),n(309),n(310),n(311),n(312),n(229),n(313),n(269)],i=function(e,t,n,r,i,l,f,p,d,h,m,v,g,y,b,w,_,x,C,k,T){var S;return new(S=function(b){function S(){return S.__super__.constructor.apply(this,arguments)}return u(S,b),S.prototype.init=function(){var e;return e=this,this.cow=window.cow,this.imageDownloadLink="/download/image?url=",this.padView=o("#pad-view"),this.gallery=o("#gallery-box"),this.galleryImg=o("#gallery-img"),this.galleryDetail=o("#gallery-details"),this.galleryList=o("#gallery-list"),this.view=this.padView,this.isMouseMove=!1,this.isMouseDown=!1,this.isDisableLink=!1,this.isPadReady=!1,this.imgArray=[],this.originPos={},this.initFontColorParams(),this.fontSizeList=["9","10","11","12","14","18","24","30","36"],this.bindEvents(),this.subscribe(),this.initSaveToShimo(),this.tooltipInfo={},this.initialized=!0,e},S.prototype.eventMap={"click .dropdown":"stopPropagation","click .export-btn":"displayExportSelection","click #close-export":"closeExportSelection","click .export-sprite":"exportDocument","blur #doc-title-input":"updateTitle","focus #doc-title-input":"focusTitle","click .print-btn":"print","keypress #doc-title-input":"docInputKeypress","click .operation-box .dropdown-btn":"toggleDropdown","click .delete-btn":"deleteDoc","click #doc-insert":"toggleInsertMenu","click #innerdocbody>div":"fadeUserline","mouseover #innerdocbody":"handleMouseOver","mouseout #innerdocbody":"handleMouseOut"},S.prototype.domEvents={focusTitle:function(e){if("无标题"===this.title.val())return this.title.val("")},stopPropagation:function(e){return e.preventDefault(),e.stopPropagation(),!1},toggleDropdown:function(e,n){var r,i,a,s;return e.stopPropagation(),r=o(n),i=r.parent(),a=i.find(".dropdown.active"),s="",i.attr("class")===this.shareBox.attr("class")?s=".share":i.attr("class")===this.operationBox.attr("class")&&(s=".operation"),a.length?(a.removeClass("active"),r.removeClass("active")):(t.clearDropdown(),i.find(s).addClass("active"),r.addClass("active"))},print:function(e){var t,n,r,i,s,c,u,l,f,p,d,h,m,v,g,y,b,w,_,C,k,T;for(e.stopPropagation(),n=function(e){var t;return t=e.contentDocument||e.contentWindow.document,t.documentElement.innerHTML=""},b=document.getElementById("printer"),y=function(e){return setTimeout(function(){return o(".operation-btn").removeClass("active"),o(".operation-dropdown").removeClass("active"),e.contentWindow.print(),n(b)},1e3)},t=o("#editorcontainer").clone(),T=t.find("#doc-title-input"),T.removeAttr("placeholder"),T.removeAttr("class"),T.attr("value",t.find("#doc-title-input").val()),w=t.find(".table-div"),u=0,p=w.length;u<p;u++)c=w[u],c=o(c),k=c.find(".shadow-table").html(),c.html(k);for(_=t.find("span.mention"),l=0,d=_.length;l<d;l++){c=_[l];try{v=a.filter(c.parentElement.classList,function(e){if(e.startsWith("lineguid-"))return e}),g=o("."+v[0]+" span.mention").css("font-family").match(/^'(.+)-(.+)'$/)[2],c.innerHTML="@"+g}catch(e){i=e,c.innerHtml="@"}}for(C=o("link"),f=0,h=C.length;f<h;f++)m=C[f],m.href.match(/\/main-(.+)\.css$/)&&(r=m.href);return s=a.template(x)({body:t.html(),css:r}),b.contentWindow.document.write(s),b.contentWindow.document.close(),y(b)},displayExportSelection:function(e){return e.stopPropagation(),o("span.sm-share-btn").removeClass("active"),o("div.dropdown.active").removeClass("active"),o("body,html").addClass("overflow-hidden"),o(".export-dialog").show()},closeExportSelection:function(e){return o(".export-box").hide()},updateTitle:function(e){return this.updateTitle(e)},docInputKeypress:function(e){var n,r,i;if(e.keyCode===t.keyCodes.ENTER)return o(e.target).blur(),i=window.getSelection(),r=document.createRange(),n=document.getElementById("innerdocbody"),r.setStart(n,0),r.setEnd(n,0),i.removeAllRanges(),i.addRange(r),e.stopPropagation(),e.preventDefault(),!1},deleteDoc:function(){var e,n,r,i,o,a,s,c,u,l;return l=this,o=window.cow.currentFile,n={headText:"确认操作",buttons:[]},i={buttonLabel:"确认删除",customClass:"btn btn-error",closeAfterClick:!0,onClick:function(){return T.updateFile(o,{is_delete:1}).then(function(e){return l._goback()}).fail(function(e){return k.isEnterpriseStandard(cow.currentUser)||k.isEnterpriseDingding(cow.currentUser)?t.alert({title:e.responseText||"删除失败",type:"error"}):t.alert({title:"删除失败",type:"error"})})}},u={buttonLabel:"退出共享",customClass:"btn btn-ok",closeAfterClick:!0,onClick:function(){return T.quiteShare(o).then(function(){return l._goback(),t.alert({title:"已从此"+o.name+"的共享中退出"})}).fail(function(){return t.alert({title:"操作失败",type:"error"})})}},e={buttonLabel:"取消",customClass:"btn",closeAfterClick:!0},s={buttonLabel:"确认",customClass:"btn btn-ok",closeAfterClick:!0},a=1===o.type?"文件夹":0===o.type?"文档":"表格",r=o.permissions.manageable,c=o.permissions.quitable,r&&c?(n.buttons=[i,u,e],n.bodyText="你可以删除"+a+"<br />也可以退出共享，但不删除"+a):r?(n.buttons=[i,e],n.bodyText="确认删除"+a+"吗？<br />删除后，所有协作者都无法访问此"+a):c?(n.buttons=[u,e],n.bodyText="你不是"+a+"的创建者<br />继续此操作会退出"+a+"共享<br />但不会删除"+a):(n.headText="没有权限",n.buttons=[s],n.bodyText="你没有权限删除或退出此"+a),v.show(n)},cancelShare:function(){var e;return e=window.cow.currentFile,v.show({okCallback:function(){return t.post("/api/share/delete",{guid:e.guid,user_id:window.cow.currentUser.id,file_type:"file"},function(){return t.alert({title:"已从此文档的共享中退出"}),window.location.href="/desktop"},function(){return t.alert({title:"操作失败",type:"error"})})},headText:"退出共享",bodyText:"确认要退出共享吗？<br />退出共享后你将无权限访问该文件"})},fadeUserline:function(e){var t;return e.offsetX<0?(t=o(e.target).data("author-name"))?o(e.target).removeClass("fadeUserline").siblings().each(function(e,n){return t!==o(n).data("author-name")?o(n).addClass("fadeUserline"):o(n).removeClass("fadeUserline")}):void 0:o("#innerdocbody > div").removeClass("fadeUserline")},handleMouseOver:function(e){var t,n,r,i,a,s;for(a=e.target,s=document.getElementById("innerdocbody");a&&!this._isAuthoredSpan(a)&&a!==s;)a=a.parentNode;if(this._isAuthoredSpan(a)&&this.tooltipInfo.target!==a&&"dotted"===this.getStyle(a,"border-bottom-style"))return i=this.getStyle(a,"border-bottom-color"),this.ensureTooltipExists(),t=this.getClassArray(a,function(e){return e.match("^author-")}),n=t[0].replace("author-",""),r=y.getUserName(n),this.tooltipInfo.target=a,this.tooltipInfo.tooltip.innerHTML=r,this.tooltipInfo.tooltip.style.display="block",this.tooltipInfo.tooltip.style.left=String(o(a).offset().left+o(a).outerWidth()/2-o("#tooltip").outerWidth()/2)+"px",this.tooltipInfo.tooltip.style.right="auto",this.tooltipInfo.tooltip.style.top=String(o(a).offset().top+o(a).outerHeight()+5)+"px",this.tooltipInfo.tooltip.style.background=i,this.tooltipInfo.tooltip.style.position="absolute"},handleMouseOut:function(e){if(this.tooltipInfo.tooltip&&(!e.relatedTarget||!this._isElementChildOf(e.relatedTarget,this.tooltipInfo.target)))return this.tooltipInfo.target=null,this.tooltipInfo.tooltip.style.display="none"},toggleInsertMenu:function(e){var n;return e.stopPropagation(),n=o("#doc-insert"),n.hasClass("active")||t.clearDropdown(),n.toggleClass("active")}},S.prototype._goback=function(){var e,t;return e=cow.currentFile,t="",t=window.cow.authorized?e.parent&&e.parent.guid?"/folder/"+e.parent.guid:"/desktop":"/login",s(t)},S.prototype.reset=function(){var e,i;return i=this,this.comment=r.getInstance(".sidebar-body"),this.title=this.view.find("#doc-title-input"),this.titleSpan=this.view.find("#doc-title-span"),this.shareBox=this.view.find(".list-share-box"),this.operationBox=o(".operation-box"),this.focusTarget=o("#focus-target"),this.padWrap=o("#pad-wrap"),this.docView=o("#doc-view"),this.editbar=o("#editbar"),this.sidebar=o("#sidebar"),this.editHeader=o("#edit-heading"),this.mobileMoreBtn=o("#mobile-more-btn"),this.crumbWrap=o(".crumb-wrap"),this.mobileShareLink=o(".share-link"),this.textCount=o("#text-count"),this.isMouseMove=!1,this.isMouseDown=!1,this.isDisableLink=!1,this.isPadReady=!1,this.imgArray=[],this.originPos={},this.initName(),this.initScroll(),this.initToolbar(),this.operationBox.children(".dropdown").html(a.template(m)(window.cow.currentFile)),this.checkPadReady().then(function(){return i.bindTextCount(),i.docView.on("scroll",function(){return 0===o(this).scrollTop()?o("body").removeClass("scroll"):o("body").addClass("scroll")})}),window.cow.authorized?t.isMobile()?(e=window.cow.currentFile.guid,n.getShareStatusByGuid(e).then(function(t){if(window.cow.currentFile.guid===e)return i.mobileShareLink.removeClass().addClass("share-link share-"+t.mode)}),this.mobileMoreBtn.removeClass("transparent")):(l.notify("doc:init","doc"),this.shareBox.removeClass("hide")):t.isMobile()?this.mobileMoreBtn.addClass("transparent"):this.shareBox.addClass("hide")},S.prototype.initToolbar=function(){return this.initCtrlOrCmd(),this.initFontList(),this.initDisplayBtn(),o(".toolbar-item").each(function(e,t){return new _(t)}),o(".menu-item").each(function(e,t){return new _(t,{placement:"left"})}),new _("#image-upload-button"),new _("#upload-attachment")},S.prototype.initFontList=function(){var e,t,n,r,i;return r=this,e=this.editHeader.find("#color-list"),e.empty(),n="",a.each(this.fontColorList,function(e,t){var i,o;return i=r.colorNameList[t],o="",t<9&&(o="margin-bottom: 5px;"),n+="<li class='font-color-list-item' style='background:"+e+"; "+o+"'><a href='javascript:void(0);' class='color-item'><span class='doc-color-name s-tooltip'>"+i+"</span></a></li>"}),e.append(n),t=this.editHeader.find("#size-list"),t.empty(),i="",a.each(this.fontSizeList,function(e,t){return i+='<li class="font-size-list-item"><a href="javascript:;" class="menu-item"><span data-value="'+(t+1)+'">'+e+"</span></a></li>"}),t.append(i)},S.prototype.initCtrlOrCmd=function(){var e,t,n,r;if(t=o(".toolbar-item,.menu-item"),e=o(".font-size-toolbar"),c.win)r="Ctrl";else if(r="Cmd",a.each(t,function(e){var t,n,r;if(n=o(e),t=n.data("content"),"string"==typeof t)return r=t.replace("Ctrl","Cmd"),n.data("content",r)}),"string"==typeof e.data("content"))return n=e.data("content").replace("↑/↓","⬆/⬇"),e.data("content",n)},S.prototype.initScroll=function(){var e,n,r,i,a;return a=this,/^#(comment-)?[a-zA-Z0-9]{16}$/.test(location.hash)?(this.comment.off("ready"),e=window.cow.currentFile.guid,n=location.hash.substring(1),r=location.href.indexOf("?"),i=location.href,r>-1?(i=i.replace(location.hash,""),i=i.replace("http://"+location.host,""),history.replaceState({guid:e},"",i)):history.replaceState({guid:e},"",location.pathname),/^comment-[a-zA-Z0-9]{16}$/.test(n)?(t.isMobile()&&!window.cow.iOS&&f("移动版暂不支持查看评论"),this.comment.isReady?this.showComment(n):this.comment.on("ready",function(){return a.showComment(n)})):/^[a-zA-Z0-9]{16}$/.test(n)?this.scrollToMention(n):void 0):void a.checkPadReady().then(function(){var e;return e=o(t.isMobile()?"#pad-wrap":"#doc-view"),e.scrollTop(0)})},S.prototype.initDisplayBtn=function(){return w.postAceInit()},S.prototype.scrollToMention=function(e){var n;return n=this,n.checkPadReady().then(function(){var r,i,a;if(r=n.docView.find("."+e),r.length>0)return i=r.offset().top-o(document).height()/2,a=o(t.isMobile()?"#pad-wrap":"#doc-view"),a.scrollTop(i)})},S.prototype.showComment=function(e){var t,n;if(n=this,t=this.comment.commentData[e],null!=t)return n.checkPadReady().then(function(){var t;return window.cow.iOS?(t=n.docView.find("."+e),i.repositionBuddle(t),i.showListComment(e)):setTimeout(function(){return l.notify("comment:show",e)},100)}),l.notify("comments",{comments:[t]})},S.prototype.checkPadReady=function(){var e,t,n;return n=this,e=o.Deferred(),n.isPadReady?e.resolve():(t=function(n){return o(window).off("pad_ready",t),e.resolve()},o(window).on("pad_ready",t)),e.promise()},S.prototype.initName=function(e){var n;if(e=window.cow.readonly?e||this.title.html():e||this.title.prop("value"))return n=t.cutName(e,32),this.titleSpan.html(a.escape(e)),window.cow.readonly?this.title.html(a.escape(e)).attr("title",e):this.title.val(e).attr("data-value",e),this.cow.updateTitle(e)},S.prototype.subscribe=function(){var t;return t=this,e.bind("File",function(e){var n;if("doc"===window.cow.pageType&&"update"===e.db_event&&(null!=e&&null!=(n=e.data)?n.id:void 0)===window.cow.currentFile.id){if(0===+e.data.is_delete)return window.cow.updateDocCurrentFile({name:e.data.name}),t.initName(e.data.name);if(+e.data.is_delete>=1&&+e.data.deleted_by!==window.cow.currentUser.id)return t.backParent()}})},S.prototype.initFontColorParams=function(){var e;return e=this,this.attrValuesMap=[13,14,15,16,2,3,17,4,5,18,6,19,20,21,22,23,24,25,26,27,1,28,29,30,31,32,33,34,35,7,8,36,9,10,38,39,40,12,41,42,43,44,45,37,11],this.fontColorList=["#ffffff","#0d0015","#fe2c23","#ff9900","#ffd900","#a3e043","#37d9f0","#4da8ee","#aa17d0","#f3f3f1","#949494","#fcdbd6","#fde9d0","#fff0cf","#d4e9d6","#def3f3","#cee0ef","#dfdbec","#dcdedd","#595856","#ee837d","#f8c387","#e6b322","#9abd9d","#83ccd2","#89b0ce","#9389b1","#c1c6ca","#41464b","#d51228","#cf770b","#8d634a","#557b5c","#01a3b0","#3776a6","#765c83","#adadad","#2b2b2b","#a91913","#884702","#563725","#00552e","#00767a","#194e77","#530e6f"],this.colorNameList=["白","漆黑","红","橙","黄","葱绿","湖蓝","天色","紫","白练","鼠","虹","薄卵","蒸栗","白绿","蓝白","天空","紫水晶","白鼠","墨","甚三红","雄黄","金子","薄青","白群","薄花","紫苑","灰青","石墨","红绯","红金","枯茶","绿青","浅葱","薄缥","紫霞","薄钝","黑","朱绯","褐","黑茶","深绿","苍蓝","琉璃","葡萄"],this.fontColorObj={},a.each(this.attrValuesMap,function(t,n){return e.fontColorObj[t]=e.fontColorList[n]})},S.prototype.bindEvents=function(){var e,n;return n=this,"gallery"===location.hash.slice(1)&&(location.hash=""),o(window).on("pad_ready",function(){return n.isPadReady=!0}).on("hashchange",function(){return n.initScroll(),n.swapStatus()}).on("keydown keypress",function(e){if(8===e.keyCode&&"BODY"===e.target.tagName)return e.preventDefault()}),this.padView.on("click","#sidebar .change",function(e){return!1}),this.padView.on("hover",".history-show .document-info-list",function(e){return o("#sidebar").css("z-index","1")}).on("mousemove",".history-show .document-info-list",function(e){return o("#sidebar").css("z-index","-1")}),this.padView.on("click","#innerdocbody img",function(e){var r,i,a,s,c,u,f,p,d,h,m;if(m=o("#tempImageResizeStyle").text(),r=o(e.target).parents("span[class*=img-]"),a=r.length>0?r.attr("class"):"",c=a.match(/img-[0-9A-Za-z]{16}/),c=c&&c[0],o(".image-resize-bar").is(":visible")&&m.indexOf(c)>-1||window.cow.readonly||t.isMobile())return e.preventDefault(),e.stopPropagation(),d=o(e.target).attr("src"),window.cow.readonly?void window.open(d.replace(/!thumbnail$/,"")):(f=n.view.find("#innerdocbody img"),h=[],u=[],i=-1,f.each(function(t,n){var r,a,s;return r=o(n),s=r.attr("src"),h.push(s),a=r.closest("span").attr("class"),c=a.match(/img-([0-9|a-z|A-Z]{16})/),c=c&&c[1]?c[1]:"",r.is(e.target)&&(i=t),u.push(c)}),window.cow.iOS?(s=f.index(e.target),void l.notify("openImage",{imgs:h,guids:u,currentIndex:s})):(n.originPos.e=e,n.imgArray=f,p=e.target.src,n.setPosition(),n.isMobile()?C.previewImage({urls:h,current:p}):(l.notify("img:preview",i,h),l.notify("body:addOverflowHidden"))))}),o(document).on("keyup",function(e){if(n.gallery.hasClass("modal"))return e.keyCode===t.keyCodes.LEFT||e.keyCode===t.keyCodes.UP?n.changeActive("up"):(e.keyCode===t.keyCodes.RIGHT||e.keyCode===t.keyCodes.DOWN)&&n.changeActive("down")}),this.gallery.on("click",".thumb",function(e){if(!o(this).hasClass("active"))return n.showSpecifiedImg(o(this).index())}),this.gallery.on("click",function(e){if(e.stopPropagation(),!o(e.target).hasClass("return")&&!o(e.target).parents(".return").length)return n.isMobile()?"#gallery"===location.hash?history.back():location.hash="":n.changeGallery("hide")}),this.$view.on("click",".context-menu-list",function(e){var t;if(t=o(this).attr("data-guid").match(/table-(\w{16})/),t&&!o(".table-"+t[1]).length)return o(this).remove(),o("#context-menu-layer").remove()}),e=function(){return o(".export-dialog").hide(),o("body,html").removeClass("overflow-hidden")},o("#close-export").on("click",function(t){return e()}),o("html").on("click",function(t){if(t.target.parentElement&&"export-box"!==t.target.parentElement.className)return e()}),o(".export-sprite").on("click",function(n){var r,i,a;return a=n.target.classList[1],i={title:o("#doc-title-input").val(),type:a,guid:window.cow.currentFile.guid},window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),r=function(e,t){var n;return t=encodeURIComponent(decodeURIComponent(t)),n=document.createElement("a"),n.href=location.origin+"/download/export?filename="+e,n.href+="&downloadAs="+t,n.download=t,h.detectIE?window.location=n:h.simulate(n,"click")},e(),t.alert({title:"正在导出…"}),d.get(location.origin+"/export",i,function(e){return r(e.data.filename,o("#doc-title-input").val()+("."+a))},function(e){return t.alert({title:"下载出错，请重试。",type:"error"})})})},S.prototype.bindTextCount=function(){var e,t,n,r,i;return p.start(),t=parseInt(this.textCount.css("bottom")),i=null,n=this,o(document).on("selectionchange",function(a){var s,c,u,l,f,p;return u=o(a.currentTarget.activeElement),0!==u.closest("#editorcontainer").length&&(p=window.getSelection(),p.toString().length?(clearTimeout(i),s=n.docView.children(".outer-container").outerHeight(),c=n.docView.outerHeight(),l=o("#footer").outerHeight(),f=s+l,o(document).off("click.removeTextCount").on("click.removeTextCount",function(e){if(0===o(e.currentTarget.activeElement).closest("#editorcontainer").length)return r()}),n.docView.off("scroll.TextCount").on("scroll.TextCount",function(e){var r,i;return i=o(e.currentTarget).scrollTop(),c+i>=s?(r=l-(f-(c+i))+t,n.textCount.css("bottom",r)):n.textCount.css("bottom",t)}),n.textCount.css("bottom",t).removeClass("hide fadeout").children(".text-count-number").text(e(p.toString())),n.docView.trigger("scroll.TextCount"),i=setTimeout(function(){return n.textCount.addClass("fadeout"),setTimeout(function(){return r()},500)},3e3)):n.textCount.hasClass("hide")?void 0:r())}),r=function(){return n.textCount.addClass("hide"),o(document).off("click.removeTextCount"),n.docView.off("scroll.TextCount")},e=function(e){var t,n,r,i,o,s;return i=0,r=/^[A-Za-z0-9]+$/gi,n=/[A-Za-z0-9]+/gi,o=/↵|\s/,t=/[^a-zA-Z0-9\s\u4e00-\u9fa5]/g,e=e.replace(/\b[a-zA-Z]+'[a-zA-Z]+\b/g,"0").replace(/\b\d+\.\d+\b/g,"0").replace(t," "),s=a.compact(e.split(o)),s.forEach(function(e){var t,o,a,s;return s=e.trim(),o=s.match(r),Array.isArray(o)?i+=o.length:(t=s.match(n),Array.isArray(t)?(a=s.split(n).join(""),i+=a.length,i+=t.length):i+=s.length)}),i}},S.prototype.swapStatus=function(){var e;return e=location.hash?location.hash.slice(1):"","gallery"===e?this.changeGallery("show"):this.changeGallery("hide")},S.prototype.updateTitle=function(e){var n,r,i,a;if(i=this,a=o(e.target).prop("value"),a||(a=o(e.target).val("无标题").val()),a!==o(e.target).attr("data-value"))return n={name:a},r=this.cow.currentDocGuid||this.cow.currentFile.guid,t.post("/api/file/"+r,n).fail(t.error),l.notify("file:updateTitle",a)},S.prototype.renderShare=function(){if("doc"===window.cow.pageType)return this.share?this.share.reload():this.share=new Share(" .list-share-box .dropdown.share",{teamworkerEle:" .list-share-box .dropdown.teamworker"})},S.prototype.reloadShare=function(){if("doc"===window.cow.pageType&&this.share)return this.share.reload()},S.prototype.initSaveToShimo=function(){var e;return e=this,this.checkPadReady().then(function(){if(window.cow.currentUser.id<0||window.cow.readonly)return e.saveDoc=new g("body")})},S.prototype.changeActive=function(e){var t;if(t=this.galleryList.find(".thumb.active").index(),"up"===e){if(0===t)return;t-=1}else{if(t===this.imgArray.length-1)return;t+=1}return this.showSpecifiedImg(t)},S.prototype.showSpecifiedImg=function(e){var t;return this.galleryList.find(".thumb.active").removeClass("active"),t=this.galleryList.find(".thumb:nth-child("+(e+1)+")"),t.addClass("active"),this.generateZoomImg(this.imgArray[e].src)},S.prototype.scrollToActiveThumb=function(){var e,t,n;if(e=this.galleryList.find(".thumb.active"),e.length){if(n=o(window).height(),t=this.galleryList.scrollTop(),e.offset().top<70)t=t+e.offset().top-70;else{if(!(e.offset().top>n-120))return;t=t+e.offset().top-n+120}return this.galleryList.scrollTop(t)}},S.prototype.showActiveInfo=function(){var e,t,n,r;return r=this.imgArray.length,e=this.galleryList.find(".thumb.active"),e.length?(n=e.index()+1,t=n+"/"+r):t="",this.galleryDetail.find("number").html(t)},S.prototype.setPosition=function(){var e,t,n,r,i,a,s;return r=this,n=r.originPos,this.imgArray.length>1&&this.gallery.hasClass("modal")?(e=r.galleryList.find(".thumb.active"),i=this.imgArray[e.index()]):null!=n.e&&(i=n.e.target),n=i&&o(i).parents("#innerdocbody").length?{off:o(i).offset(),width:o(i).width(),height:o(i).height()}:{off:!1,width:0,height:0},s=o(window).width(),a=o(window).height(),this.isMobile()?(t=a/s>=n.height/n.width?(a-n.height/n.width*s)/2:0,this.galleryImg.css({width:"100%",height:"auto","margin-top":t})):this.galleryImg.css({width:n.width,height:n.height,top:n.off?2*n.off.top-(a-n.height):0,
left:n.off?2*n.off.left-(s-n.width):0})},S.prototype.showGalleryList=function(e,t){var n;return n=this,this.galleryList.show().html(""),a.each(e,function(e){var r,i,o;return r=e.src===t?" active":"",i=e.src,o='<p class="gallery-list-item thumb'+r+'"><img class="gallery-list-img" src="'+i+'" style=""></p>',n.galleryList.append(o)}),this.galleryDetail.css({right:this.galleryList.width()})},S.prototype.generateImgList=function(e){if(this.imgArray.length>1&&!this.isMobile())return this.showGalleryList(this.imgArray,e)},S.prototype.generateZoomImg=function(e){var t,n,r,i,a;return r=new Image,r.src=e,r&&r.width?i={width:r.width,height:r.height}:(t=this.galleryList.find(".thumb.active"),a=this.imgArray[t.index()],i={width:o(a).width(),height:o(a).height()}),n={width:o(window).width()-40-this.galleryList.width(),height:o(window).height()-40-this.galleryDetail.height()},i.width>n.width&&(i={width:n.width,height:i.height*n.width/i.width}),i.height>n.height&&(i={width:i.width*n.height/i.height,height:n.height}),i.left="block"===this.galleryList.css("display")?-this.galleryList.width():0,this.galleryDetail.find(".origin-link").attr("href",e.replace(/!thumbnail$/,"")),this.galleryImg.find("img").attr("src",e),this.galleryDetail.find(".origin-link")[0].hostname===window.cow.domain&&(e=e.replace("_large","")),this.galleryDetail.find(".link-download").attr("href",this.imageDownloadLink+e),this.galleryDetail.find(".link-download").show(),this.isMobile()||this.galleryImg.css({width:i.width,height:i.height,top:"-"+this.galleryDetail.height()+"px",left:i.left}),this.scrollToActiveThumb(),this.showActiveInfo()},S.prototype.resetGallery=function(){return this.imgList=[],this.setPosition(),this.gallery.css("background-color","transparent")},S.prototype.refreshGallery=function(){return this.gallery.attr("style","").removeClass("modal").children().attr("style","")},S.prototype.changeGallery=function(e){var t;return t=this,"show"!==e?(l.notify("body:removeOverflowHidden"),this.resetGallery(),this.isMobile()?(this.refreshGallery(),this.padWrap.removeClass("hide"),window.cow.padScroller&&window.cow.padScroller.refresh()):setTimeout(function(){return t.refreshGallery()},200)):(l.notify("body:addOverflowHidden"),this.gallery.addClass("modal"),this.isMobile()?(this.padWrap.addClass("hide"),o("#innerdocbody").blur()):void 0)},S.prototype.isMobile=function(){return window.cow.isMobile},S.prototype.backParent=function(){var e,t;return s.len>0?s.back():(e=window.cow.currentFile,t=window.cow.authorized?e.parent&&e.parent.guid?"/folder/"+e.parent.guid:"/desktop":"/login",s(t))},S.prototype.ensureTooltipExists=function(){if(!this.tooltipInfo.tooltip)return this.tooltipInfo.tooltip=document.createElement("DIV"),this.tooltipInfo.tooltip.id="tooltip",o("body").append(this.tooltipInfo.tooltip)},S.prototype._isAuthoredSpan=function(e){return!(!e||"SPAN"!==e.nodeName)&&this.getClassArray(e,function(e){return e.match("^author-")}).length},S.prototype.getClassArray=function(e,t){var n;return e.className?(n=[],e.className.replace(/\S+/g,function(e){if(!t||t(e))return n.push(e)}),n):[]},S.prototype.getStyle=function(e,t){var n;return n=function(e){return e.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()})},e.currentStyle?e.currentStyle[n(t)]:document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,null).getPropertyValue(t):e.style[n(t)]},S.prototype._isElementChildOf=function(e,t){for(;e&&e!==t;)e=e.parentNode;return e===t},S}(t.DomModule))("#pad-view")}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(1),n(4),n(176),n(294))},function(e,t,n){var r,i;!function(o){r=[n(1)],i=function(e){return o(e)}.apply(t,r),!(void 0!==i&&(e.exports=i))}(function(e){"use strict";function t(e){void 0===e&&(e=window.navigator.userAgent),e=e.toLowerCase();var t=/(edge)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],n=/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(silk)/.exec(e)||/(android)/.exec(e)||/(windows phone)/.exec(e)||/(win)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||/(playbook)/.exec(e)||/(bb)/.exec(e)||/(blackberry)/.exec(e)||[],r={},i={browser:t[5]||t[3]||t[1]||"",version:t[2]||t[4]||"0",versionNumber:t[4]||t[2]||"0",platform:n[0]||""};if(i.browser&&(r[i.browser]=!0,r.version=i.version,r.versionNumber=parseInt(i.versionNumber,10)),i.platform&&(r[i.platform]=!0),(r.android||r.bb||r.blackberry||r.ipad||r.iphone||r.ipod||r.kindle||r.playbook||r.silk||r["windows phone"])&&(r.mobile=!0),(r.cros||r.mac||r.linux||r.win)&&(r.desktop=!0),(r.chrome||r.opr||r.safari)&&(r.webkit=!0),r.rv||r.edge){var o="msie";i.browser=o,r[o]=!0}if(r.safari&&r.blackberry){var a="blackberry";i.browser=a,r[a]=!0}if(r.safari&&r.playbook){var s="playbook";i.browser=s,r[s]=!0}if(r.bb){var c="blackberry";i.browser=c,r[c]=!0}if(r.opr){var u="opera";i.browser=u,r[u]=!0}if(r.safari&&r.android){var l="android";i.browser=l,r[l]=!0}if(r.safari&&r.kindle){var f="kindle";i.browser=f,r[f]=!0}if(r.safari&&r.silk){var p="silk";i.browser=p,r[p]=!0}return r.name=i.browser,r.platform=i.platform,r}return window.jQBrowser=t(window.navigator.userAgent),window.jQBrowser.uaMatch=t,e&&(e.browser=window.jQBrowser),window.jQBrowser})},function(e,t,n){var r,i;(function(o){var a=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty;r=[n(175)],i=function(e){var t;return new(t=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.eventMap={"click .btn-ok":"clickOK","click .btn-cancel":"clickCancel","click .dialog":"clickSelf","click .confirm-close":"close","click .confirm-checkbox":"changeCheckBox",click:"click"},t.prototype.init=function(){return this.$view=o("#confirm"),this.$head=this.$(".dialog-head"),this.$headSpan=this.$(".header-text"),this.$body=this.$(".dialog-body"),this.$foot=this.$(".dialog-foot"),this.$okBtn=this.$(".btn-ok"),this.$cancelBtn=this.$(".btn-cancel"),this.buttons=["ok","cancel"],this.modal=!1,this.reset()},t.prototype.domEvents={clickOK:function(e){if(!o(e.target).hasClass("custom-confirm-btn"))return"function"==typeof this.okCallback&&this.okCallback({checkBoxValue:this.checkBoxValue}),this.hide(),e.stopPropagation()},clickCancel:function(e){if(!o(e.target).hasClass("custom-confirm-btn"))return"function"==typeof this.cancelCallback&&this.cancelCallback(),this.hide(),e.stopPropagation()},click:function(e){if(!this.modal)return"function"==typeof this.cancelCallback&&this.cancelCallback(),this.hide(),e.stopPropagation()},clickSelf:function(e){return e.stopPropagation()},changeCheckBox:function(e){return this.checkBoxValue=!this.checkBoxValue,o(".confirm-checkbox").toggleClass("active")},close:function(e){return this.hide()}},t.prototype.reset=function(){return this.headText="确认",this.bodyText="确认吗？",this.okText="确认",this.cancelText="取消",this.externalClass="",this.okCallback=null,this.cancelCallback=null,this.checkBox=null,this.checkBoxValue=!1},t.prototype.show=function(e){var t;return this.$foot.empty(),this.okCallback=e.okCallback,this.cancelCallback=e.cancelCallback,this.headText=e.headText||this.headText,this.bodyText=e.bodyText||this.bodyText,this.okText=e.okText||this.okText,this.cancelText=e.cancelText||this.cancelText,this.externalClass=e.externalClass||this.externalClass,this.modal=e.modal||!1,this.buttons=e.buttons||["ok","cancel"],e.checkBox&&(this.checkBox=e.checkBox,this.checkBoxValue=e.checkBoxValue||!1),"object"==typeof this.buttons[0]?(this.$okBtn.hide(),this.$cancelBtn.hide(),this.createFoot()):(this.$foot.append('<div class="btn btn-ok">确认</div><div class="btn btn-cancel">取消</div>'),this.$okBtn=this.$(".btn-ok"),this.$cancelBtn=this.$(".btn-cancel"),this.buttons.indexOf("ok")===-1?this.$okBtn.hide():this.$okBtn.show(),this.buttons.indexOf("cancel")===-1?this.$cancelBtn.hide():this.$cancelBtn.show(),this.$okBtn.text(this.okText),this.$cancelBtn.text(this.cancelText)),this.$headSpan.text(this.headText),this.$body.html(this.bodyText),this.checkBox&&(t=this.checkBoxValue?"active":"",this.$body.append('<div class="confirm-checkbox '+t+'">'+this.checkBox+"</div>")),this.$view.addClass(this.externalClass).show()},t.prototype.createFoot=function(){var e,t,n,r,i,a,s,c,u,l,f,p,d,h,m;for(d=this,t=o(),p=this.buttons,u=0,l=p.length;u<l;u++)n=p[u],m=n.type||"button",h=n.target||"_blank",c=n.href||"",s="custom-confirm-btn "+(n.customClass||""),r=n.label||n.buttonLabel||"",a=!!n.closeAfterClick,f="function"==typeof n.onClick?n.onClick:function(){},e=o(),"button"===m?e=o(document.createElement("div")):"link-button"===m&&(e=o(document.createElement("a")),e.attr({href:c,target:h})),e.addClass(n.class||s),e.text(r),i=function(e,t){return function(n){if(e(n),t)return d.hide(),n.stopPropagation()}}(f,a),e.on("click",i),t.push(e[0]);if(t.length>0)return this.$foot.append(t)},t.prototype.hide=function(){return this.$view.removeClass(this.externalClass).hide(),this.reset()},t}(e.DomModule))("#confirm")}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(1))},function(e,t,n){var r,i;(function(o,a){var s=function(e,t){function n(){this.constructor=e}for(var r in t)c.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},c={}.hasOwnProperty;r=[n(184),n(175),n(297),n(301),n(302),n(183),n(295),n(191)],i=function(e,t,n,r,i,c,u,l){var f,p;return f=function(f){function p(){return p.__super__.constructor.apply(this,arguments)}return s(p,f),p.prototype.fetchData=!1,p.prototype.opened=!0,p.prototype.init=function(){var e;if(!window.cow.readonly)return e=this,this.container=o(".container"),this.infoList=this.$view.find(".document-info-list"),this.tempList=this.$view.find(".temp-list"),this.list=this.$view.find(".comment-list"),this.noTarget=this.tempList.find(".no-target"),this.input=this.$view.find(".comment-input"),this.header=o("#header"),this.editHeading=o("#edit-heading"),this.docView=o("#doc-view"),this.topCut=98,this.btn=o("#comment-btn"),this.queryURL="/api/comment/",this.createURL="/api/comment/create",this.imgRex="ImAgEuRl/?/iMaGeUrL",this.mentionPop=new n("#comment-mention-pop"),this.commentData={},this.commentCache={},this.editCache={},this.initPush()},p.prototype.commentInit=function(){this.isReady=!1,this.commentData={},this.commentCache={},this.inputHeight=0,this.initComments(),e.getConnectSocket().then(function(){return self.fileGuid=window.cow.currentFile.guid})},p.prototype.domEvents={selectionChange:function(){return this.checkInputEmpty()},selectionPaste:function(e){var t,n;return n=o(e.target),t=n.parents(".document-info-li").attr("data-s-guid"),this.resizeCommentList(t,!0)},selectionKeyUp:function(e){var t,n;return n=o(e.target),t=n.parents(".document-info-li").attr("data-s-guid"),this.setEditCache(t,n.html().trim()),this.resizeCommentList(t)},selectionKeyPress:function(e){var n,r;if(r=o(e.target),n=r.parents(".document-info-li").attr("data-s-guid"),e.keyCode===t.keyCodes.ENTER)return!!r.text().trim().length&&(this.createSelectionComments(r),e.preventDefault())},selectionFocus:function(e){return this.inputHeight=o(e.target).height(),this.$view.find(".document-info-li.active").removeClass("active"),o(e.target).parents(".document-info-li").addClass("active"),this.checkInputEmpty()},deleteComment:function(e,t){var n;return n=this,u.show({okCallback:function(){return n.sureDelete(t)},headText:"删除评论",bodyText:"确认要永久删除该评论吗？"})},resendComment:function(e){var t,n,r;return t=o(e.target).parents(".doc-comment-item"),n=t.attr("data-comment-guid"),r=this.commentCache[n],t.addClass("sending").removeClass("sending-error"),this.sendCreatePost(r,t)}},p.prototype.eventMap={"propertychange .selection-comment-input":"selectionChange","input .selection-comment-input":"selectionChange","paste .selection-comment-input":"selectionPaste","keyup .selection-comment-input":"selectionKeyUp","keypress .selection-comment-input":"selectionKeyPress","focus .selection-comment-input":"selectionFocus","click .delete-comment":"deleteComment","click .resend-comment":"resendComment"},p.prototype.initComments=function(){return this.queryComments()},p.prototype.show=function(){this.container.addClass("commentable"),this.queryComments("show")},p.prototype.hide=function(){this.container.removeClass("commentable")},p.prototype.setReady=function(){if(this.isReady=!0,!window.cow.isMobile||window.cow.iOS)return this.trigger("ready")},p.prototype.sureDelete=function(e){var t,n,r,i;return i=this,t=o(e),n=t.parents(".doc-comment-item"),r=n.attr("data-comment-id"),n.addClass("deleting"),o.post("/api/comment/delete/"+r,{},function(e){if(e.code)return n.removeClass("deleting"),console.log("remove comment error"),console.log(e)})},p.prototype.checkInputEmpty=function(){var e,t,n;return n=o(".sidebar-body"),e=n.find(".selection-comment-input"),t=n.find(".input-placeholder"),e.text().length?t.hide():t.show()},p.prototype.setEditCache=function(e,t){return this.editCache[e]=t},p.prototype.queryComments=function(e){var n,r;if(r=this,r.fileGuid=window.cow.currentFile.guid,n=window.cow.currentFile.permissions||{},n.commentable)return this.ajax.get(this.queryURL+r.fileGuid,function(n){var i,o,s,u,f;if(0===n.code){if(u=!window.cow.iOS&&r.infoList[0].scrollTop+r.infoList.height()===r.infoList[0].scrollHeight,e)for(r.list.empty(),f=n.data,o=0,s=f.length;o<s;o++)i=f[o],r.format(i);a.each(n.data,function(e,n){var i;return i=a.pick(l.get(e.user_id),"avatar","email","name"),a.assign(e,i),e.online=c.isOnline(e.user_id),e.formattedTime=t.DateTime.format(e.created_at),r.handlerSelectionComment.call(r,e)}),u&&r.infoList.scrollTop(r.infoList[0].scrollHeight)}return r.setReady()})},p.prototype.changeInputBoxShow=function(e){var t;return t=o(e.target).parents(".comment-input-box"),t.hasClass("active")?t.removeClass("active"):t.addClass("active").find("input").focus()},p.prototype.createSelectionComments=function(e){var t,n,r,i;return t=e.html(),e.html("").focus(),r=e.parents(".document-info-li"),n=r.attr("data-s-guid"),i=a.unescape(r.find(".selection-comment-title").attr("data-title")),this.createComments(t,n,i)},p.prototype.createSelectionListArea=function(e,t,n){var r,s;if(s=this,r=t||o(e.target).data("select-array"),r.length>1?(s.tempList.addClass("has-many").removeClass("only"),n="has-many"):s.tempList.addClass("only").removeClass("has-many"),s.resetTempList(),a.each(r,function(e,t){var r,o,u,l;return r=s.commentData[e],l=r?r[0].selection_title:"",s.createSelectionCommentsArea(e,l,n),o=s.tempList.find(".document-info-li[data-s-guid="+e+"]"),u=o.find(".selection-comment-list"),r.length&&o.addClass("has-comment"),a.each(r,function(e,t){return e.online=c.isOnline(e.user_id),e.is_current=+e.user_id===+window.cow.currentUser.id,u.append(a.template(i)(e)),s.addSelectionTitle(o,"",e)}),s.changeSelectionCommentNumber(o)}),setTimeout(function(){return s.tempList.find(".selection-comment-input").off().focus(),s.mentionPop.mentionable(s.tempList.find(".selection-comment-input"))},200),r[0])return s.setCommentBoxPosition(r[0],!0,n)},p.prototype.createSelectionCommentsArea=function(e,n,i){var o,s,c,u,l;return l=n&&n.replace(/\s/g,"").length?n:t.cutLength(this.container.find("."+e).text(),42),u={title:l,type:"s-comment",list_type:i,s_guid:e},o=a.template(r)(u),"has-many"===i?(c=this.tempList.find(".scroll-list"),s=c.length?c:this.tempList.append('<div class="scroll-list"></div>').find(".scroll-list")):(this.tempList.find(".scroll-list").remove(),s=this.tempList),s.append(o),this.mentionPop.mentionable(this.tempList.find(".selection-comment-input")),this.tempList.find(".selection-comment-input").html(this.editCache[e]),this.tempList.find(".document-info-li[data-s-guid="+e+"]")},p.prototype.fixImgSelection=function(e,t){var n,r;if(n=e.find(".selection-comment-title"),r=o("."+t).find("img")[0]||n.find("img")[0],o(r).attr("src"))return n.html("图片评论").attr("data-title",this.imgRex+o(r).attr("src"))},p.prototype.fixAttachmentSelection=function(e,t){var n,r;if(r=e.find(".selection-comment-title"),n=o("."+t).find(".attachment-wrapper"),n.length>0)return r.html("附件评论")},p.prototype.resetTempList=function(){return this.tempList.find(".selection-comment-input").off(),this.tempList.find("li").remove()},p.prototype.changeDeleteTag=function(e){return"remove"===e?this.noTarget.show():this.noTarget.hide()},p.prototype.scrollToBottom=function(){return this.infoList.scrollTop(this.infoList[0].scrollHeight)},p.prototype.setCommentBoxPosition=function(e,t,n){var r,i,a,s,c,u,l,f,p,d,h,m,v,g,y,b;if(e)return this.fixImgSelection(this.tempList,e),this.fixAttachmentSelection(this.tempList,e),r=this.container.find("."+e),i=this.tempList.find(".trangle-box"),h={},p=0,s=0,r.length?(c=r.attr("class"),f=this.getCommentFont(c),p=96*(this.fontList[f]-1.2)/72,s=20,h.top=r.offset().top,i.show()):(h.top=114,i.hide()),g=this.topCut,m=0,b=o(window).height(),this.changeDeleteTag(n),this.tempList.hasClass("has-many")&&this.tempList.find(".document-info-li").length>1?u=this.tempList.find(".scroll-list"):(r.length&&(h.top-=this.scrollSelection(h.top)),u=this.tempList.find(".selection-comment-list"),d=69+this.tempList.find(".comment-input-box").outerHeight(),m=d,"remove"===n&&(m=d+this.noTarget.height())),l=Math.min(Math.max(b-300,400),b-m-g),u.css("max-height",l),a=this.tempList.outerHeight(),v=Math.max(Math.min(h.top-g-a/2,b-g-a-5),1),!this.contentNeedScroll(u)&&!t||this.tempList.hasClass("has-many")||u.scrollTop(u[0].scrollHeight),y=Math.max(h.top+p-s/2-g-v,0),this.tempList.css({top:v}),i.css({top:y})},p.prototype.scrollSelection=function(e){var t,n,r;return n=this.docView.scrollTop(),r=o(document).height(),t=e<120?e-120:e>r-100?e-r+100:0,this.docView.scrollTop(n+t),t},p.prototype.contentNeedScroll=function(e){var t;return t=e?e:this.tempList.find(".selection-comment-list"),!!t.length&&t[0].scrollTop+t.height()===t[0].scrollHeight},p.prototype.sendCreatePost=function(e,t){var n;return n=this,n.fileGuid=window.cow.currentFile.guid,o.ajax({type:"post",url:this.createURL+"?target_type=file&guid="+n.fileGuid,data:e,dataType:"json",success:function(e){return 0===e.code?n.input.val(""):t.removeClass("sending").addClass("sending-error")},error:function(){return t.removeClass("sending").addClass("sending-error")}})},p.prototype.createComments=function(e,n,r){var s,c,u,f,p;if(p=this,f={comment_guid:t.genGuid(),content:e,selection_guid:n,selection_title:r},u=window.cow.currentUser,c={online:!0,created_at:new Date,formattedTime:t.DateTime.format(new Date),name:l.getUserName(u.id),sending:"sending",user_id:u.id,id:"",avatar:u.avatar,is_current:!0,type:n?"s-comment":"w-comment"},c=o.extend(c,f),c.selection_title=a.escape(c.selection_title),s=o(a.template(i)(c)),this.handlerSelectionComment(c,!0,s,"add"),this.infoList.scrollTop(this.infoList[0].scrollHeight),this.sendCreatePost(f,s),this.commentCache[f.comment_guid]=f,n)return this.editCache[n]=""},p.prototype.changeSelectionCommentNumber=function(e,t){var n,r,i;if(t||(t=e),r=e.attr("data-s-guid"),this.commentData[r]&&(n=this.commentData[r].length,i=t.find(".show-comments"),n<1?e.removeClass("has-comment"):e.addClass("has-comment"),i.length))return t.find(".selection-comment-list").attr("data-number",n).parents(".document-info-li").addClass("has-comment"),i.html("查看所有"+n+"条")},p.prototype.handlerSelectionComment=function(e,t,n,r){var o,s,c,u,l,f,p,d,h;return p=this,e.sending="",s=e.comment_guid,l=e.selection_guid,d=p.$view.find(".sending."+s),d.length?(l&&(e.type="s-comment",p.commentData[l]&&p.commentData[l].length?p.commentData[l].push(e):(p.commentData[l]=[],p.commentData[l].push(e)),o=p.$view.find(".document-info-li[data-s-guid="+l+"]"),p.changeSelectionCommentNumber(o)),d.removeClass("sending").attr("data-comment-id",e.id)):(e.is_current=+e.user_id===+window.cow.currentUser.id,l&&(e.type="s-comment",p.commentData[l]&&p.commentData[l].length?r||p.commentData[l].push(e):(p.commentData[l]=[],r||p.commentData[l].push(e)),c=p.$view.attr("comment-mode"),f="document-comment"!==c&&this.checkSelectionOpen(e.selection_guid))?(this.tempList.find(".selection-comment-input").off(),h=p.tempList.find(".document-info-li[data-s-guid="+l+"]"),h.length||(h=p.createSelectionCommentsArea(l,e.selection_title,"temp")),p.addSelectionTitle(h,c,e),(p.contentNeedScroll()||t)&&(u=!0),h.find(".selection-comment-list").append(n||a.template(i)(e)),this.mentionPop.mentionable(this.tempList.find(".selection-comment-input")),p.setCommentBoxPosition(e.selection_guid,u),p.changeSelectionCommentNumber(h)):void 0)},p.prototype.checkSelectionOpen=function(e){var t,n;return n=!1,t=this.tempList.find(".document-info-li"),a.each(t,function(t,r){if(o(t).attr("data-s-guid")===e)return n=!0}),n},p.prototype.addSelectionTitle=function(e,n,r){var i,a,s;if(i=e.find(".selection-header"),s=i.find(".selection-comment-title"),a=i.find(".author").html(),!a)return e.find(".comment-avatar.first img").attr("src",r.avatar),i.find(".author").text(r.name),i.find("small").attr("data-time",r.created_at).text(r.formattedTime),s.attr("data-title",r.selection_title).html(r.selection_title),r.selection_title.indexOf(this.imgRex)<0?s.text('"'+t.cutLength(o(s[0]).text(),42)+'"'):s.html("").append('<img src="'+r.selection_title.substr(19,r.selection_title.length)+'" />')},p.prototype.changeFromManyToOnly=function(){var e,t,n,r;if(r=this.tempList.find(".scroll-list"),n=r.children(),1===n.length)return e=this.tempList.find(".selection-comment-list"),r.remove(),t='<div class="comment-input-box"><input class="selection-comment-input" placeholder="回复"></div>',this.tempList.removeClass("has-many").addClass("only").append(n).find(".document-info-li").append(e).append(t).find(".selection-comment-content").remove()},p.prototype.handlerCommentDelete=function(e){var t,n,r,i;if(i=this,n=o(".doc-comment-item[data-comment-id="+e.data.id+"]"),t=n.parents(".document-info-li"),r=e.data.selection_guid)return this.tempList.hasClass("has-many")&&0===n.siblings().length?(t.remove(),this.changeFromManyToOnly()):n.remove(),this.removeDelete(r,e)},p.prototype.removeDelete=function(e,t){var n,r,i;return r=this.commentData[e],n=o('.document-info-li[data-s-guid="'+e+'"]'),i=0,a.each(r,function(e,n){if(e.id===t.data.id)return i=n}),r.splice(i,1),this.changeSelectionCommentNumber(n),this.setCommentBoxPosition(e)},p.prototype.updateComments=function(){},p.prototype.initPush=function(){var n;if(t.isMobile())return n=this,e.bind("Comment",function(e){var r,i;if("create"===e.db_event){if(i=e.data,c.format(e.data),e.data.online=c.isOnline(e.data.user_id),e.data.formattedTime=t.DateTime.format(e.data.created_at),e.data.name=l.getUserName(e.data.user_id),n.handlerSelectionComment.call(n,i),window.cow.iOS||(r=n.infoList[0].scrollTop+n.infoList.height()===n.infoList[0].scrollHeight,r&&n.infoList.scrollTop(n.infoList[0].scrollHeight)),"duang"===i.content)return n.duang()}else if("update"===e.db_event)return n.handlerCommentDelete(e)})},p.prototype.duang=function(){var e;return e=o("#pad-view"),e.addClass("duang"),setTimeout(function(){return e.removeClass("duang")},1e3)},p.prototype.resizeCommentList=function(e,t){var n;return n=this.tempList.find(".selection-comment-input").height(),(n!==this.inputHeight||t)&&this.setCommentBoxPosition(e),this.inputHeight=n},p.prototype.resizeContainer=function(){var e,t;e=o("body").width(),t=this.container.width(),this.container.css("left",(e-t)/2)},p}(t.DomModule),p=null,{getInstance:function(e,t){return p||(p=new f(e,t)),p}}}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(1),n(4))},function(e,t,n){var r,i;(function(o,a){var s=function(e,t){function n(){this.constructor=e}for(var r in t)c.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},c={}.hasOwnProperty;r=[n(175),n(298),n(299),n(183),n(300)],i=function(e,t,n,r,i){var c;return c=function(c){function u(){return u.__super__.constructor.apply(this,arguments)}return s(u,c),u.prototype.init=function(){var e;return e=this,this.$view.html(o.template(t)({})),this.inMention=!1,this.maxSearch=6,this.halfMaxSearch=.5*this.maxSearch,this.$resultListView=this.$view.children(".result-list"),this.$placeholder=this.$view.find(".placeholder"),this.docResultList=[],this.userResultList=[],this.allResultList=[],this.placeholderText="在此@同伴或者文档",this.$placeholder.text(this.placeholderText),this.$arrowUp=this.$view.find(">.arrow-up"),this.$arrowDown=this.$view.find(">.arrow-down"),this.docGuid=window.cow.currentFile.guid,this.start=o.debounce(function(e){return function(t){return e.search(t)}}(this),500),a("body").append('<div id="mention-pop-shadow" contenteditable="true"></div'),this.$shadow=a("#mention-pop-shadow"),a(document).on("mousedown",function(t){0===e.$view.has(a(t.target)).length&&e.cancel()})},u.prototype.currentTarget=void 0,u.prototype.currentKeyword="",u.prototype.currentNode=null,u.prototype.currentCursorPosition=0,u.prototype.timer=void 0,u.prototype.eventMap={"mouseenter .mention-result":"mouseEnterResult","click .mention-result":"clickResult","click .placeholder":"stopPropagation","click .down":"stopPropagation"},u.prototype.domEvents={mouseEnterResult:function(e){var t;t=a(e.target),t.hasClass("active")||(this.$resultListView.find("li").removeClass("active"),t.addClass("active"))},clickResult:function(e){return this.create(),e.stopPropagation()},stopPropagation:function(e){return e.stopPropagation()}},u.prototype.mentionList={doc:{},user:{}},u.prototype.mentionable=function(t){var n;return n=this,t instanceof a||(t=a(t)),t.off("click"),t.off("keyup"),t.on("click keyup",function(r){var i,o,a,s,c,u,l,f;(c=r.keyCode)!==e.keyCodes.UP&&c!==e.keyCodes.DOWN&&c!==e.keyCodes.ENTER&&(n.currentTarget=t,s=window.getSelection().getRangeAt(0),f=s.endOffset,o=s.endContainer,n.currentCursorPosition=s.endOffset,n.currentNodeIndex=n.getCurrentNodeIndex(o),a=o.parentNode,"DIV"===o.parentNode.nodeName&&"true"===a.getAttribute("contenteditable")&&"#text"===o.nodeName&&(l=o.nodeValue.slice(0,f).split(/\s+/),i=l[l.length-1],i.indexOf("@")>-1?(u=i.slice(i.lastIndexOf("@")+1),n.start(u)):n.cancel({keyword:u})))}),t.on("keydown",function(t){var r;n.inMention&&((r=t.keyCode)!==e.keyCodes.UP&&r!==e.keyCodes.DOWN||(n.select(t.keyCode===e.keyCodes.UP?"up":"down"),t.preventDefault()),t.keyCode===e.keyCodes.ENTER&&(n.create(),t.preventDefault()))}),t.on("paste",function(e){var n,r;return n=function(e){return e.replace(/(<[\w\W]*?)(style)([\w\W]*?>)/g,function(e,t,n,r){return t+"style_replace"+r})},r=function(e){return a.trim(e.replace(/<\/?((?!a)(\w+))\s*[\w\W]*?>/g,""))},setTimeout(function(){var e;return e=t.html(),e=n(e),e=r(r(e)),t.html(e)},0)})},u.prototype.cancel=function(){if(this.inMention)return this.hide(),this.inMention=!1},u.prototype.show=function(){return this.position(this.currentTarget),this.$view.addClass("active"),this.inMention=!0},u.prototype.hide=function(){return this.$view.removeClass("active"),this.$resultListView.empty(),this.$placeholder.html(this.placeholderText).show(),this.inMention=!1},u.prototype.select=function(e){var t,n,r;n=this.$resultListView.find("li"),"init"===e?n.removeClass("active").first().addClass("active"):(t=this.$resultListView.find("li.active"),t.length>0&&(r=t.attr("data-index"),"down"===e&&r<n.length-1&&t.removeClass("active").next("li").addClass("active"),"up"===e&&r>0&&t.removeClass("active").prev("li").addClass("active")))},u.prototype.create=function(){var e,t,n,i,o,s,c,u,l,f,p,d,h,m,v,g,y;if(t=this.$resultListView.find("li.active"),0!==t.length)return y={type:t.attr("data-type"),name:t.attr("data-name")},"doc"===y.type&&(y.guid=t.attr("data-guid")),"user"===y.type&&(y.id=t.attr("data-id")),this.currentTarget.focus(),d=this.currentTarget[0].childNodes[this.currentNodeIndex],this.moveCursor(d,this.currentCursorPosition),h=d.parentNode,p=d.nextSibling,i=d.nodeValue,n=i.lastIndexOf("@"),s=this.currentCursorPosition,m=i.slice(0,n),v=i.slice(n,s),g=i.slice(s),u=document.createTextNode(m+" "),l=document.createTextNode(" "+g),c=document.createElement("a"),e=a(c),"doc"===y.type&&(e.attr("data-file-id",y.id),e.attr("href","/"+y.guid)),"user"===y.type&&(e.attr("href","javascript:void(0);"),f=r.isOnline(y.id),f&&e.addClass("online"),e.attr("data-user-id",y.id),e.attr("contenteditable","false")),e.addClass("mention-"+y.type),c.innerText=c.textContent=y.name,h.insertBefore(u,p),h.insertBefore(c,p),h.insertBefore(l,p),h.removeChild(d),o=l,this.moveCursor(o,1),null===p&&h.insertBefore(document.createElement("br"),p),setTimeout(function(e){return function(){return e.cancel()}}(this),100)},u.prototype.position=function(e){var t,n,r,i,o,s,c,u,l,f,p,d,h,m,v,g,y,b,w,_,x;return h=this,this.$shadow.html(this.currentTarget.html()),["fontSize","width","height","lineHeight","padding","border","outline"].forEach(function(e){return h.$shadow.css(e,h.currentTarget.css(e))}),m=this.$shadow[0],l=m.childNodes[this.currentNodeIndex],u=l.nextSibling,y=l.nodeValue,f=l.parentNode,i=this.currentCursorPosition,n=y.slice(0,i).lastIndexOf("@"),p=y.slice(0,n),d=y.slice(n),o=document.createTextNode(p),s=document.createTextNode(d),g=document.createElement("span"),g.innerText="1",f.insertBefore(o,u),f.insertBefore(g,u),f.insertBefore(s,u),f.removeChild(l),r=a(g).offset(),v=a(".doc-comment-input").offset(),r.top+=v.top+5e3,r.left+=v.left+5e3,v.left-=10,c=+/\d+/.exec(this.$view.css("maxHeight"))[0],b=this.$view.height(),x=this.$view.width(),w=v.left,t=r.left-v.left,t+20>x&&(w+=t-x+20,t-=t-x+20),a(window).height()-v.top<c?(_=r.top-b-25,this.$arrowUp.hide(),this.$arrowDown.show().find("span").css("left",t)):(_=r.top+25,this.$arrowDown.hide(),this.$arrowUp.show().find("span").css("left",t)),this.$view.css({left:w,top:_-50})},u.prototype.search=function(e){if(!(window.cow.currentUser.id<0))return this.mentionStr=e,e?(this.docResultList=[],this.userResultList=[],this.render("result"),function(e){return function(t){return i.searchAll(t,"file,recent_contact,team_member",0,6).then(function(n){var r,i,a;if(t===e.mentionStr)return e.docResultList=o.get(n,"file.results",[]).map(function(e){return e.source}),r=o.get(n,"recent_contact.results",[]),i=o.get(n,"team_member.results",[]),e.userResultList=o.unionBy(r,i,"id"),a=e.userResultList.splice(e.halfMaxSearch),e.docResultList.length>e.halfMaxSearch?e.docResultList.splice(e.maxSearch-e.userResultList.length):e.docResultList.length<e.halfMaxSearch&&a.length>0&&(a.splice(e.halfMaxSearch-docResultList.length),e.userResultList=e.userResultList.concat(a)),e.render("result"),e.select("init")})}}(this)(e)):(this.userResultList=[],this.docResultList=[],this.render("placeholder"))},u.prototype.render=function(e){if(!(window.cow.currentUser.id<0))return this.$resultListView.empty(),"placeholder"===e&&(this.$placeholder.show(),this.$resultListView.hide(),this.show()),"result"===e?(this.$placeholder.hide(),this.userResultList.length||this.docResultList.length?(this.$resultListView.append(o.template(n)({list:this.userResultList})).append(o.template(n)({list:this.docResultList})).show(),this.$resultListView.find("li").each(function(e){return a(this).attr("data-index",e)}),this.show()):this.hide()):void 0},u.prototype.moveCursor=function(e,t,n){var r,i;n=n||this.currentTarget[0],r=document.createRange(),r.selectNodeContents(n),r.setStart(e,t),r.collapse(!0),i=window.getSelection(),i.removeAllRanges(),i.addRange(r)},u.prototype.getCurrentNodeIndex=function(e,t){var n,r,i,o,a,s;for(s=-1,t=t||this.currentTarget[0],a=t.childNodes,i=r=0,o=a.length;r<o;i=++r)n=a[i],n===e&&(s=i);return s},u}(e.DomModule)}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(4),n(1))},function(e,t){e.exports='<div class="arrow-up">\n  <span class="top"></span>\n  <span class="down"></span>\n</div>\n<div class="arrow-down">\n  <span class="top"></span>\n  <span class="down"></span>\n</div>\n<ul>\n  <li class="placeholder">@朋友或者文档</li>\n</ul>\n<ul class="result-list">\n</ul>';
},function(e,t){e.exports='<% _.each(list, function (data, index) { %>\n\t\t<li class="mention-result" data-guid="<%= data.guid %>" data-name="<%= data.name %>" data-id="<%= data.id %>" data-type="<% data.guid ? print(\'doc\') : print(\'user\') %>">\n\t\t\t<% if (!data.guid){ %>\n\t\t\t\t<img class="avatar" src="<%= data.avatar %>"><%= data.name %>\n\t\t\t<% } else { %>\n        <% if (data.type === 1) {%>\n            <span class="file-sprite file-folder-icon mention-icon"></span>\n        <% } else if (data.type === 0) { %>\n            <span class="file-sprite file-doc-icon mention-icon"></span>\n        <% } else if (data.type === -1) { %>\n            <span class="file-sprite file-spreadsheet-icon mention-icon"></span>\n        <% } else if (data.type === -3) { %>\n          <span class="file-sprite file-sheet-icon mention-icon"></span>\n        <% } %>\n\t\t\t\t<%= data.name %>\n\t\t\t<% } %>\n\t\t</li>\n<% }) %>\n\n'},function(e,t,n){(function(e){function r(t){var n=t.apiUrl;return new e(function(e,r){(0,c.ajaxPost)(n,(0,u.omit)(t,"apiUrl")).then(function(t){0===t.code?e(t.data):r(new Error(t.message))},function(e){r(e)})})}function i(e,t,n,i){void 0===t&&(t="file,recent_contact,team_member");var o="/smapi/search";return r({apiUrl:o,keyword:e,type:t,page:n,pageSize:i})}function o(e,t,n){var i="/smapi/search/file";return r({apiUrl:i,keyword:e,page:t,pageSize:n})}function a(e,t,n){var i="/smapi/search/recent_contacts";return r({apiUrl:i,keyword:e,page:t,pageSize:n})}function s(e,t,n){var i="/smapi/search/team_members";return r({apiUrl:i,keyword:e,page:t,pageSize:n})}Object.defineProperty(t,"__esModule",{value:!0}),t.searchAll=i,t.searchFiles=o,t.searchRecentContacts=a,t.searchTeamMembers=s;var c=n(234),u=n(4);t.default={searchAll:i,searchFiles:o,searchRecentContacts:a,searchTeamMembers:s}}).call(t,n(170))},function(e,t){e.exports='<li class="document-info-li <%= type%>"  data-s-guid="<%= s_guid%>">\n    <%if(list_type === \'info\' || list_type === \'has-many\'){%>\n        <div class="selection-header">\n            <div class="selection-comment-title" data-title="<%- title%>"></div>\n        </div>\n        <div class="selection-comment-content">\n            <ul class="selection-comment-list" data-number="">\n            </ul>\n            <div class="comment-input-box">\n                <input class="selection-comment-input" placeholder="评论"></input>\n                <div class="input-box-footer">\n                    <a href="javascript:void(0);" class="show-comments">所有评论</a>\n                    <span class="start-comment"><span class="hicon icon-comment-add"></span>评论</span>\n                </div>\n            </div>\n        </div>\n        <img class="shadow-img" src="https://assets-cdn.shimo.im/assets/images/shadow-3c0f519ff8.png"></img>\n    <%}else{%>\n        <div class="selection-header">\n            <div class="selection-comment-title" data-title="<%- title%>">"<%- title%>"</div>\n        </div>\n        <ul class="selection-comment-list" data-number="">\n        </ul>\n        <div class="comment-input-box">\n            <div class="input-placeholder">按Enter键发送</div>\n            <div class="selection-comment-input editable mousetrap" placeholder="评论" contenteditable="true"></div>\n        </div>\n    <%}%>\n</li>\n'},function(e,t){e.exports='<li data-user-id="<%= user_id %>" data-comment-id="<%= id %>" class="doc-comment-item <%= comment_guid%> <%= sending %> <%= is_current? \'current-user\':\'\'%> <%= type == \'w-comment\' ? \'document-info-li w-comment\' : \'\'%> <%= online?\'online\':\'\' %>" <% if (sending) { %> data-comment-guid="<%= comment_guid %>"<% } %>>\n    <div class="comment-avatar">\n        <img class="comment-avatar-img" src="<%= avatar %>"/>\n        <span class="comment-online-circle online-circle"></span>\n    </div>\n    <div class="comment-body">\n        <div class="comment-info">\n            <span class="comment-author"><%= name %></span>\n            <small class="comment-item-time" data-time="<%= created_at %>"><%= formattedTime %></small>\n        </div>\n        <div class="comment-content"><%= content%></div>\n    </div>\n    <% if (is_current) { %>\n        <a href="javascript:void(0);" class="fun delete-comment icon-box">\n            <span class="delete-comment-icon hicon icon-trash-delete"></span>删除\n        </a>\n        <span class="fun deleting-comment">删除中...</span>\n    <% } %>\n    <% if (sending) { %>\n        <span class="fun sending-comment">发送中...</span>\n        <a href="javascript:void(0);" class="fun resend-comment icon-box">\n            <span class="resend-comment-icon hicon icon-refurbish"></span>重发\n        </a>\n        <span class="comment-error-span error-span icon-box">\n            <span class="comment-error-icon hicon icon-remind"></span>发送失败\n        </span>\n    <% } %>\n</li>\n'},function(e,t,n){var r,i;(function(o,a){r=[n(184),n(175),n(296),n(166),n(191)],i=function(e,t,n,r,i){var s,c,u,l,f,p,d,h,m,v,g,y,b,w,_,x,C,k,T,S,E,A,I,O,P,N,D;return g={},l="",h="",E="",w="",f=!0,S=!1,D="",m="",v="",T=!1,c=96/72,N=void 0,s=void 0,I={},r.attach("pad:render_content",function(){if(s=n.getInstance(".sidebar-body"),!N)return N=new u}),u=function(){function n(){this.view=o("#pad-view"),this.header=o("#header"),this.editHeading=o("#edit-heading"),this.buddleBox=o("#buddle-box"),this.cover=o("#document-cover-box"),this.comment=o(".sidebar-body"),this.container=o("#doc-container"),this.editor=o("#innerdocbody"),this.editContainer=o("#editorcontainer"),this.sideCommentBtn=o("#buddle-comment-btn"),this.commentInput=this.comment.find(".comment-input"),this.documentCover=this.cover.find(".document-cover"),this.sCommentInfo=this.comment.find(".selection-comment-info"),this.docView=o(window.cow.iOS?"#pad-wrap":"#doc-view"),this.dirtyCheck="",this.buddleList={},this.lineToComments=[],this.fontList=["9","10","11","12","14","18","24","30","36"],this.sideHover=!0,this.cutLength=window.cow.iOS?90:98,this.autoScroll=!1,this.currentLineNum=-1,this.Comment=s,this.isAndroidApp=t.isAndroidApp(),this.init()}return n.prototype.init=function(){var e;return e=this,this.bind(),this.bindWin(),this.resizeWin(),this.changeMode("document-comment"),this.initBuddle(),this.Comment.getCommentFont=this.getCommentFont,this.Comment.fontList=this.fontList,r.attach("contact:loaded",function(){var t,n,r,o,a,s,c;s=e.Comment.commentData;for(n in s)for(t=s[n],o=0,a=t.length;o<a;o++)r=t[o],c=i.get(r.user_id),r.name=c.name,r.avatar=c.avatar;return e.refreshAuthor()}),r.attach("active:change",function(e){return P(e)}),r.attach("comment:cancel",function(t){return e.context.ace.callWithAce(function(e){var n,r;return n=document.getElementsByClassName(t)[0],r=e.ace_domToRep(n),e.ace_cancelComment(r)},"cancel-comment",!0)}),r.attach("comment:change",function(e){return I=e})},n.prototype.initBuddle=function(){var e,t,n;return n=this,e=function(){var e;return e=0,n.Comment.isReady?(clearInterval(t),n.buddleDirtyCheck(),n.commentPushCheck()):e>50?clearInterval(t):void 0},t=setInterval(e,200)},n.prototype.bind=function(){return t.bindEvents.call(this,"",this.bindFun)},n.prototype.bindFun={buddleClick:function(e){var t,n,i,a;return t=o(e.target),t.hasClass("comment-buddle")?(this.Comment.resetTempList(),this.repositionBuddle(t),"document-comment"!==this.comment.attr("comment-mode")&&this.refreshSelection(),t.hasClass("beClick")?t.removeClass("beClick"):(this.buddleBox.find(".beClick").removeClass("beClick"),this.buddleBox.find(".active").removeClass("active"),t.addClass("beClick"),i=o(e.target).attr("data-buddle"),a=this.buddleList[i].group,o(e.target).data("select-array",a),window.cow.iOS?(n=this.getCommentData(),n.current=a[0],r.notify("comments",n)):this.showListComment(e))):void t.parent().click()},buddleMouseOver:function(e){if(f)return this.changeHighLight(e,"show")},buddleMouseOut:function(e){if(f)return this.changeHighLight(e,"hide")},commentBtnClick:function(e){if(this.Comment.isReady)return this.newComment(),e.stopPropagation()},commentKeyPress:function(e){var n;if(n=this.comment.attr("comment-mode"),e.keyCode===t.keyCodes.ENTER&&"start-selection-comment"===n)return this.finishComment(),this.buddleDirtyCheck()},coverClick:function(){return this.hideCover()},editKeyDown:function(){var e;return e=this,clearTimeout(e.dirtyCheck),e.dirtyCheck=setTimeout(function(){return e.buddleDirtyCheck()},100)},padClick:function(e){if(!o(e.target).parents(".sidebar-body").length&&!o(e.target).hasClass("comment-buddle")&&"buddle-comment-btn"===!e.target.id&&"document-mode"!==this.comment.attr("comment-mode"))return this.hideCover()},sideCommentClick:function(e,t){return S=!0,o("#select-comment").click()},maskClick:function(){return this.closeSelectionUnfold()},docClick:function(){if(this.view.hasClass("selection-unfold"))return this.closeSelectionUnfold()},closeTemp:function(){return this.closeSelectionUnfold()},startComment:function(e,t){var n,r,i;if(!this.comment.hasClass("start-s-comment")&&"document-comment"!==this.comment.attr("comment-mode")&&!this.comment.find(".temp-list").hasClass("only"))return r=o(e.target),i=r.parents(".document-info-li").attr("data-s-guid"),n=this.editContainer.find("."+i),i&&n[0]?(this.repositionBuddle(n),N.showListComment("",[i],"start-comment")):N.showListComment("",[i],"remove"),this.buddleDirtyCheck()}},n.prototype.events={"click .start-comment, .selection-header, .show-comments":"startComment","click .close-temp":"closeTemp","click .list-mask":"maskClick","click #buddle-comment-btn":"sideCommentClick","click #select-comment":"commentBtnClick","click .document-cover":"coverClick","click .comment-buddle":"buddleClick","click #doc-container":"padClick","mouseout .comment-buddle":"buddleMouseOut","mouseover .comment-buddle":"buddleMouseOver","keypress .selection-comment-input":"commentKeyPress","click #innerdocbody":"docClick"},n.prototype.bindWin=function(){var e;return e=this,o(document).on("click",function(t){var n;if(v=window.getSelection().toString(),e.view.hasClass("selection-unfold"))return n=o(t.target),0===n.parents(".document-info-li,.temp-list").length&&"buddle-comment-btn"!==n.attr("id")&&0===n.parents("#buddle-box").length?e.closeSelectionUnfold():void 0}),this.docView.on("scroll",function(t){return e.autoScroll?void(e.autoScroll=!1):!e.view.hasClass("selection-unfold")&&void 0}),o(document).on("keyup",function(){return v=window.getSelection().toString()})},n.prototype.getCommentData=function(){var e,t;return t=[],e=[],o("#innerdocbody .is-commented").each(function(){var n,r;if(r=o(this).attr("class").match(/comment-\w{16}/)[0],t.indexOf(r)===-1)return n=s.commentData[r],n?(t.push(r),e.push(n)):void 0}),this.isAndroidApp&&e.forEach(function(e){return e.forEach(function(e){return e.content=e.content.replace(/"/g,"'")})}),{guids:t,comments:e}},n.prototype.newComment=function(){var e,n,i;if(i=this,n=t.getSelection(),!(!this.isCursorInEditor(n.selection)||this.noTextInLine(n.selection)&&this.isEtherpadSelectionNoText()))return e={},this.context.ace.callWithAce(function(n){n.ace_insertHighLight(),h&&(e={guid:h,title:t.cutLength(o("."+h).text(),42)},h="")},"insert-highlight-comment",!0),window.cow.iOS?e:e.guid&&"add"===E?r.notify("comment:start",e.guid):void 0},n.prototype.repositionBuddle=function(e){var t,n,r,i;return r=e.offset().top,n=this.docView.scrollTop(),i=o(document).height(),t=r<120?r-120:r>i-100?r-i+100:0,this.docView.scrollTop(n+t),this.autoScroll=!0},n.prototype.getOutLineNum=function(e){for(;e.parentNode&&"innerdocbody"!==e.parentNode.id;)e=e.parentNode;return o(e).index()},n.prototype.getFontNode=function(e){for(;e.parentNode.parentNode&&"innerdocbody"!==e.parentNode.parentNode.id&&"li"!==e.parentNode.tagName.toLowerCase();){if(o(e).attr("class")&&o(e).attr("class").indexOf("font-size-")>-1)return;e=e.parentNode}return e},n.prototype.refreshAuthor=function(){return this.view.find(".doc-comment-item").each(function(){var e,t,n;if(e=o(this),n=e.attr("data-user-id"),i.exists(n))return t=i.get(n),e.find(".comment-author").html(t.name),e.find(".comment-avatar img").attr("src",t.avatar)})},n.prototype.commentInLine=function(e,t){var n;return t&&this.buddleList[t]&&this.buddleBox.find('.comment-buddle[data-buddle="'+t+'"]').addClass("hide"),n=this.cutLength-this.docView.scrollTop()+15,this.sideCommentBtn.css({top:e-n}).show()},n.prototype.closeSelectionUnfold=function(){return this.buddleBox.find(".beClick").removeClass("beClick"),this.refreshSelection()},n.prototype.refreshSelection=function(){return w="",this.editContainer.find(".is-commented.active").removeClass("active"),this.hideCover()},n.prototype.resizeWin=function(){var e;return e=this},n.prototype.showListComment=function(e,t,n){if(this.changeHighLight(e,"show",t),this.coverDocument("buddle",e,t),!window.cow.iOS)return this.Comment.createSelectionListArea(e,t,n)},n.prototype.isCursorInEditor=function(e){var t;return t=e.focusNode,!(t&&!o(t).parents("#innerdocbody").length)||o(t).hasClass("icon-comment-add")},n.prototype.coverDocument=function(e,t,n){var r;return m=[e,t],r="select"===m[0]?"start-selection-comment":"selection-comment",f=!1,this.changeMode(r)},n.prototype.changeHighLight=function(e,t,n){var r,i,a,s;return this.editContainer.find(".is-commented.active").removeClass("active"),s=this,n&&n.length?"show"===t?(w=n,o("."+n[0]).addClass("active")):w="":(r=o(e.target),r.hasClass("comment-buddle")||(r=o(e.target).parent()),i=r.attr("data-buddle"),a=o("."+this.buddleList[i].group.join(", .")),"show"===t?(a.addClass("active"),w=this.buddleList[i].group):(a.removeClass("active"),w=""))},n.prototype.finishComment=function(){return D=""},n.prototype.changeMode=function(e){},n.prototype.getCommentFont=function(e){var t;return t=e&&e.indexOf("font-size-")>-1?e.match(/font-size-([0-9]+)/)[1]-1:2},n.prototype.isEtherpadSelectionNoText=function(){var e;return e="",this.context.ace.callWithAce(function(t){var n,r,i,o,a,s,c,u;for(i=t.ace_getRep(),s=[i.selStart[0],i.selStart[1]],a=[i.selEnd[0],i.selEnd[1]],n=s[0],o=[];n<=a[0]&&(r=i.lines.atIndex(n),u=r.text,n===s[0]?(c=0===s[0]?r.lineMarker:s[0],e+=u.slice(c,u.length)):e+=n===a[0]?u.slice(r.lineMarker,a[0]):u.slice(r.lineMarker,u.length),e=e.replace(/\s/g,""),!(e.length>0));)o.push(n+=1);return o},"get-selection",!0),!(e.length>0)},n.prototype.noTextInLine=function(e){var n,r,i;return r=e.focusNode,r?"buddle-comment-btn"!==o(r)[0].id&&!!(t.getLineDom(r).textContent.length<1)&&o(t.getLineDom(r)).find(".upload-image").length<1:(n=o("#tempAttachmentStyle"),!(n.length>0)||(i=n.text().match(/attachment-[a-z,A-Z,0-9]{16}/),i=i&&i[0]?i[0]:"",!(o("."+i).length>0)))},n.prototype.buddleDirtyCheck=function(e,t){var n,i,s,u,f,p,d,h,m,v,g;r.notify("dirtyCheck"),m=this,s=[],m.lineToComments=[],i={},m.buddleList={},h=this.docView.scrollTop(),v=this.cutLength-h+15,u=this.container.find(".is-commented"),m.view.hasClass("selection-unfold")?l=m.view.find(".temp-list .document-info-li").attr("data-s-guid"):window.cow.iOS||(l=""),a.each(u,function(e,t){var n,r,a,c,u;if(n=o(e).attr("class"),u=n.match(/comment-([A-Za-z0-9]{16})/)[0],c=m.getCommentFont(n),i[u]!==!0)return i[u]=!0,r=m.Comment.commentData[u],a={guid:u,font:c,number:r?r.length:0},s.push(a)}),a.each(s,function(e,t){var n,r,i,s,u;if(n=o(m.container.find("."+e.guid)[0]),i=m.fontList[e.font]*c,n.length>0&&(r=n.offset().top+i,u=null,a.forIn(m.buddleList,function(e,t){if(Math.abs(t-r)<10)return u=m.buddleList[t]}),e.number)){if(!u)return s=m.getOutLineNum(n[0]),m.lineToComments[s]=m.lineToComments[s]||[],m.lineToComments[s].push(r),m.buddleList[r]={num:1,total:e.number,group:[e.guid],min:r,lineNum:s};if(u.group||(u.group=[]),u.group.join("").indexOf(e.guid)<0&&(u.num++,u.total+=e.number,u.group.push(e.guid),r<u.min))return u.min=r}}),m.buddleBoxDomCache||(m.buddleBoxDomCache={}),n=a.clone(m.buddleBoxDomCache),m.buddleBoxDomCache={},p=[],a.forIn(m.buddleList,function(r,i){var o,a,s,c,u,f,d;if(r.total)return a="",s="",r.total>=99&&(r.total="99+"),l&&r.group.toString().indexOf(l)>-1&&(s="beClick"),window.cow.iOS||l||e!==r.lineNum||T||(a="active"),t&&t===i&&(""!==a&&(a+=" "),a+="hide"),u='<a class="comment-buddle hicon '+s+" icon-comment "+a+'" title="'+r.group.length+"处标记"+r.total+'处评论" data-buddle="'+i+'" style="top:'+(r.min-v)+'px;" ><span class="comment-buddle-text">'+r.total+"</span></a>",c=n[i],d='<a class="comment-buddle hicon (beClick)? icon-comment (active|hide|active hide)?" title="'+r.group.length+"处标记"+r.total+'处评论" data-buddle="'+i+'" style="top:'+(r.min-v)+'px;" ><span class="comment-buddle-text">'+r.total+"</span></a>",f=new RegExp(d),p.push(i),o=m.buddleBox.find('.comment-buddle[data-buddle="'+i+'"]'),c!==u?c&&c.match(f)&&u.match(f)?o.removeClass("beClick").removeClass("active").removeClass("hide").addClass(s).addClass(a):(o.remove(),m.buddleBox.append(u)):(""!==a&&!o.hasClass(a)||""===a&&(o.hasClass("active")||o.hasClass("hide"))||""===s&&o.hasClass("beClick")||"beClick"===s&&!o.hasClass("beClick"))&&(o.remove(),m.buddleBox.append(u)),m.buddleBoxDomCache[i]=u}),d=[];for(f in n)g=n[f],a.includes(p,f)?d.push(void 0):d.push(m.buddleBox.find('.comment-buddle[data-buddle="'+f+'"]').remove());return d},n.prototype.commentPushCheck=function(){var t;return t=this,e.bind("Comment",function(e){if(e.data.selection_guid)return setTimeout(function(){return t.buddleDirtyCheck()},100)})},n.prototype.getLineSelects=function(e){var t,n,r;return t=o(e.target).attr("data-buddle"),n=this.buddleList[t].group,o(e.target).data("select-array",n),r={y:0,height:0},a.each(n,function(e,t){var n,i;if(i=o("."+e),0===t&&i[0]&&(r.y=i.offset().top),i.height=i.outerHeight(),i.length>=2&&(n=o(i[i.length-1]),i.height=n.offset().top-o(i[0]).offset().top+n.outerHeight()),i.height>r.height)return r.height=i.height}),r},n.prototype.hideCover=function(e){var t;t=this,this.changeMode("document-comment"),f=!0,w=""},n.prototype.updateCommentBtnPosition=function(e){var n,r,i,u,l,f,p,d,h,m,g,y,b,w,_,x,C,k,S,E,A;if(!e.selStart||!s.isReady)return void this.sideCommentBtn.hide();if(x=t.getSelection(),this.isCursorInEditor(x.selection)){if(b=e.selStart[0],r=o("#innerdocbody").children().eq(b),o(".comment-buddle.hide").removeClass("hide"),r.find(".image-placeholder").length)return void this.sideCommentBtn.hide();if(r.find(".attachment-placeholder").length)return void this.sideCommentBtn.hide();if(C=x.string&&!x.string.replace(/\s/g,"").length,m=x.string&&x.string.replace(/\s/g,"").length,h=v.replace(/\s/g,"").length&&v.length===e.selEnd[1]-e.selStart[1],C)this.sideCommentBtn.hide();else if(m){if(T=!0,_=t.getSelectionPosition(),E=window.getSelection().anchorNode,!E)return;if(p=this.getFontNode(E),u=o(p).attr("class"),f=this.getCommentFont(u),!f||!o(p).offset())return;w=o(p).offset().top,g=w-_.y,A=g>-5?w:_.y,i=A+this.fontList[f]*c,S=null,a.forIn(this.buddleList,function(e,t){if(Math.abs(t-i)<10)return S=t}),this.commentInLine(i,S)}else{if(h)return;if(T=!1,b<e.lines.length())if(l=e.lines.atIndex(b),l&&l.text)if(k=this,y=this.lineToComments[b],d=y&&!!y.length,d&&window.cow.iOS)this.sideCommentBtn.hide(),window.cow.iOS||a.each(y,function(e){return k.buddleBox.find('.comment-buddle[data-buddle="'+e+'"]').addClass("active")});else{if(n=o(r.find("span")[0]),!n.length)return;u=n.attr("class"),f=this.getCommentFont(u),i=n.offset().top+k.fontList[f]*c,this.commentInLine(i)}else this.sideCommentBtn.hide()}this.buddleDirtyCheck(b,S),this.view.hasClass("selection-unfold")&&this.sideCommentBtn.hide()}},n}(),g.getCommentData=function(){return N.getCommentData()},g.changeActiveGuid=function(e){return l=e,N.buddleDirtyCheck()},g.changeHighLight=function(e){return N.changeHighLight(null,"show",[e])},g.refreshSelection=function(){return N.refreshSelection()},g.newComment=function(){return N.newComment()},g.finishComment=function(){return N.finishComment()},g.commentTop=function(e){var t,n,r;n=N.buddleList;for(r in n)if(t=n[r],t.group.indexOf(e)!==-1)return r},g.updateCommentBtnPosition=function(e){return N.updateCommentBtnPosition(e)},g.repositionBuddle=function(e){return N.repositionBuddle(e)},g.showListComment=function(e){return N.showListComment("",[e])},g.postAceInit=function(e,t){if(N)return N.context=t,this.sComment=N},g.aceAttribsToClasses=function(e,t){var n;if("comment"===t.key)return w&&a.each(w,function(e,n){if(t.value.indexOf(e)>-1&&t.value.indexOf("active")<0)return t.value+=" active"}),n=["is-commented "+t.value]},y=function(){var e,t,n;for(t=17,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[];t-=1;)n.push(e[parseInt(62*Math.random())]);return n.join("")},k=function(e){var n,r,i,c,u,l,f,p,h,m,v,g,y,w,_,x,k;return _=this,x=e.selStart[0],r=N.view.find("#innerdocbody").children("div:nth-child("+(x+1)+")"),n=r.find(".is-commented"),u=[],c=[],v=e,h=[e.selStart[1],e.selEnd[1]],w="",f=r.text().length<1,k="add",i=t.isMobile()?s.commentData:I,a.each(n,function(e){var t;if(t=e.className.match(/\b\w{7}-\w{16}/),i[t[0]]&&i[t[0]].length)return c.push(e)}),g=t.getSelection(),y=g.string&&!g.string.replace(/\s/g,"").length,y?w=r[0]:e.selStart[0]===e.selEnd[0]&&e.selStart[1]===e.selEnd[1]?c.length>0?(k="position",w=c[0]):w=r[0]:(e.selStart[0]<e.selEnd[0]&&(l=d(v)||x,l!==x&&(c=[],r=N.view.find("#innerdocbody").children("div:nth-child("+(l+1)+")"),n=r.find(".is-commented"),a.each(n,function(e){var t;if(t=e.className.match(/\b\w{7}-\w{16}/),i[t[0]]&&i[t[0]].length)return c.push(e)})),h[0]=v.selStart[1],h[1]=v.selEnd[1]),c.length>0&&(a.each(c,function(e){if(C(e,h))return u.push(e)}),u.length&&(w=u[0],k="position"))),w&&"add"===k&&(p=b(w),h=[p,p+o(w).text().length],v.selStart[1]=h[0],v.selEnd=[e.selStart[0],h[1]]),m={rep:v,type:k,dom:w,noText:f}},d=function(e){var t,n,r,i,o,a,s,c,u,l;for(l=e.selStart[0],n=e.selEnd[0],r=i=s=l,c=n;s<=c?i<=c:i>=c;r=s<=c?++i:--i)if(a=e.lines.atIndex(r).lineMarker,o=e.lines.atIndex(r).text.length,u=a,t=u+o,r===l&&(u=e.selStart[1]),r===n&&(t=e.selEnd[1]),t-u>0)return e.selStart=[r,u],e.selEnd=[r,t],r},C=function(e,t){var n,r;return r=b(e),n=[r,r+o(e).text().length],!(n[1]<=t[0]||n[0]>=t[1])},b=function(e){var t,n,r,i,o;for(r=document.getElementById("innerdocbody"),o="​",t=0;(n=e.parentNode)!==r;)(i=e.previousSibling)?(e=i,t+=A(e).length,A(e)[0]===o&&(t=Math.max(t-1,0))):e=n;return e.firstChild&&x(e.firstChild)&&(t+=1),t},A=function(e){return e.innerText||e.textContent||e.nodeValue||""},x=function(e){var t;return t={div:1,p:1,pre:1,li:1,ol:1,ul:1,inherit:1},!!t[(e.tagName||"").toLowerCase()]},p=function(e){if(e.selStart&&e.selEnd)return this.documentAttributeManager.setAttributesOnRange(e.selStart,e.selEnd,[["comment",""]])},_=function(e,t){var n,r,i,a;if("cancel"===e){if(!t.selStart||!t.selEnd)return;N.finishComment(),this.documentAttributeManager.setAttributesOnRange(t.selStart,t.selEnd,[["comment",""]])}else{if(i=this.rep,!i.selStart||!i.selEnd)return;if(a=k(i),E=a.type,"add"===a.type){if(n="comment-"+y(),h=n,w=[n],r=o("#innerdocbody").find(">div").eq(i.selStart[0]),!r.length)return;if(r.find(".image-placeholder, .attachment-placeholder").length)return;i.selStart[0]===i.selEnd[0]&&i.selStart[1]===i.selEnd[1]&&r.find(".upload-image, .upload-attachment").length&&(i.selEnd[1]+=1),this.documentAttributeManager.setAttributesOnRange(i.selStart,i.selEnd,[["comment",n]]),D={code:n,temp:!0},N.coverDocument("select")}else O(a.dom)}return N.buddleDirtyCheck()},O=function(e){var n;return n=e.className.match(/\b\w{7}-\w{16}/),h=n[0],t.isMobile()?N.showListComment("",n):(P([h]),r.notify("comment:show",h))},P=function(e){if(w=e,o(".is-commented.active").removeClass("active"),w&&w.length)return o("."+w[0]).addClass("active")},g.aceInitialized=function(e,t){var n;n=t.editorInfo,n.ace_insertHighLight=a.bind(_,t),n.ace_cancelComment=a.bind(p,t)},g}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(1),n(4))},function(e,t,n){var r;r=function(){var e=function(e){function t(t){var n=t.onselectionchange;if(n!==e)try{return t.onselectionchange=0,null===t.onselectionchange}catch(e){}finally{t.onselectionchange=n}return!1}function n(){return"undefined"!=typeof WeakMap?new WeakMap:(console.error("selectionchange: WeakMap not supported"),null)}function r(e){var t=e.getSelection();return t.rangeCount?t.getRangeAt(0):null}function i(e,t,n){e.addEventListener(t,n,!0)}function o(e,t,n){e.removeEventListener(t,n,!0)}function a(e){b[e.target.tagName]||p(this,!0)}function s(e){var t=e.keyCode;(65===t&&e[g]&&!e.shiftKey&&!e.altKey||t>=37&&t<=40||e.ctrlKey&&m&&v.indexOf(t)>=0)&&(b[e.target.tagName]||setTimeout(p.bind(null,this),0))}function c(e){0===e.button&&(i(this,"mousemove",u),setTimeout(p.bind(null,this),0))}function u(e){1&e.buttons?p(this):o(this,"mousemove",u)}function l(e){0===e.button?setTimeout(p.bind(null,this),0):o(this,"mousemove",u)}function f(){setTimeout(p.bind(null,this.document),0)}function p(e,t){var n=r(e);!t&&d(n,h.get(e))||(h.set(e,n),setTimeout(e.dispatchEvent.bind(e,new Event("selectionchange")),0))}function d(e,t){return e===t||e&&t&&y.every(function(n){return e[n]===t[n]})}var h,m=/^Mac/.test(navigator.platform),v=[65,66,69,70,78,80],g=m?"metaKey":"ctrlKey",y=["startContainer","startOffset","endContainer","endOffset"],b={INPUT:1,TEXTAREA:1};return{start:function(e){var o=e||document;(h||!t(o)&&(h=n()))&&(h.has(o)||(h.set(o,r(o)),i(o,"input",a),i(o,"keydown",s),i(o,"mousedown",c),i(o,"mousemove",u),i(o,"mouseup",l),i(o.defaultView,"focus",f)))},stop:function(e){var t=e||document;h&&h.has(t)&&(h.delete(t),o(t,"input",a),o(t,"keydown",s),o(t,"mousedown",c),o(t,"mousemove",u),o(t,"mouseup",l),o(t.defaultView,"focus",f))}}}();return e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r,i;r=[n(165),n(164)],i=function(e,t){var n,r,i,o,a;return i={},r={HTMLEvents:/^(?:load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll)$/,MouseEvents:/^(?:click|dblclick|mouse(?:down|up|over|move|out))$/},n={pointerX:0,pointerY:0,button:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,bubbles:!0,cancelable:!0},o=function(e,t){var n;for(n in t)e[n]=t[n];return e},i.simulate=function(e,t){var i,a,s,c,u;u=o(n,arguments[2]||{}),c=void 0,i=null;for(s in r)if(r[s].test(t)){i=s;break}if(!i)throw new SyntaxError("Only HTMLEvents and MouseEvents interfaces are supported");return document.createEvent?(c=document.createEvent(i),"HTMLEvents"===i?c.initEvent(t,u.bubbles,u.cancelable):c.initMouseEvent(t,u.bubbles,u.cancelable,document.defaultView,u.button,u.pointerX,u.pointerY,u.pointerX,u.pointerY,u.ctrlKey,u.altKey,u.shiftKey,u.metaKey,u.button,e),e.dispatchEvent(c)):(u.clientX=u.pointerX,u.clientY=u.pointerY,a=document.createEventObject(),c=o(a,u),e.fireEvent("on"+t,c)),e},a=function(e,t){var n,r;r=e,document.createEvent?(n=document.createEvent("MouseEvents"),n.initEvent(t,!0,!1),r.dispatchEvent(n)):document.createEventObject&&(n=document.createEventObject(),r.fireEvent("on"+t,n))},i.detectIE=function(){var e,t,n,r,i;return i=window.navigator.userAgent,t=i.indexOf("MSIE "),t>0?parseInt(i.substring(t+5,i.indexOf(".",t)),10):(r=i.indexOf("Trident/"),r>0?(n=i.indexOf("rv:"),parseInt(i.substring(n+3,i.indexOf(".",n)),10)):(e=i.indexOf("Edge/"),e>0&&parseInt(i.substring(e+5,i.indexOf(".",e)),10)))},i}.apply(t,r),!(void 0!==i&&(e.exports=i))},function(e,t){e.exports='<div class="trangle">\n    <span class="top operation-trangle-item"></span>\n    <span class="down operation-trangle-item"></span>\n</div>\n\n<ul class="operation-list">\n  <li class="operation-list-item export-btn">导出</li>\n  <li class="operation-list-item print-btn">打印</li>\n  <% if (typeof authorized !== \'undefined\' && authorized) {%>\n      <hr/>\n  \t\t<li class="operation-list-item delete-btn">删除文档</li>\n  <% } %>\n  \n</ul>\n'},function(e,t,n){var r,i;(function(o,a){var s=function(e,t){function n(){this.constructor=e}for(var r in t)c.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},c={}.hasOwnProperty;r=[n(184),n(175),n(228),n(308)],i=function(e,t,n,r){var i;return i=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return s(i,e),i.prototype.init=function(){var e,n,r,i;if(this.registerPendingAction("/api/file/copy",{guid:window.cow.tempCurrentFile.guid,source_url:window.location.href},this.saveSharedDocAsCopy),window.cow.currentUser.id<0&&"editable"===window.cow.shareStatus.mode&&!t.isMobile()&&(e=window.cow.currentFile.guid,i=window.localStorage.getItem("visitedAnonymousDocGuids"),"undefined"!=typeof i&&null!==i||(i=""),r=".*,"+e+",.*",n=new RegExp(r),!n.test(i)))return i=","+e+","+i,window.localStorage.setItem("visitedAnonymousDocGuids",i),this.showSaveDocDialog()},i.prototype.eventMap={"click .save-to-shimo-link":"saveSharedDoc","click .save-to-shimo-btn":"saveSharedDoc","click .goto-desktop-btn":"gotoDesktop","click .login-write-btn":"gotoLogin","click .stay-here-btn":"hideSaveDocDialog","click .save-doc-dialog-close":"hideSaveDocDialog","touchmove .flat-dialog-mask":"stopPropagation","click .flat-dialog-mask":"stopPropagation"},i.prototype.domEvents={stopPropagation:function(e){return e.stopPropagation(),e.preventDefault(),!1},saveSharedDoc:function(e){if(window.cow.currentUser.id<0&&"editable"===window.cow.shareStatus.mode&&!t.isMobile()?this.showSaveDocDialog():this.saveSharedDocAsCopy.call(this,this.pendingAction.data.url,this.pendingAction.data.data),window.ga)return window.ga("send","event","save","save_to_shimo",location.pathname)},gotoDesktop:function(e){if(window.location.href="/desktop",!t.isMobile())return o("body").removeClass("overflow-hidden")},gotoLogin:function(e){if(window.location.href="/login",!t.isMobile())return o("body").removeClass("overflow-hidden")},hideSaveDocDialog:function(e){var n;if(n=this,this.$saveDocDialog.css("opacity",0),setTimeout(function(){return n.$saveDocDialog.removeClass("active")},200),!t.isMobile())return o("body").removeClass("overflow-hidden")}},i.prototype.initSaveDocDialog=function(){var e,n;return n={isMobile:t.isMobile(),readonly:!!window.cow.readonly,docTitle:window.cow.currentFile.name,shareCount:window.cow.currentFile.share_count},e=a.template(r)(n),o(".save-doc-dialog").remove(),o("body").append(e),this.$saveDocDialog=o(".save-doc-dialog")},i.prototype.showSaveDocDialog=function(){var e;return this.initSaveDocDialog(),e=this,this.$saveDocDialog.addClass("active"),setTimeout(function(){return e.$saveDocDialog.css("opacity",1)},0),t.isMobile()||o("body").addClass("overflow-hidden"),setTimeout(function(){return o("#innerdocbody").blur()},200)},i.prototype.saveSharedDocAsCopy=function(e,n){var r,i;return i=this,r=window.cow.currentFile.guid,window.cow.currentUser.id<0?void(window.location.href="/register"):t.post(e,n,function(e){return 0===e.code?i.showSaveDocDialog():i.alertMsg("保存失败","error")},function(e){return setTimeout(function(){return i.alertMsg("保存失败","error")},500)})},i.prototype.alertMsg=function(e,r){return t.isMobile()?n(e):t.alert({title:e,type:r})},i}(t.DomModule)}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(1),n(4))},function(e,t){e.exports='<div class="flat-dialog-wrapper save-doc-dialog">\n    <div class="flat-dialog-mask">\n    <% if (isMobile) { %>\n    <a class="save-doc-dialog-close" href="javascript:void(0);">\n        <span class="hicon icon-close"></span>\n    </a>\n    <% } %>\n    <div class="flat-dialog-content">\n        <% if (isMobile) { %>\n        <img class="save-doc-logo" width="40px" heiht="20px" src="https://assets-cdn.shimo.im/assets/images/logo_over-3e9a9d5f2d.png">\n        <% } %>\n        <% if (readonly) { %>\n        <div class="save-doc-info">\n            <span>该文档已保存到我的桌面!</span>\n        </div>\n        <div class="goto-desktop-btn flat-dialog-btn">\n            <span>前往桌面查看</span>\n        </div>\n        <div class="stay-here-btn">\n            <span>留在此文档</span>\n        </div>\n        <% } else {%>\n        <div class="save-doc-title">\n            <span>「<%= docTitle %>」</span>\n        </div>\n        <div class="doc-share-info">\n            <span><%= shareCount + 1 %>人正在协作编辑此文档</span>\n        </div>\n        <div class="login-write-btn flat-dialog-btn">\n            <span>登录并参与协作</span>\n        </div>\n        <div class="stay-here-btn">\n            <span>匿名编辑</span>\n        </div>\n        <% } %>\n    </div>\n    </div>\n</div>\n';
},function(e,t,n){var r,i;(function(o){r=[n(164),n(166)],i=function(e,t){var n,r,i,a,s;return a=[".header-back-up",".sm-share-btn",".operation-btn",".account-setting-btn",".message-box",".toolbar-upload-file-input","#select-comment"],s=["table"],i=["#pad-back-btn","#mobile-more-btn",".toolbar-upload-file-input"],n=function(){if(!window.cow.client)return window.cow.isMobile?i.forEach(function(e){return o(e).on("tap",!1)}):a.forEach(function(e){return o(e).on("click",!1)}),"doc"===window.cow.pageType?s.forEach(function(e){if(e=window.padeditbar.getItem(e))return e.setEnable(!1)}):void 0},r=function(){if(window.cow.isMobile?i.forEach(function(e){return o(e).off("tap",!1)}):a.forEach(function(e){return o(e).off("click",!1)}),"doc"===window.cow.pageType)return s.forEach(function(e){if(e=window.padeditbar.getItem(e))return e.setEnable(!0)})},t.attach("socket:disconnected",function(){return n()}),t.attach("socket:reconnected",function(){return r()})}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(1))},function(e,t,n){var r,i;(function(o){r=[n(175),n(166)],i=function(e,t){var n,r,i,a,s,c,u,l;return a={},l=o("#pad-view"),a.postAceInit=function(n,r){var i;return i=this,o("#display-toolbar-btn").off().on("click",function(t){var n;return t.stopPropagation(),n=o(this),n.hasClass("active")||e.clearDropdown(),n.toggleClass("active")}),o(".userline-btn").off().on("click",function(e){var t;return t=o(e.target).closest(".display-item"),t.hasClass("pressed")?(t.removeClass("pressed"),l.removeClass("edit-mode")):(t.addClass("pressed"),l.addClass("edit-mode"))}),o(".history-btn").off().on("click",function(e){return i.showOperation(e)}),o(".change-comment-btn").off().on("click",function(e){return i.showOperation(e)}),o(".directory-btn").off().on("click",function(e){return i.showOperation(e)}),o(".doc-sidebar-close").off().on("click",function(e){return i.closeSidebar(e)}),o(".change-comment-btn").addClass("pressed"),t.attach("doc:goback",function(){if("function"==typeof i.closeSidebar)return i.closeSidebar()}),t.attach("comment:show",function(){if(!o("#pad-view").hasClass("comment-show"))return o(".change-comment-btn").addClass("pressed"),s()})},s=function(){return o("#pad-view").addClass("comment-show").removeClass("history-show"),r(),i()},n=function(){return o("#pad-view").removeClass("comment-show"),o(".change-comment-btn").removeClass("pressed")},u=function(){return o("#doc-history").removeClass("hide"),t.notify("doc:history:show"),r(),n()},i=function(){return o("#doc-history").addClass("hide"),t.notify("doc:history:hide"),o(".history-btn").removeClass("pressed")},c=function(){return o("#pad-view").addClass("directory-show"),o("#doc-directory").removeClass("hide"),i(),n(),window.cow.directory.isOpened=!0},r=function(){return o("#pad-view").removeClass("directory-show"),o("#doc-directory").addClass("hide"),o(".directory-btn").removeClass("pressed"),window.cow.directory.isOpened=!1},a.showOperation=function(e){var t,f;return t=o(e.target).closest(".display-item"),f=t.data("type"),o("#innerdocbody").focus(),l.hasClass("history-show")||"comment"===f||(l.addClass("history-show"),"directory"===f&&(window.cow.directory.firstOpen=!0)),"history"===f?t.hasClass("pressed")?(i(),l.hasClass("history-show")&&l.removeClass("history-show")):(t.addClass("pressed"),u()):"directory"===f?t.hasClass("pressed")?(r(),l.hasClass("history-show")&&l.removeClass("history-show")):(t.addClass("pressed"),c()):"comment"===f&&(t.hasClass("pressed")?n():(t.addClass("pressed"),s())),a.closeSidebar=function(e){if(i(),r(),l.hasClass("history-show"))return l.removeClass("history-show")}},a.showUserLine=function(){var e;if(e=o(".userline-btn"),!e.hasClass("pressed"))return o(".userline-btn").click(),o("#display-toolbar-btn").removeClass("active")},a}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(1))},function(e,t,n){var r;(function(i){r=function(){var e;return e=function(e,t){return this.type=null,this.options=null,this.enabled=null,this.timer=null,this.$element=null,this.init("tooltip",e,t)},e.DEFAULTS={isautohide:!0,placement:"top",selector:"",template:'<div class="smtooltip"><div class="smtooltip-inner"></div></div>',html:!1,trigger:"hover",container:!1},e.prototype.init=function(e,t,n){var r,o,a,s;return this.enabled=!0,this.type=e,this.$element=i(t),this.options=this.getOptions(n),s=this.options.trigger,"click"===s?this.$element.on("click."+this.type,this.options.selector,function(){return i.proxy(this.generate,this)}):"manual"!==s&&(o="hover"===s?"mouseenter":"focusin",a="hover"===s?"mouseleave":"focusout",r=this,setTimeout(function(){return r.$element.on(o+"."+r.type,r.options.selector,function(){return r.generate()})},0),this.options.isautohide)?(this.$element.on(a+"."+this.type,this.options.selector,i.proxy(this.destroy,this)),this.$element.on("click."+this.type,this.options.selector,i.proxy(this.destroy,this))):void 0},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return e=i.extend({},this.getDefaults(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.popup=function(){return this.generate()},e.prototype.popdown=function(){return this.destroy()},e.prototype.hasContent=function(){var e;return e=this.$element.data("content"),!!e&&e},e.prototype.show=function(){var e;return e=this.tip(),!!this.hasContent()&&(e.addClass(this.options.placement).find(".smtooltip-inner").html(this.hasContent()),i("body").hasClass("smtooltip")?void 0:i("body").append(e))},e.prototype.generate=function(){var e,t,n,r,o,a;switch(clearTimeout(this.timer),e=this,t=this.$element.height(),r=null,n=null,a=0,o=0,this.show(),this.hasContent()&&(r=this.tip().outerWidth(!0),n=this.tip().outerHeight()),this.options.placement){case"top":a=Math.round(this.$element.offset().top-i(window).scrollTop()+t+10),o=Math.round(this.$element.offset().left+this.$element.outerWidth()/2-i(window).scrollLeft()-r/2);break;case"bottom":a=Math.round(this.$element.offset().top-i(window).scrollTop()-this.tip().outerHeight()-t-10),o=Math.round(this.$element.offset().left+this.$element.outerWidth()/2-i(window).scrollLeft()-r/2);break;case"right":a=Math.round(this.$element.offset().top+this.$element.outerHeight()/2-i(window).scrollTop()-n/2),o=Math.round(this.$element.offset().left+this.$element.outerWidth()-i(window).scrollLeft()+10);break;case"left":a=Math.round(this.$element.offset().top+this.$element.outerHeight()/2-i(window).scrollTop()-n/2),o=Math.round(this.$element.offset().left-i(window).scrollLeft()-r-10)}return this.tip().css({top:a,left:o})},e.prototype.destroy=function(){var e;return e=this,e.timer=setTimeout(function(){return e.tip().remove()},30)},e.prototype.tip=function(){return this.$tip=this.$tip||i(this.options.template)},e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}).call(t,n(1))},function(e,t){e.exports="<html>\n  <head>\n    <link rel='stylesheet' type='text/css' href='<%= css %>'>\n    <style>\n     #buddle-comment-btn {\n       display: none !important;\n     }\n     table, tr, td {\n       border: 1px solid black;\n     }\n     table {\n       border-collapse: collapse;\n       margin-bottom: 20px;\n     }\n     td {\n       min-width: 50px;\n       padding: 0 4px 0 4px;\n       height: 22px;\n     }\n     .comment-buddle {\n       display: none;\n     }\n     #mention-pop {\n       display: none;\n     }\n    </style>\n  </head>\n  <body>\n    <%= body %>\n  </body>\n</html>\n"},function(e,t,n){(function(r,i){function o(e){return f(cow.currentUser,e)}function a(e){if(u(e)||l(e)){if(e.team_role&&"creator"===e.team_role)return!0}else if(e.isOwner)return!0;return!1}function s(e){if(u(e)||l(e)){if(e.team_role&&"member"===e.team_role)return!0}else if(!a(e))return!0;return!1}function c(e){return!(!u(e)&&!l(e)||!e.team_role||"admin"!==e.team_role)}function u(e){return e.accountType&&("enterprise_standard"===e.accountType||"enterprise_expired"===e.accountType)}function l(e){return e.accountType&&"enterprise_dingding"===e.accountType}function f(e,t){return e.id&&t.id&&e.id===t.id||e.email&&t.email&&e.email===t.email}function p(e,t){return!!a(e)||!(!c(e)||a(t)||c(t))}function d(e,t){var n=[];return e&&/^[\w-@\.\u4E00-\u9FFF]+$/.test(e)?(e=e.toLowerCase(),t&&(e.match(/^([\w-_]+(?:\.[\w-_]+)*)@((?:[a-z0-9]+(?:-[a-zA-Z0-9]+)*\.)+[a-z]{2,6})$/i)?!function(){var i=new RegExp("^"+e);r.each(t,function(e){i.test(e.email||"")&&n.push(e)})}():(r.each(t,function(t){if(t.name_pinyin&&!(t.id<0)){if(!x[t.id]){if(!t.name_pinyin||t.id<0)return;var i=t.name_pinyin.split("|");x[t.id]={name:t.name,firstLetters:i[0],fullPinyin:i[1],fullPinyinS:i[1].replace(/\'/g,""),emailPrefix:(null!==t.email?t.email.split("@")[0]:void 0)||"",emailFull:t.email||""}}var o=x[t.id],a=o.name.toLowerCase().indexOf(e)+1,s=o.firstLetters.toLowerCase().indexOf(e)+1,c=o.fullPinyin.toLowerCase().indexOf("'"+e)+1,u=o.emailPrefix.toLowerCase().indexOf(e)+1,l=o.emailFull.toLowerCase().indexOf(e)+1,f=o.fullPinyinS.toLowerCase().indexOf(e)+1,p=r.min([a,20*s,20*c,20*u,1e4*l,1e3*f].filter(function(e){return e>0}));"undefined"!=typeof p&&t.status>-1&&n.push({weight:p,user:t})}}),n=n.sort(function(e,t){return e.weight-t.weight}).map(function(e){return e.user}))),n):n}function h(e){var t="/api/getUserInfo?email="+e;return(0,_.ajaxGet)(t)}function m(e,t){return new i(function(n,r){if(0===e.length)return void n();var i={file_id:t,users:[]};e.forEach(function(e){var t="number"==typeof e.id?e.id:e.email;i.users.push(t)}),(0,_.ajaxPost)("/api/invite",i).then(function(e){0===e.code&&e.data.success?!function(){var t=[];e.data.detail.forEach(function(e){"undefined"!=typeof e.user&&t.push(e.user)}),n(t)}():r()},function(){r()})})}function v(){return(0,_.ajaxGet)("/api/share/recent_contact")}function g(e){return new i(function(t,n){(0,_.ajaxGet)("/smapi/teams/mine/members",e).then(function(e){0===e.code?t(e.data||[]):n(e)},function(e){n(e)})})}function y(e,t){var n={guid:e,user_id:t};return new i(function(e,t){(0,_.ajaxPost)("/api/share/delete",n).then(function(n){0===n.code?e(n):t()},function(e){t(e)})})}function b(){return new i(function(e,t){(0,_.ajaxGet)("/smapi/teams/mine/permissions").then(function(n){if(0===n.code){var r=cow.currentUser.team_role;e({share:(n.data.share||[]).indexOf(r)>-1,invite:(n.data.invite||[]).indexOf(r)>-1,setAdmin:(n.data.setAdmin||[]).indexOf(r)>-1})}else t(new Error(n.message))},function(e){t(e)})})}function w(e){return new i(function(t,n){(0,_.ajaxGet)("/smapi/users/email?email="+e).then(function(e){0===e.code?t(e.data):n(new Error(e.message))},function(e){n(e)})})}Object.defineProperty(t,"__esModule",{value:!0});var _=n(234),x={};t.default={isSelf:o,isSameUser:f,isCreator:a,isMember:s,isAdmin:c,isEnterpriseStandard:u,isEnterpriseDingding:l,hasPermissionRemoveUserFromTeam:p,searchByKeyword:d,getUserInfoByEmail:h,addNewShareUsers:m,getRecentMember:v,getTeamMembers:g,deleteShareUser:y,getMyPermission:b,searchByEmail:w},e.exports=t.default}).call(t,n(4),n(170))},function(e,t,n){var r,i;(function(o,a){r=[n(317),n(376),n(355),n(356),n(318),n(166),n(184),n(315),n(316),n(426)],i=function(e,t,n,r,i,s,c,u,l,f){function p(){s.attach("socket:disconnected",function(){"doc"===window.cow.pageType&&h.collabClient.disconnect()}),s.attach("socket:reconnected",function(){"doc"===window.cow.pageType&&h.collabClient.connect()}),s.attach("socket:connected",function(){h.collabClient&&h.collabClient.connect()}),s.attach("pad:render_content",function(){h.render(),o("body").addClass(window.cow.readonly?"readonly":"readwrite"),n.ace.callWithAce(function(e){e.ace_setEditable(!window.cow.readonly),f.done()})}),s.attach("socket:message",function(e){if("doc"===window.cow.pageType&&"COLLABROOM"===e.type){var t=e.data;["RECONNECT_READY","USER_ENTER","USER_LEAVE"].indexOf(t.type)===-1&&h.collabClient.emit("message:in",e)}}),s.attach("pad:dispose",function(){h.collabClient.stop&&h.collabClient.stop(),h.collabClient.destroy&&h.collabClient.destroy(),h.dispose()}),s.attach("pad:collabClientReady",function(){"doc"===window.cow.pageType&&window.socket.json.send({component:"pad",type:"CLIENT_READY",padId:window.cow.currentFile.guid,reconnect:!0})}),s.attach("socket:reconnected",function(){s.notify("pad:collabClientReady")})}function d(e){var t=h.init();return s.notify("pad:initialized"),"function"==typeof e?e(t):t}var h,m={};window.padeditbar=e;var v=r.createCookie,g=r.readCookie,y=r.randomString;return h={collabClient:null,myUserInfo:null,diagnosticInfo:{},initTime:0,clientTimeOffset:null,initialized:!1,getIsDebugEnabled:function(){return!1},getUserId:function(){return h.myUserInfo.userId},getUserName:function(){return h.myUserInfo.name},createCookie:v,init:function(){p()},render:function(){function r(){var t={ace:n.ace,pad:h};o(document).trigger("iosAdaptor",[t]),h.initialized||(e.init(),h.initialized=!0),i.aCallAll("postAceInit",t)}var f=window.cow.currentFile;window.cow.usingNewSeq=window.cow.useNewSeq(f.guid);var p=u.cloneAText(JSON.parse(f.content)),d=(new l).fromJsonable(JSON.parse(f.pool)),m=u.prepareForWire(p.attribs,d),v=m.pool.toJsonable();p.attribs=m.translated;var g={initialAttributedText:p,fileGuid:f.guid,padId:f.guid,apool:v,rev:f.head};if(a.msie||a.mozilla&&0===a.version.indexOf("1.8.")||document.domain&&(document.domain=document.domain),a.msie)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){console.warn("set BackgroundImageCache fail")}var y=window.cow.currentUser;h.myUserInfo={userId:y.id,name:y.name},n.init(r,{},this),h.padeditor=n,h.collabClient=t(n.ace,g,h.myUserInfo,{},h),h.collabClient.on("message:out",function(e){window.socket&&window.socket.json.send(e)}),h.collabClient.on("save_state",function(e){switch(e){case"SAVING":s.notify("saveStatus:start");break;case"SAVED":s.notify("saveStatus:success");break;case"FAILED":s.notify("saveStatus:error");break;case"OFFLINE":s.notify("saveStatus:offline");break;case"UNINITIALIZED":s.notify("saveStatus:uninit")}}),c.connected&&h.collabClient.connect&&h.collabClient.connect(),s.notify("pad:collabClientReady")},dispose:function(){n.dispose(),window.socket.json.send({component:"pad",type:"CLIENT_QUIT",padId:window.cow.currentFile.guid,reconnect:!0})},handleClientMessage:function(e){if("padoptions"===e.type){var t=e.options;h.handleOptionsChange(t)}},dmesg:function(){},asyncSendDiagnosticInfo:function(){},handleChannelStateChange:function(e,t){if("DISCONNECTED"===e){h.diagnosticInfo.disconnectedMessage=t,h.diagnosticInfo.padId=window.cow.currentFile.guid,h.diagnosticInfo.socket={};for(var n in window.socket){var r=window.socket[n],i=typeof r;"string"!==i&&"number"!==i||(h.diagnosticInfo.socket[n]=r)}h.asyncSendDiagnosticInfo(),"string"==typeof window.ajlog&&(window.ajlog+="Disconnected:"+t+"\n")}}},h.$event=o({}),m.baseURL="/",m.createCookie=v,m.readCookie=g,m.randomString=y,m.pad=h,m.init=d,m}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(1),n(294))},function(e,t,n){var r,i;r=[n(316)],i=function(e){var t={};return t.error=function(e){var t=new Error(e);throw t.easysync=!0,t},t.assert=function(e,n){if(!e){var r=Array.prototype.slice.call(arguments,1).join("");t.error("Failed assertion: "+r)}},t.parseNum=function(e){return parseInt(e,36)},t.numToString=function(e){return e.toString(36).toLowerCase()},t.toBaseTen=function(e){var n=e.indexOf("$"),r=e.substring(0,n),i=e.substring(n);return r.replace(/[0-9a-z]+/g,function(e){return String(t.parseNum(e))})+i},t.oldLen=function(e){return t.unpack(e).oldLen},t.newLen=function(e){return t.unpack(e).newLen},t.opIterator=function(e,n){function r(){l=u;var n;return s.lastIndex=u,n=s.exec(e),u=s.lastIndex,"?"==n[0]&&t.error("Hit error opcode in op stream"),n}function i(e){var n=e||p;return f[0]?(n.attribs=f[1],n.lines=t.parseNum(f[2]||0),n.opcode=f[3],n.chars=t.parseNum(f[4]),f=r()):t.clearOp(n),n}function o(){return!!f[0]}function a(){return l}var s=/((?:\*[0-9a-z]+)*)(?:\|([0-9a-z]+))?([-+=])([0-9a-z]+)|\?|/g,c=n||0,u=c,l=u,f=r(),p=t.newOp();return{next:i,hasNext:o,lastIndex:a}},t.clearOp=function(e){e.opcode="",e.chars=0,e.lines=0,e.attribs=""},t.newOp=function(e){return{opcode:e||"",chars:0,lines:0,attribs:""}},t.cloneOp=function(e){return{opcode:e.opcode,chars:e.chars,lines:e.lines,attribs:e.attribs}},t.copyOp=function(e,t){t.opcode=e.opcode,t.chars=e.chars,t.lines=e.lines,t.attribs=e.attribs},t.opString=function(e){if(!e.opcode)return"null";var n=t.opAssembler();return n.append(e),n.toString()},t.stringOp=function(e){return t.opIterator(e).next()},t.checkRep=function(e){for(var n=t.unpack(e),r=n.oldLen,i=n.newLen,o=n.ops,a=n.charBank,s=t.smartOpAssembler(),c=0,u=0,l=0,f=t.opIterator(o);f.hasNext();){var p=f.next();switch(p.opcode){case"=":c+=p.chars,u+=p.chars;break;case"-":c+=p.chars,t.assert(c<r,c," >= ",r," in ",e);break;case"+":u+=p.chars,l+=p.chars,t.assert(u<i,u," >= ",i," in ",e)}s.append(p)}for(u+=r-c,a=a.substring(0,l);a.length<l;)a+="?";s.endDocument();var d=t.pack(r,u,s.toString(),a);return t.assert(d==e,"Invalid changeset (checkRep failed)"),e},t.smartOpAssembler=function(){function e(){p.append(f.toString()),f.clear()}function n(){p.append(u.toString()),u.clear(),p.append(l.toString()),l.clear()}function r(t){t.opcode&&t.chars&&("-"==t.opcode?("="==d&&e(),u.append(t),h-=t.chars):"+"==t.opcode?("="==d&&e(),l.append(t),h+=t.chars):"="==t.opcode&&("="!=d&&n(),f.append(t)),d=t.opcode)}function i(e,n,i,o){var a=t.newOp(e);a.attribs=t.makeAttribsString(e,i,o);var s=n.lastIndexOf("\n");s<0?(a.chars=n.length,a.lines=0,r(a)):(a.chars=s+1,a.lines=n.match(/\n/g).length,r(a),a.chars=n.length-(s+1),a.lines=0,r(a))}function o(){return n(),e(),p.toString()}function a(){u.clear(),l.clear(),f.clear(),p.clear(),h=0}function s(){f.endDocument()}function c(){return h}var u=t.mergingOpAssembler(),l=t.mergingOpAssembler(),f=t.mergingOpAssembler(),p=t.stringAssembler(),d="",h=0;return{append:r,toString:o,clear:a,endDocument:s,appendOpWithText:i,getLengthChange:c}},t.mergingOpAssembler=function(){function e(e){s.opcode&&(e&&"="==s.opcode&&!s.attribs||(a.append(s),c&&(s.chars=c,s.lines=0,a.append(s),c=0)),s.opcode="")}function n(n){n.chars>0&&(s.opcode==n.opcode&&s.attribs==n.attribs?n.lines>0?(s.chars+=c+n.chars,s.lines+=n.lines,c=0):0==s.lines?s.chars+=n.chars:c+=n.chars:(e(),t.copyOp(n,s)))}function r(){e(!0)}function i(){return e(),a.toString()}function o(){a.clear(),t.clearOp(s)}var a=t.opAssembler(),s=t.newOp(),c=0;return{append:n,toString:i,clear:o,endDocument:r}},t.opAssembler=function(){function e(e){i.push(e.attribs),e.lines&&i.push("|",t.numToString(e.lines)),i.push(e.opcode),i.push(t.numToString(e.chars))}function n(){return i.join("")}function r(){i.length=0}var i=[];return{append:e,toString:n,clear:r}},t.stringIterator=function(e){function n(e){t.assert(e<=a(),"!(",e," <= ",a(),")")}function r(t){n(t);var r=e.substr(c,t);return c+=t,r}function i(t){n(t);var r=e.substr(c,t);return r}function o(e){n(e),c+=e}function a(){return e.length-c}function s(){return c}var c=0;return{take:r,skip:o,remaining:a,peek:i,currentIndex:s}},t.stringAssembler=function(){function e(e){var t=String(e);o.push(t),a+=t.length}function t(){var e=o.pop();return a-=e.length,e}function n(){return o[o.length-1]}function r(){return o.join("")}function i(){return a}var o=[],a=0;return{append:e,pop:t,last:n,toString:r,length:i}},t.textLinesMutator=function(e){function n(t){e.splice.apply(e,t)}function r(t){return e.get?e.get(t):e[t]}function i(t,n){return e.slice?e.slice(t,n):[]}function o(){return"number"==typeof e.length?e.length:e.length()}function a(){g[0]=b,g[1]=0,w>0&&u(),y=!0}function s(){n(g),g.length=2,g[0]=g[1]=0,y=!1}function c(){return b-g[0]<g.length-2}function u(){return c()||(g.push(r(g[0]+g[1])),g[1]++),2+b-g[0]}function l(e,t){if(e)if(t){y||a();for(var n=0;n<e;n++)w=0,u(),b++}else y&&(e>1?s():u()),b+=e,w=0}function f(e,t,n){e&&(t?l(t,n):(n&&!y&&a(),y&&u(),w+=e))}function p(e){var t="";if(e){var n=function(e){var t=g[0]+g[1];return i(t,t+e).join("")};if(y||a(),c())if(0==w)t=g[g.length-1],g.length--,t+=n(e-1),g[1]+=e-1;else{t=n(e-1),g[1]+=e-1;var o=g.length-1;t=g[o].substring(w)+t,g[o]=g[o].substring(0,w)+r(g[0]+g[1]),g[1]+=1}else t=n(e),g[1]+=e}return t}function d(e,t){var n="";if(e){if(t)return p(t);y||a();var r=u();n=g[r].substring(w,w+e),g[r]=g[r].substring(0,w)+g[r].substring(w+e)}return n}function h(e,n){if(e)if(y||a(),n){var r=t.splitTextLines(e);if(c()){var i=g.length-1,o=g[i],s=w;g[i]=o.substring(0,s)+r[0],b++,r.splice(0,1),Array.prototype.push.apply(g,r),b+=r.length,g.push(o.substring(s)),w=0}else Array.prototype.push.apply(g,r),b+=r.length}else{var i=u();g[i]=g[i].substring(0,w)+e+g[i].substring(w),w+=e.length}}function m(){var e=o();return y&&(e+=g.length-2-g[1]),b<e}function v(){y&&s()}var g=[0,0],y=!1,b=0,w=0,_={skip:f,remove:d,insert:h,close:v,hasMore:m,removeLines:p,skipLines:l};return _},t.applyZip=function(e,n,r,i,o){for(var a=t.opIterator(e,n),s=t.opIterator(r,i),c=t.smartOpAssembler(),u=t.newOp(),l=t.newOp(),f=t.newOp();u.opcode||a.hasNext()||l.opcode||s.hasNext();)!u.opcode&&a.hasNext()&&a.next(u),!l.opcode&&s.hasNext()&&s.next(l),o(u,l,f),f.opcode&&(c.append(f),f.opcode="");return c.endDocument(),c.toString()},t.unpack=function(e){var n=/Z:([0-9a-z]+)([><])([0-9a-z]+)|/,r=n.exec(e);r&&r[0]||t.error("Not a exports: "+e);var i=t.parseNum(r[1]),o=">"==r[2]?1:-1,a=t.parseNum(r[3]),s=i+o*a,c=r[0].length,u=e.indexOf("$");return u<0&&(u=e.length),{oldLen:i,newLen:s,ops:e.substring(c,u),charBank:e.substring(u+1)}},t.pack=function(e,n,r,i){var o=n-e,a=o>=0?">"+t.numToString(o):"<"+t.numToString(-o),s=[];return s.push("Z:",t.numToString(e),a,r,"$",i),s.join("")},t.applyToText=function(e,n){var r=t.unpack(e);t.assert(n.length==r.oldLen,"mismatched apply: ",n.length," / ",r.oldLen);for(var i=t.opIterator(r.ops),o=t.stringIterator(r.charBank),a=t.stringIterator(n),s=t.stringAssembler();i.hasNext();){var c=i.next();switch(c.opcode){case"+":if(c.lines!=o.peek(c.chars).split("\n").length-1)throw new Error("newline count is wrong in op +; cs:"+e+" and text:"+n);s.append(o.take(c.chars));break;case"-":if(c.lines!=a.peek(c.chars).split("\n").length-1)throw new Error("newline count is wrong in op -; cs:"+e+" and text:"+n);a.skip(c.chars);break;case"=":if(c.lines!=a.peek(c.chars).split("\n").length-1)throw new Error("newline count is wrong in op =; cs:"+e+" and text:"+n);s.append(a.take(c.chars))}}return s.append(a.take(a.remaining())),s.toString()},t.mutateTextLines=function(e,n){for(var r=t.unpack(e),i=t.opIterator(r.ops),o=t.stringIterator(r.charBank),a=t.textLinesMutator(n);i.hasNext();){var s=i.next();switch(s.opcode){case"+":a.insert(o.take(s.chars),s.lines);break;case"-":a.remove(s.chars,s.lines);break;case"=":a.skip(s.chars,s.lines,!!s.attribs)}}a.close()},t.composeAttributes=function(e,n,r,i){if(!e&&r)return n;if(!n)return e;var o=[];e.replace(/\*([0-9a-z]+)/g,function(e,n){return o.push(i.getAttrib(t.parseNum(n))),""}),n.replace(/\*([0-9a-z]+)/g,function(e,n){for(var a=i.getAttrib(t.parseNum(n)),s=!1,c=0;c<o.length;c++){var u=o[c];if(u[0]==a[0]){a[1]||r?u[1]=a[1]:o.splice(c,1),s=!0;break}}return s||!a[1]&&!r||o.push(a),""}),o.sort();for(var a=t.stringAssembler(),s=0;s<o.length;s++)a.append("*"),a.append(t.numToString(i.putAttrib(o[s])));return a.toString()},t._slicerZipperFunc=function(e,n,r,i){if("-"==e.opcode)t.copyOp(e,r),e.opcode="";else if(e.opcode)switch(n.opcode){case"-":n.chars<=e.chars?("="==e.opcode&&(r.opcode="-",r.chars=n.chars,r.lines=n.lines,r.attribs=""),e.chars-=n.chars,e.lines-=n.lines,n.opcode="",e.chars||(e.opcode="")):("="==e.opcode&&(r.opcode="-",r.chars=e.chars,r.lines=e.lines,r.attribs=""),n.chars-=e.chars,n.lines-=e.lines,e.opcode="");break;case"+":t.copyOp(n,r),n.opcode="";break;case"=":n.chars<=e.chars?(r.opcode=e.opcode,r.chars=n.chars,r.lines=n.lines,r.attribs=t.composeAttributes(e.attribs,n.attribs,"="==e.opcode,i),n.opcode="",e.chars-=n.chars,e.lines-=n.lines,e.chars||(e.opcode="")):(r.opcode=e.opcode,r.chars=e.chars,r.lines=e.lines,r.attribs=t.composeAttributes(e.attribs,n.attribs,"="==e.opcode,i),e.opcode="",n.chars-=e.chars,n.lines-=e.lines);break;case"":t.copyOp(e,r),e.opcode=""}else t.copyOp(n,r),n.opcode=""},t.applyToAttribution=function(e,n,r){var i=t.unpack(e);return t.applyZip(n,0,i.ops,0,function(e,n,i){return t._slicerZipperFunc(e,n,i,r)})},t.mutateAttributionLines=function(e,n,r){function i(){return p&&p.hasNext()||f.hasMore()}function o(e){if((!p||!p.hasNext())&&f.hasMore()){var n=f.removeLines(1);p=t.opIterator(n)}p&&p.hasNext()?p.next(e):e.opcode=""}function a(e){d||(d=t.mergingOpAssembler()),d.append(e),e.lines>0&&(t.assert(1==e.lines,"Can't have op.lines of ",e.lines," in attribution lines"),f.insert(d.toString(),1),d=null)}for(var s=t.unpack(e),c=t.opIterator(s.ops),u=s.charBank,l=0,f=t.textLinesMutator(n),p=null,d=null,h=t.newOp(),m=t.newOp(),v=t.newOp();(h.opcode||c.hasNext()||m.opcode||i())&&(!h.opcode&&c.hasNext()&&c.next(h),h.opcode||m.opcode||d||p&&p.hasNext());)if(!("="==h.opcode&&h.lines>0)||h.attribs||m.opcode||d||p&&p.hasNext())if("+"==h.opcode){if(h.lines>1){var g=u.indexOf("\n",l)+1-l;t.copyOp(h,v),h.chars-=g,h.lines--,v.lines=1,v.chars=g}else t.copyOp(h,v),h.opcode="";a(v),l+=v.chars,v.opcode=""}else!m.opcode&&i()&&o(m),t._slicerZipperFunc(m,h,v,r),v.opcode&&(a(v),v.opcode="");else f.skipLines(h.lines),h.opcode="";t.assert(!d,"line assembler not finished"),f.close()},t.joinAttributionLines=function(e){for(var n=t.mergingOpAssembler(),r=0;r<e.length;r++)for(var i=e[r],o=t.opIterator(i);o.hasNext();)n.append(o.next());return n.toString()},t.splitAttributionLines=function(e,n){function r(e){o.append(e),e.lines>0&&(a.push(o.toString()),o.clear()),s+=e.chars}for(var i=t.opIterator(e),o=t.mergingOpAssembler(),a=[],s=0;i.hasNext();){for(var c=i.next(),u=c.chars,l=c.lines;l>1;){var f=n.indexOf("\n",s)+1;t.assert(f>0,"newlineEnd <= 0 in splitAttributionLines"),c.chars=f-s,c.lines=1,r(c),u-=c.chars,l-=c.lines}1==l&&(c.chars=u,c.lines=1),r(c)}return a},t.splitTextLines=function(e){return e.match(/[^\n]*(?:\n|[^\n]$)/g)},t.compose=function(e,n,r){var i=t.unpack(e),o=t.unpack(n),a=i.oldLen,s=i.newLen;t.assert(s==o.oldLen,"mismatched composition of two changesets");var c=o.newLen,u=t.stringIterator(i.charBank),l=t.stringIterator(o.charBank),f=t.stringAssembler(),p=t.applyZip(i.ops,0,o.ops,0,function(e,n,i){var o=e.opcode,a=n.opcode;"+"==o&&"-"==a&&u.skip(Math.min(e.chars,n.chars)),t._slicerZipperFunc(e,n,i,r),"+"==i.opcode&&("+"==a?f.append(l.take(i.chars)):f.append(u.take(i.chars)))});return t.pack(a,c,p,f.toString())},t.attributeTester=function(e,n){function r(e){return!1}if(!n)return r;var i=n.putAttrib(e,!0);if(i<0)return r;var o=new RegExp("\\*"+t.numToString(i)+"(?!\\w)");return function(e){return o.test(e)}},t.identity=function(e){return t.pack(e,e,"","")},t.makeSplice=function(e,n,r,i,o,a){var s=e.length;n>=s&&(n=s-1),r>e.length-n-1&&(r=e.length-n-1);var c=e.substring(n,n+r),u=s+i.length-c.length,l=t.smartOpAssembler();return l.appendOpWithText("=",e.substring(0,n)),l.appendOpWithText("-",c),l.appendOpWithText("+",i,o,a),l.endDocument(),t.pack(s,u,l.toString(),i)},t.toSplices=function(e){for(var n=t.unpack(e),r=[],i=0,o=t.opIterator(n.ops),a=t.stringIterator(n.charBank),s=!1;o.hasNext();){var c=o.next();"="==c.opcode?(i+=c.chars,s=!1):(s||(r.push([i,i,""]),s=!0),"-"==c.opcode?(i+=c.chars,r[r.length-1][1]+=c.chars):"+"==c.opcode&&(r[r.length-1][2]+=a.take(c.chars)))}return r},t.characterRangeFollow=function(e,n,r,i){for(var o=n,a=r,s=t.toSplices(e),c=0,u=0;u<s.length;u++){var l=s[u],f=l[0]+c,p=l[1]+c,d=l[2].length,h=d-(p-f);f<=o&&p>=a?o=a=i?f:f+d:p<=o?(o+=h,a+=h):f>=a||(f>=o&&p<=a?a+=h:p<a?(o=f+d,a+=h):a=f),c+=h}return[o,a]},t.moveOpsToNewPool=function(e,n,r){var i=e.indexOf("$");i<0&&(i=e.length);var o=e.substring(0,i),a=e.substring(i);return o.replace(/\*([0-9a-z]+)/g,function(e,i){var o=t.parseNum(i),a=n.getAttrib(o);a||t.error("Can't copy unknown attrib (reference attrib string to non-existant pool entry). Inconsistent attrib state!");var s=r.putAttrib(a);return"*"+t.numToString(s)})+a},t.makeAttribution=function(e){var n=t.smartOpAssembler();return n.appendOpWithText("+",e),n.toString()},t.eachAttribNumber=function(e,n){var r=e.indexOf("$");r<0&&(r=e.length);var i=e.substring(0,r);i.replace(/\*([0-9a-z]+)/g,function(e,r){return n(t.parseNum(r)),""})},t.filterAttribNumbers=function(e,n){return t.mapAttribNumbers(e,n)},t.mapAttribNumbers=function(e,n){var r=e.indexOf("$");r<0&&(r=e.length);var i=e.substring(0,r),o=i.replace(/\*([0-9a-z]+)/g,function(e,r){var i=n(t.parseNum(r));return i===!0?e:"number"==typeof i?"*"+t.numToString(i):""});return o+e.substring(r)},t.makeAText=function(e,n){return{text:e,attribs:n||t.makeAttribution(e)}},t.applyToAText=function(e,n,r){return{text:t.applyToText(e,n.text),attribs:t.applyToAttribution(e,n.attribs,r)}},t.cloneAText=function(e){return{text:e.text,attribs:e.attribs}},t.copyAText=function(e,t){t.text=e.text,t.attribs=e.attribs},t.appendATextToAssembler=function(e,n){for(var r=t.opIterator(e.attribs),i=t.newOp();r.hasNext();)if(r.next(i),r.hasNext())n.append(i);else if(i.lines<=1)i.lines=0,i.chars--,i.chars&&n.append(i);else{var o=e.text.lastIndexOf("\n",e.text.length-2)+1,a=e.text.length-o-1;i.lines--,i.chars-=a+1,n.append(i),i.lines=0,i.chars=a,i.chars&&n.append(i)}},t.prepareForWire=function(n,r){var i=new e,o=t.moveOpsToNewPool(n,r,i);return{translated:o,pool:i}},t.isIdentity=function(e){var n=t.unpack(e);return""==n.ops&&n.oldLen==n.newLen},t.opAttributeValue=function(e,n,r){return t.attribsAttributeValue(e.attribs,n,r)},t.attribsAttributeValue=function(e,n,r){var i="";return e&&t.eachAttribNumber(e,function(e){r.getAttribKey(e)==n&&(i=r.getAttribValue(e))}),i},t.builder=function(e){var n=t.smartOpAssembler(),r=t.newOp(),i=t.stringAssembler(),o={keep:function(e,i,a,s){return r.opcode="=",r.attribs=a&&t.makeAttribsString("=",a,s)||"",r.chars=e,r.lines=i||0,n.append(r),o},keepText:function(e,t,r){return n.appendOpWithText("=",e,t,r),o},insert:function(e,t,r){return n.appendOpWithText("+",e,t,r),i.append(e),o},remove:function(e,t){return r.opcode="-",r.attribs="",r.chars=e,r.lines=t||0,n.append(r),o},toString:function(){n.endDocument();var r=e+n.getLengthChange();return t.pack(e,r,n.toString(),i.toString())}};return o},t.makeAttribsString=function(e,n,r){if(!n)return"";if("string"==typeof n)return n;if(r&&n&&n.length){n.length>1&&(n=n.slice(),n.sort());for(var i=[],o=0;o<n.length;o++){var a=n[o];("="==e||"+"==e&&a[1])&&i.push("*"+t.numToString(r.putAttrib(a)))}return i.join("")}},t.subattribution=function(e,n,r){function i(){if(c.chars)for(;c.opcode&&(s.opcode||o.hasNext());)s.opcode||o.next(s),c.opcode&&s.opcode&&c.chars>=s.chars&&s.lines>0&&c.lines<=0&&c.lines++,t._slicerZipperFunc(s,c,u,null),u.opcode&&(a.append(u),u.opcode="")}var o=t.opIterator(e,0),a=t.smartOpAssembler(),s=t.newOp(),c=t.newOp(),u=t.newOp();if(c.opcode="-",c.chars=n,i(),void 0===r)for(s.opcode&&a.append(s);o.hasNext();)o.next(s),a.append(s);else c.opcode="=",c.chars=r-n,i();return a.toString()},t.inverse=function(e,n,r,i){function o(e){return n.get?n.get(e):n[e]}function a(e){return r.get?r.get(e):r[e]}function s(e,n){if(!h||f!=p){h=t.opIterator(a(p)),f=p;for(var r=0,i=!1;!i&&h.hasNext();)h.next(m),r+m.chars>=d?(m.chars-=d-r,i=!0):r+=m.chars}for(;e>0;){m.chars||h.hasNext()||(p++,d=0,f=p,m.chars=0,h=t.opIterator(a(p))),m.chars||h.next(m);var o=Math.min(e,m.chars);n(o,m.attribs,o==m.chars&&m.lines>0),e-=o,m.chars-=o,d+=o}m.chars||h.hasNext()||(p++,d=0)}function c(e,t){t?(p+=t,d=0):h&&f==p?s(e,function(){}):d+=e}function u(e){var n=0,r=t.stringAssembler(),i=o(p).substring(d);n+=i.length,r.append(i);for(var a=p+1;n<e;){var s=o(a);n+=s.length,r.append(s),a++}return r.toString().substring(0,e)}function l(e){var t={};return function(n){return t[n]||(t[n]=e(n)),t[n]}}for(var f,p=0,d=0,h=null,m=t.newOp("+"),v=t.unpack(e),g=t.opIterator(v.ops),y=t.builder(v.newLen),b=[],w=[];g.hasNext();){var _=g.next();if("="==_.opcode)if(_.attribs){b.length=0,w.length=0,t.eachAttribNumber(_.attribs,function(e){b.push(i.getAttribKey(e)),w.push(i.getAttribValue(e))});var x=l(function(e){for(var n=[],r=0;r<b.length;r++){
var o=b[r],a=w[r],s=t.attribsAttributeValue(e,o,i);a!=s&&n.push([o,s])}return t.makeAttribsString("=",n,i)});s(_.chars,function(e,t,n){y.keep(e,n?1:0,x(t))})}else c(_.chars,_.lines),y.keep(_.chars,_.lines);else if("+"==_.opcode)y.remove(_.chars,_.lines);else if("-"==_.opcode){var C=u(_.chars),k=0;s(_.chars,function(e,t,n){y.insert(C.substr(k,e),t),k+=e})}}return t.checkRep(y.toString())},t.follow=function(e,n,r,i){var o=t.unpack(e),a=t.unpack(n),s=o.oldLen,c=a.oldLen;t.assert(s==c,"mismatched follow - cannot transform cs1 on top of cs2");var u=t.stringIterator(o.charBank),l=t.stringIterator(a.charBank),f=o.newLen,p=0,d=0,h=t.attributeTester(["insertorder","first"],i),m=t.applyZip(o.ops,0,a.ops,0,function(e,n,o){if("+"==e.opcode||"+"==n.opcode){var a;if("+"!=n.opcode)a=1;else if("+"!=e.opcode)a=2;else{var s=u.peek(1),c=l.peek(1),f=h(e.attribs),m=h(n.attribs);a=f&&!m?1:m&&!f?2:"\n"==s&&"\n"!=c?2:"\n"!=s&&"\n"==c?1:r?2:1}1==a?(u.skip(e.chars),o.opcode="=",o.lines=e.lines,o.chars=e.chars,o.attribs="",e.opcode=""):(l.skip(n.chars),t.copyOp(n,o),n.opcode="")}else"-"==e.opcode?n.opcode?e.chars<=n.chars?(n.chars-=e.chars,n.lines-=e.lines,e.opcode="",n.chars||(n.opcode="")):(e.chars-=n.chars,e.lines-=n.lines,n.opcode=""):e.opcode="":"-"==n.opcode?(t.copyOp(n,o),e.opcode?n.chars<=e.chars?(e.chars-=n.chars,e.lines-=n.lines,n.opcode="",e.chars||(e.opcode="")):(o.lines=e.lines,o.chars=e.chars,n.lines-=e.lines,n.chars-=e.chars,e.opcode=""):n.opcode=""):e.opcode?n.opcode?(o.opcode="=",o.attribs=t.followAttributes(e.attribs,n.attribs,i),e.chars<=n.chars?(o.chars=e.chars,o.lines=e.lines,n.chars-=e.chars,n.lines-=e.lines,e.opcode="",n.chars||(n.opcode="")):(o.chars=n.chars,o.lines=n.lines,e.chars-=n.chars,e.lines-=n.lines,n.opcode="")):e.opcode="":(t.copyOp(n,o),n.opcode="");switch(o.opcode){case"=":p+=o.chars,d+=o.chars;break;case"-":p+=o.chars;break;case"+":d+=o.chars}});return d+=f-p,t.pack(f,d,m,a.charBank)},t.followAttributes=function(e,n,r){if(!n||!r)return"";if(!e)return n;var i=[];n.replace(/\*([0-9a-z]+)/g,function(e,n){return i.push(r.getAttrib(t.parseNum(n))),""}),e.replace(/\*([0-9a-z]+)/g,function(e,n){for(var o=r.getAttrib(t.parseNum(n)),a=0;a<i.length;a++){var s=i[a];if(o[0]==s[0]){o[1]<=s[1]&&i.splice(a,1);break}}return""});for(var o=t.stringAssembler(),a=0;a<i.length;a++)o.append("*"),o.append(t.numToString(r.putAttrib(i[a])));return o.toString()},t.composeWithDeletions=function(e,n,r){var i=t.unpack(e),o=t.unpack(n),a=i.oldLen,s=i.newLen;t.assert(s==o.oldLen,"mismatched composition of two changesets");var c=o.newLen,u=t.stringIterator(i.charBank),l=t.stringIterator(o.charBank),f=t.stringAssembler(),p=t.applyZip(i.ops,0,o.ops,0,function(e,n,i){var o=e.opcode,a=n.opcode;"+"==o&&"-"==a&&u.skip(Math.min(e.chars,n.chars)),t._slicerZipperFuncWithDeletions(e,n,i,r),"+"==i.opcode&&("+"==a?f.append(l.take(i.chars)):f.append(u.take(i.chars)))});return t.pack(a,c,p,f.toString())},t._slicerZipperFuncWithDeletions=function(e,n,r,i){if("-"==e.opcode)t.copyOp(e,r),e.opcode="";else if(e.opcode)switch(n.opcode){case"-":n.chars<=e.chars?("="==e.opcode&&(r.opcode="-",r.chars=n.chars,r.lines=n.lines,r.attribs=n.attribs),e.chars-=n.chars,e.lines-=n.lines,n.opcode="",e.chars||(e.opcode="")):("="==e.opcode&&(r.opcode="-",r.chars=e.chars,r.lines=e.lines,r.attribs=n.attribs),n.chars-=e.chars,n.lines-=e.lines,e.opcode="");break;case"+":t.copyOp(n,r),n.opcode="";break;case"=":n.chars<=e.chars?(r.opcode=e.opcode,r.chars=n.chars,r.lines=n.lines,r.attribs=t.composeAttributes(e.attribs,n.attribs,"="==e.opcode,i),n.opcode="",e.chars-=n.chars,e.lines-=n.lines,e.chars||(e.opcode="")):(r.opcode=e.opcode,r.chars=e.chars,r.lines=e.lines,r.attribs=t.composeAttributes(e.attribs,n.attribs,"="==e.opcode,i),e.opcode="",n.chars-=e.chars,n.lines-=e.lines);break;case"":t.copyOp(e,r),e.opcode=""}else t.copyOp(n,r),n.opcode=""},t}.apply(t,r),!(void 0!==i&&(e.exports=i))},function(e,t,n){var r;r=function(){var e=function(){this.numToAttrib={},this.attribToNum={},this.nextNum=0};return e.prototype.putAttrib=function(e,t){var n=String(e);if(n in this.attribToNum)return this.attribToNum[n];if(t)return-1;var r=this.nextNum++;return this.attribToNum[n]=r,this.numToAttrib[r]=[String(e[0]||""),String(e[1]||"")],r},e.prototype.getAttrib=function(e){var t=this.numToAttrib[e];return t?[t[0],t[1]]:t},e.prototype.getAttribKey=function(e){var t=this.numToAttrib[e];return t?t[0]:""},e.prototype.getAttribValue=function(e){var t=this.numToAttrib[e];return t?t[1]:""},e.prototype.eachAttrib=function(e){for(var t in this.numToAttrib){var n=this.numToAttrib[t];e(n[0],n[1])}},e.prototype.toJsonable=function(){return{numToAttrib:this.numToAttrib,nextNum:this.nextNum}},e.prototype.fromJsonable=function(e){this.numToAttrib=e.numToAttrib,this.nextNum=e.nextNum,this.attribToNum={};for(var t in this.numToAttrib)this.attribToNum[String(this.numToAttrib[t])]=Number(t);return this},e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r,i;(function(o){r=[n(318),n(355)],i=function(e,t){var n=function(e){this.$el=e,this.enabled=!0};n.prototype.isEnabled=function(){return this.enabled},n.prototype.setEnable=function(e){this.enabled=e},n.prototype.getCommand=function(){return this.$el.attr("data-key")},n.prototype.getValue=function(){if(this.isSelect())return this.$el.find("select").val()},n.prototype.setValue=function(e){if(this.isSelect())return this.$el.find("select").val(e)},n.prototype.getType=function(){return this.$el.attr("data-type")},n.prototype.isSelect=function(){return"select"==this.getType()},n.prototype.isButton=function(){return"button"==this.getType()},n.prototype.bind=function(e){var t=this;t.isButton()?t.$el.click(function(n){e(t.getCommand(),t),n.preventDefault()}):t.isSelect()&&t.$el.find("select").change(function(){e(t.getCommand(),t)})};var r=function(){function r(e,t){t.ace_toggleAttributeOnSelection(e),t.ace_activeCaret()}function i(e){e.registerAceCommand("bold",r),e.registerAceCommand("italic",r),e.registerAceCommand("underline",r),e.registerAceCommand("strikethrough",r),e.registerAceCommand("undo",function(e,t){t.ace_doUndoRedo(e)}),e.registerAceCommand("redo",function(e,t){t.ace_doUndoRedo(e)}),e.registerAceCommand("insertunorderedlist",function(e,t){t.ace_doInsertUnorderedList()}),e.registerAceCommand("insertorderedlist",function(e,t){t.ace_doInsertOrderedList()}),e.registerAceCommand("indent",function(e,t){t.ace_doIndentOutdent(!1)||t.ace_doInsertUnorderedList()}),e.registerAceCommand("outdent",function(e,t){t.ace_doIndentOutdent(!0)})}var a={init:function(){var r=this;r.dropdowns=[],r.items={},o("#editbar .editbarbutton").attr("unselectable","on"),o("#editbar").removeClass("disabledtoolbar").addClass("enabledtoolbar"),o("#editbar [data-key]").each(function(){var e=new n(o(this));e.bind(function(e,t){r.triggerCommand(e,t)}),r.items[e.getCommand()]=e}),i(r),e.callAll("postToolbarInit",{toolbar:r,ace:t.ace})},getItem:function(e){return this.items[e]},isEnabled:function(){return!0},disable:function(){o("#editbar").addClass("disabledtoolbar").removeClass("enabledtoolbar")},commands:{},registerCommand:function(e,t){return this.commands[e]=t,this},registerDropdownCommand:function(e,t){t=t||e,a.dropdowns.push(t),this.registerCommand(e,function(){a.toggleDropDown(t)})},registerAceCommand:function(e,t){this.registerCommand(e,function(e,n){n.callWithAce(function(n){t(e,n)},e,!0)})},triggerCommand:function(e,n){a.isEnabled()&&n.isEnabled()&&this.commands[e]&&this.commands[e](e,t.ace,n),t.ace&&t.ace.focus()},toggleDropDown:function(e,t){if("none"==e){for(var n=!1,r=0;r<a.dropdowns.length;r++)if("users"!=a.dropdowns[r]){var i=o("#"+a.dropdowns[r]);"none"!=i.css("display")&&(o("#"+a.dropdowns[r]+"link").removeClass("selected"),i.slideUp("fast",t),n=!0)}if(!n&&t)return t()}else for(var r=0;r<a.dropdowns.length;r++){var i=o("#"+a.dropdowns[r]);"none"!=i.css("display")?(o("#"+a.dropdowns[r]+"link").removeClass("selected"),i.slideUp("fast")):a.dropdowns[r]==e&&(o("#"+a.dropdowns[r]+"link").addClass("selected"),i.slideDown("fast",t))}}};return a}();return r}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(1))},function(e,t,n){var r,i;(function(o){r=[n(319),n(320)],i=function(e,t){e=e||window.async;var n={};n.bubbleExceptions=!0,n.plugins=t;var r=function(e,t,r,i){void 0===i&&(i=function(e){return e});var o=function(e){return void 0==e?[]:e},a=function(){return o(e.hook_fn(t,r,function(e){return i(o(e))}))};if(n.bubbleExceptions)return a();try{return a()}catch(n){console.error([t,e.part.full_name,n.stack||n])}};return n.syncMapFirst=function(e,t){var n,r;for(n=0;n<e.length;n++)if(r=t(e[n]),r.length)return r},n.mapFirst=function(e,t,n){var r=0;next=function(){return r>=e.length?n(void 0):void t(e[r++],function(e,t){return e?n(e):t.length?n(null,t):void next()})},next()},n.flatten=function(e){var t=[];if(void 0!=e&&null!=e)for(var n=0;n<e.length;n++)if(void 0!=e[n]&&null!=e[n])for(var r=0;r<e[n].length;r++)t.push(e[n][r]);return t},n.callAll=function(e,t){if(t||(t={}),n.plugins)return void 0===n.plugins.hooks[e]?[]:o.flatten(o.map(n.plugins.hooks[e],function(n){return r(n,e,t)}),!0)},n.aCallAll=function(t,i,a){return i||(i={}),a||(a=function(){}),void 0===n.plugins.hooks[t]?a(null,[]):void e.map(n.plugins.hooks[t],function(e,n){r(e,t,i,function(e){n(null,e)})},function(e,t){a(null,o.flatten(t,!0))})},n.callFirst=function(e,t){return t||(t={}),void 0===n.plugins.hooks[e]?[]:n.syncMapFirst(n.plugins.hooks[e],function(n){return r(n,e,t)})},n.aCallFirst=function(e,t,i){return t||(t={}),i||(i=function(){}),void 0===n.plugins.hooks[e]?i(null,[]):void n.mapFirst(n.plugins.hooks[e],function(n,i){r(n,e,t,function(e){i(null,e)})},i)},n.callAllStr=function(e,t,r,i,o){void 0==r&&(r=""),void 0==i&&(i=""),void 0==o&&(o="");for(var a=[],s=n.callAll(e,t),c=0,u=s.length;c<u;c++)a[c]=i+s[c]+o;return a.join(r||"")},n}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(4))},function(e,t,n){var r,i;(function(n,o,a){!function(){function s(){}function c(e){var t=!1;return function(){if(t)throw new Error("Callback was already called.");t=!0,e.apply(this,arguments)}}function u(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}function l(e){return z(e)||"number"==typeof e.length&&e.length>=0&&e.length%1===0}function f(e,t){return l(e)?p(e,t):v(e,t)}function p(e,t){for(var n=-1,r=e.length;++n<r;)t(e[n],n,e)}function d(e,t){for(var n=-1,r=e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function h(e){return d(Array(e),function(e,t){return t})}function m(e,t,n){return p(e,function(e,r,i){n=t(n,e,r,i)}),n}function v(e,t){p(W(e),function(n){t(e[n],n)})}function g(e){var t,n,r=-1;return l(e)?(t=e.length,function(){return r++,r<t?r:null}):(n=W(e),t=n.length,function(){return r++,r<t?n[r]:null})}function y(e,t){t=t||0;var n=-1,r=e.length;t&&(r-=t,r=r<0?0:r);for(var i=Array(r);++n<r;)i[n]=e[n+t];return i}function b(e){return function(t,n,r){return e(t,r)}}function w(e){return function(t,n,r){r=u(r||s),t=t||[];var i=g(t);if(e<=0)return r(null);var o=!1,a=0,l=!1;!function s(){if(o&&a<=0)return r(null);for(;a<e&&!l;){var u=i();if(null===u)return o=!0,void(a<=0&&r(null));a+=1,n(t[u],u,c(function(e){a-=1,e?(r(e),l=!0):s()}))}}()}}function _(e){return function(t,n,r){return e(j.eachOf,t,n,r)}}function x(e,t){return function(n,r,i){return t(w(e),n,r,i)}}function C(e){return function(t,n,r){return e(j.eachOfSeries,t,n,r)}}function k(e,t,n,r){r=u(r||s);var i=[];e(t,function(e,t,r){n(e,function(e,n){i[t]=n,r(e)})},function(e){r(e,i)})}function T(e){return x(e,k)}function S(e,t,n,r){var i=[];t=d(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t,r){n(e.value,function(t){t&&i.push(e),r()})},function(){r(d(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})}function E(e,t,n,r){S(e,t,function(e,t){n(e,function(e){t(!e)})},r)}function A(e,t,n,r){e(t,function(e,t,i){n(e,function(t){t?(r(e),r=s):i()})},function(){r()})}function I(e,t,n){n=n||s;var r=l(t)?[]:{};e(t,function(e,t,n){e(function(e){var i=y(arguments,1);i.length<=1&&(i=i[0]),r[t]=i,n(e)})},function(e){n(e,r)})}function O(e,t,n,r){var i=[];e(t,function(e,t,r){n(e,function(e,t){i=i.concat(t||[]),r(e)})},function(e){r(e,i)})}function P(e,t,n){function r(e,t,n,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");return e.started=!0,z(t)||(t=[t]),0===t.length&&e.idle()?j.setImmediate(function(){e.drain()}):(p(t,function(t){var i={data:t,callback:r||s};n?e.tasks.unshift(i):e.tasks.push(i),e.tasks.length===e.concurrency&&e.saturated()}),void j.setImmediate(e.process))}function i(e,t){return function(){o-=1;var n=arguments;p(t,function(e){e.callback.apply(e,n)}),e.tasks.length+o===0&&e.drain(),e.process()}}if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var o=0,a={tasks:[],concurrency:t,payload:n,saturated:s,empty:s,drain:s,started:!1,paused:!1,push:function(e,t){r(a,e,!1,t)},kill:function(){a.drain=s,a.tasks=[]},unshift:function(e,t){r(a,e,!0,t)},process:function(){if(!a.paused&&o<a.concurrency&&a.tasks.length)for(;o<a.concurrency&&a.tasks.length;){var t=a.payload?a.tasks.splice(0,a.payload):a.tasks.splice(0,a.tasks.length),n=d(t,function(e){return e.data});0===a.tasks.length&&a.empty(),o+=1;var r=c(i(a,t));e(n,r)}},length:function(){return a.tasks.length},running:function(){return o},idle:function(){return a.tasks.length+o===0},pause:function(){a.paused=!0},resume:function(){if(a.paused!==!1){a.paused=!1;for(var e=Math.min(a.concurrency,a.tasks.length),t=1;t<=e;t++)j.setImmediate(a.process)}}};return a}function N(e){return function(t){var n=y(arguments,1);t.apply(null,n.concat([function(t){var n=y(arguments,1);"undefined"!=typeof console&&(t?console.error&&console.error(t):console[e]&&p(n,function(t){console[e](t)}))}]))}}function D(e){return function(t,n,r){e(h(t),n,r)}}function L(e,t){function n(){var n=this,r=y(arguments),i=r.pop();return e(t,function(e,t,i){e.apply(n,r.concat([i]))},i)}if(arguments.length>2){var r=y(arguments,2);return n.apply(this,r)}return n}function M(e){return function(){var t=y(arguments),n=t.pop();t.push(function(){var e=arguments;r?j.setImmediate(function(){n.apply(null,e)}):n.apply(null,e)});var r=!0;e.apply(this,t),r=!1}}var R,j={},F="object"==typeof self&&self.self===self&&self||"object"==typeof n&&n.global===n&&n||this;null!=F&&(R=F.async),j.noConflict=function(){return F.async=R,j};var B,U=Object.prototype.toString,z=Array.isArray||function(e){return"[object Array]"===U.call(e)},W=Object.keys||function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t};"function"==typeof o&&(B=o),"undefined"!=typeof a&&a.nextTick?(j.nextTick=a.nextTick,B?j.setImmediate=function(e){B(e)}:j.setImmediate=j.nextTick):B?(j.nextTick=function(e){B(e)},j.setImmediate=j.nextTick):(j.nextTick=function(e){setTimeout(e,0)},j.setImmediate=j.nextTick),j.forEach=j.each=function(e,t,n){return j.eachOf(e,b(t),n)},j.forEachSeries=j.eachSeries=function(e,t,n){return j.eachOfSeries(e,b(t),n)},j.forEachLimit=j.eachLimit=function(e,t,n,r){return w(t)(e,b(n),r)},j.forEachOf=j.eachOf=function(e,t,n){function r(e){e?n(e):(o+=1,o>=i&&n(null))}n=u(n||s),e=e||[];var i=l(e)?e.length:W(e).length,o=0;return i?void f(e,function(n,i){t(e[i],i,c(r))}):n(null)},j.forEachOfSeries=j.eachOfSeries=function(e,t,n){function r(){var a=!0;return null===o?n(null):(t(e[o],o,c(function(e){if(e)n(e);else{if(o=i(),null===o)return n(null);a?j.nextTick(r):r()}})),void(a=!1))}n=u(n||s),e=e||[];var i=g(e),o=i();r()},j.forEachOfLimit=j.eachOfLimit=function(e,t,n,r){w(t)(e,n,r)},j.map=_(k),j.mapSeries=C(k),j.mapLimit=function(e,t,n,r){return T(t)(e,n,r)},j.inject=j.foldl=j.reduce=function(e,t,n,r){j.eachOfSeries(e,function(e,r,i){n(t,e,function(e,n){t=n,i(e)})},function(e){r(e||null,t)})},j.foldr=j.reduceRight=function(e,t,n,r){var i=d(e,function(e){return e}).reverse();j.reduce(i,t,n,r)},j.select=j.filter=_(S),j.selectSeries=j.filterSeries=C(S),j.reject=_(E),j.rejectSeries=C(E),j.detect=_(A),j.detectSeries=C(A),j.any=j.some=function(e,t,n){j.eachOf(e,function(e,r,i){t(e,function(e){e&&(n(!0),n=s),i()})},function(){n(!1)})},j.all=j.every=function(e,t,n){j.eachOf(e,function(e,r,i){t(e,function(e){e||(n(!1),n=s),i()})},function(){n(!0)})},j.sortBy=function(e,t,n){function r(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0}j.map(e,function(e,n){t(e,function(t,r){t?n(t):n(null,{value:e,criteria:r})})},function(e,t){return e?n(e):void n(null,d(t.sort(r),function(e){return e.value}))})},j.auto=function(e,t){function n(e){l.unshift(e)}function r(e){for(var t=0;t<l.length;t+=1)if(l[t]===e)return void l.splice(t,1)}function i(){a--,p(l.slice(0),function(e){e()})}t=u(t||s);var o=W(e),a=o.length;if(!a)return t(null);var c={},l=[];n(function(){a||t(null,c)}),p(o,function(o){function a(e){var n=y(arguments,1);if(n.length<=1&&(n=n[0]),e){var r={};p(W(c),function(e){r[e]=c[e]}),r[o]=n,t(e,r)}else c[o]=n,j.setImmediate(i)}function s(){return m(d,function(e,t){return e&&c.hasOwnProperty(t)},!0)&&!c.hasOwnProperty(o)}function u(){s()&&(r(u),f[f.length-1](a,c))}for(var l,f=z(e[o])?e[o]:[e[o]],d=f.slice(0,Math.abs(f.length-1))||[],h=d.length;h--;){if(!(l=e[d[h]]))throw new Error("Has inexistant dependency");if(z(l)&&~l.indexOf(o))throw new Error("Has cyclic dependencies")}s()?f[f.length-1](a,c):n(u)})},j.retry=function(){function e(e,t){if("number"==typeof t)e.times=parseInt(t,10)||n;else{if("object"!=typeof t)throw new Error("Unsupported argument type for 'times': "+typeof t);e.times=parseInt(t.times,10)||n,e.interval=parseInt(t.interval,10)||r}}function t(e,t){function n(e,n){return function(r){e(function(e,t){r(!e||n,{err:e,result:t})},t)}}function r(e){return function(t){setTimeout(function(){t(null)},e)}}for(;o.times;){var a=!(o.times-=1);i.push(n(o.task,a)),!a&&o.interval>0&&i.push(r(o.interval))}j.series(i,function(t,n){n=n[n.length-1],(e||o.callback)(n.err,n.result)})}var n=5,r=0,i=[],o={times:n,interval:r};switch(arguments.length){case 1:o.task=arguments[0];break;case 2:"number"==typeof arguments[0]||"object"==typeof arguments[0]?(e(o,arguments[0]),o.task=arguments[1]):(o.task=arguments[0],o.callback=arguments[1]);break;case 3:e(o,arguments[0]),o.task=arguments[1],o.callback=arguments[2];break;default:throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)")}return o.callback?t():t},j.waterfall=function(e,t){function n(e){return function(r){if(r)t.apply(null,arguments);else{var i=y(arguments,1),o=e.next();o?i.push(n(o)):i.push(t),M(e).apply(null,i)}}}if(t=u(t||s),!z(e)){var r=new Error("First argument to waterfall must be an array of functions");return t(r)}return e.length?void n(j.iterator(e))():t()},j.parallel=function(e,t){I(j.eachOf,e,t)},j.parallelLimit=function(e,t,n){I(w(t),e,n)},j.series=function(e,t){t=t||s;var n=l(e)?[]:{};j.eachOfSeries(e,function(e,t,r){e(function(e){var i=y(arguments,1);i.length<=1&&(i=i[0]),n[t]=i,r(e)})},function(e){t(e,n)})},j.iterator=function(e){function t(n){function r(){return e.length&&e[n].apply(null,arguments),r.next()}return r.next=function(){return n<e.length-1?t(n+1):null},r}return t(0)},j.apply=function(e){var t=y(arguments,1);return function(){return e.apply(null,t.concat(y(arguments)))}},j.concat=_(O),j.concatSeries=C(O),j.whilst=function(e,t,n){n=n||s,e()?t(function(r){return r?n(r):void j.whilst(e,t,n)}):n(null)},j.doWhilst=function(e,t,n){n=n||s,e(function(r){if(r)return n(r);var i=y(arguments,1);t.apply(null,i)?j.doWhilst(e,t,n):n(null)})},j.until=function(e,t,n){n=n||s,e()?n(null):t(function(r){return r?n(r):void j.until(e,t,n)})},j.doUntil=function(e,t,n){n=n||s,e(function(r){if(r)return n(r);var i=y(arguments,1);t.apply(null,i)?n(null):j.doUntil(e,t,n)})},j.during=function(e,t,n){n=n||s,e(function(r,i){return r?n(r):void(i?t(function(r){return r?n(r):void j.during(e,t,n)}):n(null))})},j.doDuring=function(e,t,n){n=n||s,e(function(r){if(r)return n(r);var i=y(arguments,1);i.push(function(r,i){return r?n(r):void(i?j.doDuring(e,t,n):n(null))}),t.apply(null,i)})},j.queue=function(e,t){var n=P(function(t,n){e(t[0],n)},t,1);return n},j.priorityQueue=function(e,t){function n(e,t){return e.priority-t.priority}function r(e,t,n){for(var r=-1,i=e.length-1;r<i;){var o=r+(i-r+1>>>1);n(t,e[o])>=0?r=o:i=o-1}return r}function i(e,t,i,o){if(null!=o&&"function"!=typeof o)throw new Error("task callback must be a function");return e.started=!0,z(t)||(t=[t]),0===t.length?j.setImmediate(function(){e.drain()}):void p(t,function(t){var a={data:t,priority:i,callback:"function"==typeof o?o:s};e.tasks.splice(r(e.tasks,a,n)+1,0,a),e.tasks.length===e.concurrency&&e.saturated(),j.setImmediate(e.process)})}var o=j.queue(e,t);return o.push=function(e,t,n){i(o,e,t,n)},delete o.unshift,o},j.cargo=function(e,t){return P(e,1,t)},j.log=N("log"),j.dir=N("dir"),j.memoize=function(e,t){function n(){var n=y(arguments),o=n.pop(),a=t.apply(null,n);a in r?j.nextTick(function(){o.apply(null,r[a])}):a in i?i[a].push(o):(i[a]=[o],e.apply(null,n.concat([function(){r[a]=y(arguments);var e=i[a];delete i[a];for(var t=0,n=e.length;t<n;t++)e[t].apply(null,arguments)}])))}var r={},i={};return t=t||function(e){return e},n.memo=r,n.unmemoized=e,n},j.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},j.times=D(j.map),j.timesSeries=D(j.mapSeries),j.timesLimit=function(e,t,n,r){return j.mapLimit(h(e),t,n,r)},j.seq=function(){var e=arguments;return function(){var t=this,n=y(arguments),r=n.slice(-1)[0];"function"==typeof r?n.pop():r=s,j.reduce(e,n,function(e,n,r){n.apply(t,e.concat([function(){var e=arguments[0],t=y(arguments,1);r(e,t)}]))},function(e,n){r.apply(t,[e].concat(n))})}},j.compose=function(){return j.seq.apply(null,Array.prototype.reverse.call(arguments))},j.applyEach=function(){var e=y(arguments);return L.apply(null,[j.eachOf].concat(e))},j.applyEachSeries=function(){var e=y(arguments);return L.apply(null,[j.eachOfSeries].concat(e))},j.forever=function(e,t){function n(e){return e?r(e):void i(n)}var r=c(t||s),i=M(e);n()},j.ensureAsync=M,j.constant=function(){var e=[null].concat(y(arguments));return function(t){return t.apply(this,e)}},j.wrapSync=j.asyncify=function(e){return function(){var t,n=y(arguments),r=n.pop();try{t=e.apply(this,n)}catch(e){return r(e)}r(null,t)}},"undefined"!=typeof e&&e.exports?e.exports=j:(r=[],i=function(){return j}.apply(t,r),!(void 0!==i&&(e.exports=i)))}()}).call(t,function(){return this}(),n(172).setImmediate,n(171))},function(e,t,n){var r,i;r=[n(321),n(354)],i=function(e,t){function n(e){for(var t=["loaded","plugins","parts","hooks","baseURL","ensure","update"],n=0,r=t.length;n<r;n++){var o=t[n];i[o]=e[o]}}function r(e){var t=null;try{for(;e=e.parent;)if("undefined"!=typeof e.require){t=e.require;break}}catch(e){}if(!t)throw new Error("Parent plugins could not be found.");var n=t("ep_etherpad-lite/static/js/pluginfw/client_plugins");i.adoptPlugins(n)}var i={};return i.loaded=!1,i.plugins={},i.parts=[],i.hooks={},i.baseURL="/",i.ensure=function(e){i.loaded?e():i.update(e)},i.update=function(n){var r=function(){setTimeout(n,0)};i.plugins=t.plugins,i.parts=t.parts,i.hooks=e.extractHooks(i.parts,"client_hooks"),i.loaded=!0,r()},i.adoptPlugins=n,i.adoptPluginsFromAncestorsOf=r,i}.apply(t,r),!(void 0!==i&&(e.exports=i))},function(e,t,n){var r,i;(function(o){r=[n(322)],i=function(e){function t(t,n,r){var i={};return o.each(t,function(t){Object.keys(t[n]||{}).forEach(function(a){void 0===i[a]&&(i[a]=[]);var s=t[n][a];r&&(s=r(t,s));var c,u,l=s.split(":");1==l[0].length?(3==l.length&&(c=l.pop()),s=l.join(":")):(s=l[0],c=l[1]),c=c?c:a,u=e[s],o.each(c.split("."),function(e){u=u[e]}),u&&i[a].push({hook_name:a,hook_fn:u,hook_fn_name:s,part:t})})}),i}var n={};return n.extractHooks=t,n}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(4))},function(e,t,n){var r,i;r=[n(325),n(343),n(328),n(330),n(331),n(336),n(337),n(340),n(303),n(341),n(342),n(323),n(344),n(324),n(345),n(346),n(347),n(349),n(350),n(351),n(352),n(353)],i=function(e,t,n,r,i,o,a,s,c,u,l,f,p,d,h,m,v,g,y,b,w,_){return{heading:e,linkBtn:t,divide:n,code:r,upload_image:i,table:o,mention:window.cow.iOS?s:a,selection_comment:c,check_list:u,code_area:l,font_color:f,font_size:p,status:d,align:h,inherit_style:m,upload_attachment:v,available:g,markdown:y,horizontal_line:b,paint_format:w,clear_format:_}}.apply(t,r),!(void 0!==i&&(e.exports=i))},function(e,t,n){var r,i;(function(o,a){r=[n(324),n(293),n(175)],i=function(e,t,n){var r,i;return i={},i.postAceInit=function(e,r){var i;return i=o("#editbar li.font-color"),i.off().on("click",function(e){return e.stopPropagation(),i.hasClass("active")||n.clearDropdown(),i.toggleClass("active")}).find("ul li").off().on("click",function(e){var n,i;return n=o(this).index(),i=t.attrValuesMap[n],r.ace.callWithAce(function(e){return e.ace_doInsertFontColor(i),e.ace_activeCaret()},"insertFontColor",!0)})},i.aceAttribsToClasses=function(e,t){if("font-color"===t.key&&+t.value>-1)return["font-color-"+t.value]},i.aceCreateDomLine=function(e,n){var r,i,o,a;return r=n.cls,o=/(?:^| )font-color-([A-Za-z0-9]*)/.exec(r),o&&(a=o[1]),void 0!==a&&+a>=1?(i=t.fontColorObj[a],[{extraOpenTags:'<font color="'+i+'">',extraCloseTags:"</font>",cls:r}]):[]},r=function(r){var i,a,s;if(n.track("doc","font_color",t.fontColorObj[r]),o(document).trigger("font-style:change"),a=this.rep,a.selStart&&a.selEnd)return s=a.selStart,i=a.selEnd,s[0]===i[0]&&s[1]===i[1]?(document.execCommand("foreColor",!1,t.fontColorObj[r]),e.activeCaret("font-color",s[0],s[1],r)):(this.documentAttributeManager.setAttributesOnRange(s,i,[["font-color",r]]),this.editorInfo.ace_setLineStyle("font-color",r))},i.aceInitialized=function(e,t){t.editorInfo.ace_doInsertFontColor=a.bind(r,t)},i}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(1),n(4))},function(e,t,n){var r,i;(function(o,a){r=[n(175),n(315),n(293),n(166)],i=function(e,t,n,r){var i;return i={reset:function(t,n){var r,i,o,a;for(a=this.buttons,i=0,o=a.length;i<o;i++)r=a[i],t.selStart&&r.active&&r.repLine===t.selStart[0]&&r.repChar===t.selStart[1]?(r.hasIt=!1,this.checkActive(r)):this.resetOne(r,n);return this.changeHeadStatus(0),this.statusData={},this.isAndroidApp=e.isAndroidApp()},resetOne:function(e,t){if("font-color"===e.attrName){if(!t)return this.changeColorStatus(0)}else{if("font-size"!==e.attrName)return e.dom.removeClass("current");if(!t)return this.changeSizeStatus(3)}},checkActive:function(e){return"font-color"===e.attrName?(e.color=e.activeColor,this.changeButton(e,!0)):"font-size"===e.attrName?(e.size=e.activeSize,this.changeButton(e,!0)):"line-align"===e.attrName?this.changeButton(e,!0):this.changeButton(e,!e.hasIt)},getHeadingSize:function(){return 0===this.headingVal?0:1===this.headingVal?3:2===this.headingVal?5:3===this.headingVal?7:0},isListLine:function(t,n){return"*"===t.lines.atIndex(n).text[0]&&"*"!==e.nodeText(t.lines.atIndex(n).domInfo.node)[0]},getLineLen:function(e,t){return e.lines.atIndex(t).text.length},check:function(n,r,i){var o,a,s,c,u,l,f,p,d,h,m,v,g,y,b,w,_,x,C,k,T,S,E,A,I,O,P,N,D,L,M,R,j;for(L=r.selStart[0],D=r.selEnd[0],E=!1,p=!1,w=-1,k=[],r.selStart[0]<r.selEnd[0]&&(0===r.selEnd[1]||1===r.selEnd[1])&&(m=this.isListLine(r,r.selEnd[0]),w=m&&1===r.selEnd[1]||!m&&0===r.selEnd[1]?r.selEnd[0]:-1),"selection"===n&&r.selStart[1]===this.getLineLen(r,L)&&(this.reset(r,!0),E=!0,""===e.getSelection().string.replace(/\\n|\s/g,"")&&(p=!0,w=-1)),A=this.buttons,v=0,_=A.length;v<_;v++)if(c=A[v],"line-align"!==c.attrName){if(d="font-color"===c.attrName||"font-size"===c.attrName||"heading"===c.attrName,h="bold"===c.attrName||"italic"===c.attrName||"underline"===c.attrName||"strikethrough"===c.attrName,!E||d)if("caret"===n&&c.active&&c.repLine===r.selStart[0]&&c.repChar===r.selStart[1])this.checkActive(c);else{if(c.hasIt=!0,c.active=!1,d){if(y="heading"===c.attrName?"heading":c.attrName.match(/font-(.+)/)[1],p)c.hasIt=!0,c[y]=-1;else{for(M=0,l="",P=c.attrValue,b=0,x=P.length;b<x;b++){if(R=P[b],o=this.getRegex(t.makeAttribsString("+",[[c.attrName,R]],r.apool)),c.hasIt=this.hasIt(L,D,c.isLine,o,n,r,c.attrName,R,w),"heading"!==c.attrName||c.hasIt||R!==-1||(c[y]=R),this.listStyle&&(l=R),this.multiStatus&&!c.hasIt){M++;break}if(c.hasIt){c[y]=R;break}}M>0&&(c.hasIt=!0,c[y]=-1),""===l||c.hasIt||(c.hasIt=!0,c[y]=l)}"heading"===c.attrName&&(this.headingVal=c[y]),c.hasIt&&i&&c[y]>0&&c[y]!==c.defaultVal&&("selection"===i?k.push([c.attrName,c[y]]):k.push(["line-style:"+c.attrName,c[y]]))}else{for(a="",N=c.attrValue,T=0,C=N.length;T<C;T++)j=N[T],a+="|("+t.makeAttribsString("+",[[c.attrName,j]],r.apool)+")";c.regex=this.getRegex("("+a.slice(1)+")"),c.hasIt=this.hasIt(L,D,c.isLine,c.regex,n,r,c.attrName,"",w),h&&i&&c.hasIt&&("selection"===i?k.push([c.attrName,!0]):k.push(["line-style:line-"+c.attrName,!0]))}this.changeButton(c)}}else{for(s="",f=!0,S=g=I=L,O=D;I<=O?g<=O:g>=O;S=I<=O?++g:--g)if(u=this.getAttributeOnLine(S,"line-align",r),u=u||"left",s||(s=u),s&&s!==u){f=!1;break}f?c.align=s:c.align="",this.checkActive(c)}if(this.syncToIos(),i)return k},biu:["bold","italic","underline","strikethrough"],syncToIos:function(){var e,t,n,i,a,s,c,u,l;if(window.cow.iOS){for(u={},c=this.buttons,i=0,a=c.length;i<a;i++)t=c[i],e=t.attrName,"font-color"===e?l=t.active?t.activeColor:t.hasIt?t.color:t.defaultVal:"font-size"===e?l=t.active?t.activeSize:t.hasIt?t.size:t.defaultVal:t.hasIt&&("list"===e?(e=t.attrValue[0],e="list-"+e.substr(0,e.length-1),l=!0):l=!0),u[e]=l;return u.heading=this.getHeadingSize(),this.biu.forEach(function(e){return u[e]=document.queryCommandState(e)}),this.isAndroidApp?"undefined"==typeof this.statusData?r.notify("checkStatus",{status:u}):(s=this.statusData||{},(n=o.isEqual(u,s))?void 0:(r.notify("checkStatus",{status:u}),this.statusData=u)):r.notify("checkStatus",{status:u})}},getRegex:function(e){return new RegExp(e.replace(/\*/g,"\\*")+"(\\*|$|\\+)")},getAttributeOnLine:function(e,n,r){var i,o;return i=r.alines[e],i&&(o=t.opIterator(i),o.hasNext())?t.opAttributeValue(o.next(),n,r.apool)||"":""},hasIt:function(e,n,r,i,o,a,s,c,u,l,f){var p,d,h,m,v,g,y,b,w,_,x,C,k,T,S,E,A,I,O,P,N,D,L,M,R,j,F;for(l=l?l:this,m=!0,w="font-size"===s||"font-color"===s,_="bold"===s||"italic"===s||"underline"===s||"strikethrough"===s,y=0,this.multiStatus=!1,this.listStyle=!1,h=[],g=!0,I=l.getRegex(t.makeAttribsString("+",[[s,"none"]],a.apool)),L=a.apool,A=x=M=e,R=n;M<=R?x<=R:x>=R;A=M<=R?++x:--x)if(A!==u){if(v=!1,r)i.test(a.alines[A])||(m=!1),g=!1;else for(S=0,l.isListLine(a,A)&&(S=1),N=t.opIterator(a.alines[A]),b=0,p=a.selStart[1],f&&(p=S),T=S,k=l.getLineLen(a,A),F=A===e?a.selStart[1]:T,j=A===n?a.selEnd[1]:k,_?(C=l.getAttributeOnLine(A,"line-style:line-"+s,a),C&&"bold"===s&&(v=!0)):w&&(C=l.getAttributeOnLine(A,"line-style:"+s,a),C&&"font-size"===s&&(v=!0,3!==+C&&h.push(+C)),C=+C===+c),E=S&&C,E||(g=!1);N.hasNext();){if(O=N.next(),D=b,P=D+O.chars,O.attribs&&"font-size"===s&&t.eachAttribNumber(O.attribs,function(e){if(L.getAttribKey(e)===s&&3!==+L.getAttribValue(e))return h.push(L.getAttribValue(e))}),g&&_&&I.test(O.attribs)&&("selection"===o&&P>F&&D<j||"caret"===o&&(p===S&&D===S||D>=S&&P>=p&&D<p))&&(g=!1),i.test(O.attribs))"selection"===o&&(d=j<=P&&j>D||F<P&&F>=D||F<=D&&j>=P,d&&y++);else if(("selection"===o&&P>F&&D<j||"caret"===o&&(p===S&&D===S||D>=S&&P>=p&&D<p))&&(m=!1,!w&&!E))break;b=P}if(!m&&!w&&!E)break}return w&&!m&&(y>0?(this.multiStatus=!0,g=!1,1===y&&("font-color"===s&&12===+c||"font-size"===s&&3===+c)&&(m=!0)):g&&(this.listStyle=!0,g=!1)),m||g},changeColorStatus:function(e){var t;return e||(e=12),t=e>0?n.fontColorObj[e]:"transparent",a(".icon-font-color-bottom").css({background:t})},changeSizeStatus:function(e){var t;return e||(e=3),t=e>0?n.fontSizeList[e-1]:"",a(".size-txt").text(t)},changeHeadStatus:function(e){var t;return t={1:"小标题",2:"中标题",3:"大标题"}[e]||"普通",a(".type-txt").text(t)},changeAlignStatus:function(e){var t;if(t=a(".icon-align-arrow"),e)return t.removeClass("new-icon-align-left new-icon-align-right new-icon-align-center new-icon-align-justify"),t.addClass("new-icon-align-"+e)},changeButton:function(e,t){return"font-size"===e.attrName&&this.headingVal>0?void(1===this.headingVal?this.changeSizeStatus(3):2===this.headingVal?this.changeSizeStatus(5):3===this.headingVal&&this.changeSizeStatus(7)):"bold"===e.attrName&&this.headingVal>0?void e.dom.addClass("current"):(void 0===t&&(t=e.hasIt),
t?"font-color"===e.attrName?this.changeColorStatus(e.color):"font-size"===e.attrName?this.changeSizeStatus(e.size):"line-align"===e.attrName?this.changeAlignStatus(e.align):"heading"===e.attrName?this.changeHeadStatus(e.heading):e.dom.addClass("current"):(this.resetOne(e),"heading"===e.attrName?this.changeHeadStatus(e.heading):void 0))},activeCaret:function(e,t,n,r){var i,o,a,s,c;for(s=this.buttons,c=[],o=0,a=s.length;o<a;o++)i=s[o],i.attrName===e?i.active&&"font-color"!==i.attrName&&"font-size"!==i.attrName&&"heading"!==i.attrName?c.push(i.active=!1):(i.active=!0,i.repLine=t,i.repChar=n,"font-color"===i.attrName&&r&&(i.activeColor=r),"font-size"===i.attrName&&r&&(i.activeSize=r),"heading"===i.attrName&&r?c.push(i.activeHeading=r):c.push(void 0)):c.push(void 0);return c},$doc:a("#innerdocbody"),multiStatus:!1,listStyle:!1,headingVal:-1,buttons:[{dom:a(".toolbar-item.font-type"),attrName:"heading",attrValue:[1,2,3,-1],isLine:!0,defaultVal:-1},{dom:a(".new-icon-bold").parent(),attrName:"bold",attrValue:["true"],isLine:!1},{dom:a(".new-icon-italic").parent(),attrName:"italic",attrValue:["true"],isLine:!1},{dom:a(".new-icon-underline").parent(),attrName:"underline",attrValue:["true"],isLine:!1},{dom:a(".new-icon-strikethrough").parent(),attrName:"strikethrough",attrValue:["true"],isLine:!1},{dom:a(".new-icon-font-color").parent(),attrName:"font-color",attrValue:n.attrValuesMap,defaultVal:38,isLine:!1,color:0},{dom:a(".new-icon-align-arrow").parent(),attrName:"line-align",attrValue:["left","center","right","justify"],isLine:!0},{dom:a(".toolbar-item.font-size"),attrName:"font-size",attrValue:[1,2,3,4,5,6,7,8,9],defaultVal:3,isLine:!1,size:3},{dom:a(".new-icon-ol-list").parent(),attrName:"list",attrValue:["bullet1","bullet2","bullet3","bullet4","bullet5","bullet6","bullet7","bullet8"],isLine:!0},{dom:a(".new-icon-ul-list").parent(),attrName:"list",attrValue:["number1","number2","number3","number4","number5","number6","number7","number8"],isLine:!0},{dom:a(".new-icon-check-list").parent(),attrName:"list",attrValue:["check1","check2","check3","check4","check5","check6","check7","check8","done1","done2","done3","done4","done5","done6","done7","done8"],isLine:!0}]}}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(4),n(1))},function(e,t,n){var r,i;(function(o,a){r=[n(324),n(175),n(326)],i=function(e,t,n){var r,i;return i={},i.postAceInit=function(e,n){var r;return r=0,o("#heading").off().on("click",function(e){var n;return e.stopPropagation(),n=o(this),n.hasClass("active")||t.clearDropdown(),n.toggleClass("active")}),o("#heading-selection").off().on("click",function(e,t){var r,i;if(t&&e.stopPropagation(),o(e.target).parents("#heading").length&&(r=o(e.target).is("span")?o(e.target):o(e.target).find("span"),r.length&&(i=parseInt(r.attr("data-value")),!a.isNaN(i))))return n.ace.callWithAce(function(e){return e.ace_doInsertHeading(i,e),e.ace_activeCaret()},"insertHeading",!0)})},r=function(e,t,r){var i,a,s,c,u,l,f,p;if(o(document).trigger("font-style:change"),this.rep.selStart&&this.rep.selEnd){for(i=this.rep.selStart[0],c=Math.max(i,this.rep.selEnd[0]-(this.rep.selEnd[1]<=this.rep.lines.atIndex(this.rep.selEnd[0]).lineMarker?1:0)),u=a=l=i,f=c;l<=f?a<=f:a>=f;u=l<=f?++a:--a)s=[["heading",e],["inherit:inherit",!0]],"code1"!==t.ace_getLineListType(u)||r||t.ace_doInsertUnorderedList("code"),t.ace_getLineImageType(u)||t.ace_getLineAttachmentType(u)||t.ace_getHorizontalLineType(u)||this.documentAttributeManager.setAttributesOnLine(u,s);return window.cow.directory&&window.cow.directory.isOpened?(p=this,setTimeout(function(){return n.updateTableOfContents(p.rep)},0)):void 0}},i.aceInitialized=function(e,t){t.editorInfo.ace_doInsertHeading=a.bind(r,t)},i}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(1),n(4))},function(e,t,n){var r,i;(function(o,a){r=[n(324),n(175),n(327),n(315)],i=function(e,t,n,r){var i;return i={dirView:o("#doc-directory"),getHeadingReg:function(t){var n,i,o;for(n="",i=o=1;o<=3;i=++o)n+=r.makeAttribsString("+",[["heading",i]],t.apool),3!==i&&(n+="|");return e.getRegex(n)},updateTableOfContents:function(e){var t,r,i,s,c,u,l;return u=this,c={data:[]},l=/heading-\S+/i,r=this.getHeadingReg(e),i={},s="",e.alines.forEach(function(t,n){var o,a,s,f,p,d,h;if(r.test(e.alines[n])&&(s=u.getLineAttr(e,n).lineNode,f=s.className,p=f.match(l),p instanceof Array))return a=s.childNodes[0],d=u.filter(e,n,s,a),f&&d?(o=u.getOlStart(e,s,a),h=p[0],i[h]=!0,c.data.push({text:d,cls:s.className,type:h,olstart:o})):void 0}),s=function(){var e;e=[];for(t in i)e.push("has-"+t);return e}(),0===this.dirView.length&&(this.dirView=o("#doc-directory")),this.dirView.children("ul").removeClass().addClass("doc-directory-list "+s.join(" ")).html(a.template(n)(c))},filter:function(e,t,n,r){var i,a,s,c;return c=/^\*/,a=this.getLineAttr(e,t).text.replace(c,""),i=o(r).children(),s=["upload-image","upload-attachment","horizontal-line"],!s.some(function(e){return i.hasClass(e)})&&a},getOlStart:function(e,t,n){var r,i,a;return a=!1,"ol"===n.tagName.toLowerCase()&&(r=o(t),i=o(n).css("list-style-type"),r.hasClass(i)||r.addClass(i),a=n.getAttribute("start")),a},getLineAttr:function(e,t){return e.lines.atIndex(t)}}}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(1),n(4))},function(e,t){e.exports='<% if (data.length) { %>\n    <% _.each(data, function(item) { %>\n        <% if (item.text) { %>\n            <li class=\'toc-entry <%= item.cls %>\' data-level=\'<%= item.type %>\'>\n            \t<% if (!item.olstart) { %>\n                \t<a href="javascript:;" tooltip="" title="<%= item.text %>"><%= item.text %></a>\n                <% } else { %>\n                \t<ol start=\'<%= item.olstart %>\'>\n                \t\t<li><a href="javascript:;" tooltip="" title="<%= item.text %>"><%= item.text %></a></li>\n                \t</ol>\n                <% } %>\n            </li>\n        <% } %>\n    <% }) %>\n<% } else { %>\n  <li class="dir-not-found">添加标题后会在这里自动生成目录。</li>\n<% } %>'},function(e,t,n){var r,i;(function(o){var a=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty;r=[n(175),n(315),n(329)],i=function(e,t,n){var r,i,s;return s={},r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.init=function(){},t.prototype.eventMap={"click .buttonicon-divide":"insertDividerLine"},t.prototype.domEvents={insertDividerLine:function(){return this.context.ace.callWithAce(function(e){return e.ace_doDivideLine(e)},"insertDividerLine",!0)}},t}(e.DomModule),s.postAceInit=function(e,t){var n;return n=new r("html",{context:t})},s.aceAttribsToClasses=function(e,t){if("divide"===t.key)return["divide-cls"]},s.aceCreateDomLine=function(e,t){return/divide-cls/.exec(t.cls)?[{extraOpenTags:"",extraCloseTags:"",cls:t.cls}]:[]},i=function(e){var t,n,r;return t="________________________________________________________________________________________________________________________________________________",n=this.rep.selStart[1],r=this.rep.selStart[0],n>0&&(t="\n"+t),this.rep.lines.offsetOfIndex(r+1)-this.rep.lines.offsetOfIndex(r)>1&&(t+="\n"),e.ace_performDocumentReplaceRangeWithAttributes(void 0,void 0,t,[["author",this.documentAttributeManager.author],["divide","true"]])},s.aceInitialized=function(e,t){return t.editorInfo.ace_doDivideLine=o.bind(i,t)},s}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(4))},function(e,t,n){var r;r=function(){return t={},t.buildRemoveRange=function(e,t,n,r){var i=e.lines.offsetOfIndex(n[0]),o=e.lines.offsetOfIndex(r[0]);r[0]>n[0]?(t.remove(o-i-n[1],r[0]-n[0]),t.remove(r[1])):t.remove(r[1]-n[1])},t.buildKeepRange=function(e,t,n,r,i,o){var a=e.lines.offsetOfIndex(n[0]),s=e.lines.offsetOfIndex(r[0]);r[0]>n[0]?(t.keep(s-a-n[1],r[0]-n[0],i,o),t.keep(r[1],0,i,o)):t.keep(r[1]-n[1],0,i,o)},t.buildKeepToStartOfRange=function(e,t,n){var r=e.lines.offsetOfIndex(n[0]);t.keep(r,n[0]),t.keep(n[1])},t}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r,i;(function(o,a){r=[n(175),n(315),n(329)],i=function(e,t,n){var r,i;return r={},r.postAceInit=function(e,t){return o(".buttonicon-code").click(function(){return t.ace.callWithAce(function(e){return e.ace_doHighlightCode()},"wtf",!0)})},r.acePostWriteDomLineHTML=function(e,t){var n;n=o(t.node).find("pre.prettyprint"),n.length>0&&n.html(prettyPrintOne(n.html()))},r.collectContentPre=function(e,t){if(/prettyprint/.exec(t.cls))return t.cc.doAttrib(t.state,"code")},r.aceAttribsToClasses=function(e,t){if("code"===t.key)return["code-cls"]},r.aceCreateDomLine=function(e,t){return/code-cls/.exec(t.cls)?[{extraOpenTags:'<pre class="prettyprint">',extraCloseTags:"</pre>",cls:t.cls}]:[]},i=function(){var e;return e=t.builder(this.rep.lines.totalWidth()),n.buildKeepRange(this.rep,e,[0,0],this.rep.selStart),e.insert("\n",[["author",this.documentAttributeManager.author]],this.rep.pool),e.insert('function callMe() { common.log("hello") }',[["code","true"],["author",this.documentAttributeManager.author]],this.rep.apool),this.documentAttributeManager.applyChangeset(e)},r.aceInitialized=function(e,t){return t.editorInfo.ace_doHighlightCode=a.bind(i,t)},r}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(1),n(4))},function(e,t,n){var r,i;(function(o,a,s,c){var u=function(e,t){function n(){this.constructor=e}for(var r in t)l.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},l={}.hasOwnProperty;r=[n(175),n(228),n(332),n(333),n(335),n(166),n(226),n(295),n(334)],i=function(e,t,n,r,i,f,p,d,h){var m,v,g,y,b,w,_,x,C,k,T,S,E,A,I,O,P,N,D,L,M,R;return y={},T={uploadFailed:"上传失败, 请上传 jpg / jpeg / png / gif 格式图片",uploadSuccess:"上传成功"},k=610,b=[],M="#tempImageResizeStyle",m=function(t){function m(){return m.__super__.constructor.apply(this,arguments)}return u(m,t),m.prototype.init=function(){this.bindWindowEvents(),f.attach("doc:goback",o.bind(this.cancelAllUpload,this))},m.prototype.reset=function(t){var n,r,i;if(this.brokenImagesGuids=[],this.listenToCheckBrokenImage(),"undefined"!=typeof t&&null!==t&&"undefined"!=typeof t.context&&null!==t.context&&(this.context=t.context),b=[],i=this,this.maxFileSize=h.initLimition().fileSize,this.allowedExtensions=["png","gif","jpg","jpeg"],this.addSpecialCss(),this.$padView=a("#innerdocbody"),this.$editorContainer=a("#editorcontainer"),this.$copyContainer=a(".copy-container"),this.isMac=e.isMac(),this.clearRemainingPlaceholder(),n="",this.allowedExtensions.forEach(function(e){return""!==n&&(n+=", "),n+="image/"+e}),r={isMultiple:!0,title:"上传图片",accept:n},e.isMobile()&&(r.width=45,r.height=45),this.$galleryBox=a("#gallery-box"),this.initializeUploadImage().createOpacityFormInside("#image-upload-button",r),this.isMovingImage=!1,this.uploadList=[],this.$progressTag=a("#progress-style"),this.dragEnterCounter=0,this.$currentEditingImage=a(),this.currentEditingImageSelector="",this.$isResizing=!1,this.$tempStyleDom=a(),this.needHideCaret=!1,this.clickOther=!1,this.$menuLeftBar=a(".menu_left"),this.firstIntoDoc=!0,this.maxImageWidth=k=this.$padView.find(">div:first").width()-3,e.isMobile()&&["doc","spreadsheet","sheet"].indexOf(cow.pageType)>-1&&p.init(),e.isMobile()||window.cow.readonly||f.attach("caret:change",o.bind(this.listenCaretChange,this),{isAsync:!1}),document.execCommand&&s.mozilla)return document.execCommand("enableObjectResizing",!1,"false")},m.prototype.bindWindowEvents=function(){return a(window).on("beforeunload",function(){if(b.length>0)return"确认要离开页面吗？离开后您正在上传的图片将无法保存"}),a(window).on("unload",o.bind(this.cancelAllUpload,this))},m.prototype.cancelAllUpload=function(){var e,t,n,r,i,o,s,c;if(0!==b.length){for(t={},this.$padView.find(".image-placeholder").each(function(){var e,n,r;if(e=a(this).parents("div[id^=magicdom]"),n=e.find(".image-placeholder").attr("class"),r=n.match(/placeholder-[a-z,A-Z,0-9]{16}/),r=r&&r[0]?r[0]:"")return t[r]=e}),c=null,i=0,o=b.length;i<o;i++)r=b[i],t.hasOwnProperty(r.guid)&&(e=t[r.guid],n=e.index("#innerdocbody>div"),e.remove(),s=a("#innerdocbody>div")[n],this.context.ace.callWithAce(function(e){if(s)return e.ace_observeChangesAroundNode(s),e.ace_fastIncorp(1,"call")},"delete-image-placeholder",!0)),r.abortUpload&&(c=r);return b.length=0,c?c.abortUpload():void 0}},m.prototype.clearRemainingPlaceholder=function(e){var t,n,r,i;return i=this,r=function(e){var t;if(t=e.index("#innerdocbody>div"),t>-1)return i.context.ace.callWithAce(function(e){return e.ace_doRemoveOldLine(t)},"delete-image-placeholder",!0)},e&&(n=a("."+e),t=n.closest("div[id^=magicdom]"),r(t)),this.$padView.find(".image-placeholder").each(function(){return t=a(this).parents("div[id^=magicdom]"),r(t)})},m.prototype.eventMap={"click .image-placeholder .upload-remove-media":"cancelUpload","dragstart .upload-image":"prepareDragging","dragover #innerdocbody>div":"handleDrag","drag #innerdocbody>div":"handleDrag","drop #innerdocbody":"handleDrop","dragend .upload-image":"cleanDragOverStyle","paste #innerdocbody":"handlePaste","dragstart .image-resize-bar":"stopPropagation","mousedown .image-resize-bar":"startImageResize","mousemove body":"doingImageResize","mouseup body":"doneImageResize","imageredraw #innerdocbody":"onImageRedraw","click body":"onImageClick","keydown body":"onSelectedImageKeydown"},m.prototype.domEvents={cancelUpload:function(e,t){var n,r,i,s,c,u;return n=a(t).parents("div[id^=magicdom]"),r=n.find(".image-placeholder").attr("class"),r&&(i=r.split(" "),c=i.indexOf("image-placeholder")+1,s=i[c],u=null,s&&o.remove(b,function(e){return e.guid===s&&(!e.abortUpload||(u=e,!1))}),u&&"function"==typeof u.abortUpload&&u.abortUpload()),n.remove()},onImageClick:function(e,t){var n,r;if(this.isInDocbody(e.target))"IMG"===e.target.tagName?(this.selectImage(e.target),this.moveCaretToImageLine()):this.clearSelected(),this.clickOther=!1,this.firstIntoDoc=!1;else{if(!(this.$menuLeftBar.has(e.target).length>0))return this.clearSelected(),this.clickOther=!0;if(n=a(e.target).closest("li[data-key]").attr("data-key")||"",r="bold,italic,underline,insertorderedlist,insertunorderedlist,checklist,indent,outdent",r.indexOf(n)===-1)return this.clearSelected(),this.clickOther=!0}},startImageResize:function(e,t){return this.isResizing=!0,this.resizeStartPoint={x:e.clientX,y:e.clientY},this.imageOriginSize={width:this.$currentEditingImage.width(),height:this.$currentEditingImage.height()}},doingImageResize:function(e,t){var n,r,i,o;if(this.isResizing)return this.$editorContainer.hasClass("disable-select")||this.$editorContainer.addClass("disable-select"),i=e.clientX-this.resizeStartPoint.x,o=e.clientY-this.resizeStartPoint.y,Math.abs(i)/Math.abs(o)>=this.imageOriginSize.width/this.imageOriginSize.height?(r=this.imageOriginSize.width+i,n=this.imageOriginSize.height*r/this.imageOriginSize.width):(n=this.imageOriginSize.height+o,r=this.imageOriginSize.width*n/this.imageOriginSize.height),r<50&&(r=50,n=this.imageOriginSize.height*r/this.imageOriginSize.width),r>=this.maxImageWidth&&(r=this.maxImageWidth,n=this.imageOriginSize.height*r/this.imageOriginSize.width),this.dynamicChangeImageSizeWhenMove({width:r,height:n}),this.repositionResizeBar(),this.stopPropagation(e)},doneImageResize:function(e,t){var n,r,i,s;if(this.isResizing)return this.$editorContainer.removeClass("disable-select"),this.isResizing=!1,this.$currentEditingImage=a(this.currentEditingImageSelector),n=this.$currentEditingImage.parents("div[id^=magicdom]"),s=this.$currentEditingImage.width(),i=this.$currentEditingImage.height(),r=this.currentEditingImageSelector.match(/img-([0-9A-Za-z]{16})/),r=r&&r[1]?r[1]:"",o.includes(this.brokenImagesGuids,r)||this.context.ace.callWithAce(function(e){return e.ace_resizeImage(e,n,{width:s,height:i})},"resizeImage",!0),this.$currentEditingImage=a(this.currentEditingImageSelector),this.dynamicChangeImageSizeWhenMove(this.currentEditingImageSelector),this.stopPropagation(e)},onImageRedraw:function(e,t){var n;return n=this,this.needHideCaret=!0,setTimeout(function(){return n.$currentEditingImage=a(n.currentEditingImageSelector),n.repositionResizeBar()},10)},onSelectedImageKeydown:function(t,n){var r,i,o,s,c,u,l;if(l=this,c=a("#pad-view").hasClass("selection-unfold"),a(M).length>0&&!c&&!this.$galleryBox.hasClass("modal")){if(i=this.$currentEditingImage.parents("div[id^=magicdom]"),o=a("#innerdocbody div[id^=magicdom]"),s=o.index(i[0]),8===+t.keyCode||46===+t.keyCode)return this.context.ace.callWithAce(function(e){var n,r,o;if(i.length>0){if(e.ace_doRemoveOldLine(s),e.ace_getLineListType(s+1)&&e.ace_getLineListType(s)&&e.ace_renumberList(s+1),o=e.ace_getRep(),l.setDocEditable(!0),e.ace_activeCaret(),0===s)return o.selEnd=[0,0],o.selStart=[0,0];if(8===+t.keyCode)return n=o.lines.atIndex(s-1),r=n.lineMarker+n.text.length,o.selEnd=[s-1,r],o.selStart=[s-1,r];if(46===+t.keyCode)return o.selEnd=[s,0],o.selStart=[s,0]}},"delete-selected-image",!0),this.clearSelected(),this.stopPropagation(t);if(32===+t.keyCode)return this.stopPropagation(t);if(13===+t.keyCode)return this.context.ace.callWithAce(function(t){var n,r,i;return t.ace_performDocumentReplaceRangeWithAttributes([s+1,0],[s+1,0],"\n",[]),(r=t.ace_getLineListType(s-1))&&(n=/[a-z]+([123456789])/.exec(r),t.ace_performDocumentReplaceRangeWithAttributes([s+1,0],[s+1,0],"*",[["author",t.ace_getAuthor()],["list","indent"+(n?n[1]:"1")],["lineguid",e.genGuid()]])),l.setDocEditable(!0),t.ace_activeCaret(),i=t.ace_getRep(),i.selStart=i.selEnd=[s+1,0]},"insert-line",!0),this.repositionResizeBar(),this.stopPropagation(t);if(38===+t.keyCode||40===+t.keyCode)return this.context.ace.callWithAce(function(e){var n,r;return l.setDocEditable(!0),e.ace_activeCaret(),r=s+(38===+t.keyCode?-1:1),n=e.ace_getRep(),n.selStart=n.selEnd=[r,0],i.next().focus()},"move-caret",!0),this.stopPropagation(t);(this.isMac&&t.metaKey||!this.isMac&&t.ctrlKey)&&(r=this.$currentEditingImage.clone(),u=this.$currentEditingImage.offset(),this.$copyContainer.css("top",u.top+"px"),l=this,setTimeout(function(){var e,t;return l.$copyContainer.empty().append(r).focus().select(),e=document.createRange(),e.setStartBefore(r.first()[0]),e.setEndAfter(r.last()[0]),t=window.getSelection(),t.removeAllRanges(),t.addRange(e)},0),88===+t.keyCode&&(i=this.$currentEditingImage.parents("div[id^=magicdom]"),o=a("#innerdocbody div[id^=magicdom]"),s=o.index(i[0]),this.context.ace.callWithAce(function(e){if(i.length>0&&(e.ace_doRemoveOldLine(s),e.ace_getLineListType(s+1)&&e.ace_getLineListType(s)))return e.ace_renumberList(s+1)},"delete-selected-image",!0)))}if(this.$galleryBox.hasClass("modal"))return t.stopPropagation(),t.preventDefault(),!1},stopPropagation:function(e,t){return e.stopPropagation(),e.preventDefault(),!1},prepareDragging:function(e,t){var n;return window.cow.readonly?this.stopPropagation(e):(n=a(t).attr("class").match(/img-[0-9A-Za-z]{16}/),n&&(this.originImgGuid=n[0]),this.dropDirection="original",this.isMovingImage=!0,this.$curDragoverDom=a(),this.dragY=this.dragStartY=e.originalEvent.clientY)},handleDrag:function(e,t){var n;if(n=e.originalEvent.clientY,"dragover"===e.type){if(e.preventDefault(),this.aroundType=this.aroundOriginalImage(t),"original"===this.aroundType)return a(".dragged-over").removeClass("dragged-over"),this.dragY=this.dragStartY,void(this.$curDragoverDom=a());this.isMovingImage&&this.$curDragoverDom.attr("id")!==a(t).attr("id")&&(a(".dragged-over").removeClass("dragged-over"),this.$curDragoverDom=a(t),this.$curDragoverDom.addClass("dragged-over"),this.appendImgShadow(n))}else this.isMovingImage&&"drag"===e.type&&"original"!==this.aroundType&&this.appendImgShadow(n);return this.dragY=n},handleDrop:function(t,n){var r,i;return t.preventDefault(),a(M).remove(),this.$tempStyleDom=a(),this.changeResizeBarVisible(!1),i=function(t,n,r){return"original"!==t.aroundType&&t.aroundType!==t.dropDirection&&t.isMovingImage&&t.context.ace.callWithAce(function(n){var r,i,o;if(n.ace_doMoveImage(n,t.$curDragoverDom[0],t.originImgGuid,t.dropDirection),o=a("#innerdocbody ."+t.originImgGuid)[0],o&&(r=e.getLineDom(o))&&(i=a(r).index(),n.ace_doRemoveOldLine(i),n.ace_getLineListType(i)&&i>0&&n.ace_getLineListType(i-1)))return n.ace_renumberList(i)},"insertImageUrl",!0),t.$currentEditingImage=a()},r=function(t,n,r){var i,o,s,u,l,f,p;if(i=n.originalEvent.dataTransfer,p=t.initializeUploadImage(!0),"undefined"!=typeof FileReader&&i&&i.files.length>0){for(t.dragEnterCounter=0,t.$curDragoverDom=t.$curDragoverDom||a(),l=[],f=i.files,s=0,u=f.length;s<u;s++)o=f[s],l.push(new c(function(t,n){var r;return r=new FileReader,r.onloadend=function(n){var r,i,o,a;return a=n.target.result,r=a.slice(a.lastIndexOf(",")+1),a.match(/image\/\w+/)?(o=a.match(/image\/\w+/)[0],i=e.base64toBlob(r,o),t(i)):void t(null)},r.readAsDataURL(o)}));return c.all(l).then(function(t){return p.uploadFiles(t.filter(function(e){return!!e}).map(function(t){return{fields:{file:t},guid:e.genGuid("placeholder"),type:"blob"}}))})}},t.preventDefault(),this.isMovingImage?(i(this,t,n),a(".dragged-over").removeClass("dragged-over"),this.isMovingImage=!1):(this.removeDragAndDropShadow(),r(this,t,n)),self.dragEnterCounter=0},handleDragFileEnter:function(e,t){var n;if(e.preventDefault(),0===this.dragEnterCounter++&&(n=e.originalEvent.dataTransfer,null!==n.types&&(n.types.indexOf?n.types.indexOf("Files")!==-1:n.types.contains("application/x-moz-file"))))return this.context.ace.callWithAce(function(e){return e.ace_addShadowToCurrentCaretWhenDragging()},"addShadow",!0)},cleanDragAndDropShadow:function(e,t){var n;if(0===--this.dragEnterCounter&&(n=e.originalEvent.dataTransfer,null!==n.types&&(n.types.indexOf?n.types.indexOf("Files")!==-1:n.types.contains("application/x-moz-file"))))return this.removeDragAndDropShadow()},cleanDragOverStyle:function(){return a(".dragged-over").removeClass("dragged-over"),this.isMovingImage=!1},handlePaste:function(e,t){return this.handlePaste(t,e)}},m.prototype.appendImgShadow=function(e){return e<this.dragY?(this.dropDirection="top","top"===this.aroundType?this.$curDragoverDom.removeClass("dragged-bottom"):this.$curDragoverDom.addClass("dragged-top").removeClass("dragged-bottom")):e>this.dragY?(this.dropDirection="bottom","bottom"===this.aroundType?this.$curDragoverDom.removeClass("dragged-top"):this.$curDragoverDom.addClass("dragged-bottom").removeClass("dragged-top")):void 0},m.prototype.aroundOriginalImage=function(e){var t,n;return n="",t=a(e),t.find(".upload-image").hasClass(this.originImgGuid)&&(n=this.dropDirection="original"),t.next().find(".upload-image").hasClass(this.originImgGuid)&&(n="bottom"),t.prev().find(".upload-image").hasClass(this.originImgGuid)&&(n="top"),n},m.prototype.initializeUploadImage=function(e){var t;return t=this,new r({url:"https://up.qbox.me",fileQueue:b,onSubmit:function(n,r){return t.prepareUploadImage(t.context,r,e)},onValidationError:function(e,n){return t.handleValidationError(e,n)},onUploadBegin:function(e,t,n){if(e.length>0)return a.ajax({url:"/api/upload/forms",type:"POST",data:JSON.stringify(t),contentType:"application/json",success:function(t){var r,i,o,a,s,c,u;for(u=t.data,a=s=0,c=u.length;s<c;a=++s){o=u[a];for(r in o)l.call(o,r)&&(i=o[r],e[a].fields[r]=i)}return n()}})},onUploadComplete:function(e,n){return e.code?(g("上传失败","error"),void t.clearRemainingPlaceholder(n)):(g(T.uploadSuccess),t.handleUploadProgress(n,"100","上传成功"),t.handleReturnImage(t.context,n,e.data,!1),t.listenToCheckBrokenImage())},onWechatUploadComplete:function(e){return t.handleReturnImage(t.context,"",e,!0),t.listenToCheckBrokenImage()},onUploadError:function(e,n){return g("上传失败","error"),t.clearRemainingPlaceholder(n)},onUploadProgress:function(e,n){return t.handleUploadProgress(n,e)}})},m.prototype.handleUploadProgress=function(e,t,r){var i;return null==r&&(r="上传中"),t>98&&(t=98),i=t+"%",this.$progressTag.append(o.template(n)({classTag:"image",list:{guid:e,percentVal:i,content:r}})),this.clearProgressOldStyle()},m.prototype.clearProgressOldStyle=function(){var e,t,n,r,i,o,s,c,u,l;c=document.getElementById("progress-style"),u={},l="";try{for(o=c.sheet.rules?c.sheet.rules:c.sheet.cssRules,t=n=0,r=o.length;n<r;t=++n)i=o[t],u[i.selectorText]=i;for(s in u)i=u[s],l+=" "+i.cssText;return a(c).html(l)}catch(t){e=t}},m.prototype.addSpecialCss=function(){var e;return e=this.context.pad.getUserId(),a("<style type='text/css'> .author-"+e+".image-placeholder { display: block!important; } </style>").appendTo("head")},m.prototype.prepareUploadImage=function(e,t,n){return e.ace.callWithAce(function(e){return e.ace_doInsertImagePlaceholder(e,t,n)},"insertPlaceholder",!0)},m.prototype.handleReturnImage=function(e,t,n,r){var i;return i=encodeURIComponent(n.images),w(i).always(function(n){return e.ace.callWithAce(function(e){return e.ace_doReplacePlaceholderWithImage(e,t,i,n,r)},"uploadImage",!0)})},m.prototype.validateImageBlob=function(e){if(!o.includes(this.allowedExtensions,e.type.slice(6))||this.maxFileSize!==1/0&&e.size>this.maxFileSize)return T.uploadFailed},m.prototype.handleValidationError=function(e){var t;switch(e){case"typeInvalid":return g(T.uploadFailed);case"sizeInvalid":return t={headText:"到达上限",bodyText:"最大上传10M的图片/附件，升级<b>石墨高级版</b>无此限制",buttons:[{type:"link-button",buttonLabel:"了解详情",href:"/payment",target:"_blank",customClass:"btn btn-ok",closeAfterClick:!0},{type:"button",buttonLabel:"取消",customClass:"btn btn-cancel",closeAfterClick:!0}]},d.show(t);case"maxSizeInvalid":return t={headText:"到达上限",bodyText:"暂时不支持上传超过500M的文件，请压缩或分隔后上传。",buttons:[{type:"button",buttonLabel:"取消",customClass:"btn btn-cancel",closeAfterClick:!0}]},d.show(t)}},m.prototype.handlePaste=function(e,t){return t=t.originalEvent,t&&t.clipboardData&&t.clipboardData.getData&&t.clipboardData.items?this.handleChromePaste(e,t):this.handleOtherBrowserPaste(e)},m.prototype.handleChromePaste=function(t,n){var r,i;if(i=n.clipboardData.items[0],i&&i.type.match(/^image\//))return r=i.getAsFile(),this.initializeUploadImage().uploadFiles([{fields:{file:r},guid:e.genGuid("placeholder"),type:"blob"}])},m.prototype.handleOtherBrowserPaste=function(t,n){var r,i,o;return null==n&&(n=3),i=this,r=a("#innerdocbody img").filter(function(){return!a(this).parents().hasClass("upload-image")}),r.length?e.isSafari()?e.alert({title:"Safari 浏览器不支持图片粘贴，请上传本地图片或者使用其他浏览器",type:"error"}):i.processPaste(r):(o={e:t},o.callself=function(){return i.handleOtherBrowserPaste(o.e,n-1)},n>0?setTimeout(o.callself,20):void 0)},m.prototype.processPaste=function(t){var n,r,i,s,c,u,l,f;for(f=o.map(t,function(e){return a(e).attr("src")}),u=[],s=0,c=f.length;s<c;s++)l=f[s],l.match(/base64/)?(n=l.slice(l.lastIndexOf(",")+1),i=l.match(/image\/\w+/)[0],r=e.base64toBlob(n,i),u.push(this.initializeUploadImage().uploadFiles([{fields:{file:r},guid:e.genGuid("placeholder"),type:"blob"}]))):u.push(void 0);return u},m.prototype.removeDragAndDropShadow=function(){return a(".drag-and-drop-placeholder").removeClass("drag-and-drop-placeholder")},m.prototype.insertTempImageStyleForResize=function(e,t){var n,r,s;return a(M).remove(),s=t&&"undefined"!=typeof t.width?"width:"+t.width+"px!important;":"",n=t&&"undefined"!=typeof t.height?"height:"+t.height+"px!important;":"",r=o.template(i)({selector:e,width:s,height:n}),a("body").append(r),this.$tempStyleDom=a(r)},m.prototype.repositionResizeBar=function(){var e,t,n,r,i,o,s;return e=a(".image-resize-bar"),0===this.$currentEditingImage.length?this.changeResizeBarVisible(!1):(o=this.$currentEditingImage.offset(),r=a("#editorcontainer").offset(),s=this.$currentEditingImage.width(),i=this.$currentEditingImage.height(),n=e.width()+4,t=e.height()+4,e.css("left",o.left-r.left+s-n/2+"px").css("top",o.top-r.top+i-t/2+"px"))},m.prototype.dynamicChangeImageSizeWhenMove=function(e){if(e)return this.insertTempImageStyleForResize(this.currentEditingImageSelector,e)},m.prototype.changeResizeBarVisible=function(e){return e?a(".image-resize-bar").addClass("active"):a(".image-resize-bar").removeClass("active")},m.prototype.setDocEditable=function(e){var t;return null==e&&(e=!0),t=this,this.context.ace.callWithAce(function(t){return t.ace_setEditable(e)}),setTimeout(function(){if(!e&&(s.mozilla||s.id))return t.$padView.blur()},0)},m.prototype.moveCaretToImageLine=function(){var e,t;return e=a(this.currentEditingImageSelector),t=_(e[0]),this.context.ace.callWithAce(function(e){return e.ace_moveCaretToImageLine(e,t)},"moveCaretToImageLine",!0)},m.prototype.selectImage=function(e,t){var n,r;if(null==t&&(t=!1),!this.checkSelectImage(e)||t)return n=this.getImageGuidFromImage(e,!0),r="#innerdocbody ."+n+" img",this.currentEditingImageSelector=r,this.$currentEditingImage=a(e),this.insertTempImageStyleForResize(r),this.changeResizeBarVisible(!0),this.repositionResizeBar(),this.setDocEditable(!1)},m.prototype.clearSelected=function(){return this.setDocEditable(!0),this.changeResizeBarVisible(!1),this.$currentEditingImage=a(),this.currentEditingImageSelector="",a(M).remove()},m.prototype.listenCaretChange=function(e){var t,n,r,i;if(i=e.selStart,r=e.selEnd,!i||!i)return void this.repositionResizeBar();if(n=i[0],t=this.getImageInLine(n),i&&r&&i[0]===r[0]&&i[1]===r[1]&&t){if("true"===this.$padView.attr("contenteditable")&&this.setDocEditable(!1),this.firstIntoDoc)return;if("undefined"!=typeof t&&null!==t){if(t!==a(this.currentEditingImageSelector)[0]&&!this.clickOther)return this.selectImage(t);if(this.needHideCaret)return this.needHideCaret=!1,this.selectImage(t,!0)}}else if(a(this.currentEditingImageSelector).length>0)return this.clearSelected()},m.prototype.getImageInLine=function(e){var t,n;return n=a("#innerdocbody>div")[e],"undefined"==typeof n||null===n?null:t=a(n).find("img")[0]},m.prototype.checkSelectImage=function(e){return this.$currentEditingImage.length>0&&this.$currentEditingImage[0]===e},m.prototype.getImageGuidFromImage=function(e,t){var n,r,i;return null==t&&(t=!0),n=a(e).parents("span[class*=img-]"),r=n.attr("class"),r?t?(i=r.match(/img-[0-9A-Za-z]{16}/),i=i&&i[0]?i[0]:""):(i=r.match(/img-([0-9A-Za-z]{16})/),i=i&&i[1]?i[1]:""):""},m.prototype.isInDocbody=function(e){return a(e).closest("#innerdocbody").length>0},m.prototype.listenToCheckBrokenImage=function(){var e;return e=this,a("#innerdocbody img").off("error").on("error",function(t){var n,r,i;if(n=a(t.target),r=n.closest(".upload-image").attr("class"),i=r.match(/img-([0-9A-Za-z]{16})/),i=i&&i[1]?i[1]:"",!o.includes(e.brokenImagesGuids,i))return e.brokenImagesGuids.push(i)})},m.prototype.stopPropagation=function(e){return e.stopPropagation(),e.preventDefault(),!1},m}(e.DomModule),R=null,y.postAceInit=function(e,t){return R||(R=new m("html")),R.reset({context:t})},y.aceAttribsToClasses=function(t,n){var r,i;return"upload-image"===n.key&&null!=n.value?(i=n.value.split(","),r=["upload-image:"+i[0]+" img-"+(i[1]||e.genGuid())+" "+(i[2]||"")+" "+(i[3]||"")]):"image-placeholder"===n.key?(i=n.value.split(","),"error"===i[1]?["image-placeholder "+i[0]+" upload-error"]:["image-placeholder "+i[0]]):[]},y.aceCreateDomLine=function(e,t){var n,r,i,o,s,c,u,l;return n=function(e){var t;return t=e.lastIndexOf("."),e.slice(t+1).toLowerCase()},o=function(e){var t;if(e)return 0===e.indexOf("static")&&(e="/"+e),0===e.indexOf("/static")&&e.indexOf("_large")<0&&"gif"!==n(e)&&(t=e.lastIndexOf("."),e=[e.slice(0,t),"_large",e.slice(t)].join("")),e},t.cls.indexOf("upload-image")>-1?(a(".image-resize-bar").is(":visible")&&a("#innerdocbody").trigger("imageredraw"),c=null,t.cls=t.cls.replace(/(^| )upload\-image:(\S+)/gi,function(e,t,n){return c=encodeURI(decodeURIComponent(n)),t+"upload-image"}),c=o(c),l=t.cls.match(/image-width-\d+/),u="",l&&l.length>0&&(l=l[0].replace("image-width-",""),u+="width:"+l+"px;"),r=t.cls.match(/image-height-\d+/),r&&r.length>0&&(r=r[0].replace("image-height-",""),u+="height:"+r+"px;"),+l>k&&(+r&&+r>0?(s=parseInt(+r*k/+l),u="width:"+k+"px;height:"+s+"px;"):u="width:"+k+"px;"),[{cls:t.cls,extraOpenTags:'<img alt="" style="'+u+'"src="'+c+'" /><div class="not-render">',extraCloseTags:"</div>"}]):t.cls.indexOf("image-placeholder")>-1?(i='<div class="upload-loading-block" contenteditable="false"><span class="upload-progress-groove"><span class="upload-progress-bar"></span></span> <span class="upload-loading-info"></span><span class="upload-remove-media hicon icon-remove-media"></span></div>',
[{cls:t.cls,extraOpenTags:i+'<div class="image-error-msg" contenteditable="false">',extraCloseTags:"</div>"}]):void 0},L=function(e,t){var n,r,i,o,s;return n=a("#doc-view"),r=n.scrollTop(),o=97,s=a(window).height()-o,t=t?t:e.height(),i=e.offset().top-o+r,t<s&&(i-=s/2-t/2),n.scrollTop(i)},D=function(e){var t,n;return t=e.find("img"),n=a("#innerdocbody").width(),t[0].onload=function(){var t;return t=this.width>n?n/this.width*this.height:this.height,L(e,t)}},O=function(t,n,r,i,s){var c,u,l,f,p,d,h,m,v,g,y,b,w,_,x;if(s=!!s,p=" \n",s){if(_=this.rep,!_||!_.selStart)return;g=_.selStart,v=_.selEnd,x=_.selStart[0],d=_.selEnd[0],h=x,t.ace_isCaret()&&a(a("#innerdocbody>div")[x]).find(".upload-image, .upload-attachment").length>0&&(y=!0,g=v=[x+1,0],h+=1),_.selStart[1]>0&&!y&&(p="\n"+p,h+=1)}else{if(c=a(".image-placeholder."+n),c[0]||(c=a(".attachment-placeholder."+n)),_=t.ace_domToRep(c[0]),!_||!_.selEnd)return;h=_.selStart[0],c.prev().is("span")&&(p="\n"+p,h+=1),g=_.selStart,v=[_.selEnd[0],_.selEnd[1]-1]}if(m=[],i&&o.each(["width","height"],function(e){var t;if(!isNaN(t=parseInt(i[e])))return m.push("image-"+e+"-"+t)}),w=e.genGuid(),t.ace_performDocumentReplaceRangeWithAttributes(g,v,p,[["author",this.documentAttributeManager.author],["upload-image",[r,w].concat(m)],["lineguid",e.genGuid()]]),(f=t.ace_getLineListType(_.selStart[0]-1))&&(l=/[a-z]+([123456789])/.exec(f),t.ace_performDocumentReplaceRangeWithAttributes([g[0]+1,0],[g[0]+1,0],"*",[["author",this.documentAttributeManager.author],["list","indent"+(l?l[1]:"1")],["lineguid",e.genGuid()]])),t.ace_setAttributesOnline(h,[["line-align","center"],["inherit:inherit",!0]]),h+2<this.rep.lines.length()&&(b=t.ace_getLineListType(h+2),b&&t.ace_renumberList(h+2)),u=a(".upload-image."+w),u.length)return D(u)},x=function(t,n){var r,i,o,a;if(this.rep.selStart)return N(this.rep),r=" ",o=this.rep.selStart[1],a=this.rep.selStart[0],i=a,o>0&&(r="\n"+r,i+=1),r+="\n",t.ace_performDocumentReplaceRangeWithAttributes(void 0,void 0,r,[["author",this.documentAttributeManager.author],["upload-image",[n,e.genGuid()]],["lineguid",e.genGuid()]]),t.ace_setAttributesOnline(i,[["line-align","center"],["inherit:inherit",!0]])},w=function(e){var t,n;return t=a.Deferred(),e||t.reject(),n=document.createElement("img"),n.onload=function(){var e;return e={width:this.width,height:this.height},t.resolve(e)},n.onerror=function(){return t.reject()},n.src=decodeURIComponent(e),t.promise()},C=function(e,t,n){var r,i,o,s,c,u,l;if(s=this.rep,c=void 0,o=void 0,s.selStart&&s.selEnd||(s.selStart=[0,0],s.selEnd=[0,0]),N(s),i=" ",n?(l=s.selEnd[0],u=s.lines.atIndex(l).text.length,c=[l,u],o=[l,u],u>0&&(i="\n ")):(u=s.selStart&&s.selStart[1],l=s.selStart&&s.selStart[0],s.selStart[0]===s.selEnd[0]&&s.selStart[1]===s.selEnd[1]&&a(a("#innerdocbody>div")[s.selStart[0]]).find(".upload-image, .upload-attachment").length>0&&(c=o=[l,u+1]),u>0&&(i="\n"+i)),e.ace_performDocumentReplaceRangeWithAttributes(c,o,i,[["author",this.documentAttributeManager.author],["image-placeholder",[t,"normal"]]]),r=a(".image-placeholder."+t),r.length)return L(r)},_=function(e){if(e){for(;e.parentNode&&"innerdocbody"!==e.parentNode.id;)e=e.parentNode;return"DIV"===e.tagName.toUpperCase()?a(e).index():void 0}},E=function(t,n,r,i){var o,s,c,u,l,f,p,d,h,m,v,g,y,b;if(u=a("#innerdocbody ."+r).attr("class"),b=u.match(/image-width-\d+/),f=u.match(/image-height-\d+/),y=t.ace_domToRep(n),y&&y.selEnd)return h=a("."+r+" img").attr("src"),h=encodeURIComponent(decodeURI(h)),h&&(c=[],c.push(h),c.push(e.genGuid()),b&&b[0]&&c.push(b[0]),f&&f[0]&&c.push(f[0]),g=_(a("."+r)[0]),null!=g&&(m=this.documentAttributeManager.getAttributeOnLine(g,"line-align")),u&&(v=u.match(/comment-[0-9A-Za-z]{16}/)),s=[["author",this.documentAttributeManager.author],["upload-image",c]],v&&v[0]&&s.push(["comment",v]),p=d="top"===i?[y.selEnd[0],0]:[y.selEnd[0]+1,0],l=p[0],o=this.rep.lines.length(),l>o-1?(p[0]=d[0]=o-1,t.ace_performDocumentReplaceRangeWithAttributes(p,d,"\n \n",s)):t.ace_performDocumentReplaceRangeWithAttributes(p,d," \n",s),m&&t.ace_setAttributesOnline(l,[["line-align",m],["inherit:inherit",!0]]),l+1<o&&t.ace_getLineListType(l+1)&&l>1&&t.ace_getLineListType(l-1))?t.ace_renumberList(l+1):void 0},I=function(e){return a(".image-placeholder."+e).text("")},A=function(e){var t;return t=this.rep.selStart[0],e.ace_performDocumentReplaceRangeWithAttributes([t,0],[t,1],"",[])},N=function(e){if(e.selStart)return setTimeout(function(){var t,n;return t=a("div[id^=magicdom]").eq(e.selStart[0]),n=t.offset().top-a("#innerdocbody").offset().top,a("#editorcontainer").scrollTop(n)},1e3)},v=function(){var e,t;if(this.rep.selEnd)return t=this.rep.selEnd[0],e=a(a("#innerdocbody div:nth-child("+(t+1)+")")),e.length?(e.addClass("drag-and-drop-placeholder"),L(e)):void 0},P=function(e,t,n){var r,i,o,a,s,c,u,l,f,p;i=[],r=t.find("img"),l=e.ace_domToRep(r[0]),u=encodeURIComponent(decodeURI(r[0].src)),i.push(u),o=r.closest("span[class*=img-]").attr("class"),a=o.match(/img-([0-9A-Za-z]{16})/),a&&a[1]&&(a=a[1]),p=o.match(/image-width-(\d+)/),p&&p.length>1&&(p=p[1]),s=o.match(/image-height-(\d+)/),s&&s.length>1&&(s=s[1]),a&&i.push(a),"undefined"!=typeof n&&null!==n||(n={},p=parseInt(p),s=parseInt(s),isNaN(p)||(n.width=p),isNaN(s)||(n.height=s));for(c in n)f="image-"+c+"-"+n[c],i.push(f);this.documentAttributeManager.setAttributesOnRange(l.selStart,[l.selEnd[0],l.selEnd[1]+1],[["upload-image",i.join()]])},S=function(e,t){var n,r;return r=this.rep,e.ace_isCaret()||(window.getSelection().removeAllRanges(),a("#text-count").addClass("hide")),n=r.lines.atIndex(t),r.selStart=[t,n.lineMarker],r.selEnd=[t,n.lineMarker]},g=function(n,r){return e.isMobile()?t(n):e.alert({title:n,type:r})},y.aceInitialized=function(e,t){t.editorInfo.ace_doReplacePlaceholderWithImage=o.bind(O,t),t.editorInfo.ace_doInsertImageLink=o.bind(x,t),t.editorInfo.ace_doRemoveImage=o.bind(A,t),t.editorInfo.ace_doInsertImagePlaceholder=o.bind(C,t),t.editorInfo.ace_doMoveImage=o.bind(E,t),t.editorInfo.ace_addShadowToCurrentCaretWhenDragging=o.bind(v,t),t.editorInfo.ace_resizeImage=o.bind(P,t),t.editorInfo.ace_moveCaretToImageLine=o.bind(S,t)},y}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(4),n(1),n(294),n(170))},function(e,t){e.exports="<% if (list.guid) {%>\n    <% if (list.content) {%>\n        span.<%= classTag %>-placeholder.<%= list.guid%> .upload-loading-block .upload-loading-info::before {\n            content: '<%= list.content %>'!important;\n        }\n    <% }%>\n    .<%= classTag %>-placeholder.<%= list.guid%> .upload-progress-bar{\n        width: <%= list.percentVal%>!important;\n    }\n<% }%>\n"},function(e,t,n){var r,i;(function(o,a){var s={}.hasOwnProperty;r=[n(175),n(226),n(334)],i=function(e,t,n){var r;return r=function(){function r(e){var t,r,i,o;for(this.url=e.url,this.fileQueue=e.fileQueue,this.maxSize=e.maxSize||n.initLimition().fileSize,this.limitExtensions="boolean"!=typeof e.limitExtensions||e.limitExtensions,this.allowedExtensions=e.allowedExtensions||["png","gif","jpg","jpeg"],this.allowedExtensions=this.allowedExtensions.join(",").toLowerCase().split(","),o=["url","fileQueue"],r=0,i=o.length;r<i;r++)if(t=o[r],!this[t])return void console.log(t+" must be assigned");this.onSelect=e.onSelect||function(e,t){return!0},this.onValidationError=e.onValidationError||function(e,t){return{}},this.onSubmit=e.onSubmit||function(e,t){return{}},this.onUploadBegin=e.onUploadBegin||function(e,t,n){return n()},this.onUploadComplete=e.onUploadComplete||function(e,t){return{}},this.onUploadError=e.onUploadError||function(e,t){return{}},this.onUploadProgress=e.onUploadProgress||function(e,t){return{}},this.onWechatUploadComplete=e.onWechatUploadComplete||function(e){return{}},this.onUploadFromWechat=e.onUploadFromWechat||function(e){return{}},this.isAvatar=!!e.isAvatar}return r.prototype.createOpacityFormInside=function(n,r){var i,a,s,c,u,l,f,p,d;return a=o(n),r=o.extend({},r),l=r.width||a.width(),u=r.height||a.height(),f=r.isMultiple||!1,d=r.title||"",s=r.accept||"*",o(n).find("input[type=file]").remove(),c="ajax-upload-id-"+(new Date).getTime(),i=o(e.isWechat()?"<input data-title='"+d+"' type='button' id='"+c+"' class='toolbar-upload-file-input' name='files[]' />":"<input data-title='"+d+"' type='file' accept='"+s+"' id='"+c+"' class='toolbar-upload-file-input' name='files[]' "+(f?"multiple":"")+"/>"),i.css({position:"absolute",cursor:"pointer",top:"0px",width:l,height:u,left:"0px","z-index":"100","font-size":"200px",opacity:"0",filter:"alpha(opacity=0)","-ms-filter":"alpha(opacity=0)","-khtml-opacity":"0.0","-moz-opacity":"0.0",overflow:"hidden"}),a.css({position:"relative"}),p=this,e.isWechat()&&i.click(function(){return t.uploadImage(function(t){var n;return p.isAvatar&&p.onUploadFromWechat(),n="/api/upload/wechat"+(p.isAvatar?"?type=avatar":""),e.post(n,{mediaId:t},function(e){return 0===e.code?p.onWechatUploadComplete(e.data.data):p.onUploadError()},function(){return p.onUploadError()})})}),i.change(function(){var t,n,r,i,a,s;for(n=[],s=this.files,i=0,a=s.length;i<a;i++)t=s[i],r=e.genGuid("placeholder"),p.onSelect(t,r)&&n.push({guid:r,type:"form",fields:{file:t}});return p.uploadFiles(n),o(this).val("")}),i.prependTo(a)},r.prototype.uploadFiles=function(e){var t,n,r,i,o,a,s,c,u,l;for(r=[],n=[],a=!1,c=!1,s=!1,o=0,l=e.length;o<l;o++)u=e[o],t=u.fields.file,i="blob"===u.type?u.filename||t.type.slice(6):t.name,this.isExtensionAllowed(i)?this.maxSize===1/0?t.size>=524288e3?s=!0:(this.onSubmit(t,u.guid),r.push(u),n.push(i)):t.size<=this.maxSize?(this.onSubmit(t,u.guid),r.push(u),n.push(i)):c=!0:a=!0;return a?this.onValidationError("typeInvalid",u.guid):c?this.onValidationError("sizeInvalid",u.guid):s&&this.onValidationError("maxSizeInvalid",u.guid),this.onUploadBegin(r,n,function(e){return function(){var t,n,i,o;for(n=e.fileQueue.length>0,i=0,o=r.length;i<o;i++)t=r[i],e.fileQueue.push(t);if(!n)return e.uploadFiles1By1()}}(this))},r.prototype.isExtensionAllowed=function(e){return!this.limitExtensions||a.includes(this.allowedExtensions,e.split(".").pop().toLowerCase())},r.prototype.uploadFiles1By1=function(){var e,t,n,r,i,c,u,l,f,p;if(!a.isEmpty(this.fileQueue)){if(f=this,c=this.fileQueue[0],r=c.file,i=c.guid,p=c.type,e=new FormData,"blob"===p){e.append("type","base64"),u=c.fields;for(t in u)s.call(u,t)&&(n=u[t],"file"===t?e.append(t,n,c.filename):e.append(t,n))}else{l=c.fields;for(t in l)s.call(l,t)&&(n=l[t],e.append(t,n))}return c.abortUpload=function(e){return c.xhr&&c.xhr.abort(),"function"!=typeof e&&(e=function(){return console.log("'"+c.guid+"' upload canceled !!")}),e(),f.fileQueue.shift(),f.uploadFiles1By1()},o.ajax({url:this.url,type:"POST",xhr:function(){var e;return e=o.ajaxSettings.xhr(),e.upload&&e.upload.addEventListener("progress",function(e){var t,n;if(e.lengthComputable)return n=e.loaded/e.total,t=Math.floor(100*n),f.onUploadProgress(t,i)},!1),c.xhr=e,e},success:function(e){return f.onUploadComplete(e,i),f.fileQueue.shift(),f.uploadFiles1By1()},error:function(e){return f.onUploadError(e,i),f.fileQueue.shift(),f.uploadFiles1By1()},data:e,cache:!1,contentType:!1,processData:!1})}},r}()}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(1),n(4))},function(e,t){function n(){var e={fileSize:10485760,attachmentCount:1/0,teamworkerCount:5},t=cow.currentUser;if(!t||!t.accountType)return e;var n=t.accountType;return"personal_free"===n?e:(["personal_premium","enterprise_standard","enterprise_expired"].indexOf(n)>-1?(e.fileSize=1/0,e.teamworkerCount=200):"enterprise_dingding"===n&&(e.fileSize=1/0,e.teamworkerCount=1/0),e)}var r=[{name:"双十二活动",order:0,enable:!0,recordTag:"double_12_activity",text:"双12年度特惠，企业版买几人送几人！",targetLink:"https://shimodocs.mikecrm.com/OyO74o",openNewTab:!0,startDate:"2016/12/12 00:00:00",endDate:"2016/12/12 23:59:59",targetUser:{isEnterpriseOfficial:!1}}];e.exports={initLimition:n,notifications:r}},function(e,t){e.exports="<style type='text/css' rel='stylesheet' id='tempImageResizeStyle'>\n<%=selector %> {\n  box-shadow: 5px 5px 5px rgba(0, 0, 0, 0.4);\n  -webkit-box-shadow: 0 2px 6px 1px rgba(0, 0, 0, 0.4);\n  -moz-box-shadow: 0px 2px 6px 1px rgba(0, 0, 0, 0.4);\n  -ms-box-shadow: 0px 2px 6px 1px rgba(0, 0, 0, 0.4);\n  -o-box-shadow: 0px 2px 6px 1px rgba(0, 0, 0, 0.4);\n  resize: none !important;\n  margin-bottom: 2px;\n  margin-top: -2px;\n  <%= width %>\n  <%= height %>\n}\n<%=selector %>:hover {\n  cursor: zoom-in !important;\n}\n</style>\n"},function(e,t,n){var r,i;(function(o){var a=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty;r=[n(175)],i=function(e){var t,n,r;return n={},t=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.init=function(){return this.$view=o(document),this.initTable(),this.insertTable=this.insertTable.bind(this)},t.prototype.insertTable=function(){return this.context.ace.callWithAce(function(e){return e.ace_doInsertTable()},"insertTable",!0)},t.prototype.initTable=function(){var e,t;return document.domain&&(document.domain=document.domain),t=this,e=o("#insert-table-btn"),e.off("click"),e.on("click",this.insertTable)},t}(e.DomModule),r=new t("body"),n.postAceInit=function(e,t){return r.init(),r.context=t},n.aceAttribsToClasses=function(e,t){if("doc-table"===t.key)return["doc-table:"+t.value]},n.aceCreateDomLine=function(e,t){var n,r;if(t.cls.indexOf("doc-table")>-1)return n=t.cls.match(/doc-table:(\w+)/)[1],r=window.cow.client?"front/assets/sheet.html":"/sheet",[{cls:"doc-table",extraOpenTags:"<span class='inline-table'><div class='iframe-container' contenteditable='false'>"+("<iframe class='table-"+n+"' id='sheet-id' src='"+r+"' width='100%'")+" height='50' style='border:0px' scrolling='yes'>",extraCloseTags:"</iframe></div></span>"}]},n}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(1))},function(e,t,n){var r,i;(function(o,a){var s=function(e,t){function n(){this.constructor=e}for(var r in t)c.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},c={}.hasOwnProperty;r=[n(175),n(191),n(338),n(339),n(183),n(166),n(300)],i=function(e,t,n,r,i,c,u){var l;return l=function(t){function l(){return l.__super__.constructor.apply(this,arguments)}return s(l,t),l.prototype.init=function(){var e;return this.$mentionPop=o("#mention-pop"),this.inMention=!1,this.maxSearch=6,this.halfMaxSearch=this.maxSearch/2,this.$resultListView=this.$mentionPop.children(".result-list"),this.$placeholder=this.$mentionPop.find(".doc-mention-placeholder"),this.docResultList=[],this.userResultList=[],this.allResultList=[],this.placeholderText="在此@同伴或者文档",this.noResultText="轻敲空格完成输入",this.$styleTag=o("#mention-style"),this.$widthSpan=o("#mention-width"),this.$container=o("#editorcontainer"),this.$trangle=this.$mentionPop.find(".top, .down"),this.docGuid=window.location.href.substring(window.location.href.lastIndexOf("/")+1),this.onlineStatusWatch(),this.mentionSearch=a.debounce(this.mentionSearch,300),e=this,c.attach("doc:goback",function(e){return function(){return e.hideMentionPop()}}(this))},l.prototype.eventMap={"mouseenter .mention-result":"mouseEnterResult","click .mention-result":"clickResult","click .at-btn":"addMention"},l.prototype.domEvents={addMention:function(e){},mouseEnterResult:function(e){if(e.stopPropagation(),!e.target.className.match(/active/))return this.updateSearchList("hover",{type:e.target.getAttribute("data-type"),id:e.target.getAttribute("data-id")})},clickResult:function(e){var t;return e.stopPropagation(),t=this,this.editorInfo.ace_callWithAce(function(e){return t.createMention()},"createMention",!0)}},l.prototype.mentionList={doc:{},user:{}},l.prototype.updateMentionList=function(e,t,n){var o;if(!this.mentionList[e][t]||this.mentionList[e][t][n[0]]!==n[1])return this.mentionList[e][t]||(this.mentionList[e][t]={online:i.isOnline(t)}),this.mentionList[e][t][n[0]]=n[1],"name"===n[0]&&(this.$widthSpan.html(n[1]),this.mentionList[e][t].width=this.$widthSpan.width()),o=a.template(r)({lists:this.mentionList}),this.$styleTag.html(o)},l.prototype.cancelMention=function(){var e,t,n;if(this.inMention)return e=this.editorInfo.ace_getRep(),n=[e.selStart[0],0],t=[e.selStart[0],e.lines.atIndex(e.selStart[0]).width-1],this.editorInfo.ace_performDocumentApplyAttributesToRange(n,t,[["autolink",""]]),this.hideMentionPop()},l.prototype.goonMention=function(){var e,t;if(!this.inMention&&(t=this.editorInfo.ace_getRep(),t.selStart&&t.selEnd))return e=this.getMentionInfo(),e.mentionStr.match(/^@/)?(this.editorInfo.ace_fastIncorp(21),this.clearMentionHolder(),this.editorInfo.ace_performDocumentApplyAttributesToRange([t.selStart[0],e.mentionIndex],[t.selStart[0],e.mentionIndex+1],[["autolink","true"]]),this.showMentionPop(t,e.mentionStr)):void 0},l.prototype.startMention=function(e){var t,n;if(!this.inMention)return n=e?-1:0,t=this.editorInfo.ace_getRep(),this.editorInfo.ace_fastIncorp(21),this.clearMentionHolder(),this.editorInfo.ace_performDocumentReplaceRangeWithAttributes([t.selStart[0],t.selStart[1]+n],t.selEnd,"@",[["autolink","true"],["author",this.editorInfo.ace_getAuthor()]]),this.showMentionPop(t)},l.prototype.createMention=function(){var e,t;if(this.inMention)return(t=a.find(this.userResultList,{selected:!0}))?void this.createUserMention(t):(e=a.find(this.docResultList,{selected:!0}),e?this.createDocMention(e):void 0)},l.prototype.createUserMention=function(t){var n,r,i;return i=this.editorInfo.ace_getRep(),r=this.getMentionInfo(),n=e.genGuid(),this.editorInfo.ace_performDocumentReplaceRangeWithAttributes([i.selStart[0],r.mentionIndex],[i.selStart[0],r.mentionIndex+r.mentionStr.length]," ",[["mention",["user-"+t.id+"-"+t.name,n]],["author",this.editorInfo.ace_getAuthor()]]),+t.id!==+window.cow.currentUser.id&&this.ajax.post("/api/mention/"+t.id,{guid:this.docGuid,atGuid:n}),this.finishCreateMention()},l.prototype.createDocMention=function(e){var t,n,r;return r=this.editorInfo.ace_getRep(),t=this.getMentionInfo(),n=1===e.type?"/folder/":e.type===-1?"/spreadsheet/":"/doc/",this.editorInfo.ace_performDocumentReplaceRangeWithAttributes([r.selStart[0],t.mentionIndex],[r.selStart[0],t.mentionIndex+t.mentionStr.length],e.name,[["link",["url-"+e.id,"http://"+location.host+n+e.guid]],["author",this.editorInfo.ace_getAuthor()]]),this.finishCreateMention()},l.prototype.finishCreateMention=function(){return this.editorInfo.ace_performDocumentReplaceRangeWithAttributes(void 0,void 0," ",[["author",this.editorInfo.ace_getAuthor()]]),this.hideMentionPop()},l.prototype.clearMentionHolder=function(){var e,t;if(t=this.editorInfo.ace_getRep(),e=o(t.lines.atIndex(t.selStart[0]).lineNode).find(".autolink"))return this.editorInfo.ace_performDocumentApplyAttributesToRange([t.selStart[0],0],[t.selStart[0],t.lines.atIndex(t.selStart[0]).width-1],[["autolink",""]])},l.prototype.showMentionPop=function(e,t){return this.updateMentionPop(e,t),this.$mentionPop.addClass("active"),this.inMention=!0,c.notify("pad:showMention")},l.prototype.hideMentionPop=function(){return this.$mentionPop.removeClass("active"),this.$resultListView.empty(),this.$placeholder.html(this.placeholderText).show(),this.inMention=!1},l.prototype.checkMention=function(){var e,t,n,r,i,o;if(this.inMention)return r=this.editorInfo.ace_getRep(),n=this.getMentionInfo(),o=r.selStart.concat(""),i=r.selEnd.concat(""),r.selStart[1]=n.mentionIndex,r.selEnd[1]=n.mentionIndex+1,e=n.curLineStr.slice(n.curLineStr.lastIndexOf("@")),t=e.split(" ").length>1,!t&&n.mentionStr.match(/^@/)&&this.editorInfo.ace_getAttributeOnSelection("autolink")?this.updateMentionPop(r,n.mentionStr):this.hideMentionPop(),r.selStart=o,r.selEnd=i},l.prototype.getMentionInfo=function(){var e,t,n,r,i,o,a,s;if(a=this.editorInfo.ace_getRep(),a.selStart&&a.selEnd){if(r=a.selStart[0],e=a.selStart[1],i=0,o="",n=a.lines.atIndex(r).text.substring(0,e),s=n.split(/\s|^\*/),s.length){for(;s.length&&s[0].length<e-i;)i+=s.shift().length+1;s.length&&(o=s[0],o.match(/^@/)||(t=o.match(/[^\x00-\xff]@/),t&&(i+=t.index+1,o=o.substring(t.index+1))))}return{curLineStr:n,mentionStr:o,mentionIndex:i}}},l.prototype.updateMentionPop=function(e,t){if(this.updatePosition(e),this.mentionStr!==t)return t&&this.updateString(t),this.mentionStr=t},l.prototype.updatePosition=function(e){var t,n,r,i;return r=o(e.lines.atIndex(e.selStart[0]).lineNode).find(".autolink"),t=r.position(),i=this.$mentionPop.width(),n=this.$container.width(),this.$mentionPop.css({left:t.left+i>=n?n-i:t.left-10-.3*r.width(),top:t.top+this.$container.scrollTop()+15+.8*r.height()}),this.$trangle.css({left:t.left+i>=n?t.left-n+i+r.width()/2-7:3+.8*r.width()})},l.prototype.updateString=function(e){var t;return t=this,e=e.substring(1),e?this.mentionSearch(e):(this.userResultList=[],this.docResultList=[],this.$placeholder.html(this.placeholderText),this.updateSearchList())},l.prototype.mentionSearch=function(e){return this.docResultList=[],this.userResultList=[],this.updateSearchList("result"),function(e){return function(t){return u.searchAll(t,"file,recent_contact,team_member",0,6).then(function(n){var r,i,o;if("@"+t===e.mentionStr)return e.docResultList=a.get(n,"file.results",[]).map(function(e){return e.source}),r=a.get(n,"recent_contact.results",[]),i=a.get(n,"team_member.results",[]),e.userResultList=a.unionBy(r,i,"id"),o=e.userResultList.splice(e.halfMaxSearch),e.docResultList.length>e.halfMaxSearch?e.docResultList.splice(e.maxSearch-e.userResultList.length):e.docResultList.length<e.halfMaxSearch&&o.length>0&&(o.splice(e.halfMaxSearch-docResultList.length),e.userResultList=e.userResultList.concat(o)),e.updateSearchList("result")})}}(this)(e)},l.prototype.updateSearchList=function(e,t){var r,i,o,s;if(this.inMention)if(this.$resultListView.empty(),"result"===e||"up"===e||"down"===e||"hover"===e)if(this.$placeholder.hide(),this.userResultList.length||this.docResultList.length){if(o=a.findIndex(this.userResultList,{selected:!0}),r=a.findIndex(this.docResultList,{selected:!0}),o===-1&&r===-1)this.userResultList.length?this.userResultList[0].selected=!0:this.docResultList[0].selected=!0;else if("up"===e)i=Math.min(this.docResultList.length,this.maxSearch),s=Math.min(this.userResultList.length,this.maxSearch),o>0?(this.userResultList[o].selected=!1,this.userResultList[o-1].selected=!0):0===r&&this.userResultList.length?(this.docResultList[0].selected=!1,this.userResultList[s-1].selected=!0):r>0&&(this.docResultList[r].selected=!1,this.docResultList[r-1].selected=!0);else if("down"===e)if(i=Math.min(this.docResultList.length,this.maxSearch),s=Math.min(this.userResultList.length,this.maxSearch),r>=0&&r<i-1){if(!this.docResultList[r]||!this.docResultList[r+1])return;this.docResultList[r].selected=!1,this.docResultList[r+1].selected=!0}else o>-1&&o===s-1&&this.docResultList.length?(this.userResultList[s-1]&&(this.userResultList[s-1].selected=!1),this.docResultList[0].selected=!0):o>=0&&o<s-1&&(this.userResultList[o].selected=!1,this.userResultList[o+1].selected=!0);else"hover"===e&&(o>=0?this.userResultList[o].selected=!1:this.docResultList[r].selected=!1,"user"===t.type?a.find(this.userResultList,{id:parseInt(t.id)}).selected=!0:"doc"===t.type&&(a.find(this.docResultList,{id:parseInt(t.id)}).selected=!0));this.$resultListView.append(a.template(n)({list:this.userResultList})).append(a.template(n)({list:this.docResultList}))}else this.$mentionPop.addClass("active"),this.$placeholder.html(this.noResultText).show();else this.$mentionPop.addClass("active"),this.$placeholder.html(this.placeholderText).show()},l.prototype.onlineStatusWatch=function(){var e;return e=this,i.watch("mention",this.$styleTag,function(t,n){return e.updateMentionList("user",t,["online",n]),!1})},l.prototype.aceAttribsToClasses=function(e,t){var n;if("mention"===t.key)return n=t.value.split(","),["mention:"+n[0]+"-"+n[1]]},l}(e.DomModule),{Obj:l,aceAttribsToClasses:l.prototype.aceAttribsToClasses}}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(1),n(4))},function(e,t){e.exports='<% _.each(list, function (data, index) { %>\n\t<li class="doc-mention-item mention-result <% if (data.selected){print(\'active\')} %>" data-id="<%= data.id %>"  data-type="<% data.guid ? print(\'doc\') : print(\'user\') %>">\n\t\t<% if (!data.guid){ %> \n\t\t\t<img class="doc-mention-avatar avatar" src="<%= data.avatar %>"><%= data.name %>\n\t\t<% } else { %>\n\t\t\t<% if (data.type === 1) { %>\n\t\t\t\t<span class="file-sprite file-folder-icon mention-icon"></span>\n\t\t\t<% } else if (data.type === 0) { %>\n\t\t\t\t<span class="file-sprite file-doc-icon mention-icon"></span>\n\t\t\t<% } else if (data.type === -1) { %>\n\t\t\t\t<span class="file-sprite file-spreadsheet-icon mention-icon"></span>\n      <% } else if (data.type === -3) { %>\n\t\t\t\t<span class="file-sprite file-sheet-icon mention-icon"></span>\n      <% } %>\n\t\t\t<%= data.name %>\n\t\t<% } %>\n\t</li>\n<% }) %>\n'},function(e,t){e.exports="<% _.each(lists, function (list, type) {%>\n\t<% _.each(list, function (info, id) {%>\n    <% if (info && info.name && info.width) {%>\n\t\t\t#innerdocbody .mention.<%= type %>-<%= id %>,.change .mention.<%= type %>-<%= id %> {\n\t\t\t\tletter-spacing: <%= info.width+4 %>px;\n\t\t\t\tfont-family: '<%= id %>-<%= info.name %>';\n\t\t\t}\n\t\t\t#innerdocbody .mention.<%= type %>-<%= id %>:before{\n\t\t\t\tcontent: '<%= info.name %>';\n\t\t\t\tmargin-right: <%= -info.width-8 %>px;\n\t\t\t}\n\t\t\t.change .mention.<%= type %>-<%= id %>:before {\n\t\t\t\tcontent: '@<%= info.name %>'\n\t\t\t}\n\t\t<% } %>\t\n\t\t<% if (info && info.online) {%>\n      #innerdocbody .mention.<%= type %>-<%= id %> {\n        background-color: #bfe5c0;\n\t\t\t}\n\t\t\t#innerdocbody .mention.<%= type %>-<%= id %>:before {\n\t\t\t\tcolor: #333;\n\t\t\t}\n\t\t<% } %>\n\t<% }) %>\n<% }) %>\n"},function(e,t,n){var r,i,o=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;r=[n(337),n(175),n(166),n(339)],i=function(e,t,n,r){var i,a;return i=e.Obj,a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return o(t,e),t.prototype.showMentionPop=function(e,t){return this.updateMentionPop(e,t),this.inMention=!0},t.prototype.hideMentionPop=function(){return this.inMention=!1,n.notify("hideMention")},t.prototype.updatePosition=function(e){},t.prototype.updateString=function(e){return t.__super__.updateString.apply(this,arguments)},t.prototype.updateSearchList=function(e,t){return n.notify("showMention",{userResultList:this.userResultList,docResultList:this.docResultList})},t.prototype.createMention=function(e){if(this.inMention&&e)return e.guid?this.createDocMention(e):this.createUserMention(e)},t}(i),{Obj:a,aceAttribsToClasses:a.prototype.aceAttribsToClasses}}.apply(t,r),!(void 0!==i&&(e.exports=i))},function(e,t,n){var r,i;(function(o,a){var s=function(e,t){function n(){this.constructor=e}for(var r in t)c.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},c={}.hasOwnProperty;r=[n(175),n(303)],i=function(e,t){var n,r,i,c,u,l,f,p,d,h;return l={},d={},n="",r="",p="",c={},u={},f={},h={readyDown:!1,readyMove:!1,readyUp:!1},i=function(i){function l(){return l.__super__.constructor.apply(this,arguments)}return s(l,i),l.prototype.init=function(){return this.$view=o("#pad-view"),this.$scrollBox=this.$view.find("#editorcontainer"),this.$dragLi=this.$view.find("#drag-li"),this.$docTitle=this.$view.find(".doc-title-box"),this.$blurInput=this.$view.find("#input-for-blur input"),this.fontList=["9","10","11","12","14","18","24","30","36"],this.root=o("#innerdocbody")[0]},l.prototype.eventMap={'click li[data-key="checklist"]':"checkListClick",'click ul[class^="list-done"]>li, ul[class^="list-check"]>li':"checkBoxClick"},l.prototype.domEvents={checkListClick:function(){return this.context.ace.callWithAce(function(e){return e.ace_doInsertUnorderedList("check")},"add-check-list",!0)},checkBoxClick:function(t,n){var r,i,a,s,c,u,l,f,p,d,h,m,v,g;if(r=o(n),a=o(n).closest("div[id^=magicdomid]"),0===a.length&&(a=o(n).closest("div")),c=a.attr("class"),c&&c.indexOf("heading-")>-1)switch(d=c.match(/heading-([0-9])/)[1]){case"1":f=2;break;case"2":f=4;break;case"3":f=6}else f=c&&c.indexOf("font-size-")>-1?c.match(/font-size-([0-9]+)/)[1]-1:2;return p=96*this.fontList[f]/72,u=r.offset(),i=a.find("li").children().first(),l=i.offset(),m=l&&l.left-1.5*p>u.left?l.left-1.5*p:u.left,l&&l.top-u.top>10&&(s=c.match(/line-(left|right|center|justify)/),m=s?"center"===s[1]?u.left+.5*r.width()-.5*p:"right"===s[1]?u.left+r.width()-1.5*p:u.left:u.left),h=t.clientX>m&&t.clientX<m+p,g=t.clientY>u.top&&t.clientY<u.top+1.7*p,h&&g&&(v=r.parent().attr("class").indexOf("list-done")>-1?"check":"done",this.context.ace.callWithAce(function(e){return e.ace_doClickCheckbox(v,a.index())},"checkBoxClick",!0)),e.clearDropdown()}},l.prototype.callForChangeCheck=function(e){return this.context.ace.callWithAce(function(t){return t.ace_observeChangesAroundNode(e)},"check-change",!0)},l.prototype.removeDragover=function(){return this.$view.find(".check-dragover").removeClass("check-dragover")},l.prototype.showDragLi=function(e){var t,i,o,a,s;return a=this,o=n.off,u.dis=e.clientY-o.top-10,u.scrollTop=this.$scrollBox.scrollTop(),t=95-this.$scrollBox.scrollTop(),i='<input class="blur"></input>',s=r.width(),p=setTimeout(function(){return a.$dragLi.html("").append(n).append(i).addClass("active").css({top:o.top-t,width:s})},180)},l.prototype.rePositionLi=function(e){var t,n;return t=o(this.root).children(":last"),n=e.clientY-95-u.dis+this.$scrollBox.scrollTop(),n<110&&(n=110),this.$dragLi.css({top:n})},l.prototype.hideDragLi=function(){return clearTimeout(p),this.$dragLi.removeClass("active")},l.prototype.getHoverLine=function(e){var t;if(t=this.$scrollBox.scrollTop(),t+e.clientY<u.scrollTop+f.preY){if(f.$pre[0])for(;f.$now.offset().top+f.$pre.height()/2>e.clientY-u.dis;)if(this.setMove(e,f.$pre),!f.$pre.prev().length)return}else if(f.$next[0])for(;f.$next.offset().top+f.$next.height()/2<e.clientY+26-u.dis;){if(!f.$next.next().length)return;this.setMove(e,f.$next)}},l.prototype.getCurrentDom=function(e){var t,n;if(n=this.$scrollBox.scrollTop(),t=n<80?210-n:130,!(e.clientY<t))return f.$now?this.getHoverLine(e):this.setMove(e,r),f.$now.hasClass("check-dragover")&&f.$now===r?void 0:(this.removeDragover(),f.$now.addClass("check-dragover"))},l.prototype.setMove=function(e,t){return u.scrollTop=this.$scrollBox.scrollTop(),f={preY:e.clientY,$now:t,$pre:t.prev(),$next:t.next()[0]?t.next():f.$next}},l.prototype.checkSelection=function(e){return t.postAceInit().buddleDirtyCheck()},l.prototype.checkDragEle=function(t){var i,a;if(i=e.getLineDom(t.target))return h.readyMove?void 0:(a=o(t.target).parents("li"),o(i).find("ul,ol").not('ul[class^="list-indent"],ul[class^="list-code"]').length&&!a.length?(r=o(i),d={prev:r.prev()[0],next:r.next()[0]},n=r.clone(),n.off=r.offset(),h.readyDown=!0):h.readyDown=!1)},l.prototype.scrollEditContainer=function(e){var t,n,r,i;return i=o(window).height(),t=15,n=this.$scrollBox.scrollTop(),r=Math.max(80-n,50),e.clientY<r+82?n-=t:e.clientY>i-50&&(n+=t),this.$scrollBox.scrollTop(n)},l.prototype.bindMouseEvent=function(){var e;return e=this,o(document).on("mousedown",function(t){1===t.button||0===t.button?(e.checkDragEle(t),h.readyDown?(h.readyMove=!0,e.showDragLi(t)):h.readyMove=!1):h.readyMove=!1}).on("mousemove",function(t){h.readyMove?(h.readyUp=!0,e.getCurrentDom(t),""===c.move&&e.setNodeClean(r[0],"drag"),e.rePositionLi(t),e.$dragLi.find(".blur").focus(),e.scrollEditContainer(t),r.children().hide()):h.readyUp=!1}).on("mouseup",function(t){var i,a,s,u,l;h.readyDown=!1,h.readyMove=!1,""!==c.move&&e.deleteNodeClean(c.move),e.removeDragover(),e.hideDragLi(),h.readyUp&&(a=f.$now?f.$now:o(d.prev),l=a.attr("id"),l&&e.$scrollBox.find("#"+l).length?(i=r.next(),s=a.next(),a.after(n),n.attr("tabIndex",-1).focus(),u=r.next()[0],r.remove(),e.checkSelection(),
e.callForChangeCheck(d.next),e.callForChangeCheck(d.prev),e.callForChangeCheck(n[0]),e.needRenumber([i]),e.needRenumber([a,s])):r.children().show()),d={},f={},c.move=""})},l.prototype.needRenumber=function(e){var t;return t=this,a.each(e,function(e,n){if(t.isList(e))return t.renumberList(e),!1})},l.prototype.isList=function(e){return e.length&&e[0].parentNode&&e.find("ol,ul").length},l.prototype.renumberList=function(e){return this.context.ace.callWithAce(function(t){var n;if(n=t.ace_domToRep(e[0]))return t.ace_renumberList(n.selStart[0])},"renumberList",!0)},l.prototype.setNodeClean=function(e,t){return this.context.ace.callWithAce(function(n){var r;return r=n.ace_setDomClean(e,t),"drag"===t?c.move=r:c.over=r},"set-node-clean",!0)},l.prototype.deleteNodeClean=function(e){return this.context.ace.callWithAce(function(t){return t.ace_deleteDomClean(e)},"delete-node-clean",!0)},l}(e.DomModule),l.postAceInit=function(e,t){var n;return n=new i("#doc-container",{context:t})},l}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(1),n(4))},function(e,t,n){var r,i;(function(o){var a=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty;r=[n(175)],i=function(e){var t,n;return n={},t=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.init=function(){var e;return e=this,this.$view=o("#pad-view"),o("#code-area-btn").on("click",function(){return e.context.ace.callWithAce(function(e){var t;return t=!0,e.ace_doInsertHeading(-1,e,t),e.ace_doInsertUnorderedList("code")},"add-code-area",!0)})},t}(e.DomModule),n.postAceInit=function(e,n){var r;return r=new t("#doc-container",{context:n})},n}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(1))},function(e,t,n){var r,i;(function(o,a){r=[n(175),n(315),n(324)],i=function(e,t,n){var r,i,s,c,u,l,f,p,d,h;return s={},p={currentInput:"",currentSelection:"",hoverCode:"",hoverRep:"",ace:"",linkDefualtAdd:{},activeCode:""},s.postAceInit=function(t,n){var r;return r=function(){return this.init()},r.prototype={init:function(){return this.initData(),this.bind()},initData:function(){return this.view=o("body"),this.editorEle=o("#innerdocbody"),this.linkEdit=this.view.find("#link-box"),this.linkTitle=this.view.find("#hp-idoc-link-title"),this.linkInput=this.view.find("#link-input-url"),this.linkCancelBtn=this.view.find("#link-cancel"),this.linkBtn=o("#link-btn"),this.scrollView=o("#doc-view"),this.timeHide={},this.delay=300,this.validUrl=new RegExp("^(?:https?|sftp|ftps?|ssh|ircs?|file|gopher|telnet|nntp|worldwind|chrome|chrome-extension|svn|git|mms|smb|afp|nfs|(x-)?man|gopher|txmt)://|^mailto:|^xmpp:|^sips?:|^tel:|^sms:|^news:|^bitcoin:|^magnet:|^urn:|^geo:|^/","i")},bind:function(){return e.bindEvents.call(this,"",this.bindFun),this.bindScroll()},bindScroll:function(){var e;return e=this,this.scrollView.on("scroll",function(){return e.rePositionEditBox()}),this.editorEle.on("focus click",function(t){if(e.linkEdit.length&&"block"===e.linkEdit[0].style.display)return e.hideEditbox()}),o(window).on("resize",function(){return e.rePositionEditBox()}),o("#link-btn").on("click",function(){return e.bindFun.linkIconClick.call(e)})},bindFun:{linkIconClick:function(){if(e.getSelection().string.replace(/\s/g,"").length>0||!this.isEtherpadSelectionNoText())return this.addLinkUrl()},linkEditHover:function(){return this.editBoxDisplay("show")},linkEditOut:function(){return this.editBoxDisplay("hide")},linkHover:function(e){var t,n;return n=this,t="block"===this.linkEdit[0].style.display?500:0,this.timeHide=setTimeout(function(){return n.hoverTargetChange(e)},t)},linkOut:function(){return this.editBoxDisplay("hide")},linkEditCancel:function(){return this.editBoxDisplay("hide"),this.addLinkUrl("cancel")},linkInputBlur:function(){return this.editBoxDisplay("hide")},linkTitleFocus:function(){return this.editBoxDisplay("show")},linkInputFocus:function(){return this.editBoxDisplay("show")},linkInputKeypress:function(e){if(13===e.keyCode&&this.linkInput.val().trim())return this.linkInput.blur(),this.editBoxDisplay("hide"),this.addLinkUrl("input")},selectChange:function(){return this.checkSelectionChange()}},events:{"mouseover #innerdocbody .link-block a":"linkHover","mouseout #innerdocbody .link-block a":"linkOut","mouseover #link-box":"linkEditHover","mouseout #link-box":"linkEditOut","click #link-cancel":"linkEditCancel","blur #link-input-url":"linkInputBlur","focus #hp-idoc-link-title":"linkTitleFocus","focus #link-input-url":"linkInputFocus","keypress #link-box input":"linkInputKeypress","keyup #editorcontainerbox":"selectChange","mouseup #editorcontainerbox":"selectChange"},hoverTargetChange:function(e){var t;return t=o(e.target).text(),this.linkInput.val(o(e.currentTarget).attr("href")),this.linkTitle.val(t).attr("data-value",t),this.editBoxPosition("hover",o(e.target)),this.editBoxDisplay("show"),p.linkDefualtAdd={},this.getUrlClass(e.target),p.activeCode=p.hoverCode,this.editorEle.find(".link-placeholder").removeClass("link-placeholder")},hideEditbox:function(){return this.linkEdit.hide(),this.linkInput.val(""),this.removeLinkPlaceholder(),p.hoverCode=""},showEditbox:function(){return p.hoverCode&&this.editorEle.find(".link-placeholder."+p.hoverCode).length?this.linkCancelBtn.hide():this.linkCancelBtn.show(),this.linkEdit.show()},showEditboxDelay:function(e){var t;return t=this,this.timeHide=setTimeout(function(){if(t.showEditbox(),"focus"===e)return t.linkInput.focus()},this.delay)},hideEditboxDelay:function(){var e;return e=this,this.timeHide=setTimeout(function(){return e.hideEditbox(),e.updateTarget()},this.delay)},removeLinkPlaceholder:function(){if(p.hoverCode&&this.editorEle.find(".link-placeholder."+p.hoverCode)[0])return n.ace.callWithAce(function(e){return e.ace_doUndoRedo("undo")},"remove-placeholder",!0)},rePositionEditBox:function(){var e;if(p.hoverCode&&"block"===this.linkEdit[0].style.display)return e=this.editorEle.find("."+p.hoverCode),e.length?this.editBoxPosition("",e):void 0},addLinkUrl:function(e,t){var r,i,o;o=this,i=document.getElementsByClassName(p.hoverCode)[0],o.getCurrentInput(e),i&&(r=i,r.nodeType=1,this.getCurrentRep(r)),n.ace.callWithAce(function(t){var n,r;if(p.ace=t,p.linkDefualtAdd.active=!1,t.ace_doInsertLink(e,t),p.linkDefualtAdd.active){if(n=document.getElementsByClassName(p.linkDefualtAdd.code)[0],n.nodeType=1,r=t.ace_domToRep(n),!r)return;p.hoverRep=r,o.editBoxPosition("",p.linkDefualtAdd.ele),o.editBoxDisplay("show","focus")}},"insertLink",!0)},callForChangeCheck:function(){return n.ace.callWithAce(function(t){var n,r;if(p.hoverCode&&(n=o("#innerdocbody ."+p.hoverCode)[0]))return r=e.getLineDom(n),t.ace_observeChangesAroundNode(r),t.ace_fastIncorp(1,"call")},"check-change",!0)},checkSelectionChange:function(){var t,n;if(n=e.getSelection(),t=n.selection.focusNode,n.string&&t.parentNode&&t.parentNode.parentNode.className.match(/link-block/))return this.getUrlClass(t.parentNode)},checkUrlInput:function(e){var t;return this.isWhitelistUrlScheme(e)||(e=window.location.protocol+"//"+e),t=window.location.protocol+"//"+window.location.host,0===e.indexOf(t)&&(e=e.substring(t.length),"/"!==e[0]&&(e="/"+e)),e},changeLinkTitle:function(){var e;return e=this.linkTitle.val()||"untitle",o("."+p.hoverCode).children("a").html(e),this.callForChangeCheck()},editBoxDisplay:function(e,t){var n,r;r=this,clearTimeout(r.timeHide),n=this.linkInput.is(":focus"),"hide"!==e||n?this.showEditboxDelay(t):this.hideEditboxDelay()},editBoxPosition:function(t,n){var r,i,a,s,c,u,l,f,p,d,h;return"select"===t?(f=e.getSelectionPosition(),a=this.editorEle.offset(),this.linkEdit.css({top:f.y+f.height+90+o("#doc-view").scrollTop(),left:f.x+f.width/2-17})):(p=n.offset(),s=this.editorEle.offset(),u=this.linkEdit.width(),c=n.width()>10?n.width():8,h=8,i=p.left+c/2,l=10,i-u/2<s.left+l?(r=s.left+l,d=i-h/2-r):i+u/2>s.left+this.editorEle.outerWidth()-l?(r=s.left+this.editorEle.outerWidth()-l-u,d=i-h/2-r):(r=i-u/2,d=u/2-h/2),this.linkEdit.css({top:p.top+n.height()+14,left:r}).find(".trangle>span").css({left:d}))},updateTarget:function(){return this.checkSelectionChange(),p.hoverCode&&this.getCurrentRep(o("."+p.hoverCode)[0]),this.getCurrentInput()},getCurrentInput:function(e){if(p.hoverCode)return"input"===e?p.currentInput=this.linkInput.val():p.currentInput=o("."+p.hoverCode).find("a").attr("href")},getCurrentRep:function(e){return n.ace.callWithAce(function(t){var n;if(e){if(n=t.ace_domToRep(e),!n)return;return p.hoverRep=n}},"dom-to-rep",!0)},getUrlClass:function(e){return p.hoverCode=o(e).closest(".link-block").attr("class").match(/\s(url-[0-9A-Za-z]+)\s/)[1]},isWhitelistUrlScheme:function(e){return this.validUrl.test(e)},isEtherpadSelectionNoText:function(){var e;return e="",n.ace.callWithAce(function(t){var n,r,i,o,a,s,c,u,l;for(o=t.ace_getRep(),c=[o.selStart[0],o.selStart[1]],s=[o.selEnd[0],o.selEnd[1]],r=c[0],a=[];r<=s[0]&&(i=o.lines.atIndex(r),l=i.text,r===c[0]?(u=0===c[1]?i.lineMarker:c[1],n=r===s[0]?s[1]:l.length,e+=l.slice(u,n)):e+=r===s[0]?l.slice(i.lineMarker,s[1]):l.slice(i.lineMarker,l.length),e=e.replace(/\s/g,""),!(e.length>0));)a.push(r+=1);return a},"get-selection",!0),!(e.length>0)}},p.linkHandler=r,new r},s.aceAttribsToClasses=function(e,t){var n,r,i;if("link"===t.key)return r=t.value.match(/([^,]*),(.*)/),r?3===r.length&&r.shift():r=[],i="link-block",r[0]||(r[0]="url-"+c()),r[1]||r[0]!==p.hoverCode||(i="link-placeholder"),n=[i,r[0],"url:"+r[1]]},f=function(){var e;return e="url-"+c(),p.ace.ace_performDocumentReplaceRangeWithAttributes(this.rep.selStart,this.rep.selEnd," ",[["author",this.documentAttributeManager.author],["link",[e,""]]]),d(e)},c=function(){var e,t,n;for(t=17,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[];t-=1;)n.push(e[parseInt(62*Math.random())]);return n.join("")},i=function(e){var t,n,i,a,s,c;if(c=p.hoverRep,"input"===e)for(n=o("#innerdocbody").find("."+p.hoverCode),i=a=0,s=n.length;0<=s?a<=s:a>=s;i=0<=s?++a:--a)t=o("#innerdocbody").find("."+p.hoverCode)[i],c=p.ace.ace_domToRep(t),c&&h.call(this,c,"link",[p.hoverCode,p.currentInput]);else"cancel"===e?h.call(this,c,"link",""):r.call(this,"link")},d=function(e){return p.linkDefualtAdd={code:e,ele:o("."+e),active:!0},p.hoverCode=e},h=function(e,t,n){var r;return r=this.documentAttributeManager,r.setAttributesOnRange(e.selStart,e.selEnd,[[t,n]])},l=function(e){var t,n,r,i,o,a,s,c,u,l,f,p,d,h,m;for(p=e.selStart[0],f=e.selEnd[0],s=t=u=p,l=f;u<=l?t<=l:t>=l;s=u<=l?++t:--t)if(o=e.lines.atIndex(s).text,a=e.lines.atIndex(s).lineMarker,i=a,n=e.lines.atIndex(s).text.length,h=s===p?e.selStart[1]:i,d=s===f?e.selEnd[1]:n,m=o.substring(h,d),c=m.replace(/\s/g,""),r=o.replace(/\s/g,""),c.length&&"*"!==r){e.selStart=[s,h],e.selEnd=[s,d],e.text=m;break}return e},u=function(e){var t,n,r,i,s;return s=this,t=o("#innerdocbody").children("div:nth-child("+(e.selStart[0]+1)+")"),n=t.find(".is-commented"),i=[e.selStart[1],e.selEnd[1]],r=!1,n.length>0&&a.each(n,function(e){var t;if(t=p.ace.ace_domToRep(e),!(t.selEnd[1]<=i[0]||t.selStart[1]>=i[1]))return r=!0}),r},r=function(t){var r,i,o,s,f,h,m,v;if(h=this.rep,h.selStart&&h.selEnd)return i=this.documentAttributeManager,v=h.selStart[0],m=h.selEnd[0],r="url-"+c(),p.activeCode=r,p.hoverCode=r,h=l(h),s=[[t,[r,""]],["author",this.documentAttributeManager.author],["lineguid",e.genGuid()]],o=u(h),o?i.setAttributesOnRange(h.selStart,h.selEnd,s):(f=n.check("selection",h,"selection"),a.remove(f,function(e){return"heading"===e[0]}),s=s.concat(f),p.ace.ace_performDocumentReplaceRangeWithAttributes(h.selStart,h.selEnd,h.text,s)),d(r)},s.aceInitialized=function(e,t){var n;n=t.editorInfo,n.ace_doInsertLink=a.bind(i,t)},s}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(1),n(4))},function(e,t,n){var r,i;(function(o,a){r=[n(324),n(293),n(175)],i=function(e,t,n){var r,i;return i={},i.postAceInit=function(e,t){var r;return r=0,o("#font-size").off().on("click",function(e){var t;return e.stopPropagation(),t=o(this),t.hasClass("active")||n.clearDropdown(),t.toggleClass("active")}),o("#size-list").off().on("click","li",function(e,n){var r;return n&&e.stopPropagation(),r=parseInt(o(this).find("span").attr("data-value")),t.ace.callWithAce(function(e){return e.ace_doInsertFontSize(r),e.ace_activeCaret()},"insertFontSize",!0)})},i.aceAttribsToClasses=function(e,t){if("font-size"===t.key&&+t.value>-1)return["font-size-"+t.value]},i.aceCreateDomLine=function(e,t){var n,r,i;return n=t.cls,r=/(?:^| )font-size-([A-Za-z0-9]*)/.exec(n),r&&(i=r[1]),void 0!==i&&+i>=-1?[{extraOpenTags:'<font size="'+i+'">',extraCloseTags:"</font>",cls:n}]:[]},r=function(t){var n,r;if(o(document).trigger("font-style:change"),this.rep.selStart&&this.rep.selEnd)return r=this.rep.selStart,n=this.rep.selEnd,r[0]===n[0]&&r[1]===n[1]?(document.execCommand("fontSize",!1,t),e.activeCaret("font-size",r[0],r[1],t)):(this.documentAttributeManager.setAttributesOnRange(r,n,[["font-size",t]]),this.editorInfo.ace_setLineStyle("font-size",t))},i.aceInitialized=function(e,t){t.editorInfo.ace_doInsertFontSize=a.bind(r,t)},i}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(1),n(4))},function(e,t,n){var r,i;(function(o,a){var s=function(e,t){function n(){this.constructor=e}for(var r in t)c.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},c={}.hasOwnProperty;r=[n(175)],i=function(e){var t,n,r,i;return n=["left","center","right","justify"],i={},t=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return s(r,t),r.prototype.init=function(){return this.$view=o("#editbar")},r.prototype.eventMap={"click .align-toolbar-item":"alignClick","click #align-toolbar-btn":"alignDrop"},r.prototype.domEvents={alignDrop:function(t,n){var r;return t.stopPropagation(),r=o(n),r.hasClass("active")||e.clearDropdown(),r.toggleClass("active")},alignClick:function(e,t){var r;return r=o(t).attr("data-index"),this.changeAlign(n[r])}},r.prototype.changeAlign=function(e){return this.context.ace.callWithAce(function(t){return t.ace_doInsertAlign(e)},"change-align",!0)},r}(e.DomModule),r=function(e){var t,n,r,i,a,s,c,u,l,f,p,d,h,m;if(t=o("#innerdocbody"),h=this.rep,n=this.documentAttributeManager,h.selStart&&h.selEnd&&e){for(r=h.selStart[0],u=Math.max(r,h.selEnd[0]-(null!=(f=0===h.selEnd[1])?f:{1:0})),m=[],l=i=p=r,d=u;p<=d?i<=d:i>=d;l=p<=d?++i:--i)c=t.children().eq(l).find(".doc-table").length,c||(s=n.getAttributeOnLine(l,"list"),a=s?[["line-align",e]]:[["line-align",e],["inherit:inherit",!0]],m.push(n.setAttributesOnLine(l,a)));return m}},i.aceAttribsToClasses=function(e,t){},i.collectContentPre=function(e,t){var n,r,i;if(n=t.cls,i=t.state,r=i.lineAttributes,n=n.match(/line-(left|center|right|justify)/))return r["line-align"]=n[1]},i.collectContentPost=function(e,t){var n,r,i;if(n=t.cls)return i=t.state,r=i.lineAttributes,n=n.match(/line-(left|center|right|justify)/),r["line-align"]||n?delete r["line-align"]:void 0},i.aceRegisterBlockElements=function(){return n},i.aceInitialized=function(e,t){t.editorInfo.ace_doInsertAlign=a.bind(r,t)},i.postAceInit=function(e,n){var r;return r=new t("#editbar",{context:n})},i}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(1),n(4))},function(e,t,n){var r,i;r=[n(175)],i=function(e){var t;return t={},t.aceAttribsToClasses=function(e,t){if(t.key.indexOf("inherit:")!==-1)return t.key},t.aceDomLinePreProcessLineAttributes=function(e,t){var n,r,i,o,a,s;return n=t.cls,r=t.domline,i=/(?:^| )inherit:([A-Za-z0-9]*)/.exec(n),s={preHtml:"<inherit>",postHtml:"</inherit>",processedMarker:!0},i?[s]:(o=/(?:^| )lineAttribMarker([A-Za-z0-9]*)/.exec(n),a=/(?:^| )list:([A-Za-z0-9]*)/.exec(n),!a&&o?[s]:[])},t.collectContentPre=function(e,t){var n,r,i;if(i=t.tname,r=t.state,n=r.lineAttributes,i=i.match(/inherit/))return n["inherit:inherit"]=!0},t.collectContentPost=function(e,t){var n,r,i;if(i=t.tname,r=t.state,n=r.lineAttributes,n["inherit:inherit"])return delete n["inherit:inherit"]},t.aceRegisterBlockElements=function(){return["inherit"]},t}.apply(t,r),!(void 0!==i&&(e.exports=i))},function(e,t,n){var r,o;(function(a,s,c){var u=function(e,t){function n(){this.constructor=e}for(var r in t)l.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},l={}.hasOwnProperty;r=[n(175),n(228),n(332),n(333),n(348),n(166),n(295),n(334)],o=function(e,t,n,r,o,f,p,d){var h,m,v,g,y,b,w,_,x,C,k,T,S,E,A,I,O,P,N,D,L,M,R;return b={},w=[],E=d.initLimition(),A=E.attachmentCount,g=["png","gif","jpg","jpeg"],I=E.fileSize,O={uploadFailed:"上传失败, 请上传 10M 以内 jpg / jpeg / png / gif 格式图片",uploadSuccess:"上传成功",outNumbered:"每篇文档的附件数不超过10个",onOutSized:"单个附件不超过10M"},h=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return u(i,t),i.prototype.init=function(){return a.safari&&!e.isMobile()&&this.prepareDragImgForSafari(),this.bindWindowEvents(),f.attach("doc:goback",s.bind(this.cancelAllUpload,this)),f.attach("ace:doDeleteKey",s.bind(this.onBeforeDeleteAttachment,this))},i.prototype.reset=function(t){if("undefined"!=typeof t&&null!==t&&"undefined"!=typeof t.context&&null!==t.context&&(this.context=t.context),w=[],this.$padView=c("#innerdocbody"),this.clearRemainingPlaceholder(),this.uploadFileManager=this.initializeUploadFileManager(),this.uploadFileManagerForDrag=this.initializeUploadFileManager(!0),this.createUploadBtn("#upload-attachment"),this.addSpecialCss(),this.uploadList=[],this.$progressTag=c("#progress-style"),this.tempStyleNodeSelector="#tempAttachmentStyle",this.dragEnterCounter=0,this.$selectedAttachment=c(),this.selectedAttachmentSelector=c(),this.firstIntoDoc=!0,this.justDeleteAttachment=!1,this.isMovingAttachment=!1,this.doingMouseOverOnAttachment=!1,this.clickedOuterDoc=!1,this.isDragingFileFromOutside=!1,!e.isMobile()&&!window.cow.readonly)return f.attach("caret:change",s.bind(this.listenCaretChange,this),{isAsync:!1})},i.prototype.bindWindowEvents=function(){return c(window).on("beforeunload",function(){if(w.length>0)return"确认要离开页面吗？离开后您正在上传的附件将无法保存"}),c(window).on("unload",s.bind(this.cancelAllUpload,this))},i.prototype.cancelAllUpload=function(){var e,t,n,r,i,o,a,s;if(0!==w.length){for(t={},this.$padView.find(".attachment-placeholder").each(function(){var e,n,r;if(e=c(this).parents("div[id^=magicdom]"),n=e.find(".attachment-placeholder").attr("class"),r=n.match(/placeholder-[a-z,A-Z,0-9]{16}/),r=r&&r[0]?r[0]:"")return t[r]=e}),s=null,i=0,o=w.length;i<o;i++)r=w[i],t.hasOwnProperty(r.guid)&&(e=t[r.guid],n=e.index("#innerdocbody>div"),e.remove(),a=c("#innerdocbody>div")[n],this.context.ace.callWithAce(function(e){if(a)return e.ace_observeChangesAroundNode(a),e.ace_fastIncorp(1,"call")},"delete-attachemnt-placeholder",!0)),r.abortUpload&&(s=r);return w.length=0,s?s.abortUpload():void 0}},i.prototype.clearRemainingPlaceholder=function(e){var t,n,r,i;return i=this,i=this,r=function(e){var t;if(t=e.index("#innerdocbody>div"),t>-1)return i.context.ace.callWithAce(function(e){return e.ace_doRemoveOldLine(t)},"delete-attachment-placeholder",!0)},e&&(n=c("."+e),t=n.closest("div[id^=magicdom]"),r(t)),this.$padView.find(".attachment-placeholder").each(function(){return t=c(this).parents("div[id^=magicdom]"),r(t)})},i.prototype.eventMap={"click body":"onAttachmentClick","dragenter #innerdocbody":"handleDragFileEnter","dragleave #innerdocbody":"cleanDragAndDropShadow","drop #innerdocbody":"handleDrop","keydown body":"deleteSelectedAttachmentWithBackspace",'click input[data-title="上传附件"]':"onAttachmentBtnClick","click .attachment-placeholder .upload-remove-media":"cancelUpload","dragstart .upload-attachment":"prepareDragging","dragover #innerdocbody>div[id^=magicdomid]":"handleDrag","dragend .upload-attachment":"cleanDragOverStyle","drag #innerdocbody>div[id^=magicdomid]":"handleDrag","mouseover #innerdocbody .attachment-wrapper":"onAttachmentMouseOver","mouseout #innerdocbody .attachment-wrapper":"onAttachmentMouseOut"},i.prototype.domEvents={onAttachmentMouseOver:function(t,n){var r,i,o;if(!e.isMobile()&&!this.isMovingAttachment)return _(t,n)&&(r=this.getGuidFromAttachmentDom(n),o="#innerdocbody .attachment-"+r+" .attachment-download-link { display: inline-block; }"+("#innerdocbody .attachment-"+r+" .attachment-file-info { border-right: 1px solid #e5e5e5; }"),0===c("#attachment-hover-style").length&&(i=document.createElement("style"),i.id="attachment-hover-style",c("body").append(i)),c("#attachment-hover-style").html(o)),this.stopPropagation(t)},onAttachmentMouseOut:function(t,n){if(!e.isMobile()&&!this.isMovingAttachment)return _(t,n)&&c("#attachment-hover-style").empty(),this.stopPropagation(t)},cancelUpload:function(e,t){var n,r,i,o,a,u;return n=c(t).parents("div[id^=magicdom]"),r=n.find(".attachment-placeholder").attr("class"),r&&(i=r.split(" "),u=i.indexOf("attachment-placeholder")+1,a=i[u],o=null,a&&s.remove(w,function(e){return e.guid===a&&(!e.abortUpload||(o=e,!1))}),o&&"function"==typeof o.abortUpload&&o.abortUpload()),n.remove()},onAttachmentBtnClick:function(e,t){if(A!==1/0&&x()>=A)return T("countInvalid"),this.stopPropagation(e)},onAttachmentClick:function(t,n){var r;return r=c(t.target).parents(".upload-attachment"),this.isInDocbody(t.target)?(this.justDeleteAttachment=!1,this.firstIntoDoc=!1,this.clickedOuterDoc=!1):this.clickedOuterDoc=!0,r.length>0?e.isMobile()?this.stopPropagation(t):(this.selectAttachment(r[0]),this.moveCaretToAttachmentLine(r[0])):this.clearSelected()},handleDragFileEnter:function(e,t){var n;if(e.preventDefault(),0===this.dragEnterCounter++&&(n=e.originalEvent.dataTransfer,null!==n.types&&(n.types.indexOf?n.types.indexOf("Files")!==-1:n.types.contains("application/x-moz-file"))))return this.isDragingFileFromOutside=!0},cleanDragAndDropShadow:function(e,t){var n;if(0===--this.dragEnterCounter&&(n=e.originalEvent.dataTransfer,null!==n.types&&(n.types.indexOf?n.types.indexOf("Files")!==-1:n.types.contains("application/x-moz-file"))))return setTimeout(s.bind(function(){return this.removeDragAndDropShadow()},this),500)},cleanDragOverStyle:function(){return c(".dragged-over").removeClass("dragged-over"),this.isMovingAttachment=!1},handleDrop:function(t,n){var r,i;return i=function(t,n,r){if("original"!==t.aroundType&&t.aroundType!==t.dropDirection&&t.isMovingAttachment)return t.context.ace.callWithAce(function(n){var r,i,o;if(n.ace_doMoveAttachment(n,t.$curDragoverDom[0],t.originAttachmentGuid,t.dropDirection),o=c("#innerdocbody ."+t.originAttachmentGuid)[0],o&&(r=e.getLineDom(o))&&(i=c(r).index(),n.ace_doRemoveOldLine(i),n.ace_getLineListType(i)&&i>0&&n.ace_getLineListType(i-1)))return n.ace_renumberList(i)},"insertAttachment",!0)},r=function(t,n,r){var i,o,a,u,l,f,p,d,h,m;if(o=n.originalEvent.dataTransfer,t.uploadFileManagerForDrag||(t.uploadFileManagerForDrag=t.initializeUploadFileManager(!0)),t.isDragingFileFromOutside&&(t.isDragingFileFromOutside=!1),"undefined"!=typeof FileReader&&o&&o.files.length>0){for(t.dragEnterCounter=0,t.$curDragoverDom=t.$curDragoverDom||c(),i=x(),l=!1,u=!1,m=o.files,p=0,d=m.length;p<d;p++)if(a=m[p],I!==1/0&&a.size>I)l=!0;else if(I===1/0&&a.size>=524288e3)u=!0;else if(f=a.type.match(/image\/(\w+)/),!(f&&f[1]&&s.includes(g,f[1].toLowerCase()))){if(A!==1/0&&i>=A){T("countInvalid");break}h=new FileReader,h.onloadend=function(n){var r;return r=function(r){var i,o,a,s,c;s=r.target.result,i=s.slice(s.lastIndexOf(",")+1),a=s.match(/data:(\w+\/\w+)/),a=a&&a[1]?a[1]:"",o=e.base64toBlob(i,a),c=n.name,t.uploadFileManagerForDrag.uploadFiles([{filename:c,fields:{file:o},guid:e.genGuid("placeholder"),type:"blob"}])}}(a),i++,h.readAsDataURL(a)}if(l)return T("sizeInvalid");if(u)return T("maxSizeInvalid")}},t.preventDefault(),this.isMovingAttachment?(i(this,t,n),c(".dragged-over").removeClass("dragged-over"),this.isMovingAttachment=!1):(this.removeDragAndDropShadow(),r(this,t,n)),this.dragEnterCounter=0},deleteSelectedAttachmentWithBackspace:function(e,t){var n,r,i,o,a,s;if(a=this,this.$selectedAttachment.length>0){if(8===+e.keyCode)return n=c(this.selectedAttachmentSelector).parents("div[id^=magicdom]"),s=c(this.selectedAttachmentSelector).find(".attachment-download-link").attr("href"),r=c("#innerdocbody div[id^=magicdom]"),i=r.index(n[0]),o=c("#innerdocbody div[id^=magicdom]")[i],this.justDeleteAttachment=!0,setTimeout(function(){return a.context.ace.callWithAce(function(e){if(o&&(e.ace_doRemoveOldLine(i),e.ace_getLineListType(i+1)&&e.ace_getLineListType(i)))return e.ace_renumberList(i+1)},"delete-selected-attachment",!0)},100),s&&this.sendDeleteInfoToEnd(s),this.clearSelected(),this.stopPropagation(e)}else if(8===+e.keyCode&&("innerdocbody"===c(e.target).attr("id")||"BODY"===e.target.tagName)&&this.justDeleteAttachment)return this.stopPropagation(e)},prepareDragging:function(e,t){var n,r;return window.cow.readonly?this.stopPropagation(e):(r=c(t).attr("class").match(/attachment-[0-9A-Za-z]{16}/),r&&(this.originAttachmentGuid=r[0]),this.dropDirection="original",this.isMovingAttachment=!0,this.$curDragoverDom=c(),this.dragY=this.dragStartY=e.originalEvent.clientY,n=c("."+r).find(".attachment-wrapper"),window.getSelection().removeAllRanges(),this.$padView.focus(),n.length>0&&this.moveCaretToAttachmentLine(n[0]),a.mozilla&&e.originalEvent.dataTransfer.setData("text",""),a.safari?e.originalEvent.dataTransfer.setDragImage(this.dragImage,154,28):void 0)},handleDrag:function(e,t){var n,r;if(n=e.originalEvent.clientY,"dragover"===e.type)if(e.preventDefault(),this.isDragingFileFromOutside)r=c("#innerdocbody > div").index(c(t)),Math.abs((this.lastDragY||0)-n)>3&&(this.lastDragY=n,this.moveInsertPosition(r,this));else{if(this.aroundType=this.aroundOriginalAttachment(t),"original"===this.aroundType)return c(".dragged-over").removeClass("dragged-over"),this.dragY=this.dragStartY,void(this.$curDragoverDom=c());this.isMovingAttachment&&this.$curDragoverDom.attr("id")!==c(t).attr("id")&&(c(".dragged-over").removeClass("dragged-over"),this.$curDragoverDom=c(t),this.$curDragoverDom.addClass("dragged-over"),this.appendAttachmentShadow(n))}else this.isMovingAttachment&&"drag"===e.type&&"original"!==this.aroundType&&this.appendAttachmentShadow(n);return this.dragY=n}},i.prototype.moveInsertPosition=s.debounce(s.bind(function(e,t){if(t.removeDragAndDropShadow(),t.isDragingFileFromOutside)return t.context.ace.callWithAce(function(t){return t.ace_moveCaretToAttachmentLine(t,e,!0),t.ace_addShadowToCurrentCaretWhenDraggingAttachment(e)},"addShadow",!0)},i),500),i.prototype.selectAttachment=function(e){var t,n;if(this.checkIsSelected(e)||this.clearSelected(),t=this.getGuidFromAttachmentDom(e))return n=".attachment-"+t+">.attachment-wrapper",this.insertTempAttachmentStyle(n),this.$selectedAttachment=c(e),this.selectedAttachmentSelector=n},i.prototype.checkIsSelected=function(e){var t,n;return t=c(this.tempStyleNodeSelector),0!==t.length&&(n=this.getGuidFromAttachmentDom(e),!!n&&t.text().indexOf("attachment-"+n)>-1)},i.prototype.clearSelected=function(){return c(this.tempStyleNodeSelector).remove(),this.$selectedAttachment=c(),this.selectedAttachmentSelector=""},i.prototype.getGuidFromAttachmentDom=function(e){var t,n;return t=c(e).closest(".upload-attachment").attr("class"),n=t.match(/attachment-([a-z|A-Z|0-9]{16})/),n=n&&n[1]?n[1]:""},i.prototype.insertTempAttachmentStyle=function(e){var t;return this.clearSelected(),t=s.template(o)({id:"tempAttachmentStyle",selector:e}),c("body").append(t)},i.prototype.moveCaretToAttachmentLine=function(e){var t;return t=k(e),this.context.ace.callWithAce(function(e){return e.ace_moveCaretToAttachmentLine(e,t)},"moveCaretToAttachmentLine",!0)},i.prototype.isInDocbody=function(e){return c(e).closest("#innerdocbody").length>0},i.prototype.prepareUploadAttachment=function(e,t,n){return e.ace.callWithAce(function(e){return e.ace_doInsertAttachmentPlaceholder(e,t,n)},"insertPlaceholder",!0)},i.prototype.removeDragAndDropShadow=function(){return c(".drag-and-drop-placeholder").removeClass("drag-and-drop-placeholder")},i.prototype.sendDeleteInfoToEnd=function(e){return c.ajax({url:e,type:"DELETE",data:{},contentType:"application/json",success:function(){},error:function(){}})},i.prototype.initializeUploadFileManager=function(e){var t;return t=this,new r({url:"https://up.qbox.me",limitExtensions:!1,fileQueue:w,onSubmit:function(n,r){return t.prepareUploadAttachment(t.context,r,e)},onValidationError:function(e,t){return T(e)},onUploadBegin:function(e,t,n){var r,i,o,a,u,f,p,d,h,m,v,y,b,w,_;if(e.length>0){for(o=window.cow.currentFile.guid,p=[],u=[],i=[],r=[],d=m=0,v=e.length;m<v;d=++m)a=e[d],_=a.fields.file.type.match(/image\/(\w+)/),f=_&&_[1]?_[1]:"",h=s.includes(g,f.toLowerCase()),h?(p.push(a),u.push(a.fields.file.name)):(i.push(a),r.push(t[d]));return w=!0,y=!0,b=function(e,t,n,r){return c.ajax({url:n,type:"POST",data:JSON.stringify(t),contentType:"application/json",success:function(t){var n,r,i,o,a,s,c;for(s=t.data,c=[],d=o=0,a=s.length;o<a;d=++o)i=s[d],c.push(function(){var t;t=[];for(n in i)l.call(i,n)&&(r=i[n],t.push(e[d].fields[n]=r));return t}());return c},error:function(){return console.log("upload file error.")}})},p.length>0&&i.length>0?c.when(b(p,u,"/api/upload/forms"),b(i,r,"/api/file/"+o+"/attachments")).done(function(e){return function(){return n()}}(this)):p.length>0&&0===i.length?c.when(b(p,u,"/api/upload/forms")).done(function(e){return function(){return n()}}(this)):0===p.length&&i.length>0?c.when(b(i,r,"/api/file/"+o+"/attachments")).done(function(e){return function(){return n()}}(this)):void 0}},onUploadComplete:function(e,n){if(e.code)return v("上传失败","error"),void t.clearRemainingPlaceholder(n);if(0!==c("#innerdocbody ."+n).length)return v("上传成功"),t.handleUploadProgress(n,"100","上传成功"),t.handleReturnFile(t.context,n,e)},onUploadError:function(e,n){return v("上传失败","error"),t.clearRemainingPlaceholder(n)},onUploadProgress:function(e,n){return t.handleUploadProgress(n,e)}})},i.prototype.createUploadBtn=function(e){var t;return this.uploadFileManager=this.uploadFileManager||this.initializeUploadImage(!0),t={isMultiple:!1,accept:"*",title:"上传附件"},this.uploadFileManager.createOpacityFormInside(e,t)},i.prototype.handleUploadProgress=function(e,t,r){var i;return null==r&&(r="上传中"),t>98&&(t=98),i=t+"%",this.$progressTag.append(s.template(n)({classTag:"attachment",list:{guid:e,percentVal:i,content:r}})),this.clearProgressOldStyle()},i.prototype.clearProgressOldStyle=function(){var e,t,n,r,i,o,a,s,u,l;s=document.getElementById("progress-style"),u={},l="";try{for(o=s.sheet.rules?s.sheet.rules:s.sheet.cssRules,t=n=0,r=o.length;n<r;t=++n)i=o[t],u[i.selectorText]=i;for(a in u)i=u[a],l+=" "+i.cssText;return c(s).html(l)}catch(t){e=t}},i.prototype.handleReturnFile=function(e,t,n){if(0===n.code){if(n.data.images)return e.ace.callWithAce(function(e){return e.ace_doReplacePlaceholderWithImage(e,t,n.data.images)},"uploadImage",!0);e.ace.callWithAce(function(e){var r,i,o;o=n.data.url,r=n.data.name,i=n.data.size,i<1e3?i+="B":i>=1e3&&i/1024<1e3?(i/=1024,i=i<1?i.toFixed(1)+"KB":i.toFixed(0)+"KB"):i/1024>=1e3&&(i=i/1024/1024,i=i<1?i.toFixed(1)+"MB":i.toFixed(0)+"MB"),e.ace_doReplacePlaceholderWithAttachment(e,t,o,r,i)},"uploadAttachment",!0)}},i.prototype.addSpecialCss=function(){var e;return e=this.context.pad.getUserId(),c("<style type='text/css'> .author-"+e+".attachment-placeholder { display: block!important; } </style>").appendTo("head")},i.prototype.stopPropagation=function(e){return e.preventDefault(),e.stopPropagation(),!1},i.prototype.listenCaretChange=function(e){var t,n,r,i;if(e&&e.selStart&&e.selEnd)if(i=e.selStart,r=e.selEnd,n=i[0],t=this.getAttachmentInLine(n),!this.clickedOuterDoc&&i&&r&&i[0]===r[0]&&i[1]===r[1]&&t){if(this.firstIntoDoc)return;if("undefined"!=typeof t&&null!==t&&t!==c(this.selectedAttachmentSelector)[0])return this.selectAttachment(t)}else if(c(this.selectedAttachmentSelector).length>0)return this.clearSelected()},i.prototype.getAttachmentInLine=function(e){var t,n;return n=c("#innerdocbody>div")[e],"undefined"==typeof n||null===n?null:t=c(n).find(".attachment-wrapper")[0];
},i.prototype.appendAttachmentShadow=function(e){return e<this.dragY?(this.dropDirection="top","top"===this.aroundType?this.$curDragoverDom.removeClass("dragged-bottom"):this.$curDragoverDom.addClass("dragged-top").removeClass("dragged-bottom")):e>this.dragY?(this.dropDirection="bottom","bottom"===this.aroundType?this.$curDragoverDom.removeClass("dragged-top"):this.$curDragoverDom.addClass("dragged-bottom").removeClass("dragged-top")):void 0},i.prototype.aroundOriginalAttachment=function(e){var t,n;return n="",t=c(e),t.find(".upload-attachment").hasClass(this.originAttachmentGuid)&&(n=this.dropDirection="original"),t.next().find(".upload-attachment").hasClass(this.originAttachmentGuid)&&(n="bottom"),t.prev().find(".upload-attachment").hasClass(this.originAttachmentGuid)&&(n="top"),n},i.prototype.prepareDragImgForSafari=function(){return this.dragImage=document.createElement("img"),this.dragImage.src="https://assets-cdn.shimo.im/assets/images/drag_image-89875dcfe0.png",this.dragImage.style.width="306px",this.dragImage.style.position="fixed",this.dragImage.style.left="-305px",this.dragImage.style.bottom="-57px",c("body").append(this.dragImage)},i.prototype.onBeforeDeleteAttachment=function(t){var n,r,i,o,a,s,u,l,f,p,d,h,m,v,g,y,b;if(y=t.selStart,g=t.selEnd,o=function(e){var t;return t="number"==typeof e?c("#innerdocbody>div:nth-child("+(e+1)+")").find(".attachment-download-link"):c(e).find(".attachment-download-link"),t.length>0?t.attr("href"):""},i=[],y[0]===g[0]&&g[1]===y[1]){if(e.isMobile()||e.isIOS()?y[0]>0&&(p="",l="",u="",this.context.ace.callWithAce(function(e){if(!(l=e.ace_getLineListType(y[0]))&&(u=e.ace_getAlignType(y[0]),!u||"left"===u))return p=e.ace_getLineAttachmentType(y[0]-1)}),p&&(m=/:?(http|https):\/\/[^,]*/i,b=p.match(m),b&&b[0]&&(r=b[0]))):r=o(y[0]),r)return i.push(r),e.delete(r)}else if(y[0]<g[0]){for(n=c("#innerdocbody>div"),v=[],a=s=d=y[0],h=g[0];s<h;a=s+=1)f=n[a],r=o(f),r?(i.push(r),v.push(e.delete(r))):v.push(void 0);return v}},i}(e.DomModule),T=function(e,t){var n;switch(e){case"sizeInvalid":return n={headText:"到达上限",bodyText:"countInvalid"===e?"最多上传5个附件，升级<b>石墨高级版</b>无此限制":"最大上传10M的图片/附件，升级<b>石墨高级版</b>无此限制",buttons:[{type:"link-button",buttonLabel:"了解详情",href:"/payment",target:"_blank",customClass:"btn btn-ok",closeAfterClick:!0},{type:"button",buttonLabel:"取消",customClass:"btn btn-cancel",closeAfterClick:!0}]},p.show(n);case"maxSizeInvalid":return n={headText:"到达上限",bodyText:"暂时不支持上传超过500M的文件，请压缩或分隔后上传。",buttons:[{type:"button",buttonLabel:"取消",customClass:"btn btn-cancel",closeAfterClick:!0}]},p.show(n)}},x=function(){return c("#innerdocbody").find(".attachment-wrapper, .attachment-placeholder").length},D=function(t,n,r,i,o){var a,s,u,l,f,p,d,h;if(f=" \n",a=c(".attachment-placeholder."+n),h=t.ace_domToRep(a[0]),h&&h.selEnd)return a.prev().is("span")&&(f="\n"+f),d=e.genGuid(),t.ace_performDocumentReplaceRangeWithAttributes(h.selStart,[h.selEnd[0],h.selEnd[1]-1],f,[["author",this.documentAttributeManager.author],["upload-attachment",[r,d,i,o]],["lineguid",e.genGuid()]]),(l=t.ace_getLineListType(h.selStart[0]-1))&&(u=/[a-z]+([123456789])/.exec(l),t.ace_performDocumentReplaceRangeWithAttributes([h.selStart[0]+1,0],[h.selStart[0]+1,0],"*",[["author",this.documentAttributeManager.author],["list","indent"+(u?u[1]:"1")],["lineguid",e.genGuid()]])),t.ace_setAttributesOnline(h.selStart[0],[["line-align","center"],["inherit:inherit",!0]]),h.selStart[0]+2<this.rep.lines.length()&&(p=t.ace_getLineListType(h.selStart[0]+2),p&&t.ace_renumberList(h.selStart[0]+2)),s=c(".upload-attachment."+d),s.length?M(s):void 0},v=function(n,r){return e.isMobile()?t(n):e.alert({title:n,type:r})},C=function(e){var t,n;return n=e.lastIndexOf("."),t=e.slice(i+1).toLowerCase()},k=function(e){if(e){for(;e.parentNode&&"innerdocbody"!==e.parentNode.id;)e=e.parentNode;return"DIV"===e.tagName.toUpperCase()?c(e).index():void 0}},S=function(e,t,n){var r,i,o,a,s,u,l;if(a=this.rep,s=void 0,o=void 0,a.selStart&&a.selEnd||(a.selStart=[0,0],a.selEnd=[0,0]),L(this.rep),i=" ",n?(l=a.selEnd[0],u=a.lines.atIndex(l).text.length,s=[l,u],o=[l,u],u>0&&(i="\n ")):(u=a.selStart&&a.selStart[1],l=a.selStart&&a.selStart[0],a.selStart[0]===a.selEnd[0]&&a.selStart[1]===a.selEnd[1]&&c(c("#innerdocbody>div")[a.selStart[0]]).find(".upload-image, .upload-attachment").length>0&&(s=o=[l,u+1]),u>0&&(i="\n"+i)),e.ace_performDocumentReplaceRangeWithAttributes(s,o,i,[["author",this.documentAttributeManager.author],["attachment-placeholder",[t,"normal"]]]),r=c(".attachment-placeholder."+t),r.length)return M(r)},y=function(t){var n,r,i,o,a,s;if(o=176,e.isMobile()&&(o=c("#innerdocbody>div").width()-72),i=2*t.length,s=document.createElement("span"),s.id="tempSpanDom",s.style.opacity=0,s.style["font-size"]="12px",s.style.width="auto",c(s).text(t),c("body").append(s),s.offsetWidth<=o)return c(s).remove(),t;for(r=t.lastIndexOf("."),r>0?(n="."+t.slice(r+1).toLowerCase(),a=t.substr(0,r)):(n="",a=t);s.offsetWidth>o&&i>0;)i--,a=e.cutName(a,i),c(s).text(""+a+n);return c(s).remove(),""+a+n},L=function(e){if(e.selStart)return setTimeout(function(){var t,n;return t=c("div[id^=magicdom]").eq(e.selStart[0]),n=t.offset().top+c("#innerdocbody").offset().top,c("#editorcontainer").scrollTop(n)},1e3)},m=function(){var e,t;if(this.rep.selEnd)return t=this.rep.selEnd[0],e=c(c("#innerdocbody>div:nth-child("+(t+1)+")")),e&&e.length>0?(e.addClass("drag-and-drop-placeholder"),M(e)):void 0},M=function(e,t){var n,r,i,o,a;return n=c("#doc-view"),r=n.scrollTop(),o=97,a=c(window).height()-o,t=t?t:e.height(),i=e.offset().top-o+r,t<a&&(i-=a/2-t/2),n.scrollTop(i)},N=function(e,t,n){var r,i;return i=this.rep,r=i.lines.atIndex(t),n?(i.selStart=[t,r.text.length],i.selEnd=[t,r.text.length]):(i.selStart=[t,r.lineMarker],i.selEnd=[t,r.lineMarker])},P=function(t,n,r,i){var o,a,s,u,l,f,p,d,h,m,v,g,y,b,w;if(w=t.ace_domToRep(n),w&&w.selEnd&&(o=c("#innerdocbody ."+r),0!==o.length))return d=o.attr("class"),l=o.find(".attachment-download-link").attr("href"),u=o.find(".attachment-file-size").attr("data-content"),s=o.find(".attachment-file-name").attr("title"),l&&(p=[],p.push(l),p.push(e.genGuid()),p.push(s),p.push(u),b=k(c("."+r)[0]),null!=b&&(g=this.documentAttributeManager.getAttributeOnLine(b,"line-align")),d&&(y=d.match(/comment-[0-9A-Za-z]{16}/)),f=[["author",this.documentAttributeManager.author],["upload-attachment",p]],y&&y[0]&&f.push(["comment",y]),m=v="top"===i?[w.selEnd[0],0]:[w.selEnd[0]+1,0],h=m[0],a=this.rep.lines.length(),h>a-1?(m[0]=v[0]=a-1,t.ace_performDocumentReplaceRangeWithAttributes(m,v,"\n \n",f)):t.ace_performDocumentReplaceRangeWithAttributes(m,v," \n",f),g&&t.ace_setAttributesOnline(h,[["line-align",g],["inherit:inherit",!0]]),h+1<a&&t.ace_getLineListType(h+1)&&h>1&&t.ace_getLineListType(h-1))?t.ace_renumberList(h+1):void 0},_=function(e,t){var n,r,i;if(n=function(e,t){return e.contains?e!==t&&e.contains(t):!!(16&e.compareDocumentPosition(t))},i=e.type.toLowerCase(),"mouseover"===i)r=e.relatedTarget||e.fromElement;else{if("mouseout"!==i)return!0;r=e.relatedTarget||e.toElement}return r&&"xul"!==r.prefix&&!n(t,r)&&r!==t},R=null,b.postAceInit=function(e,t){return R||(R=new h("html")),R.reset({context:t})},b.aceAttribsToClasses=function(e,t){var n,r,i;return"upload-attachment"===t.key&&null!=t.value?(r=t.value.split(","),i=encodeURIComponent(r[2]||""),n=["upload-attachment:"+r[0]+" attachment-"+r[1]+" filename-"+i+" filesize-"+(r[3]||"")]):"attachment-placeholder"===t.key?(r=t.value.split(","),"error"===r[1]?["attachment-placeholder "+r[0]+" upload-error"]:["attachment-placeholder "+r[0]]):[]},b.aceCreateDomLine=function(t,n){var r,i,o,a,s,c;return C=function(e){var t;return t=e.lastIndexOf("."),e.slice(t+1).toLowerCase()},a=function(e){var t;if(e)return 0===e.indexOf("static")&&(e="/"+e),0===e.indexOf("/static")&&e.indexOf("_large")<0&&"gif"!==C(e)&&(t=e.lastIndexOf("."),e=[e.slice(0,t),"_large",e.slice(t)].join("")),e},n.cls.indexOf("upload-attachment")>-1?(c="",n.cls=n.cls.replace(/(^| )upload-attachment:(\S+)/g,function(e,t,n){return c=n,t+"upload-attachment"}),c=a(c),r="",n.cls=n.cls.replace(/(^| )filename-(\S+)/g,function(e,t,n){return r=decodeURIComponent(n),""}),s=y(r),i="",n.cls=n.cls.replace(/(^| )filesize-(\S+)/g,function(e,t,n){return i=n,""}),o="<span contenteditable='false' class='attachment-wrapper' draggable='true' ><span class='hicon icon-attachment attachment-title-icon'></span>"+("<span draggable='false' class='attachment-file-info' style='"+(e.isMobile()?"border-right:none;":"")+"'><span draggable='false' title='"+r+"' data-content='"+s+"' class='attachment-file-name'></span><span draggable='false' class='attachment-file-size' data-content='"+i+"'></span><span class='hide attchment-innerdoc-tag'></span>"),o+=e.isMobile()?"</span></span>":'</span><a href="'+c+'" target="_blank" class="hicon icon-link-download attachment-download-link"><a></span>',[{cls:n.cls,extraOpenTags:o+'<div class="not-render">',extraCloseTags:"</div>"}]):n.cls.indexOf("attachment-placeholder")>-1?(o='<div class="upload-loading-block" contenteditable="false"><span class="upload-progress-groove"><span class="upload-progress-bar"></span></span> <span class="upload-loading-info"></span><span class="upload-remove-media hicon icon-remove-media"></span></div>',[{cls:n.cls,extraOpenTags:o+'<div class="image-error-msg" contenteditable="false">',extraCloseTags:"</div>"}]):void 0},b.aceInitialized=function(e,t){return t.editorInfo.ace_doInsertAttachmentPlaceholder=s.bind(S,t),t.editorInfo.ace_doReplacePlaceholderWithAttachment=s.bind(D,t),t.editorInfo.ace_addShadowToCurrentCaretWhenDraggingAttachment=s.bind(m,t),t.editorInfo.ace_moveCaretToAttachmentLine=s.bind(N,t),t.editorInfo.ace_doMoveAttachment=s.bind(P,t)},b}.apply(t,r),!(void 0!==o&&(e.exports=o))}).call(t,n(294),n(4),n(1))},function(e,t){e.exports="<style type='text/css' rel='stylesheet' id='<%=id%>'>\n#innerdocbody <%= selector %> {\n  box-shadow: 0px 1px 1px 0px rgba(0, 0, 0, 0.2);\n  -webkit-box-shadow: 0px 1px 1px 0px rgba(0, 0, 0, 0.2); \n  -moz-box-shadow: 0px 1px 1px 0px rgba(0, 0, 0, 0.2);\n  -ms-box-shadow: 0px 1px 1px 0px rgba(0, 0, 0, 0.2);\n  -o-box-shadow: 0px 1px 1px 0px rgba(0, 0, 0, 0.2);\n  border: 1px solid #bababa !important;\n}\n</style>\n"},function(e,t,n){var r,i;(function(o){var a=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty;r=[n(175)],i=function(e){var t,n,r;return r={},t=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return a(n,t),n.prototype.init=function(){return this.$view=o("#pad-view"),this.linkBtn=o("#link-btn")},n.prototype.eventMap={"mouseup #innerdocbody":"handleMouseUp","keyup #innerdocbody":"handleKeyUp","click .disable-button":"disableClick"},n.prototype.domEvents={handleKeyUp:function(){return this.handleSelection()},handleMouseUp:function(){return this.handleSelection()},disableClick:function(t,n){var r;switch(r=o(n).attr("data-key")){case"link":return e.alert({title:"请先选择文本",type:"error"})}}},n.prototype.handleSelection=function(t){var n;return n=e.getSelection().string.replace(/\s/g,""),n.length>0?this.linkBtn.removeClass("disable-button"):this.linkBtn.addClass("disable-button"),!0},n}(e.DomModule),n=new t("#doc-view"),r}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(1))},function(e,t,n){var r,i;r=[n(175),n(315)],i=function(e,t){var n;return n=function(){function e(e){this.editorInfo=e.editorInfo,this.documentAttributeManager=e.documentAttributeManager}return e.prototype.check=function(e,t,n,r){var i,o;if(e.selStart&&e.selEnd)if(this.rep=e,this.currentLineNum=e.selStart[0],this.currentLine=e.lines.atIndex(this.currentLineNum),this.currentIndex="keyup"===r?e.selStart[1]-1:e.selStart[1],i=this.currentLine.text.substr(this.currentLine.lineMarker,this.currentIndex-this.currentLine.lineMarker),"line"===n)switch(o=/^\d+\.$/,o.test(i)&&this.toList(t,"number"),i){case"[]":this.toCheckBox(t);break;case"*":case"-":this.toList(t,"bullet");break;case"###":this.toHeading(t,1);break;case"##":this.toHeading(t,2);break;case"#":this.toHeading(t,3);break;case"```":this.toCode(t)}else if("char"===n)return},e.prototype.toCode=function(e){var t;if(t=this.documentAttributeManager.getAttributeOnLine(this.currentLineNum,"list"),"code1"!==t)return e.preventDefault(),this.editorInfo.ace_doInsertUnorderedList("code"),this.editorInfo.ace_performDocumentReplaceRangeWithAttributes([this.currentLineNum,1],this.rep.selStart,"",[])},e.prototype.toCheckBox=function(e){var t,n;if(t=this.rep.selStart[1],n=this.documentAttributeManager.getAttributeOnLine(this.currentLineNum,"list"),!n.match(/check8|done8/))return e.preventDefault(),n.match(/check|done/)?(e.preventDefault(),this.editorInfo.ace_doIndentOutdent()):this.editorInfo.ace_doInsertUnorderedList("check"),this.editorInfo.ace_performDocumentReplaceRangeWithAttributes([this.currentLineNum,1],this.rep.selStart,"",[])},e.prototype.toList=function(e,t){var n,r;if(n=this.rep.selStart[1],r=this.documentAttributeManager.getAttributeOnLine(this.currentLineNum,"list"),r!==t+"8")return e.preventDefault(),r.indexOf(t)>-1?(e.preventDefault(),this.editorInfo.ace_doIndentOutdent()):this.editorInfo.ace_doInsertUnorderedList(t),this.editorInfo.ace_performDocumentReplaceRangeWithAttributes([this.currentLineNum,1],this.rep.selStart,"",[])},e.prototype.toHeading=function(e,t){var n;return n=this.rep.selStart[1],e.preventDefault(),this.editorInfo.ace_doInsertHeading(t,this.editorInfo),this.editorInfo.ace_performDocumentReplaceRangeWithAttributes([this.currentLineNum,1],[this.currentLineNum,5-t],"",[])},e.prototype.toBold=function(e,t){var n;if(t)return e.preventDefault(),n="*"===t.substr(-1)?t.substr(0,t.length-1):t,this.editorInfo.ace_performDocumentReplaceRangeWithAttributes([this.currentLineNum,this.currentIndex-t.length-2],this.rep.selStart,n,[["bold","true"]]),setTimeout(function(){return document.execCommand("bold","false",null)},0)},e.prototype.toItalic=function(e,t){if(t)return e.preventDefault(),this.editorInfo.ace_performDocumentReplaceRangeWithAttributes([this.currentLineNum,this.currentIndex-t.length-1],this.rep.selStart,t,[["italic","true"]]),setTimeout(function(){return document.execCommand("italic","false",null)},0)},e.prototype.getRegex=function(e){return new RegExp(e.replace(/\*/g,"\\*")+"(\\*|$|\\+)")},e}()}.apply(t,r),!(void 0!==i&&(e.exports=i))},function(e,t,n){var r,i;(function(o,a,s){var c=function(e,t){function n(){this.constructor=e}for(var r in t)u.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},u={}.hasOwnProperty;r=[n(175),n(166)],i=function(e,t){var n,r,i;return i={},n=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return c(n,e),n.prototype.init=function(){this.$padView=o("#innerdocbody"),this.bindEvents(),a.mozilla&&t.attach("caret:change",s.bind(this.listenToCaretChange,this))},n.prototype.bindEvents=function(){var e;return e=this,o("#horizontal-line").on("click",function(){return e.context.ace.callWithAce(function(e){return e.ace_doInsertHorizontalLine(e)},"insert-horizontal-line",!0)})},n.prototype.listenToCaretChange=function(e){var t,n;if(n=e.selStart,t=n[0],o(this.$padView.children()[t]).find(".horizontal-line").length>0)return e.selStart=e.selEnd=[t+1,0]},n}(e.DomModule),i.postAceInit=function(e,t){var r;r=new n("html"),r.context=t},r=function(e){var t,n,r,i,o,a,s,c,u,l,f,p,d,h,m;if(this.rep&&(p=this.rep.selStart,f=this.rep.selEnd,p&&f))return d=this.rep.lines.atIndex(p[0]),o=p[0],r=o,h=e.ace_getHorizontalLineType(o),c=e.ace_getHorizontalLineType(o+1),m=e.ace_getLineListType(o),l="",u="",p[1]===d.lineMarker?m?(e.ace_performDocumentReplaceRangeWithAttributes([p[0],0],[f[0],0]," \n",[["author",this.documentAttributeManager.author],["horizontal-line",1]]),n=o+1,t=this.rep.lines.atIndex(n),e.ace_performDocumentReplaceRangeWithAttributes([n,t.lineMarker],[n,f[1]],"",[]),r=o):(e.ace_performDocumentReplaceRangeWithAttributes(p,f," \n",[["author",this.documentAttributeManager.author],["horizontal-line",1]]),r=o):d.text.length===f[1]?(e.ace_performDocumentReplaceRangeWithAttributes(p,f,"\n ",[["author",this.documentAttributeManager.author],["horizontal-line",1]]),1===+c?(this.rep.selStart=this.rep.selEnd=[o+3,0],r=o+2):(this.rep.selStart=this.rep.selEnd=[o+2,0],r=o+1)):(e.ace_performDocumentReplaceRangeWithAttributes(p,f,"\n\n",[["author",this.documentAttributeManager.author]]),i=this.rep.lines.atIndex(o+1),s=a=[o+1,i.lineMarker],e.ace_performDocumentReplaceRangeWithAttributes(s,a," ",[["author",this.documentAttributeManager.author],["horizontal-line",1]]),r=o+1,u=e.ace_getLineListType(r+2)),this.rep.selStart=this.rep.selEnd=[r+1,0],this.documentAttributeManager.setAttributesOnLine(r,[["hrline",1]]),l=r>0?e.ace_getLineListType(r-1):"",u?l&&u&&e.ace_renumberList(r+2):(u=e.ace_getLineListType(r+1),l&&u&&e.ace_renumberList(r+1)),0===r&&e.ace_performDocumentReplaceRangeWithAttributes([0,0],[0,0],"\n",[]),e.ace_activeCaret()},i.aceAttribsToClasses=function(e,t){if(t.key.indexOf("horizontal-line")>-1)return[["horizontal-line"]]},i.aceCreateDomLine=function(e,t){var n;return n=t.cls,n.indexOf("horizontal-line")>-1?[{extraOpenTags:"<hr class='from-shimo-doc'><div class='not-render'>",extraCloseTags:"</div>",cls:n}]:[]},i.aceInitialized=function(e,t){t.editorInfo.ace_doInsertHorizontalLine=s.bind(r,t)},i}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(1),n(294),n(4))},function(e,t,n){var r,i;(function(o){r=[n(324),n(293),n(175)],i=function(e,t,n){var r;return r={},r.postAceInit=function(e,t){return o("#paint-format").on("click",function(e){return t.ace.callWithAce(function(e){return e.ace_saveFormat()},"saveFormat",!0)}),o(document).on("selectionEnd",function(e){return t.ace.callWithAce(function(e){return e.ace_paintFormat()},"paintFormat",!0)})},r}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(1))},function(e,t,n){var r,i;(function(o){r=[n(324),n(293),n(175)],i=function(e,t,n){var r;return r={},r.postAceInit=function(e,t){return o("#clear-format").on("click",function(e){return t.ace.callWithAce(function(e){return e.ace_clearFormat()},"clearFormat",!0)})},r}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(1))},function(e,t,n){var r;r=function(){var e={plugins:{"ep_etherpad-lite":{parts:[{name:"divide",client_hooks:{postAceInit:"divide:postAceInit",aceInitialized:"divide:aceInitialized",aceCreateDomLine:"divide:aceCreateDomLine",aceAttribsToClasses:"divide:aceAttribsToClasses"},plugin:"ep_etherpad-lite",full_name:"ep_etherpad-lite/divide"},{name:"link",client_hooks:{postAceInit:"linkBtn:postAceInit",aceInitialized:"linkBtn:aceInitialized",aceCreateDomLine:"linkBtn:aceCreateDomLine",aceAttribsToClasses:"linkBtn:aceAttribsToClasses"},plugin:"ep_etherpad-lite",full_name:"ep_etherpad-lite/link"},{name:"table",client_hooks:{postAceInit:"table:postAceInit",aceInitialized:"table:aceInitialized",aceCreateDomLine:"table:aceCreateDomLine",aceAttribsToClasses:"table:aceAttribsToClasses"},plugin:"ep_etherpad-lite",full_name:"ep_etherpad-lite/table"},{name:"upload_image",client_hooks:{postAceInit:"upload_image:postAceInit",aceCreateDomLine:"upload_image:aceCreateDomLine",aceAttribsToClasses:"upload_image:aceAttribsToClasses",aceInitialized:"upload_image:aceInitialized"},plugin:"ep_etherpad-lite",full_name:"ep_etherpad-lite/upload_image"},{name:"mention",client_hooks:{aceAttribsToClasses:"mention:aceAttribsToClasses"},plugin:"ep_etherpad-lite",full_name:"ep_etherpad-lite/mention"},{name:"selection_comment",client_hooks:{postAceInit:"selection_comment:postAceInit",aceInitialized:"selection_comment:aceInitialized",aceCreateDomLine:"selection_comment:aceCreateDomLine",aceAttribsToClasses:"selection_comment:aceAttribsToClasses"},plugin:"ep_etherpad-lite",full_name:"ep_etherpad-lite/selection_comment"},{name:"upload_attachment",client_hooks:{postAceInit:"upload_attachment:postAceInit",aceInitialized:"upload_attachment:aceInitialized",aceCreateDomLine:"upload_attachment:aceCreateDomLine",aceAttribsToClasses:"upload_attachment:aceAttribsToClasses"},plugin:"ep_etherpad-lite",full_name:"ep_etherpad-lite/upload_attachment"},{name:"check_list",client_hooks:{postAceInit:"check_list:postAceInit"},plugin:"ep_etherpad-lite",full_name:"ep_etherpad-lite/check_list"},{name:"code_area",client_hooks:{postAceInit:"code_area:postAceInit"},plugin:"ep_etherpad-lite",full_name:"ep_etherpad-lite/code_area"},{name:"heading",client_hooks:{postAceInit:"heading:postAceInit",aceInitialized:"heading:aceInitialized"},plugin:"ep_etherpad-lite",full_name:"ep_etherpad-lite/heading"}]}},parts:[{name:"heading",client_hooks:{postAceInit:"heading:postAceInit",aceInitialized:"heading:aceInitialized",aceDomLineProcessLineAttributes:"heading:aceDomLineProcessLineAttributes",aceAttribsToClasses:"heading:aceAttribsToClasses"},plugin:"ep_etherpad-lite",full_name:"ep_etherpad-lite/heading"},{name:"code_area",client_hooks:{postAceInit:"code_area:postAceInit"},plugin:"ep_etherpad-lite",full_name:"ep_etherpad-lite/code_area"},{name:"check_list",client_hooks:{postAceInit:"check_list:postAceInit"},plugin:"ep_etherpad-lite",full_name:"ep_etherpad-lite/check_list"},{name:"selection_comment",client_hooks:{postAceInit:"selection_comment:postAceInit",aceInitialized:"selection_comment:aceInitialized",aceCreateDomLine:"selection_comment:aceCreateDomLine",aceAttribsToClasses:"selection_comment:aceAttribsToClasses"},plugin:"ep_etherpad-lite",full_name:"ep_etherpad-lite/selection_comment"},{name:"upload_attachment",client_hooks:{postAceInit:"upload_attachment:postAceInit",aceInitialized:"upload_attachment:aceInitialized",aceCreateDomLine:"upload_attachment:aceCreateDomLine",aceAttribsToClasses:"upload_attachment:aceAttribsToClasses"},plugin:"ep_etherpad-lite",full_name:"ep_etherpad-lite/upload_attachment"},{name:"mention",client_hooks:{aceAttribsToClasses:"mention:aceAttribsToClasses"},plugin:"ep_etherpad-lite",full_name:"ep_etherpad-lite/mention"},{name:"upload_image",client_hooks:{postAceInit:"upload_image:postAceInit",aceCreateDomLine:"upload_image:aceCreateDomLine",aceAttribsToClasses:"upload_image:aceAttribsToClasses",aceInitialized:"upload_image:aceInitialized"},plugin:"ep_etherpad-lite",full_name:"ep_etherpad-lite/upload_image"},{name:"table",client_hooks:{postAceInit:"table:postAceInit",aceInitialized:"table:aceInitialized",aceCreateDomLine:"table:aceCreateDomLine",aceAttribsToClasses:"table:aceAttribsToClasses"},plugin:"ep_etherpad-lite",full_name:"ep_etherpad-lite/table"},{name:"link",client_hooks:{postAceInit:"linkBtn:postAceInit",aceInitialized:"linkBtn:aceInitialized",aceCreateDomLine:"linkBtn:aceCreateDomLine",aceAttribsToClasses:"linkBtn:aceAttribsToClasses"},plugin:"ep_etherpad-lite",full_name:"ep_etherpad-lite/link"},{name:"divide",client_hooks:{postAceInit:"divide:postAceInit",aceInitialized:"divide:aceInitialized",aceCreateDomLine:"divide:aceCreateDomLine",aceAttribsToClasses:"divide:aceAttribsToClasses"},plugin:"ep_etherpad-lite",full_name:"ep_etherpad-lite/divide"},{name:"font_color",client_hooks:{postAceInit:"font_color:postAceInit",aceInitialized:"font_color:aceInitialized",aceCreateDomLine:"font_color:aceCreateDomLine",aceAttribsToClasses:"font_color:aceAttribsToClasses"},plugin:"ep_etherpad-lite",full_name:"ep_etherpad-lite/font_color"},{name:"font_size",client_hooks:{postAceInit:"font_size:postAceInit",aceInitialized:"font_size:aceInitialized",aceCreateDomLine:"font_size:aceCreateDomLine",aceAttribsToClasses:"font_size:aceAttribsToClasses"},plugin:"ep_etherpad-lite",full_name:"ep_etherpad-lite/font_size"},{name:"align",client_hooks:{postAceInit:"align:postAceInit",aceCreateDomLine:"align:aceCreateDomLine",aceAttribsToClasses:"align:aceAttribsToClasses",aceDomLinePreProcessLineAttributes:"align:aceDomLinePreProcessLineAttributes",collectContentPre:"align:collectContentPre",collectContentPost:"align:collectContentPost",aceInitialized:"align:aceInitialized",aceRegisterBlockElements:"align:aceRegisterBlockElements"},plugin:"ep_etherpad-lite",full_name:"ep_etherpad-lite/align"},{name:"inherit_style",client_hooks:{postAceInit:"inherit_style:postAceInit",aceRegisterBlockElements:"inherit_style:aceRegisterBlockElements",aceAttribsToClasses:"inherit_style:aceAttribsToClasses",aceDomLinePreProcessLineAttributes:"inherit_style:aceDomLinePreProcessLineAttributes",collectContentPre:"inherit_style:collectContentPre",collectContentPost:"inherit_style:collectContentPost"},plugin:"ep_etherpad-lite",full_name:"ep_etherpad-lite/inherit_style"},{name:"horizontal_line",client_hooks:{aceInitialized:"horizontal_line:aceInitialized",postAceInit:"horizontal_line:postAceInit",aceRegisterBlockElements:"horizontal_line:aceRegisterBlockElements",aceAttribsToClasses:"horizontal_line:aceAttribsToClasses",aceCreateDomLine:"horizontal_line:aceCreateDomLine"},plugin:"ep_etherpad-lite",full_name:"ep_etherpad-lite/horizontal_line"},{name:"paint_format",client_hooks:{postAceInit:"paint_format:postAceInit"},plugin:"ep_etherpad-lite",full_name:"ep_etherpad-lite/paint_format"},{name:"clear_format",client_hooks:{postAceInit:"clear_format:postAceInit"},plugin:"ep_etherpad-lite",full_name:"ep_etherpad-lite/clear_format"}]};return e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r,i;(function(o){r=[n(356),n(359),n(374)],i=function(e,t,n){var r=(e.padutils,function(){var e=void 0,n={ace:null,viewZoom:100,init:function(r,i,a){function s(){o("#pad-loading").addClass("hide"),o(window).trigger("pad_ready"),r&&r()}e=a,n.ace=new t,n.ace.init("editorcontainer","",s),n.ace.setProperty("wraps",!0),e.getIsDebugEnabled()&&n.ace.setProperty("dmesg",e.dmesg)},dispose:function(){n.ace&&(n.ace.destroy(),n.ace=null)},disable:function(){n.ace&&(n.ace.setProperty("grayedOut",!0),n.ace.setEditable(!1))},restoreRevisionText:function(e){n.ace.importAText(e.atext,e.apool,!0)}};return n}());return r}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(1))},function(e,t,n){var r,i;(function(o){r=[n(357),n(358)],i=function(e,t){function n(e){var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",n="";e=e||20;for(var r=0;r<e;r++){var i=Math.floor(Math.random()*t.length);n+=t.substring(i,i+1)}return n}function r(e,t,n,r){if(n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);var o="; expires="+i.toGMTString()}else var o="";r||(r="/"),"Microsoft Internet Explorer"==navigator.appName?document.cookie=e+"="+t+o+"; path=/":document.cookie=e+"="+t+o+"; path="+r}function i(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return null}var a={},s={escapeHtml:function(t){return e.escapeHTML(String(t))},uaDisplay:function(e){function t(e){var t=16;return e=e.replace(/[^a-zA-Z0-9\.]/g,""),e.length>t&&(e=e.substr(0,t)),e}function n(n){var r=e.match(RegExp(n+"\\/([\\d\\.]+)"));return r&&r.length>1?t(n+r[1]):null}var r;if(n("Firefox"))return n("Firefox");if(r=e.match(/compatible; ([^;]+);/),r&&r.length>1)return t(r[1]);if(e.match(/\(iPhone;/))return"iPhone";if(n("Chrome"))return n("Chrome");if(r=e.match(/Safari\/[\d\.]+/)){var i="?";return r=e.match(/Version\/([\d\.]+)/),r&&r.length>1&&(i=r[1]),t("Safari"+i)}var o=e.split(" ")[0];return t(o)},simpleDateTime:function(e){var t=new Date(+e),n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][t.getDay()],r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],i=t.getDate(),o=t.getFullYear(),a=t.getHours()+":"+("0"+t.getMinutes()).slice(-2);return n+" "+r+" "+i+" "+o+" "+a},findURLs:function(e){function t(e){i.lastIndex=0;for(var t,n=null;t=i.exec(e);){n=n||[];var r=t.index,o=t[0];n.push([r,o])}return n}var n=/[\u0030-\u0039\u0041-\u005A\u0061-\u007A\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF\u0100-\u1FFF\u3040-\u9FFF\uF900-\uFDFF\uFE70-\uFEFE\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFDC]/,r=new RegExp("("+/[-:@a-zA-Z0-9_.,~%+\/?=&#;()$]/.source+"|"+n.source+")"),i=new RegExp(/(?:(?:https?|s?ftp|ftps|file|nfs):\/\/|mailto:)/.source+r.source+"*(?![:.,;])"+r.source,"g");return t(e)},escapeHtmlWithClickableLinks:function(t,n){function r(n){n>i&&(o.push(e.escapeHTML(t.substring(i,n))),i=n)}var i=0,o=[],a=s.findURLs(t);if(a)for(var c=0;c<a.length;c++){var u=a[c][0],l=a[c][1];r(u),o.push("<a ",n?'target="'+e.escapeHTMLAttribute(n)+'" ':"",'href="',e.escapeHTMLAttribute(l),'">'),r(u+l.length),o.push("</a>")}return r(t.length),o.join("")},bindEnterAndEscape:function(e,t,n){t&&e.keypress(function(e){13==e.which&&t(e)}),n&&e.keydown(function(e){27==e.which&&n(e)})},makeAnimationScheduler:function(e,t,n){function r(){i||(i=window.setTimeout(function(){i=null;for(var t=n,o=!0;o&&t>0;)o=e(),t--;o&&r()},t*n))}void 0===n&&(n=1);var i=null;return{scheduleAnimation:r}},makeShowHideAnimator:function(e,t,n,r){function i(){u=-1,e(u),p()}function o(){u=u<-1?-1:u<=0?u:Math.max(-1,Math.min(0,-u)),e(u),p()}function a(){u>=-1&&u<=0&&(u=1e-6,p())}function c(){return!(u<-1||0==u)&&(u<0?(u+=f,u>=0?(u=0,e(u),!1):(e(u),!0)):u>0?(u+=f,u>=1?(u=1,e(u),u=-2,!1):(e(u),!0)):void 0)}var u=t?0:-2,l=1e3/n,f=l/r,p=s.makeAnimationScheduler(c,l).scheduleAnimation;return{show:i,hide:a,quickShow:o}},_nextActionId:1,uncanceledActions:{},getCancellableAction:function(e,t){var n=s.uncanceledActions[e];n||(n={},s.uncanceledActions[e]=n);var r=s._nextActionId++;return n[r]=!0,function(){var n=s.uncanceledActions[e];n&&n[r]&&t()}},cancelActions:function(e){var t=s.uncanceledActions[e];t&&delete s.uncanceledActions[e]},makeFieldLabeledWhenEmpty:function(e,t){function n(){e.addClass("editempty"),e.val(t)}return e=o(e),e.focus(function(){e.hasClass("editempty")&&e.val(""),e.removeClass("editempty")}),e.blur(function(){e.val()||n()}),{clear:n}},getCheckbox:function(e){return o(e).is(":checked")},setCheckbox:function(e,t){t?o(e).attr("checked","checked"):o(e).removeAttr("checked")},bindCheckboxChange:function(e,t){o(e).bind("click change",t)},encodeUserId:function(e){return e.replace(/[^a-y0-9]/g,function(e){return"."==e?"-":"z"+e.charCodeAt(0)+"z"})},decodeUserId:function(e){return e.replace(/[a-y0-9]+|-|z.+?z/g,function(e){return"-"==e?".":"z"==e.charAt(0)?String.fromCharCode(Number(e.slice(1,-1))):e})}};return s.binarySearch=t.binarySearch,a.randomString=n,a.createCookie=r,a.readCookie=i,a.padutils=s,a}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(1))},function(e,t,n){var r;r=function(){function e(e){return e&&e.replace(u,function(e){return c[e]||e})}function t(e){return e&&e.replace(l,function(e){return c[e]||"&#x"+("00"+e.charCodeAt(0).toString(16)).slice(-2)+";"})}function n(e){return e&&e.replace(f,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})}function r(e){return e&&'"'+n(e)+'"'}function i(e){return JSON.stringify(e).replace(p,function(e){return r(JSON.parse(e))})}function o(e){return e&&e.replace(d,function(e){return"\\"+("000000"+e.charCodeAt(0).toString(16)).slice(-6)})}function a(e){return e&&'"'+o(e)+'"'}var s={},c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},u=/[&"'<>\/]/gm,l=/[\x00-\x2F\x3A-\x40\x5B-\x60\x7B-\xFF]/gm,f=/[\x00-\x2F\x3A-\x40\x5B-\x60\x7B-\xFF\u2028\u2029]/gm,p=/"(?:\\.|[^"])*"/gm,d=/[\x00-\x2F\x3A-\x40\x5B-\x60\x7B-\xFF]/gm;return s.escapeHTML=e,s.escapeHTMLAttribute=t,s.encodeJavaScriptIdentifier=n,s.encodeJavaScriptString=r,s.encodeJavaScriptData=i,s.encodeCSSIdentifier=o,s.encodeCSSString=a,s}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r,i;r=[n(357)],i=function(e){function t(e){return!!e&&3==e.nodeType}function n(e){var t=function(){};return t.prototype=e,new t}function r(e,t){return e["_magicdom_"+t]}function i(e,t,n){e["_magicdom_"+t]=n}function o(e,t){if(e<1)return 0;if(t(0))return 0;if(!t(e-1))return e;for(var n=0,r=e-1;r-n>1;){var i=Math.floor((n+r)/2);t(i)?r=i:n=i}return r}function a(e,t){for(var n=0;!t(n);)n+=e;return o(n,t)}function s(t){return e.escapeHTML(t).replace(/\r?\n/g,"\\n")}var c={},u=function(){};return c.isNodeText=t,c.object=n,c.getAssoc=r,
c.setAssoc=i,c.binarySearch=o,c.binarySearchInfinite=a,c.htmlPrettyEscape=s,c.noop=u,c}.apply(t,r),!(void 0!==i&&(e.exports=i))},function(e,t,n){var r,i;(function(o){r=[n(318),n(320),n(360)],i=function(e,t,n){function r(){function i(e,t){return function(){var n=this,r=arguments,i=function(){e.apply(n,r)};t&&t.apply(n,r),l?i():f.push(i)}}function a(){o.each(f,function(e){e()}),f=[]}var s=r,c={},u={editor:c,id:s.registry.nextId++},l=!1,f=[];s.registry[u.id]=u;var p=["importText","importAText","focus","setEditable","getFormattedCode","setOnKeyPress","setOnKeyDown","setNotifyDirty","setProperty","setBaseText","setBaseAttributedText","applyChangesToBase","applyPreparedChangesetToBase","setUserChangeNotificationCallback","setAuthorInfo","setAuthorSelectionRange","callWithAce","execCommand","replaceRange","checkAttributeOnSelection"];return o.each(p,function(e){var t="ace_";c[e]=i(function(){u[t+e].apply(this,arguments)})}),c.exportText=function(){return l?u.ace_exportText():"(awaiting init)\n"},c.getFrame=function(){return u.frame||null},c.getDebugProperty=function(e){return u.ace_getDebugProperty(e)},c.getInInternationalComposition=function(){return!(!l||!u)&&u.ace_getInInternationalComposition()},c.getUncommittedChanges=function(){return l?u.ace_getUncommittedChanges():null},c.prepareUserChangeset=function(){return l?u.ace_prepareUserChangeset():null},c.getUnhandledErrors=function(){return l?u.ace_getUnhandledErrors():[]},c.destroy=i(function(){u.ace_dispose(),delete s.registry[u.id]}),c.init=function(i,o,s){c.importText(o),u.onEditorReady=function(){l=!0,a(),s()};var f=u.id,p=r.registry[f],d=function(){p.onEditorReady(),d=null,p=null};window.editorInfo=p,window.readyFunc=d,e.plugins=t,t.ensure(function(){n.init()})},c}return r.registry={nextId:1},r}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(4))},function(e,t,n){var r,i;(function(o,a,s,c){r=[n(358),n(320),n(318),n(322),n(363),n(365),n(366),n(368),n(316),n(315),n(329),n(369),n(371),n(362),n(370),n(303),n(175),n(166),n(326),n(372),n(373),n(350),n(310)],i=function(e,t,n,r,i,u,l,f,p,d,h,m,v,g,y,b,w,_,x,C,k,T,S){function E(){function e(){Ar=$n("dynamicsyntax"),Ir=$n("dynamicsyntax","outer"),Or=$n("dynamicsyntax","parent")}function t(){return Nr}function r(e,t){"string"!=typeof e&&(e=String(e));var n=E("gutter-"+Hn.getAuthorClassName(e)),r=A("gutter-"+Hn.getAuthorClassName(e),Hn.getAuthorClassName(e));if(t){if(Nr[e]=t,t.bgcolor&&Ar){var i=t.bgcolor,o=3,a=V(t.bgcolor,.4),s=Ar.selectorStyle(n),c=Ar.selectorStyle(n+".fadeUserline");w.isMobile()||(s.borderLeft=o+"px solid "+i,c.borderLeftColor=a),Ar.selectorStyle(F(Hn.getAuthorClassName(e))).color=i,Ar.selectorStyle(W(Hn.getAuthorClassName(e))).borderBottom="2px dotted "+i,Ar.selectorStyle(r).borderBottom="0px solid "+i}}else{delete Nr[e];var u=Dr.indexOf(e);u>=0&&Dr.splice(u,1),Ar&&(Ar.removeSelectorStyle(n),Ar.removeSelectorStyle(r),Ar.removeSelectorStyle(F(Hn.getAuthorClassName(e))),Ar.removeSelectorStyle(W(Hn.getAuthorClassName(e))))}}function E(e){return".edit-mode #innerdocbody ."+e}function A(e,t){return".edit-mode #innerdocbody ."+e+" ."+t}function F(e){return"#innerdocbody >div.gutter-"+e+":before"}function B(e){return"#innerdocbody .gutter-"+e+":not(.line-list-type-comment) + .gutter-"+e+":not(.line-list-type-comment):before, #innerdocbody .gutter-"+e+":not(.line-list-type-comment) + .gutter-noauthor + .gutter-"+e+":not(.line-list-type-comment):before, #innerdocbody .line-list-type-comment.gutter-"+e+" + #innerdocbody .line-list-type-comment.gutter-"+e+":before"}function U(){Ar&&s.forEach(fr.apool.attribToNum,function(e,t){var n=t.split(","),r=n[0],i=n[1]+"";"author"===r&&Dr.indexOf(i)<0&&(Dr.push(i),Ar.selectorStyle(B(Hn.getAuthorClassName(i))).display="none")})}function z(e){return"author-"==e.substring(0,7)?e.substring(7).replace(/[a-y0-9]+|-|z.+?z/g,function(e){return"-"==e?".":"z"==e.charAt(0)?String.fromCharCode(Number(e.slice(1,-1))):e}):null}function W(e){return".edit-mode #innerdocbody ."+e}function V(e,t){var n=C.css2triple(e);return n=C.blend(n,[1,1,1],t),C.triple2css(n)}function $(e,t,r){function i(){u=!0,xr.profile()}function o(e){return{eventType:e,backset:null}}function a(e){if(fr.selStart&&fr.selEnd){var t=fr.lines.offsetOfIndex(fr.selStart[0])+fr.selStart[1],n=fr.lines.offsetOfIndex(fr.selEnd[0])+fr.selEnd[1];e.selStart=t,e.selEnd=n,e.selFocusAtStart=fr.selFocusAtStart}if(qn.enabled){var r=!1;try{"setup"==e.eventType||"importText"==e.eventType||"setBaseText"==e.eventType?qn.clearHistory():"nonundoable"==e.eventType?e.changeset&&qn.reportExternalChange(e.changeset):qn.reportEvent(e),r=!0}finally{r||(qn.enabled=!1)}}}function s(e,t){var n=Lr.editEvent;return t||a(n),Lr.editEvent=o(e),n}if(!nr){Lr&&xr.error("Can't enter callstack "+e+", already in "+Lr.type);var u=!1;Lr={type:e,docTextChanged:!1,selectionAffected:!1,userChangedSelection:!1,domClean:!1,profileRest:i,isUserChange:!1,repChanged:!1,editEvent:o(e),startNewEvent:s};var l,f=!1;try{l=t(),n.callAll("aceEditEvent",{callstack:Lr,editorInfo:rr,rep:fr,documentAttributeManager:wr}),f=!0}catch(e){throw er.push({error:e,time:+new Date}),Sr(e.toString()),c(e.message,"ace2_inner.js",0,0,e),xr.log(e),e}finally{var p=Lr;f?(a(p.editEvent),p.domClean&&"setup"!=p.type&&(p.selectionAffected?Dt():rt("selection"),(p.docTextChanged||p.userChangedSelection)&&"applyChangesToBase"!=p.type&&w.isMobile()&&!window.cow.padScroller&&cn(),p.docTextChanged&&p.type.indexOf("importText")<0&&lr())):"idleWorkTimer"==Lr.type&&jr.atLeast(1e3),"function"==typeof r&&r(),Lr=null,u&&xr.profileEnd()}return l}}function H(e,t,n){Lr?(t(),"function"==typeof n&&n()):$(e,t,n)}function q(){nr=!0,jr&&jr.never(),Vt()}function K(){return}function G(e){gr=e;Xt(pr,"doesWrap",gr),Er.setTimeout(function(){H("setWraps",function(){if(_e(7),X(),Ft(),!w.isMobile()&&window.cow.doceditor){var e=Object.keys(window.cow.doceditor).length;e>1&&S.showUserLine()}})},0)}function Y(e){var t=br;br=!!e,e!=t&&(e||H("setStyled",function(){_e(12);var e=[];for(var t in Br)e.push([t,""]);Qe(0,fr.alltext.length,e)}))}function X(){Ce(0,fr.alltext.length)}function J(e){vr=window.cow.isMobile?window.cow.isMobileEditable&&e:e,$t(vr?!0:!1),Xt(pr,"static",!vr)}function Z(){J(vr)}function Q(e,t,n){var r;if(n){if("\n"!=e.charAt(e.length-1))throw new Error("new raw text must end with newline");if(/[\r\t\xa0]/.exec(e))throw new Error("new raw text must not contain CR, tab, or nbsp");r=e.substring(0,e.length-1).split("\n")}else r=s.map(e.split("\n"),dt);var i="\n";if(r.length>0&&(i=r.join("\n")+"\n"),H("importText"+(t?"Undoable":""),function(){ne(i)}),n&&fr.alltext!=e)throw new Error("mismatch error setting raw text in importText")}function ee(e,t,n){if(e=d.cloneAText(e),t){var r=(new p).fromJsonable(t);e.attribs=d.moveOpsToNewPool(e.attribs,r,fr.apool)}H("importText"+(n?"Undoable":""),function(){te(e)})}function te(e){_e(8);var t=fr.lines.totalWidth(),n=fr.lines.length(),r=fr.lines.offsetOfIndex(n-1),i=fr.lines.atIndex(n-1).text.length,o=d.smartOpAssembler(),a=d.newOp("-");a.chars=r,a.lines=n-1,o.append(a),a.chars=i,a.lines=0,o.append(a),d.appendATextToAssembler(e,o);var s=t+o.getLengthChange(),c=d.checkRep(d.pack(t,s,o.toString(),e.text.slice(0,-1)));if(Ve(c),lt([0,fr.lines.atIndex(0).lineMarker],[0,fr.lines.atIndex(0).lineMarker]),jr.atMost(100),_.notify("editor:ready"),fr.alltext!=e.text)throw Sr(L(fr.alltext)),Sr(L(e.text)),new Error("mismatch error setting raw text in setDocAText")}function ne(e){te(d.makeAText(e))}function re(){var e=fr.alltext,t=e.length;return t>0&&t--,e.substring(0,t)}function ie(){return Lr&&!Lr.domClean&&H("exportText",function(){_e(2)}),re()}function oe(){Ft(),w.isMobile()&&!window.cow.padScroller&&cn()}function ae(e){ur=e}function se(e){cr=e}function ce(e){lr=e}function ue(){Lr&&!Lr.domClean&&H("getFormattedCode",Oe);var e=[];if(fr.lines.length()>0)for(var t=fr.lines.atIndex(0);t;){var n=t.domInfo;e.push(n&&n.getInnerHTML()||f.processSpaces(f.escapeHTML(t.text),gr)||"&nbsp;"),t=fr.lines.next(t)}return'<div class="syntax"><div>'+e.join("</div>\n<div>")+"</div></div>"}function le(e){e=e.toLowerCase();var t=Array.prototype.slice.call(arguments,1);Mr[e]&&H(e,function(){_e(9),Mr[e].apply(Mr,t)})}function fe(e,t,n){H("replaceRange",function(){_e(9),Je(e,t,n)})}function pe(e){var t,n;fr.alines.length>e+1?(t=[e,0],n=[e+1,0]):(t=[e-1,fr.lines.atIndex(e-1).text.length],n=[e,fr.lines.atIndex(e).text.length]),Je(t,n,"")}function de(e){delete cleanNodeList[e]}function he(e,t){for(var n,r=0;r<cleanNodeList.length;r++)if(e===cleanNodeList[r]){n=r;break}return t!==!1?(void 0===n&&(cleanNodeList.push(e),n=cleanNodeList.length-1),n):void(n>-1&&delete cleanNodeList[n])}function me(e){if(!cleanNodeList.toString().replace(/,/g,""))return!1;for(var t=!1,n=0;n<cleanNodeList.length;n++)if(e===cleanNodeList[n]){t=!0;break}return t}function ve(e){if(e){var t={node:e,index:0,maxIndex:0},n=ge(t);if(n){var r=[n[0],n[1]+a(e).text().length];return{selStart:n,selEnd:r}}}}function ge(e){var t=rr.ace_getRep(),n=document.getElementById("innerdocbody"),r="​";if(e.node==n){if(0==e.index)return[0,0];var i=t.lines.length(),o=t.lines.atIndex(i-1);return[i-1,o.text.length]}var s,c,u=e.node,l=0;for(O(u)?(l=e.index,Ue(u)[0]==r&&(l=Math.max(l-1,0))):e.index>0&&(l=Ue(u).length);(s=u.parentNode)!=n;)if(c=u.previousSibling)u=c,l+=Ue(u).length,Ue(u)[0]==r&&(l=Math.max(l-1,0));else if(u=s,!u)return void xr.log("-----bad dom-----");if(""==u.id){xr.log("BAD");var f=a(u).index()}if(u.firstChild&&ht(u.firstChild)&&(l+=1),f){xr.log("---fix---");var p=f}else var d=t.lines.atKey(u.id),p=t.lines.indexOfEntry(d);return[p,l]}function ye(){return(new Date).getTime()}function be(e){var t=ye(),n=0,r=!1,i=!1,o=function(){if(r)return i||(i=!0),!0;var o=ye()-t;return o>e?(r=!0,!0):(n=o,!1)};return o.elapsed=function(){return ye()-t},o}function we(e){function t(){i&&(Er.clearTimeout(i),i=null)}function n(e){t(),o=e;var n=e-ye();n<0&&(n=0),i=Er.setTimeout(r,n)}function r(){i=null,e()}var i=null,o=0;return{atMost:function(e){var t=ye()+e;(!i||o>t)&&n(t)},atLeast:function(e){var t=ye()+e;(!i||o<t)&&n(t)},never:function(){t()}}}function _e(e,t){"call"==t&&(Lr.domClean=!1),Oe(be(0))}function xe(e){var t=e.id;return t?t:e.id="magicdomid"+Fr++}function Ce(e,t,n,r){if(!(t<=e||e<0||e>=fr.lines.totalWidth())){var i=fr.lines.atOffset(e),o=fr.lines.offsetOfEntry(i),a=fr.lines.indexOfEntry(i),s=!1,c=null,u=null;n=n||M;var l,f=function(e,t){i.domInfo.appendSpan(e,t)};if(r){var p=f;f=function(e,t){r(e,t,p,l),l+=e.length}}for(;i&&o<t&&!n();){var d=o+i.width;l=o,i.domInfo.clearSpans(),ke(i,f,o),i.domInfo.finishUpdate(),vt(i.lineNode),(fr.selStart&&fr.selStart[0]==a||fr.selEnd&&fr.selEnd[0]==a)&&(s=!0),null===c&&(c=a),u=a,o=d,i=fr.lines.next(i),a++}s&&(Lr.selectionAffected=!0)}}function ke(e,t,n){var r=n;"number"!=typeof r&&(r=fr.lines.offsetOfEntry(e));var i=e.text;e.width;if(0===i.length){var o=Hn.getLineStyleFilter(0,"",t,fr.apool);o("","")}else{var a=Hn.getFilterStack(i,t,P),s=fr.lines.indexOfEntry(e),c=fr.alines[s];a=Hn.getLineStyleFilter(i.length,c,a,fr.apool),a(i,"")}}function Te(){Rr={cleanNodesNearChanges:{}}}function Se(e){var t=Tr("getCleanNodeByKey",!1);t.extra=0;for(var n=dr.getElementById(e);n&&gt(n);)t.extra++,n.id="",n=dr.getElementById(e);return t.literal(t.extra,"extra"),t.end(),n}function Ee(e){var t,n;if(gt(e)){for(var r=e.previousSibling;r&&gt(r);)r=r.previousSibling;if(r)t=r;else{for(var i=e.nextSibling;i&&gt(i);)i=i.nextSibling;i&&(t=i)}if(!t)return;n=!0}else{t=e;var o=t.previousSibling,a=t.nextSibling;n=o&&gt(o)||a&&gt(a)}if(n)Rr.cleanNodesNearChanges["$"+xe(t)]=!0;else{var s=xe(t);if(!fr.lines.atKey(s))return;var o=t.previousSibling,a=t.nextSibling,c=o&&xe(o)||null,u=a&&xe(a)||null,l=fr.lines.prev(fr.lines.atKey(s)),f=fr.lines.next(fr.lines.atKey(s)),p=l&&l.key||null,d=f&&f.key||null;c==p&&u==d||(Rr.cleanNodesNearChanges["$"+xe(t)]=!0)}}function Ae(){function e(e){if(!e||e==pr)return null;for(;e.parentNode&&e.parentNode!=pr;)e=e.parentNode;return e}if(!Lr.observedSelection){Lr.observedSelection=!0;var t=Tr("getSelection",!1),n=Mt();if(t.end(),n){var r=e(n.startPoint.node),i=e(n.endPoint.node);r&&Ee(r),i&&r!=i&&Ee(i)}}}function Ie(){if(pr.getElementsByTagName)for(var e=pr.getElementsByTagName("style"),t=0;t<e.length;t++){for(var n=e[t];n.parentNode&&n.parentNode!=pr;)n=n.parentNode;n.parentNode==pr&&Ee(n)}}function Oe(e){if(Lr.domClean||window.cow.readonly)return!1;if(Lr.isUserChange=!0,e=e||function(){return!1},Kn&&window.DONT_INCORP||window.DEBUG_DONT_INCORP)return!1;var t=Tr("incorp",!1);pr.firstChild||(pr.innerHTML="<div><!-- --></div>"),t.mark("obs"),Ae(),Ie(),t.mark("dirty");for(var r,i,o=mt(),c=!0,u=0;u<o.length;){if(r=o[u][0],i=o[u][1],0!==r&&!Se(fr.lines.atIndex(r-1).key)||i!=fr.lines.length()&&!Se(fr.lines.atIndex(i).key)){c=!1;break}u++}if(!c){for(var l=pr.childNodes.length,f=0;f<l;f++){var p=pr.childNodes.item(f);!p.tagName||p.id&&fr.lines.containsKey(p.id)||Ee(p)}o=mt()}Te(),t.mark("getsel");var d=Mt(),h=o.length>0;h&&window.cow.isMobile&&a(pr).find(".ace-line").find("font").each(function(){"#000000"===a(this).attr("color")&&"1"===a(this).attr("size")&&a(this).removeAttr("size")});var m,v,g=0,y=[],w=0,x=[];t.mark("ranges"),t.literal(o.length,"numdirt");for(var C=[];g<o.length;){var k=o[g];r=k[0],i=k[1];var T=0===r&&pr.firstChild||Se(fr.lines.atIndex(r-1).key).nextSibling;T=T&&gt(T)&&T;var S,E;for(S=i;S<=fr.lines.length();S++){if(S==fr.lines.length()){E=pr.lastChild;break}if(Se(fr.lines.atIndex(S).key)){E=Se(fr.lines.atIndex(S).key).previousSibling;break}}if(E=E&&gt(E)&&E,T&&E){var A=Vn(br,P,fr.apool,null,z);A.notifySelection(d);for(var O=[],N=T;N&&(!N.previousSibling||N.previousSibling!=E);N=N.nextSibling){if(P.msie)try{N.createTextRange().execCommand("unlink",!1,null)}catch(e){}8!==N.nodeType&&A.collectContent(N),O.push(N)}A.notifyNextNode(E.nextSibling);var D=A.getLines();if((D.length<=1||""!==D[D.length-1])&&E.nextSibling){i++;var L=E.nextSibling;8!==L.nodeType&&A.collectContent(L),x.push(L),A.notifyNextNode(L.nextSibling)}var M=A.finish(),R=M.selStart,j=M.selEnd;D=M.lines;var F=M.lineAttribs,B=M.linesWrapped,W=!1;if(B>0&&!P.ie)var W=!0;R[0]>=0&&(m=[R[0]+r+w,R[1]]),j[0]>=0&&(v=[j[0]+r+w,j[1]]);for(var V=[],$=E,H=new Array(D.length),f=0;f<D.length;f++){var q=D[f],K=We(q);V.push(K),H[f]=K.domInfo}C.push([$,H]),s.each(O,function(e){x.push(e)});var G={};m&&(G.selStart=m),v&&(G.selEnd=v),y.push([r+w,i-r,V,F,G]),w+=D.length-(i-r)}else i>r&&y.push([r+w,i-r,[],[]]);g++}var Y=y.length>0;if(t.mark("splice"),s.each(y,function(e){at(e[0],e[1],e[2],e[3],e[4])}),t.mark("insert"),s.each(C,function(t){De(t[0],t[1],e)}),s.each(C,function(e){if(e[1].length>0){var t=a(e[1][0].node),n=a(pr).children('div[id^="magicdomid"]').index(t),r=e[1].length;Pe(n,r)}}),t.mark("del"),U(),s.each(x,function(e){e.parentNode&&e.parentNode.removeChild(e)}),W&&a("#innerdocbody").scrollLeft(0),t.mark("findsel"),d&&!m){var X=n.callAll("aceStartLineAndCharForPoint",{callstack:Lr,editorInfo:rr,rep:fr,root:pr,point:d.startPoint,documentAttributeManager:wr});m=null==X||0==X.length?ze(d.startPoint):X}if(d&&!v){var J=n.callAll("aceEndLineAndCharForPoint",{callstack:Lr,editorInfo:rr,rep:fr,root:pr,point:d.endPoint,documentAttributeManager:wr});v=null==J||0==J.length?ze(d.endPoint):J}var Z=fr.lines.length();return m&&m[0]>=Z&&(m[0]=Z-1,m[1]=fr.lines.atIndex(m[0]).text.length),v&&v[0]>=Z&&(v[0]=Z-1,v[1]=fr.lines.atIndex(v[0]).text.length),t.mark("repsel"),(d||I)&&ft(m,v,d&&d.focusAtStart),t.mark("browsel"),d&&(Y||Le())&&(Lr.selectionAffected=!0),Lr.domClean=!0,t.mark("mention"),mr.inMention&&mr.checkMention(),t.mark("avatar"),avatarTrack.trackPosition(fr),t.mark("comment-btn"),b.updateCommentBtnPosition(fr),t.mark("fixview"),Ft(),t.mark("listen-caret-change"),_.notify("caret:change",fr),t.end("END"),_.notify("pad:suspiciousChanged"),Y}function Pe(e,t){for(var n="",r=0;r<t;r++){var i=r+e,o=ln(i);o&&!n&&In(i),n=o}}function Ne(e){return!!Br[e]}function De(e,t,n){n=n||function(){return!1};var r,i;if(!(t.length<1)){var o=fr.lines.atKey(xe(t[0].node)),a=fr.lines.atKey(xe(t[t.length-1].node));fr.lines.offsetOfEntry(o),fr.lines.offsetOfEntry(a)+a.width;s.each(t,function(t){var o,a=Tr("insertLine",!1),s=t.node,c=xe(s);if(a.mark("findEntry"),r){var u=fr.lines.next(r);u&&u.key==c&&(o=u,i+=r.width)}o?a.literal(0,"nonopt"):(a.literal(1,"nonopt"),o=fr.lines.atKey(c),i=fr.lines.offsetOfKey(c)),r=o,a.mark("spans"),ke(o,function(e,n){t.appendSpan(e,n)},i,n()),a.mark("addLine"),t.prepareForAdd(),o.lineMarker=t.lineMarker,e?pr.insertBefore(s,e.nextSibling):pr.insertBefore(s,pr.firstChild),e=s,t.notifyAdded(),a.mark("markClean"),vt(s),a.end()})}}function Le(){return fr.selStart&&fr.selEnd&&fr.selStart[0]==fr.selEnd[0]&&fr.selStart[1]==fr.selEnd[1]}function Me(){return fr.selStart[0]}function Re(){return fr.selStart[1]}function je(){return fr.lines.offsetOfIndex(Me())+Re()}function Fe(){if(Le()&&0===Re()&&Me()>0){var e=Me(),t=fr.lines.atIndex(e),n=fr.lines.prev(t),r=n.text,i=/^ *(?:)/.exec(r)[0];/[\[\(\:\{]\s*$/.exec(r)&&(i+=Yn);var o=d.builder(fr.lines.totalWidth()).keep(fr.lines.offsetOfIndex(e),e).insert(i,[["author",tr]],fr.apool).toString();Ve(o),lt([e,i.length],[e,i.length])}}function Be(e){var t=e[0],n=e[1],r=fr.lines.atIndex(t);n-=r.lineMarker,n<0&&(n=0);for(var i=r.lineNode,o=i,a=!1;o!=i||!a;)if(a)o.nextSibling?(o=o.nextSibling,a=!1):o=o.parentNode;else if(O(o)){var s=o.nodeValue.length;if(n<=s)return rt("caret"),{node:o,index:n,maxIndex:s};n-=s,a=!0}else o.firstChild?o=o.firstChild:a=!0;return rt(""===fr.lines.atIndex(fr.selStart[0]).text?"reset":"caret"),{node:i,index:0,maxIndex:1}}function Ue(e){return e.innerText||e.textContent||e.nodeValue||""}function ze(e){if(e.node==pr){if(0===e.index)return[0,0];var t=fr.lines.length(),n=fr.lines.atIndex(t-1);return[t-1,n.text.length]}var r=e.node,i=0;O(r)?i=e.index:e.index>0&&(i=Ue(r).length);for(var o,s;(o=r.parentNode)!=pr;)(s=r.previousSibling)?(r=s,i+=Ue(r).length):r=o;if(""===r.id){xr.debug("BAD");var c=a(r).index()}if(r.firstChild&&ht(r.firstChild)&&(i+=1),c)xr.log("---fix---"),l=c;else var u=fr.lines.atKey(r.id),l=fr.lines.indexOfEntry(u);return[l,i]}function We(e){var t=pt(e.length>0),n=t.node;return{key:xe(n),text:e,lineNode:n,domInfo:t,lineMarker:0}}function Ve(e,t){function n(e,t,n,r){r=r||be(50);var i=[];if(t>0)for(var o=fr.lines.atIndex(e),a=0;a<t;a++)i.push(o.key),o=fr.lines.next(o);var c=s.map(n,We);ot(e,t,c);var u;u=e>0?Se(fr.lines.atIndex(e-1).key):null,De(u,s.map(c,function(e){return e.domInfo}),r),1==c.length&&1==i.length&&(i=Ye(c,i,e)),s.each(i,function(e){var t=dr.getElementById(e);t&&t.parentNode&&t.parentNode.removeChild(t)}),(fr.selStart&&fr.selStart[0]>=e&&fr.selStart[0]<=e+t||fr.selEnd&&fr.selEnd[0]>=e&&fr.selEnd[0]<=e+t)&&(Lr.selectionAffected=!0)}He(e,t);var r=null;if(fr.selStart&&fr.selEnd){var i=fr.lines.offsetOfIndex(fr.selStart[0])+fr.selStart[1],o=fr.lines.offsetOfIndex(fr.selEnd[0])+fr.selEnd[1],a=d.characterRangeFollow(e,i,o,t);r=[a[0],a[1],fr.selFocusAtStart]}var c={splice:function(e,t,r){var i=Array.prototype.slice.call(arguments,2);n(e,t,s.map(i,function(e){return e.slice(0,-1)}),null)},get:function(e){return fr.lines.atIndex(e).text+"\n"},length:function(){return fr.lines.length()},slice_notused:function(e,t){return s.map(fr.lines.slice(e,t),function(e){return e.text+"\n"})}};d.mutateTextLines(e,c),K(),r&&lt(qe(r[0]),qe(r[1]),r[2])}function $e(e){return!0}function He(e,t){if(d.checkRep(e),d.oldLen(e)!=fr.alltext.length)throw new Error("doRepApplyChangeset length mismatch: "+d.oldLen(e)+"/"+fr.alltext.length);if(!$e(e))throw new Error("doRepApplyChangeset line break mismatch");!function(e){var t=Lr.editEvent;if("nonundoable"==t.eventType)t.changeset?t.changeset=d.compose(t.changeset,e,fr.apool):t.changeset=e;else{var n=d.inverse(e,{get:function(e){return fr.lines.atIndex(e).text+"\n"},length:function(){return fr.lines.length()}},fr.alines,fr.apool);t.backset?t.backset=d.compose(n,t.backset,fr.apool):t.backset=n}}(e),d.mutateAttributionLines(e,fr.alines,fr.apool),Pr.isTracking()&&Pr.composeUserChangeset(e)}function qe(e){var t=fr.lines.atOffset(e),n=fr.lines.offsetOfEntry(t),r=fr.lines.indexOfEntry(t);return[r,e-n]}function Ke(e,t){var n=e.nextSibling;n&&e.parentNode.removeChild(n);var t=t.cloneNode(!0),r=document.createElement("div");a(r).addClass("shadow-table"),r.appendChild(t),e.parentNode.appendChild(r)}function Ge(e,t){for(var n=[],r={};t.hasNext();){var i=t.next();d.eachAttribNumber(i.attribs,function(t){var i=rr.ace_getRep(),o=i.apool.getAttribKey(t).split(":"),a=i.apool.getAttribValue(t),s=o[0],c=o[1];if(2==o.length&&(e.setDataAtCell(s,c,a),r[s+":"+c]=!0),3==o.length){var u=o[2];n.push([s,c,u])}})}for(var o=0;o<n.length;o++)e.setAttribAtCell(n[o][0],n[o][1],n[o][2]);for(var a=e.getData(),o=0;o<a.length;o++)for(var s=0;s<a[o].length;s++)r[o+":"+s]||e.setDataAtCell(o,s,"")}function Ye(e,t,n){var r=document.getElementById(t[0]),i=e[0].domInfo.node;if(r&&i){var o=r.children.length&&a(r.children[0]).hasClass("doc-table"),s=i.children.length&&a(i.children[0]).hasClass("doc-table");if(o&&s){t=[],i.parentNode.removeChild(i),r.id=i.id,r.className=i.className;var c=d.opIterator(fr.alines[n]),u=r.children[0].children[0].children[0].children[0];Ge(u,c);var l=u.onAfterEdit();Ke(u,l),vt(r)}}return t}function Xe(e,t,n){e==t&&0===n.length||(t==fr.alltext.length&&(e==t?(e--,t--,n="\n"+n.substring(0,n.length-1)):0===n.length?(e--,t--):(t--,n=n.substring(0,n.length-1))),Je(qe(e),qe(t),n))}function Je(e,t,n){Ze(e,t,n,[["author",tr]])}function Ze(e,t,n,r){void 0===e&&(e=fr.selStart),void 0===t&&(t=fr.selEnd);var i=d.builder(fr.lines.totalWidth());h.buildKeepToStartOfRange(fr,i,e),h.buildRemoveRange(fr,i,e,t),i.insert(n,r,fr.apool);var o=i.toString();Ve(o)}function Qe(e,t,n){t=Math.min(t,fr.alltext.length-1),wr.setAttributesOnRange(qe(e),qe(t),n)}function et(e,t){fr.selStart&&fr.selEnd&&wr.setAttributesOnRange(fr.selStart,fr.selEnd,[[e,t]])}function tt(e){function t(e){return i.test(e)}if(fr.selStart&&fr.selEnd){for(var n=!0,r=d.makeAttribsString("+",[[e,"true"]],fr.apool),i=new RegExp(r.replace(/\*/g,"\\*")+"(\\*|$)"),o=fr.selStart[0],a=fr.selEnd[0],s=o;s<=a;s++){var c=d.opIterator(fr.alines[s]),u=0,l=0,f=fr.lines.atIndex(s).text.length;if(0==fr.lines.atIndex(s).text.length)return!1;if(fr.selStart[1]==fr.selEnd[1]&&fr.selStart[1]==fr.lines.atIndex(s).text.length)return!1;for(0==fr.selStart[1]&&0==fr.selEnd[1]&&1==fr.selEnd[1],fr.selEnd[1]==-1&&(fr.selEnd[1]=1),s==o&&(l=fr.selStart[1]),s==a&&(f=fr.selEnd[1]);c.hasNext();){var p=c.next(),h=u,m=h+p.chars;if(!t(p.attribs)&&!(m<=l||h>=f)){n=!1;break}u=m}if(!n)break}return!!n}}function nt(e){function t(e){return o.test(e)}function n(t){var n=d.makeAttribsString("+",[[e,"none"]],fr.apool),r=new RegExp(n.replace(/\*/g,"\\*")+"(\\*|$)");return r.test(t)}if(a(document).trigger("font-style:change"),fr.selStart&&fr.selEnd){Le()&&dr.execCommand&&(dr.execCommand(e),j.activeCaret(e,fr.selStart[0],fr.selStart[1]));for(var r=!0,i=d.makeAttribsString("+",[[e,"true"]],fr.apool),o=new RegExp(i.replace(/\*/g,"\\*")+"(\\*|$)"),s="bold"==e||"italic"==e||"underline"==e||"strikethrough"==e,c=fr.selStart[0],u=fr.selEnd[0],l=!0,f=c;f<=u;f++){var p,h=(ln(Me()),d.opIterator(fr.alines[f])),m=0,v=0,g=fr.lines.atIndex(f).text.length;f==c&&(v=fr.selStart[1]),f==u&&(g=fr.selEnd[1]),s&&(p=wr.getAttributeOnLine(f,"line-style:line-"+e));var y=p;for(y||(l=!1);h.hasNext();){var b=h.next(),w=m,_=w+b.chars;if(!t(b.attribs)&&!(_<=v||w>=g||(r=!1,y)))break;y&&n(b.attribs)&&(_<=v||w>=g||(l=!1)),m=_}if(!r&&!y)break}if(r||l){var x=l?"none":"";s?Sn(e,""):wr.setAttributesOnRange(fr.selStart,fr.selEnd,[[e,x]])}else s&&Sn(e,!0),wr.setAttributesOnRange(fr.selStart,fr.selEnd,[[e,"true"]])}}function rt(e){return fr.selStart&&fr.selEnd?void(("caret"!==e||Le())&&("selection"===e&&fr.selStart[0]==fr.selEnd[0]&&fr.selStart[1]==fr.selEnd[1]||("reset"===e?j.reset(fr):(j.check(e,fr),window.cow.directory&&window.cow.directory.firstOpen&&(x.updateTableOfContents(fr),window.cow.directory.firstOpen=!1))))):void j.reset(fr)}function it(e){fr.selStart&&fr.selEnd&&Je(fr.selStart,fr.selEnd,e)}function ot(e,t,n){s.each(n,function(e){e.width=e.text.length+1});var r=fr.lines.offsetOfIndex(e),i=fr.lines.offsetOfIndex(e+t);fr.lines.offsetOfIndex(e),fr.lines.offsetOfIndex(e+t);fr.lines.splice(e,t,n),Lr.docTextChanged=!0,Lr.repChanged=!0;var o=(fr.lines.offsetOfIndex(e+n.length),s.map(n,function(e){return e.text+"\n"}).join(""));fr.alltext=fr.alltext.substring(0,r)+o+fr.alltext.substring(i,fr.alltext.length)}function at(e,t,n,r,i){var o,a,c=fr.lines.offsetOfIndex(e),u=fr.lines.offsetOfIndex(e+t),l=fr.lines.offsetOfIndex(e);i&&i.selStart&&(o=fr.lines.offsetOfIndex(i.selStart[0])+i.selStart[1]-l),i&&i.selEnd&&(a=fr.lines.offsetOfIndex(i.selEnd[0])+i.selEnd[1]-l);var f=s.map(n,function(e){return e.text+"\n"}).join(""),p=fr.alltext.substring(c,u),h=fr.alines.slice(e,e+t).join(""),m=r.join("|1+1")+"|1+1",v=ct(p,f,h,m,o,a),g=v[0],y=v[1],b=p.substring(g,p.length-y),w=f.substring(g,f.length-y),x=c+g,C=u-y,k=!1;if("\n"==b.charAt(b.length-1)&&"\n"==w.charAt(w.length-1)&&(b=b.slice(0,-1),w=w.slice(0,-1),C--,y++),0===b.length&&x==fr.alltext.length&&w.length>0&&(x--,C--,w="\n"+w.slice(0,-1),k=!0),C==fr.alltext.length&&b.length>0&&0===w.length&&"\n"==fr.alltext.charAt(x-1)&&(x--,C--),0!==b.length||0!==w.length){var T,S=fr.alltext,E=S.length,A=fr.lines.indexOfOffset(x),I=fr.lines.offsetOfIndex(A),O=function(){var e=d.builder(E);return e.keep(I,A),e.keep(x-I),e},P=function(e,t){for(var n=d.opIterator(e),r=0,i=g,o=f.length-y-(k?1:0);n.hasNext();){var a=n.next(),s=r+a.chars;s<=i||r>=o||t(Math.max(i,r),Math.min(o,s),a.attribs),r=s}},N=w==b;if(N){var D=st(function(e){return d.mapAttribNumbers(e,function(e){var t=fr.apool.getAttribKey(e);return!!Ne(t)&&fr.apool.putAttrib([t,""])})}),L=O();k&&L.keep(1,1),P(h,function(e,t,n){L.keepText(f.substring(e,t),D(n))});var M=L.toString(),R=O();k&&R.keep(1,1),P(m,function(e,t,n){R.keepText(f.substring(e,t),n)});var j=R.toString();T=d.compose(M,j,fr.apool)}else{var F=O(),B=fr.lines.indexOfOffset(C),U=fr.lines.offsetOfIndex(B);U>x?(F.remove(U-x,B-A),F.remove(C-U)):F.remove(C-x);var z=!1,W=d.makeAttribsString("+",tr?[["author",tr]]:[],fr.apool),V=st(function(e){return z?d.composeAttributes(W,e,!0,fr.apool):d.composeAttributes(e,W,!0,fr.apool)}),$="";P(m,function(e,t,n){var r=d.attribsAttributeValue(n,"author",fr.apool);r&&r!=$&&($?z=!0:$=r)}),k&&F.insert("\n",V("")),P(m,function(e,t,n){F.insert(f.substring(e,t),V(n))}),T=F.toString()}He(T),d.isIdentity(T)||_.notify("changeset:apply")}ot(e,t,n),K(),window.lastIncorpLineTime=+new Date}function st(e){var t={};return function(n){return t[n]||(t[n]=e(n)),t[n]}}function ct(e,t,n,r,i,o){function a(e){return Ne(fr.apool.getAttribKey(e))}function s(e){for(var t=[],n=[],r=d.opIterator(e);r.hasNext();){var i=r.next();t.push(i.chars),n.push(i.attribs)}return[t,n]}function c(e,t){var n=e[0],r=e[1],i=t?n.length-1:0,o=0;return function(){for(;o>=n[i];)t?i--:i++,o=0;var e=r[i];return o++,e}}for(var u=e.length,l=t.length,f=Math.min(u,l),p=s(d.filterAttribNumbers(n,a)),h=s(d.filterAttribNumbers(r,a)),m=0,v=c(p,!1),g=c(h,!1);m<f&&e.charAt(m)==t.charAt(m)&&v()==g();)m++;for(var y=0,b=c(p,!0),w=c(h,!0);y<f;)if(0===y)b(),w(),y++;else{if(e.charAt(u-1-y)!=t.charAt(l-1-y)||b()!=w())break;y++}var _=-1;if("number"==typeof o&&(_=l-o),m+y>u){var x=u-m,C=y;y=_>=x&&_<=C?_:x,m=u-y}if(m+y>l){var x=l-m,C=y;y=_>=x&&_<=C?_:x,m=l-y}return[m,y]}function ut(e,t){return e?t?e[0]==t[0]&&e[1]==t[1]:!e:!t}function lt(e,t,n){ft(e,t,n)&&(Lr.selectionAffected=!0)}function ft(e,t,n){n=!!n;var r=n&&(!e||!t||e[0]!=t[0]||e[1]!=t[1]);return(!ut(fr.selStart,e)||!ut(fr.selEnd,t)||fr.selFocusAtStart!=r)&&(fr.selStart=e,fr.selEnd=t,fr.selFocusAtStart=r,Lr.repChanged=!0,!0)}function pt(e){if(P.msie&&!e){var t={node:null,appendSpan:M,prepareForAdd:M,notifyAdded:M,clearSpans:M,finishUpdate:M,lineMarker:0},n=dr.createElement("div");t.node=n,t.notifyAdded=function(){n.innerHTML=" ",D(n,"shouldBeEmpty",!0),D(n,"unpasted",{}),n.innerHTML="<br/>"};var r="ace-line";t.appendSpan=function(e,t){!e&&t&&(r=f.addToLineClass(r,t))},t.clearSpans=function(){r=""};var i=function(){null!==r&&(n.className=r)};return t.prepareForAdd=i,t.finishUpdate=i,t.getInnerHTML=function(){return""},t}return f.createDomLine(e,gr,P,dr,mr,rr.ace_getAuthorInfos())}function dt(e){return e.replace(/[\n\r ]/g," ").replace(/\xa0/g," ").replace(/\t/g,"        ")}function ht(e){return!!Ur[(e.tagName||"").toLowerCase()]}function mt(){function e(e){if(void 0===l[e]){u.forIndices++;var t;if(e<0||e>=f)t=!0;else{var n=fr.lines.atIndex(e).key;t=Se(n)||!1}l[e]=t}return l[e]}function t(t){return void 0===p[t]&&(u.consecutives++,p[t]=function(){var n=e(t-1),r=e(t);return!(!n||!r)&&(n===!0&&r===!0?!pr.firstChild:(n!==!0||!r.previousSibling)&&((r!==!0||!n.nextSibling)&&(n===!0||r===!0||n.nextSibling==r)))}()),p[t]}function n(t){return!!e(t)}function r(e){var t=-1;return s.each(d,function(n,r){return e>=n[1]||!(e<n[0])&&(t=r,!0)}),t}function i(e,t){var n=d[e][0],r=d[e][1];n+1==r?d.splice(e,1):t==n?d[e][0]++:t==r-1?d[e][1]--:d.splice(e,1,[n,t],[t+1,r])}function o(e,t){var n=d[e][0],r=d[e][1];d.splice(e,1,[n,t],[t,r])}function a(e){if(h[e])return!0;u.corrections++,h[e]=!0;var a=r(e),s=n(e);if(a<0)return!0;if(s){var c=d[a][0],l=d[a][1],f=!1;return c<e&&n(e-1)&&!t(e)&&(o(a,e),f=!0),l>e+1&&n(e+1)&&!t(e+1)&&(o(a,e+1),f=!0),!f}return i(a,e),!1}function c(e,t){for(var n=0,r=e;n<t&&r>=0;)a(r)?n++:n=0,r--;for(n=0,r=e;n<t&&r<f;)a(r)?n++:n=0,r++}var u=Tr("getDirtyRanges",!1);u.forIndices=0,u.consecutives=0,u.corrections=0;var l={},f=fr.lines.length(),p={},d=[[-1,f+1]],h={};if(0===f)u.cancel(),t(0)||o(0,0);else{u.mark("topbot"),c(0,1),c(f-1,1),u.mark("obs");for(var m in Rr.cleanNodesNearChanges){var v=m.substring(1);if(fr.lines.containsKey(v)){var g=fr.lines.indexOfKey(v);c(g,2)}}u.mark("stats&calc"),u.literal(u.forIndices,"byidx"),u.literal(u.consecutives,"cons"),u.literal(u.corrections,"corr")}for(var y=[],b=0;b<d.length-1;b++)y.push([d[b][1],d[b+1][0]]);return u.end(),y}function vt(e){var t={};t.nodeId=xe(e),t.knownHTML=e.innerHTML,P.msie&&(t.knownText=e.innerText),D(e,"dirtiness",t)}function gt(e){var t=Tr("cleanCheck",!1);if(e.parentNode!=pr)return!0;if(me(e))return!1;var n=N(e,"dirtiness");return!n||(e.id!==n.nodeId||(!(!P.msie||e.innerText===n.knownText)||(e.innerHTML!==n.knownHTML||(t.end(),!1))))}function yt(e,t){var n=e.lineNode,r=n.offsetTop,i=n.offsetHeight,o=t||{};return o.top=r,o.bottom=r+i,o}function bt(){var e=zt(),t=sr.document,n=t.documentElement.clientHeight;return{top:e,bottom:e+n}}function wt(){var e=bt(),t={},n=fr.lines.search(function(n){return yt(n,t).bottom>e.top}),r=fr.lines.search(function(n){return yt(n,t).top>=e.bottom});return r<n&&(r=n),[n,r]}function _t(){var e=wt();return[fr.lines.offsetOfIndex(e[0]),fr.lines.offsetOfIndex(e[1])]}function xt(){window.cow.isMobileEditable=!0,J(!0),a(pr).focus()}function Ct(e){function t(e){return"a"==(e.tagName||"").toLowerCase()&&e.href}if(window.cow.client||!window.cow.isMobile||window.cow.isMobileEditable||"img"===e.target.tagName.toLowerCase()||xt(),H("handleClick",function(){jr.atMost(0),"mouseup"!==e.type||e.ctrlKey||2==e.button||3==e.button||(_e(21),mr.cancelMention())}),!e.ctrlKey&&2!=e.button&&3!=e.button){for(var n=e.target;n&&n.parentNode&&!t(n);)n=n.parentNode;if(n&&t(n)){try{window.cow.iOS?_.notify("openLink",{url:n.href}):w.openLink(n.href)}catch(e){}e.preventDefault()}}window.padeditbar&&window.padeditbar.toggleDropDown("none")}function kt(){var e=fr.lines.atIndex(fr.selEnd[0]).text.length;wr.setAttributesOnRange([fr.selEnd[0],fr.selEnd[1]],[fr.selEnd[0],e],[["lineguid",w.genGuid()]])}function Tt(e){if(!fr.selStart||!fr.selEnd)return!1;var t=fr.selStart[0],n=ln(t),r=dn(t),i=fn(t),o=(On(t),Pn(t)),a=[],s="right",c=[];fr.selEnd[1]==fr.lines.atIndex(fr.selEnd[0]).text.length?(a=j.check("caret",fr,!0),a=a.filter(function(e){return!e[0].match(/heading/)})):fr.selStart[0]==fr.selEnd[0]&&fr.selEnd[1]==fr.lines.atIndex(fr.selEnd[0]).lineMarker?(c=j.check("caret",fr,!0),a=On(t),s="left"):(a=On(t),s="center");
var u=hasAttributeOnLine(t,"upload-image");if(o&&(u||"left"!==o)&&(a.push(["line-align",o]),u||c.push(["line-align",o])),n){var l=fr.lines.atIndex(t).text;n=/([a-z]+)([123456789])/.exec(n);var f=n[1],p=Number(n[2]);if(+i>0&&("left"!=s&&"center"!=s||(a=a.concat([["inherit:inherit",!0],["heading",i]]))),e)return it("\n"),"code"==f?En(t+1,"code1",a):En(t+1,"indent"+p,a),!0;if("*"===l)if("indent"===f){var d=un(t);d.lastType&&"indent"!==d.lastType&&"code"!==d.lastType?En(t,d.lastType+d.lastLevel,a):(it("\n"),En(t+1,"indent"+p,a))}else p>1?En(t,f+(p-1),a):(a.push(["inherit:inherit",!0]),"code"===f?"code1"===ln(t)&&"*"===fr.lines.atIndex(t-1).text?En(t,"",a):(it("\n"),En(t+1,"code1",a)):(En(t,"",a),In(t+1)));else if(t+1<=fr.lines.length())if("code"===f){for(var h=0,m="";h+1<fr.selStart[1]&&" "===l.substring(h+1,h+2);h++)m+=" ";it("\n"),En(t+1,"code1",a,!0),Ze([t+1,1],[t+1,1],m,[["author",wr.author],["lineguid",w.genGuid()]])}else if(Le()&&r)sel=[fr.selEnd[0]+1,0],Ze(sel,sel,"\n",[]),fr.selStart=fr.selEnd=sel;else if(it("\n"),"indent"===f){var d=un(t);d.lastType&&"indent"!==d.lastType?En(t+1,d.lastType+d.lastLevel,a):(f=f.replace("done","check"),En(t+1,f+p,a,!0))}else f=f.replace("done","check"),En(t+1,f+p,a,!0);return kt(),!0}if(+i>0)return it("\n"),Fe(),kt(),"left"===s&&c.length&&wr.setAttributesOnLine(t,c),"right"!==s&&(a=a.concat([["inherit:inherit",!0],["heading",i]]),wr.setAttributesOnLine(t+1,a)),!0;if(kt(),Le()&&r?(sel=[fr.selStart[0]+1,0],Ze(sel,sel,"\n",[]),fr.selStart=fr.selEnd=sel):it("\n"),"center"==s&&a.length){for(var v,g=fr.lines.atIndex(fr.selEnd[0]),y=[g.lineMarker,g.text.length],b=[],_=0;_<a.length;_++)v=Nn(t+1,y,a[_][0],a[_][1]),v||b.push(a[_]);a=b}return a.length&&(a.push(["inherit:inherit",!0]),wr.setAttributesOnLine(t+1,a)),"left"==s&&(wr.removeAttributeOnLine(t),c&&(c.push(["inherit:inherit",!0]),wr.setAttributesOnLine(t,c))),!0}function St(e){if(!fr.selStart||!fr.selEnd)return!1;var t,n;t=fr.selStart[0],n=Math.max(t,fr.selEnd[0]-(fr.selEnd[1]<=fr.lines.atIndex(fr.selEnd[0]).lineMarker?1:0));for(var r=[],i=t;i<=n;i++){var o=ln(i),a=hn(i);if(1!==+a){var s="indent",c=0;o&&(o=/([a-z]+)([123456789])/.exec(o),o&&(s=o[1],c=Number(o[2]),9==c&&(c=0)));var u=0;if(o&&"code"===o[1]){if(Le())Ze(fr.selStart,fr.selEnd,"  ",[["author",wr.author],["lineguid",w.genGuid()]]);else if(e){var l=fr.lines.atIndex(i).text;"  "==l.substring(1,3)?Ze([i,1],[i,3],"",[["author",wr.author],["lineguid",w.genGuid()]]):" "==l.substring(1,2)&&Ze([i,1],[i,2],"",[["author",wr.author],["lineguid",w.genGuid()]])}else Ze([i,1],[i,1],"  ",[["author",wr.author],["lineguid",w.genGuid()]]);u=c}else u=Math.max(0,Math.min(Xn,c+(e?-1:1))),c!=u&&r.push([i,u>0?s+u:""])}}return Rn(r),!0}function Et(e){var t=fr.selStart[0],n=ln(t),r=fr.lines.atIndex(t),i=r.lineMarker,o=mn(t);if(Le()&&fr.selStart[1]<=i&&(!n&&!o&&!e||o&&e)){var a=fr.selStart[0];e=!!e,vn(a,[["text-indent",""+!e]])}else St(e)||it(Yn)}function At(){if(fr.selStart&&fr.selEnd){var e=fr.selEnd[0],t=fr.selStart[0],n=fr.lines.atIndex(t).lineMarker,r=fr.lines.atIndex(e).lineMarker;fr.selEnd[1]===r&&t<e&&(fr.selEnd[1]=0),fr.selStart[1]===n&&t<e&&(fr.selStart[1]=0),(pn(fr.selEnd[0])||dn(fr.selEnd[0]))&&(fr.selEnd=[fr.selEnd[0]+1,0])}}function It(e){var t=e||{},n=!1;if(_.notify("ace:doDeleteKey",fr),At(),fr.selStart){if(Le()){var r=Me(),i=Re(),o=fr.lines.atIndex(r),a=o.text,s=o.lineMarker;if(/^ +$/.exec(a.substring(s,i))){var c=i-s,u=Yn.length,l=(c-1)%u+1;Je([r,i-l],[r,i],""),n=!0}}if(!n)if(Le()){var f=Me(),o=fr.lines.atIndex(f);if(Re()<=o.lineMarker){var p=f>0?ln(f-1):"",d=ln(f),h=pn(f),m=f>0?fn(f-1):"",v=fn(f),g=f>0?pn(f-1):"",y=f>0?dn(f-1):"",b=dn(f),w=f>0&&fr.lines.atIndex(f-1),x=w&&w.text.length==w.lineMarker,C=(wr.lineHasMarker(f),f>0&&hasAttributeOnLine(f-1,"doc-table")),k=Pn(f),T=(hn(f),f>0?hn(f-1):""),S=mn(f);S?vn(f,[["text-indent","false"]]):d&&"indent9"!==d?(p?Je([f-1,w.text.length],[f,o.lineMarker],""):En(f,""),k&&vn(f,[["line-align",k],["inherit:inherit",!0]])):d||h||b||"center"!=k&&"right"!=k?h&&!g&&!y||b&&!y&&!y?f>0&&w&&(x?Je([f-1,w.text.length],[f,0],""):fr.selStart=fr.selEnd=[f-1,w.text.length]):T?pe(f-1):C?Je([f-1,0],[f,o.lineMarker],""):g||y?window.cow.isMobile||window.cow.iOS?Je([f-1,0],[f,o.lineMarker],""):o&&o.text.length==o.lineMarker?Je([f-1,w.lineMarker+1],[f,0],""):(fr.selStart=[f-1,f-1],fr.selEnd=[f-1,f-1]):f>0&&((!m||+m<0)&&+v>0&&w.text.length===w.lineMarker&&vn(f-1,[["heading",v]]),Je([f-1,w.text.length],[f,o.lineMarker],"")):(k="right"===k?"center":"left",gn(f,"line-align",k))}else{var E=je();if(E>0)if(t.metaKey||t.ctrlKey||t.altKey){for(var A=E-1;A>o.lineMarker&&Ot(fr.alltext.charAt(A-1));)A--;Xe(A,E,"")}else Xe(E-1,E,"")}}else{var I=fr.selStart[0],O=fr.selEnd[0],P=dn(O),N=pn(O);if(I!==O&&(P||N)&&fr.selEnd[1]===fr.lines.atIndex(O).lineMarker){var D=fr.lines.atIndex(O-1);P?(Je(fr.selStart,[O-1,D.text.length],""),fr.selEnd=fr.selStart):N&&it("\n")}else it("");I=fr.selStart[0],O=fr.selEnd[0];var L=ln(I),M=L.match(/[1-9]$/);if(9==M){var R,j,F=1,B=fr.lines.atIndex(I).text.length;R=fr.selStart[1],j=I==O?fr.selEnd[1]:B,R==F&&j==B&&Rn([[I,""]],[],!0)}}}}function Ot(e){return!!zr.exec(e)}function Pt(e){if((!Kn||!window.DONT_INCORP)&&vr){var t=e.type,r=e.charCode,i=e.keyCode,s=e.which;if(!e.shiftKey||!e.metaKey&&!e.ctrlKey){if(27!==i&&8!==i||_.notify("editor:change:cancel"),27==i&&!mr.inMention)return void e.preventDefault();var c=!(r||"keyup"!=t&&"keydown"!=t||16!=i&&17!=i&&18!=i&&20!=i&&224!=i&&91!=i);if(!(c||13==i&&P.opera&&"keypress"==t)){var u=!1,l=P.msie||P.safari||P.chrome||P.mobile?"keydown"==t:"keypress"==t,f=P.msie||P.safari||P.chrome?"keydown"==t:"keypress"==t,p=!1;H("handleKeyEvent",function(){function c(e){var t=wr.findAttributeOnLine(e,"lineguid");if(""==t){t=w.genGuid();var n=fr.lines.atIndex(e).text.length-1;wr.setAttributesOnRange([e,0],[e,n],[["lineguid",t]])}}if("keypress"==t||l&&13==i?ur(e)||(e.preventDefault(),p=!0):"keydown"==t&&cr(e),!p){var d=n.callAll("aceKeyEvent",{callstack:Lr,editorInfo:rr,rep:fr,documentAttributeManager:wr,evt:e});if(u=d&&d.length>0?d[0]:u,!u&&l&&8==i&&fr.selStart){for(var h=fr.selStart[0],m=fr.selEnd[0],v=h;v<=m;v++)c(v);window.getSelection().baseOffset;Le()&&(!Le()||fr.selStart[1]!=fr.lines.atIndex(fr.selStart[0]).lineMarker||window.getSelection().baseOffset&&0!=window.getSelection().baseOffset)||(_e(3),e.preventDefault(),It(e),u=!0);var g=Me();g!=-1&&null===In(g+1)&&In(g)}if(u||!l||13!=i||mr.inMention||(_e(4),Tt(e.shiftKey)&&e.preventDefault(),cn(),u=!0),u||"keyup"!=t||13!=i||mr.inMention||(_e(4),fr&&fr.selEnd&&(listType=ln(fr.selStart[0]),listType.match("number|code")&&In(fr.selStart[0])),u=!0),!u&&f&&"s"==String.fromCharCode(s).toLowerCase()&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),w.alert({title:"石墨会实时保存你的编辑:)"}),u=!0),u||!l||9!=i||e.metaKey||e.ctrlKey||(_e(5),e.preventDefault(),Et(e.shiftKey),u=!0),u||!f||"z"!=String.fromCharCode(s).toLowerCase()||!e.metaKey&&!e.ctrlKey||e.altKey||(_e(6),e.preventDefault(),Nt(e.shiftKey?"redo":"undo"),u=!0),!u&&f&&"y"==String.fromCharCode(s).toLowerCase()&&(e.metaKey||e.ctrlKey)&&(_e(10),e.preventDefault(),Nt("redo"),u=!0),!u&&f&&"b"==String.fromCharCode(s).toLowerCase()&&(e.metaKey||e.ctrlKey)&&(_e(13),e.preventDefault(),u=!0,nt("bold")),!u&&f&&"i"==String.fromCharCode(s).toLowerCase()&&(e.metaKey||e.ctrlKey)&&(_e(14),e.preventDefault(),nt("italic"),u=!0),!u&&f&&"u"==String.fromCharCode(s).toLowerCase()&&(e.metaKey||e.ctrlKey)&&(_e(15),e.preventDefault(),nt("underline"),u=!0),!u&&f&&"h"==String.fromCharCode(s).toLowerCase()&&e.ctrlKey&&(u=!0),36==e.which&&1==e.ctrlKey&&Wt(0),(33==e.which||34==e.which)&&"keydown"==t&&!e.ctrlKey){e.preventDefault();var y=wt(),b=fr.selStart[0]-y[0];b<0&&(b=0);var _=34===e.which,x=33===e.which;Er.setTimeout(function(){var e=wt(),t=fr.lines.length(),n=e[1]-e[0];x&&(fr.selEnd[0]=fr.selEnd[0]-n,fr.selStart[0]=fr.selStart[0]-n),_&&fr.selEnd[0]>=y[0]&&(fr.selStart[0]=y[1]-1,fr.selEnd[0]=y[1]-1),fr.selEnd[0]<0&&(fr.selEnd[0]=0),fr.selStart[0]<0&&(fr.selStart[0]=0),fr.selEnd[0]>=t&&(fr.selEnd[0]=t-1),Dt();var r=document.getSelection(),i=r.focusNode.parentNode.offsetTop|r.focusNode.offsetTop;Wt(i)},200)}if((37==e.which||38==e.which||39==e.which||40==e.which)&&o.chrome){var C=bt(),k=document.getSelection(),T=k.focusNode.parentNode.offsetTop||k.focusNode.offsetTop,S=a(k.focusNode.parentNode).parent("div").height();try{S=a(k.focusNode).height()}catch(e){}var E=T+S,A=wt();if(T){var I=T<C.top||E>=C.bottom,O=T==C.top;if(O&&(37==e.which||38==e.which)){var N=T;Wt(N)}if(I){if(37==e.which||38==e.which)var N=T;if(39==e.which||40==e.which){Mt();top.console.log("line #",fr.selStart[0]),top.console.log("firstvisible",A[0]),top.console.log("lastVisible",A[1]),top.console.log(fr.selStart[0],A[1],fr.selStart[0],A[0]);var N=C.top+S}N&&Wt(N)}}}if("keypress"==t&&(Le()&&!P.safari&&(32==e.which?(_e(22),markdown.check(fr,e,"line")):42==e.which&&(_e(22),markdown.check(fr,e,"char"))),window.cow.authorized))if(mr.inMention)13==e.which&&(_e(21),e.preventDefault(),mr.createMention());else if(fr.selStart){var D=fr.selStart[0],L=fr.selStart[1],M=fr.lines.atIndex(D).text;64!=e.which||!M.substr(L-1,1).match(/\s|^\*|[^\x00-\xff]/)&&0!=L?32!=e.which&&mr.goonMention():(e.preventDefault(),mr.startMention())}if(!mr.inMention&&fr.selStart&&"keyup"==t&&P.safari){if(window.cow.authorized&&Wr&&50==i){var D=fr.selStart[0],L=fr.selStart[1],R=fr.lines.atIndex(D);(R.text.substr(fr.selStart[1]-2,1).match(/\s|^\*|[^\x00-\xff]/)||L==R.lineMarker)&&(e.preventDefault(),mr.startMention(!0))}Le()&&(32==i?(_e(22),markdown.check(fr,e,"line","keyup")):Wr&&56==i&&(_e(22),markdown.check(fr,e,"char","keyup")))}}if("keydown"==t)e.shiftKey&&(Wr=!0),window.cow.authorized&&(mr.inMention?38==e.which?(e.preventDefault(),mr.updateSearchList("up")):40==e.which?(e.preventDefault(),mr.updateSearchList("down")):27==e.which&&(e.preventDefault(),_e(21),mr.cancelMention()):32!=e.which&&37!=e.which&&38!=e.which&&39!=e.which&&40!=e.which&&27!=e.which&&mr.goonMention()),jr.atLeast(500);else if("keypress"==t)jr.atLeast(500);else if("keyup"==t){var j=0;jr.atLeast(j),jr.atMost(j),Wr=!1}var F=P.mozilla&&e.altKey&&0===r&&0===i,B=P.safari&&e.altKey&&229==i;(Vr||F||B)&&(jr.atLeast(3e3),Vr=!0),u||Vr||qr||"keyup"!=t&&Ae(),"keyup"==t&&(Vr=!1)}),window.cow.directory&&window.cow.directory.isOpened&&(clearTimeout(window.cow.directory.isRunTimer),window.cow.directory.isRunTimer=setTimeout(function(){x.updateTableOfContents(fr)},300))}}}}function Nt(e){if(qn.enabled){var t;if("undo"==e&&(t="performUndo"),"redo"==e&&(t="performRedo"),t){var n=Lr.editEvent.eventType;Lr.startNewEvent(e),qn[t](function(e,t){e&&Ve(e),t&&lt(qe(t.selStart),qe(t.selEnd),t.selFocusAtStart);var r=Lr.startNewEvent(n,!0);return r})}}}function Dt(){var e=fr.selStart,t=fr.selEnd;if(!e||!t)return void Rt(null);var n={},r=[e[0],e[1]];n.startPoint=Be(r);var i=[t[0],t[1]];n.endPoint=Be(i),n.focusAtStart=!!fr.selFocusAtStart,Rt(n)}function Lt(e){return O(e)?e.nodeValue.length:1}function Mt(){function e(e){for(;e&&(!e.tagName||"body"!=e.tagName.toLowerCase());)e=e.parentNode;return!!e}function t(t,n){if(!e(t))return{node:pr,index:0,maxIndex:1};var r=t,i=r.childNodes.length;if(O(r))return{node:r,index:n,maxIndex:r.nodeValue.length};if(0===i)return{node:r,index:0,maxIndex:1};if(n==i){var o=r.childNodes.item(i-1),a=Lt(o);return{node:o,index:a,maxIndex:a}}var o=r.childNodes.item(n),a=Lt(o);return{node:o,index:0,maxIndex:a}}var n=window.getSelection();if(n&&"None"!=n.type&&0!==n.rangeCount){var r=n.getRangeAt(0),i={};return i.startPoint=t(r.startContainer,r.startOffset),i.endPoint=t(r.endContainer,r.endOffset),i.focusAtStart=(r.startContainer!=r.endContainer||r.startOffset!=r.endOffset)&&n.anchorNode&&n.anchorNode==r.endContainer&&n.anchorOffset==r.endOffset,i.startPoint.node.ownerDocument===window.document&&a(pr).has(a(i.startPoint.node)).length?i:null}return null}function Rt(e){function t(e){return{node:e.node,index:e.index,maxIndex:e.maxIndex}}function n(e){function n(){for(;i.node.childNodes.length>0;)if(0===i.index)i.node=i.node.firstChild,i.maxIndex=Lt(i.node);else{if(i.index!=i.maxIndex)break;i.node=i.node.lastChild,i.maxIndex=Lt(i.node),i.index=i.maxIndex}}var i=t(e);if(r){if(O(i.node)&&i.index==i.maxIndex){for(var o=i.node;!o.nextSibling&&o!=pr&&o.parentNode&&o.parentNode!=pr;)o=o.parentNode;!o.nextSibling||"string"==typeof o.nextSibling.tagName&&"br"==o.nextSibling.tagName.toLowerCase()||o==i.node||o==pr||o.parentNode==pr||(i.node=o.nextSibling,i.maxIndex=Lt(i.node),i.index=0,n())}O(i.node)||n()}return O(i.node)?{container:i.node,offset:i.index}:{container:i.node.parentNode,offset:jt(i.node)+i.index}}var r,i=window.getSelection();try{if(i&&e){r=e.startPoint.node===e.endPoint.node&&e.startPoint.index===e.endPoint.index;var o=n(e.startPoint),a=n(e.endPoint);if(!r&&e.focusAtStart&&i.collapse&&i.extend)i.removeAllRanges(),i.collapse(a.container,a.offset),i.extend(o.container,o.offset);else{if(e&&i.rangeCount&&i.getRangeAt(0).startContainer===o.container&&i.getRangeAt(0).endContainer===a.container&&i.getRangeAt(0).startOffset===o.offset&&i.getRangeAt(0).endOffset===a.offset)return;var s=dr.createRange();s.setStart(o.container,o.offset),s.setEnd(a.container,a.offset),i.removeAllRanges(),i.addRange(s)}}}catch(e){xr.log(e),c(e.message,"ace2_inner.js",0,0,e)}}function jt(e){for(var t=0;e.previousSibling;)t++,e=e.previousSibling;return t}function Ft(){function e(e,t,n){e[t]!=n&&(e[t]=n)}if(0!==on()&&0!==rn()){var t=0;t=ar.hasClass("ios")?a(window).height()+80:ar.find("#doc-view").height(),$r||(window.cow.isMobile?e(or.style,"min-height","400px"):window.cow.readonly?e(or.style,"min-height",document.body.clientHeight-113+"px"):e(or.style,"min-height",document.body.clientHeight-313+"px"),$r=!0);document.body.clientWidth,ir.clientWidth;if(e(ir.style,"opacity",1),P.mozilla)if(gr)e(pr.style,"height","");else{var n=pr,r=viewHeight+"px";e(n.style,"height",r)}Ut(),zt();Z()}}function Bt(){var e=sr,t=sr.document;if("number"==typeof e.pageYOffset)return{x:e.pageXOffset,y:e.pageYOffset};var n=t.documentElement;return n&&"number"==typeof n.scrollTop?{x:n.scrollLeft,y:n.scrollTop}:void 0}function Ut(){return Bt().x}function zt(){return Bt().y}function Wt(e){sr.scrollTo(Ut(),e)}function Vt(){s.each(Hr,function(e){e()})}function $t(e){function t(e,t,n){return String(e[t]).toLowerCase()!=n&&(e[t]=n,!0)}try{var n=e&&!window.cow.readonly&&"editable"===cow.permission,r=t(pr,"contentEditable",n?"true":"false");return r&&e&&P.opera&&Gt(),!0}catch(e){return!1}}function Ht(e){var t=window.clipboardData&&window.clipboardData.getData("Text");t&&dr.selection}function qt(e){"compositionstart"==e.type?qr=!0:"compositionend"==e.type&&(qr=!1)}function Kt(e){var t=a(e).attr("id");if(t&&0===t.indexOf("magicdomid")||(t=a(e).parentsUntil("#innerdocbody",'[id^="magicdomid"]').attr("id")),t){var n=fr.lines.indexOfKey(t),r=fr.lines.atIndex(n).text.length;fr.selStart=[n,r],fr.selEnd=[n,r],Dt()}}function Gt(){var e="#doc-title-input, .email-input, .selection-comment-input";a(pr).on("keydown",Pt),a(pr).on("keypress",Pt),a(pr).on("keyup",Pt),a(pr).on("click",Ct),window.cow.client&&a("#pad-wrap").doubleTap(function(e){Kt(e.target),_.notify("startEdit"),window.cow.isMobileEditable||"img"===e.target.tagName.toLowerCase()||xt()}),a(pr).on("input",function(){qr||_.notify("editor:change"),window.cow.directory&&window.cow.directory.isOpened&&(clearTimeout(window.cow.directory.isRunTimer),window.cow.directory.isRunTimer=setTimeout(function(){x.updateTableOfContents(fr)},1e3))}),a(pr).on("focus",en).on("blur",tn),P.msie&&a(pr).on("click",Yt),P.msie&&a(pr).on("paste",Ht),P.msie&&P.version<9||(a(pr).on("compositionstart",qt),a(pr).on("compositionend",qt)),a(window).on("resize",oe),a(document).on("focus",e,function(){I=!0}).on("blur",e,function(){I=!1})}function Yt(e){"html"==(e.target.tagName||"").toLowerCase()&&e.pageY>pr.clientHeight&&H("handleOuterClick",function(){if(_e(11),Le()){var e=fr.lines.length()-1,t=fr.lines.atIndex(e).text.length;lt([e,t],[e,t])}})}function Xt(e,t,n){n?a(e).addClass(t):a(e).removeClass(t)}function Jt(){}function Zt(){for(var e=window.getSelection(),t=!1,n=e.anchorNode;n&&"body"!==(n.tagName||"").toLowerCase();){if(n.getAttribute&&"innerdocbody"===n.getAttribute("id")){t=!0;break}n=n.parentNode}t&&or.focus()}function Qt(){Zt();for(var e=rr.ace_getRep(),t=e.lines.length(),n=window.innerHeight,r=0;r<t;r++){var i=e.lines.atIndex(r);if(!(i.text.length<=1)){var o=i.lineNode.getBoundingClientRect();if(o.top>=260&&o.top<n-300){e.selStart=[r,0],e.selEnd=[r,0],Dt();break}}}}function en(e){w.isMobile()&&!window.cow.padScroller&&(cn(),setTimeout(function(){cn()},200)),_.notify("pad:focus")}function tn(e){P.msie&&Rt(null),a("#hide-cursor-input").focus(),setTimeout(function(){a("#hide-cursor-input").blur()},0),_.notify("pad:blur")}function nn(e){function t(e){return e.offsetLeft}function n(e){return e.offsetLeft+e.offsetWidth}var r=e.node,i=e.index;if(O(r)){var o,a=i,s=r.nodeValue.length-i;for(o=r.previousSibling;o&&O(o);o=o.previousSibling)a+=o.nodeValue;var c=o?n(o):t(r.parentNode);for(o=r.nextSibling;o&&O(o);o=o.nextSibling)s+=o.nodeValue;var u=o?t(o):n(r.parentNode),l=a/(a+s),f=c+l*(u-c);return Math.round(f)}return 0===i?t(r):n(r)}function rn(){var e,t=sr,n=t.document;return e=P.opera?t.innerHeight:n.documentElement.clientHeight,e?e:Number(rr.frame.parentNode.style.height.replace(/[^0-9]/g,"")||0)}function on(){var e=sr,t=e.document;return t.documentElement.clientWidth}function an(e){var t=document.getElementById("doc-view"),n=a(t).height(),r=e.offsetTop-t.scrollTop,i=n-(e.offsetTop+e.offsetHeight-t.scrollTop);r<0?a(t).scrollTop(t.scrollTop+r):i<0&&a(t).scrollTop(t.scrollTop-i)}function sn(e){var t=sr;sr.document;e+=_r;var n=e-t.scrollX,r=t.scrollX+on()-e;n<0?t.scrollBy(n,0):r<0&&t.scrollBy(-r+1,0)}function cn(){var e;if(fr.selStart){Ft();var t=fr.selFocusAtStart?fr.selStart[0]:fr.selEnd[0];if(t<fr.lines.length()&&(e=fr.lines.atIndex(t).lineNode,w.isMobile()||an(e)),!gr){var n=Mt();if(n){var r=n.focusAtStart?n.startPoint:n.endPoint,i=nn(r);sn(i),Ft()}}}}function un(e){for(var t="indent",n=0,r=e-1;r>=0&&"indent"===t;)if(pn(r)||dn(r))r--;else{var i=/([a-z]+)([123456789])/.exec(ln(r));i?(t=i[1],n=Number(i[2])):(t="",n=0),r--}return{lastType:t,lastLevel:n}}function ln(e){return wr.getAttributeOnLine(e,Kr)}function fn(e){return wr.getAttributeOnLine(e,"heading")}function pn(e){var t=hasAttributeOnLine(e,"upload-image");if(t){var n=a(pr).find("div[id^=magicdomid]")[e];return n&&a(n).has("img").length>0?t:""}return""}function dn(e){var t=hasAttributeOnLine(e,"upload-attachment");if(t){var n=a(pr).find("div[id^=magicdomid]")[e];return n&&a(n).has(".attachment-wrapper").length>0?t:""}return""}function hn(e){var t=hasAttributeOnLine(e,"horizontal-line");if(1===+t){var n=a(pr).find("div[id^=magicdomid]")[e];return n&&a(n).has("hr").length>0?1:0}return 0}function mn(e){var t=hasAttributeOnLine(e,"text-indent");return"true"===t}function vn(e,t){wr.setAttributesOnLine(e,t)}function gn(e,t,n){wr.setAttributeOnLine(e,t,n)}function yn(){if(fr.selStart&&fr.selEnd){var e,t,n=a.extend(!0,{},fr);t=Cn(),n.selStart=t,n.selEnd=t,e=j.check("caret",n,"caret"),this.styleObj=xn(e),a("#paint-format .toolbar-item").addClass("current"),a("#innerdocbody").addClass("on-paint")}}function bn(){if(!fr.selStart||!fr.selEnd||!this.styleObj)return void Tn();var e;e=Le()||window.getSelection()&&!window.getSelection().toString().length?kn(fr.selStart):fr,e&&_n(e,this.styleObj),Tn()}function wn(){fr.selStart&&fr.selEnd&&!Le()&&(_n(),Tn())}function _n(e,t){var n,r,i,o,a,c,u,l,f,p,d,h,e=e||fr;n=e.selStart,r=e.selEnd,i=n[0],o=r[0];for(var m=i;m<=o;m++)if(a=fr.lines.atIndex(m).lineMarker,f=fr.lines.atIndex(m).text.length,p=[],u=[],d={},c=!1,l=void 0,h={"font-size":3,"font-color":12,bold:"",italic:"",underline:"",strikethrough:""},headingAttributes={1:{bold:!0,"font-size":3},2:{bold:!0,"font-size":5},3:{bold:!0,"font-size":7}},m===i?lineStart=n[1]:lineStart=a,m===o?lineEnd=r[1]:lineEnd=f,!(lineEnd-lineStart<=0)){lineStart===a&&lineEnd===f&&(c=!0),c&&(t&&void 0!==t.heading?u.push(["heading",t.heading]):u.push(["heading",-1])),t&&void 0!==t.heading?(l=t.heading,t=s.assign(t,headingAttributes[l]||{}),delete t.heading):l=-1,lineAttrs=On(m);for(var v=0;v<lineAttrs.length;v++){var g=lineAttrs[v][0].replace(/style:|line-/g,"");g.match(/bold|italic|underline|strikethrough/)&&!c?d[g]="none":d[g]=h[g]}d=s.assign(h,d,t),s.forIn(d,function(e,t){if(c){var n=t.match(/bold|underline|italic|strikethrough/),r="line-style:"+(n?"line-"+t:t);"none"===e&&(e=""),u.push([r,e])}p.push([t,e])}),wr.setAttributesOnRange([m,lineStart],[m,lineEnd],p),a&&u.length?wr.setAttributesOnLine(m,u):c&&void 0!==l&&wr.setAttributesOnLine(m,[["heading",l]])}}function xn(e){for(var t={},n=0;n<e.length;n++)key=e[n][0].replace(/style:|line-/g,""),t[key]=e[n][1];return t}function Cn(e){var t,e=e||fr.selStart,n=e[0],r=e[1],i=fr.lines.atIndex(n).text.length;return t=r<i?[n,r+1]:e}function kn(e){var e=e||fr.selStart,t=e[0],n=fr.lines.atIndex(t).lineMarker,r=fr.lines.atIndex(t).text.length;return{selStart:[t,n],selEnd:[t,r]}}function Tn(){delete rr.styleObj,a("#paint-format .toolbar-item").removeClass("current"),a("#innerdocbody").removeClass("on-paint")}function Sn(e,t,n){if(fr.selStart&&fr.selEnd)for(var r=e.match(/bold|underline|italic|strikethrough/),i=fr.selStart[0],o=fr.selEnd[0],a={"line-bold":!1,"line-italic":!1,"line-underline":!1,"line-strikethrough":!1,"font-size":3,"font-color":12},s="line-style:"+(r?"line-"+e:e),c=i;c<=o;c++){var u,l,f,p,d,h=fr.lines.atIndex(c).lineMarker,m=ln(c),l=wr.getAttributeOnLine(c,s);if(lineStartAt=h,u=fr.lines.atIndex(c).text.length,t&&!l&&u>lineStartAt){if(!m)continue;if(m=/([a-z]+)[123456789]/.exec(m),!m[1]||"indent"===m[1])continue}if(c==i?selectionStartInLine=fr.selStart[1]:selectionStartInLine=lineStartAt,c==o?selectionEndInLine=fr.selEnd[1]:selectionEndInLine=u,selectionStartInLine==lineStartAt&&selectionEndInLine==u||n){if(t||wr.setAttributesOnRange([c,selectionStartInLine],[c,selectionEndInLine],[[e,""]]),l==t)continue;f=On(c),alignStyle=Pn(c),d=a[s.replace("line-style:","")],p=t==d&&(0==f.length||1==f.length&&f[0][0]==s),!p||m||alignStyle&&"left"!==alignStyle?wr.setAttributeOnLine(c,s,t):wr.removeAttributeOnLine(c)}else{if(t||!r)continue;currentType=l?"none":"",wr.setAttributesOnRange([c,selectionStartInLine],[c,selectionEndInLine],[[e,currentType]])}}}function En(e,t,n,r){Rn([[e,t]],n,"",r)}function An(e){var t=fr.alines[e];if(t){var n=d.opIterator(t);if(n.hasNext())return d.opAttributeValue(n.next(),"start",fr.apool)||""}}function In(e){function t(e,n){for(var i,o,s,c=1,u=n;(i=ln(e))||(o=pn(e))||(s=dn(e));){if(i=/([a-z]+)([123456789])/.exec(i),typeName=i?i[1]:"",u=i?Number(i[2]):0,(!u||isNaN(u))&&!o&&!s)return e;if(r){if(!typeName||"code"!=typeName)return e;var l=An(e);h.buildKeepRange(fr,a,loc,loc=[e,0]),l!=c?h.buildKeepRange(fr,a,loc,loc=[e,1],[["start",c]],fr.apool):h.buildKeepRange(fr,a,loc,loc=[e,1]),e++,c++}else if(typeName&&("indent"==typeName||"bullet"==typeName)||o||s)e++;else{if(typeName&&"number"!==typeName)return e;if(u==n){var l=An(e);h.buildKeepRange(fr,a,loc,loc=[e,0]),l!=c?h.buildKeepRange(fr,a,loc,loc=[e,1],[["start",c]],fr.apool):h.buildKeepRange(fr,a,loc,loc=[e,1]),c++,e++}else{if(u<n)return e;e=t(e,n+1)}}o="",s=""}}var n=ln(e);if(!n)return null;for(var r="code1"===n;e-1>=0;){if(n=ln(e-1),r){if("code1"!==n)break}else if(n=/([a-z]+)[123456789]/.exec(n)){if("number"!==n[1]&&"indent"!==n[1]&&"bullet"!==n[1])break}else{var i=pn(e-1),o=dn(e-1);if(!i&&!o)break}e--}var a=d.builder(fr.lines.totalWidth());loc=[0,0],t(e,1);var s=a.toString();d.isIdentity(s)||Ve(s)}function On(e){for(var t,n,r=["line-bold","line-italic","line-underline","line-strikethrough","font-size","font-color"],i=[!1,!1,!1,!1,3,12],o=[],a=0;a<r.length;a++)t="line-style:"+r[a],n=wr.getAttributeOnLine(e,t),i[a]!=n&&n&&o.push([t,n]);return o}function Pn(e){return wr.getAttributeOnLine(e,"line-align")}function Nn(e,t,n,r){function i(e){return c?a[0].test(e)||a[1].test(e):a.test(e)}var o,a,s=!0,c=n.match(/bold|italic|underline|strikethrough/);c?(n=c[0],o=[d.makeAttribsString("+",[[n,r]],fr.apool),d.makeAttribsString("+",[[n,"none"]],fr.apool)],a=[new RegExp(o[0].replace(/\*/g,"\\*")+"(\\*|$)"),new RegExp(o[1].replace(/\*/g,"\\*")+"(\\*|$)")]):(o=d.makeAttribsString("+",[[n,r]],fr.apool),a=new RegExp(o.replace(/\*/g,"\\*")+"(\\*|$)"));for(var u=t[0],l=t[1],f=0,p=d.opIterator(fr.alines[e]);p.hasNext();){var h=p.next(),m=f,v=m+h.chars;if(!i(h.attribs)&&!(v<=u||m>=l)){s=!1;break}f=v}return s}function Dn(e,t,n){function r(e){return a.test(e)}for(var i=!0,o=d.makeAttribsString("+",[[t,n]],fr.apool),a=new RegExp(o.replace(/\*/g,"\\*")+"(\\*|$)"),s=fr.lines.atIndex(e),c=s.lineMarker,u=s.text.length,l=0,f=d.opIterator(fr.alines[e]);f.hasNext();){var p=f.next(),h=l,m=h+p.chars;if(!r(p.attribs)&&!(m<=c||h>=u)){i=!1;break}l=m}return i}function Ln(e){var t,n,r=[],i={bold:["true"],italic:["true"],underline:["true"],strikethrough:["true"],"font-color":[1,2,3,4,5,6,7,8,9,10,11,12],"font-size":[1,2,3,4,5,6,7,8,9]};for(var o in i){t=i[o];for(var a=0;a<t.length;a++)if(n=Dn(e,o,t[a])){o=o.indexOf("font")>-1?o:"line-"+o,r.push(["line-style:"+o,t[a]]);break}}return r}function Mn(e){return hasAttributeOnLine(e,"doc-table")}function Rn(e,t,n,r){for(var i=[0,0],o=d.builder(fr.lines.totalWidth()),a=0;a<e.length;a++){var s=e[a],c=s[0],u=s[1],l=Pn(c),f=[];if(!Mn(c)){l&&(f=["line-align",l]),h.buildKeepRange(fr,o,i,i=[c,0]);var p=wr.lineHasMarker(c),m="*"!==fr.lines.atIndex(c).text,v=mn(c),g=fn(c);if(p){var y=On(c),b=wr.getAttributeOnLine(c,"inherit:inherit"),w=u&&0==u.indexOf("indent")&&ln(c).indexOf("indent")==-1&&!b&&!v;if(+g>0&&y.push(["heading",g]),f.length&&y.push(f),u&&!w){var _=[];m&&!r&&(_=Ln(c)),y=y.concat(_),y=y.concat([["list",u],["inherit:inherit",""]]),v&&/number\d|bullet\d|code\d|check\d/.test(u)&&(y=y.concat([["text-indent","false"]])),h.buildKeepRange(fr,o,i,i=[c,1],y,fr.apool)}else(y.length||f.length)&&!n&&m?h.buildKeepRange(fr,o,i,i=[c,1],[["inherit:inherit",!0],["list",""],["lmkr",1]],fr.apool):h.buildRemoveRange(fr,o,i,i=[c,1])}else if(u){var x=[["author",tr],["insertorder","first"],["list",u]];f.length&&x.push(f),t&&t.length&&(x=x.concat(t));var C=fr.lines.atIndex(c).text.replace(/\s/g,"");if(C.length){var _=[];r||(_=Ln(c)),x=x.concat(_)}o.insert("*",x,fr.apool)}}}var k=o.toString();d.isIdentity(k)||Ve(k),null==In(c+1)&&In(c)}function jn(e,t){for(var n=[],r=e;r<=t;r++){var i=hn(r);1===+i&&n.push(r)}return n}function Fn(e){if(fr.selStart&&fr.selEnd){var t,n;t=fr.selStart[0],n=Math.max(t,fr.selEnd[0]-(fr.selEnd[1]<=fr.lines.atIndex(fr.selEnd[0]).lineMarker?1:0));for(var r=jn(t,n),i=t,o=n;r.length>0&&r[r.length-1]===o&&(o=r.pop(),o-=1,!(r.length>0&&r[r.length-1]!==o)););for(;r.length>0&&r[0]===i&&(i=r.shift(),i+=1,!(r.length>0&&r[0]!==i)););r.push(o+1);for(var a=0;a<r.length;a++){0!==a&&(i=r[a-1]+1),o=r[a]-1;for(var s=!0,c=i;c<=o;c++){var u=ln(c);if(!u||u.slice(0,e.length)!=e){s=!1;break}}for(var l=[],c=i;c<=o;c++){var f="",p=0,u=/([a-z]+)([123456789])/.exec(ln(c));u&&(f=u[1],p=Number(u[2]),9!=p&&"code"!==e||(p=1));var f=ln(c);l.push([c,s?"":f?e+p:e+"1"])}Rn(l),a+1===r.length||r[a]+1!==r[a+1]}}}function Bn(e,t){if(e&&"undefined"!=typeof t){var n,r=/([a-z]+)([123456789])/.exec(ln(t));r&&(n=Number(r[2]),Rn([[t,e+n||"1"]]))}}function Un(e){e=e?e:"bullet",Fn(e)}function zn(){Fn("number")}function Wn(){var e=rr.ace_getRep();if(e.selStart&&e.selEnd){var t=[e.selStart[0],e.selStart[1]],n=[e.selEnd[0],e.selEnd[1]],r="\n\n",i=w.genGuid();if(0==t[0])t=[1,0],n=[1,0],1==e.alltext.length&&(t=[0,0]),Ze(t,t,r,[]),t=[1,0],n=[1,0];else{if(pn(n[0])||dn(n[0]))if(t[0]===n[0]&&t[1]===n[1])t=n=[t[0]+1,0];else if(t[0]<n[0]){var o=e.lines.atIndex(n[0]-1),a=o.text.length;n=[n[0]-1,a],e.selEnd=n}Ze(t,n,r,[]),t=[t[0]+1,0]}Ze(t,t," ",[["doc-table",i],["author",wr.author]]),rr.ace_focus()}}var Vn=l.makeContentCollector,$n=k,Hn=m.linestylefilter,qn=g.undoModule,Kn=!0,Gn=!1,Yn="    ",Xn=8,Jn=4,Zn=20,Qn=8,er=[],tr="",nr=!1,rr=window.editorInfo,ir=a(".container")[0],or=document.getElementById("innerdocbody"),ar=a("#pad-view"),sr=window,cr=M,ur=function(){return!0},lr=M,fr={lines:new v,selStart:null,selEnd:null,selFocusAtStart:!1,alltext:"",alines:[],apool:new p};qn.enabled&&(qn.apool=fr.apool);var pr,dr,hr,mr,vr=!0,gr=!0,yr=!0,br=!0;rr.ace_createMention=function(e){mr.createMention(e)},rr.ace_startMention=function(){mr.startMention()},rr.ace_hideMention=function(){mr.hideMentionPop()};var wr,_r=Zn+Jn+Qn,xr=Kn&&window.console;if(!window.console){var Cr=["log","debug","info","warn","error","assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"];xr={};for(var kr=0;kr<Cr.length;++kr)xr[Cr[kr]]=M}var Tr=window.PROFILER;Tr||(Tr=function(){return{start:M,mark:M,literal:M,end:M,cancel:M}});var Sr=M;window.dmesg=M;var Er=window,Ar=null,Ir=null,Or=null,Pr=u(Er,fr.apool,{withCallbacks:function(e,t){H(e,function(){_e(1),t({setDocumentAttributedText:function(e){te(e)},applyChangesetToDocument:function(e,t,n){var r=Lr.editEvent.eventType;Lr.startNewEvent("nonundoable"),Ve(e,t),avatarTrack.track(n),Lr.startNewEvent(r)}})})}}),Nr={};rr.ace_getAuthorInfos=t;var Dr=[];rr.ace_getRep=function(){return fr},rr.ace_getAuthor=function(){return tr};var Lr=null;rr.ace_inCallStack=$,rr.ace_inCallStackIfNecessary=H;var Mr={clearauthorship:function(e){fr.selStart&&fr.selEnd&&!Le()?et("author",""):e?e():Qe(0,fr.alltext.length,[["author",""]])}};rr.ace_focus=Jt,rr.ace_activeCaret=Zt,rr.ace_importText=Q,rr.ace_importAText=ee,rr.ace_exportText=ie,rr.ace_editorChangedSize=oe,rr.ace_setOnKeyPress=ae,rr.ace_setOnKeyDown=se,rr.ace_setNotifyDirty=ce,rr.ace_dispose=q,rr.ace_getFormattedCode=ue,rr.ace_setEditable=J,rr.ace_startEdit=xt,rr.ace_execCommand=le,rr.ace_replaceRange=fe,rr.ace_getAuthorInfos=t,rr.ace_performDocumentReplaceRange=Je,rr.ace_performDocumentReplaceCharRange=Xe,rr.ace_performDocumentReplaceRangeWithAttributes=Ze,rr.ace_renumberList=In,rr.ace_doReturnKey=Tt,rr.ace_isBlockElement=ht,rr.ace_getLineListType=ln,rr.ace_domToRep=ve,rr.ace_observeChangesAroundNode=Ee,rr.ace_setDomClean=he,rr.ace_deleteDomClean=de,rr.ace_setAttributeOnline=gn,rr.ace_setAttributesOnline=vn,rr.ace_doClickCheckbox=Bn,rr.ace_doRemoveOldLine=pe,rr.ace_getLineAttachmentType=dn,rr.ace_getLineImageType=pn,rr.ace_getAlignType=Pn,rr.ace_getHorizontalLineType=hn,rr.ace_setCaretFixedPosition=Qt,cleanNodeList=[],rr.ace_callWithAce=function(e,t,n){if(!window.cow.readonly){var r=function(){return e(rr)};if(void 0!==n){var i=r;r=function(){rr.ace_fastIncorp(9),i()}}return void 0!==t?rr.ace_inCallStack(t,r):r()}},rr.ace_setProperty=function(e,t){var n=function(e,t){return function(n){Xt(e,t,!!n)}},r={wraps:G,showsauthorcolors:n(pr,"authorColors"),showsuserselections:n(pr,"userSelections"),showslinenumbers:function(e){yr=!1,P.mobile&&(yr=!1),Ft()},grayedout:n(sr.document.body,"grayedout"),dmesg:function(){Sr=window.dmesg=t},userauthor:function(e){tr=String(e),wr.author=tr},styled:Y,rtlistrue:function(e){Xt(pr,"rtl",e),Xt(pr,"ltr",!e),document.documentElement.dir=e?"rtl":"ltr"}},i=r[e.toLowerCase()];void 0!==i&&i(t)},rr.ace_setBaseText=function(e){Pr.setBaseText(e)},rr.ace_setBaseAttributedText=function(e,t){Pr.setBaseAttributedText(e,t)},rr.ace_applyChangesToBase=function(e,t,n,r){Pr.applyChangesToBase(e,t,n,r)},rr.ace_getUncommittedChanges=function(){return Pr.getUncommittedChanges()},rr.ace_prepareUserChangeset=function(){return Pr.prepareUserChangeset()},rr.ace_applyPreparedChangesetToBase=function(){Pr.applyPreparedChangesetToBase()},rr.ace_setUserChangeNotificationCallback=function(e){Pr.setUserChangeNotificationCallback(e)},rr.ace_setAuthorInfo=function(e,t){r(e,t)},rr.ace_setAuthorSelectionRange=function(e,t,n){Pr.setAuthorSelectionRange(e,t,n)},rr.ace_getUnhandledErrors=function(){return er.slice()},rr.ace_getDocument=function(){return dr},rr.ace_getDebugProperty=function(e){if("debugger"==e)window.eval("debugger");else{if("rep"==e)return fr;if("window"==e)return window;if("document"==e)return document}},rr.ace_fastIncorp=_e;
var Rr,jr=we(function(){return qr?void jr.atLeast(500):void H("idleWorkTimer",function(){var e=be(250),t=!1,n=!1;try{if(Oe(e),e())return;if(e())return;_t(),[0,fr.lines.totalWidth()];t=!0,n=!0}finally{if(n)jr.atMost(1e3);else if(t)jr.atMost(500);else{var r=Math.round(e.elapsed()/2);r<100&&(r=100),jr.atMost(r)}}})}),Fr=1;Te();var Br={bold:!0,italic:!0,underline:!0,strikethrough:!0,list:!0};rr.ace_isCaret=Le,rr.ace_caretLine=Me,rr.ace_caretColumn=Re,rr.ace_caretDocChar=je,rr.ace_getLineAndCharForPoint=ze,window.handleTableChange=function(e,t){for(var n={node:e,index:0,maxIndex:0},r=ze(n),i=[],o=0;o<t.length;o++){var a=t[o][0],s=t[o][1],c=(t[o][2],t[o][3]),u=t[o][4],l=t[o][5];i.push([a+":"+s,c]);for(var f=0;f<u.length;f++)i.push([a+":"+s+":"+u[f],!0]);for(var p=0;p<l.length;p++)i.push([a+":"+s+":"+l[p]])}for(var h=r[0],m=e.getData(),v=m.length-1,g=m[0].length-1,y=d.opIterator(fr.alines[h]);y.hasNext();){var b=y.next();d.eachAttribNumber(b.attribs,function(e){var t=fr.apool.getAttribKey(e).split(":"),n=(fr.apool.getAttribValue(e),t[0]),r=t[1];2==t.length&&(n>v||r>g)&&i.push([n+":"+r,""])})}H("tableChanges",function(){rr.ace_performDocumentApplyAttributesToRange(r,[r[0],r[1]+1],i)})},window.fillTable=function(e){for(var t=e;t.parentNode&&"innerdocbody"!==t.parentNode.id;)t=t.parentNode;var n={node:t,index:0,maxIndex:0};if(gt(n.node))xr.log(n.node);else{var r=rr.ace_getRep(),i=ze(n),o=d.opIterator(r.alines[i[0]]);Ge(e,o);var a=e.onAfterEdit();Ke(e,a),vt(n.node)}},window.deleteTable=function(e){var t={node:e,index:0,maxIndex:0},n=ze(t),r=[n[0],n[1]+1];$("deleteTable",function(){Je(n,r,"")})},rr.ace_performDocumentApplyAttributesToCharRange=Qe,rr.ace_setAttributeOnSelection=et,rr.ace_getAttributeOnSelection=tt,rr.ace_toggleAttributeOnSelection=nt,rr.ace_checkAttributeOnSelection=rt,rr.ace_performSelectionChange=lt;var Ur={div:1,p:1,pre:1,li:1,ol:1,ul:1};s.each(n.callAll("aceRegisterBlockElements"),function(e){Ur[e]=1}),rr.ace_doIndentOutdent=St,hasAttributeOnLine=function(e,t){return wr.findAttributeOnLine(e,t)};var zr=/[\u0030-\u0039\u0041-\u005A\u0061-\u007A\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF\u0100-\u1FFF\u3040-\u9FFF\uF900-\uFDFF\uFE70-\uFEFE\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFDC]/;rr.ace_isWordChar=Ot;var Wr=!1,Vr=!1;rr.ace_doUndoRedo=Nt,rr.ace_updateBrowserSelectionFromRep=Dt;var $r=!1,Hr=[],qr=!1;rr.ace_getInInternationalComposition=function(){return qr},rr.ace_setCaretToLine=Kt,_.detach("pad:setCaretFixedPosition"),_.attach("pad:setCaretFixedPosition",Qt.bind(this));var Kr="list";a(document).on("font-style:change",function(){Tn()}),rr.ace_clearFormat=wn,rr.ace_paintFormat=bn,rr.ace_saveFormat=yn,rr.ace_setLineStyle=Sn,rr.ace_doInsertTable=Wn,rr.ace_doInsertUnorderedList=Un,rr.ace_doInsertOrderedList=zn;wr=new y(fr,Ve),rr.ace_performDocumentApplyAttributesToRange=function(){return wr.setAttributesOnRange.apply(wr,arguments)},window.docSelection={inProgress:!1,initEvent:function(){var e=this;a(document).on("selectstart",function(){e.begin()}).on("keyup",function(t){e.inProgress&&!t.shiftKey&&e.finish()}).on("mouseup",function(){e.inProgress&&1===event.which&&e.finish()})},begin:function(){this.inProgress=!0},finish:function(){this.inProgress=!1,setTimeout(function(){a(document).trigger("selectionEnd")},0)}},this.init=function(){dr=document,$("setup",function(){var t=dr.getElementById("innerdocbody");if(pr=t,hr=dr.getElementById("doc-container"),titleBox=a(".doc-title-box")[0],mr=new R.Obj("#outerdocbody",{editorInfo:rr}),markdown=new T({editorInfo:rr,documentAttributeManager:wr}),avatarTrack=new i({root:pr,rootOut:hr}),P.mozilla&&a(pr).addClass("mozilla"),P.safari&&a(pr).addClass("safari"),P.msie&&a(pr).addClass("msie"),P.msie)try{dr.execCommand("BackgroundImageCache",!1,!0)}catch(e){}for(Xt(pr,"authorColors",!0),Xt(pr,"doesWrap",gr),e(),docSelection.initEvent(),Z();pr.firstChild;)pr.removeChild(pr.firstChild);var n=We("");ot(0,fr.lines.length(),[n]),De(null,[n.domInfo],null),fr.alines=d.splitAttributionLines(d.makeAttribution("\n"),"\n"),a(pr).off(),Gt()}),n.callAll("aceInitialized",{editorInfo:rr,rep:fr,documentAttributeManager:wr}),Er.setTimeout(function(){window.readyFunc()},0),Gn=!0}}var A={},I=!1,O=e.isNodeText,P=o,N=e.getAssoc,D=e.setAssoc,L=(e.isTextNode,e.binarySearchInfinite,e.htmlPrettyEscape),M=e.noop,R=r.mention,j=r.status;return A.init=function(){var e=new E;e.init()},A}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(294),n(1),n(4),n(361))},function(e,t,n){(function(t){e.exports=function(e,n,r,i,o){if("Script error."!==e&&o){var a={msg:e,url:window.location.href,error_name:o.name,error_message:o.message,error_stack:o.stack,error_file:n},s=JSON.stringify(a);window._lastJSErrorString!==s&&t.post("/api/log/jserror",a,function(){}),window._lastJSErrorString=s}}}).call(t,n(1))},function(e,t,n){var r,i;(function(o){r=[n(315)],i=function(e){var t={},n=function(){function t(){h.clearStack(),m=0}function r(e,t){for(var n=0,r=0;n>=0&&n<e.length;)n=e.indexOf(t,n),n>=0&&(r++,n++);return r}function i(t,n){return r(e.unpack(t).ops,n)}function a(t,n){if(!t)return n;if(!n)return t;var r=i(t,"+"),o=i(n,"+"),a=i(t,"-"),s=i(n,"-");if(1==r&&1==o&&0==a&&0==s){var c=e.compose(t,n,d()),u=i(c,"+"),l=i(c,"-");if(1==u&&0==l)return c}else if(0==r&&0==o&&1==a&&1==s){var c=e.compose(t,n,d()),u=i(c,"+"),l=i(c,"-");if(0==u&&1==l)return c}return null}function s(t){function n(){"number"==typeof t.selStart&&(r.selStart=t.selStart,r.selEnd=t.selEnd,r.selFocusAtStart=t.selFocusAtStart)}var r=h.getNthFromTop(0);if(!t.backset||e.isIdentity(t.backset))n();else{var i=!1;if(r.eventType==t.eventType){var o=a(t.backset,r.backset);o&&(r.backset=o,n(),i=!0)}i||h.pushEvent(t),m=0}}function c(t){t&&!e.isIdentity(t)&&h.pushExternalChange(t)}function u(e){return"number"!=typeof e.selStart?null:{selStart:e.selStart,selEnd:e.selEnd,selFocusAtStart:e.selFocusAtStart}}function l(e,t){for(var n,r,i=/\*(\w+)/g,o=d(),a=!1,s=e,c=e.indexOf("$"),u=e.substring(0,c),l=e.substr(c+1);r=i.exec(u);)n=parseInt(r[1],36),n=o.numToAttrib[n],(n&&n[0].indexOf("image-placeholder")>-1||n[0].indexOf("attachment-placeholder")>-1)&&(a=!0,s=s.replace(r[0],""));return l.match(/^\s$/)||(a=!1),t?s:a}function f(t){if(m<h.numEvents()-1){var n,r,i,o,a,s,c=h.getNthFromTop(m),f=c.backset;f=c.backset,i=m,o=d();for(var p=m;p<h.numEvents()-1&&(n=h.getNthFromTop(p),r=h.getNthFromTop(p+1),l(n.backset)&&r.backset);p++)f=e.compose(f,r.backset,o),i=p+1;a=h.getNthFromTop(i+1),i>m&&(f=l(f,!0)),s=t(f,u(a)),s.addNumber=i-m+2,m=s.addNumber+m,h.pushEvent(s)}else t()}function p(e){if(m>=2){var t=h.getNthFromTop(0),n=h.getNthFromTop(1);e(t.backset,u(n)),h.popEvent(),m-=t.addNumber?t.addNumber:2}else e()}function d(){return n.apool}var h=function(){function t(){u.length=0,u.push({elementType:f,eventType:"bottom"}),l=1}function n(e){var t=o.extend({},e);t.elementType=f,u.push(t),l++}function r(t){var n=u.length-1;u[n].elementType==p?u[n].changeset=e.compose(u[n].changeset,t,d()):u.push({elementType:p,changeset:t})}function i(t){for(var n=u.length-1-t,r=u.length-1;r>n||u[r].elementType==p;)if(u[r].elementType==p){var i=u[r],o=u[r-1];if(o.backset){var a=i.changeset,s=o.backset;if(o.backset=e.follow(a,o.backset,!1,d()),i.changeset=e.follow(s,i.changeset,!0,d()),"number"==typeof o.selStart){var c=e.characterRangeFollow(a,o.selStart,o.selEnd);o.selStart=c[0],o.selEnd=c[1],o.selStart==o.selEnd&&(o.selFocusAtStart=!1)}}u[r-1]=i,u[r]=o,r>=2&&u[r-2].elementType==p&&(i.changeset=e.compose(u[r-2].changeset,i.changeset,d()),u.splice(r-2,1),r--)}else r--}function a(e){return i(e),u[u.length-1-e]}function s(){return l}function c(){return i(0),l--,u.pop()}var u=[],l=0,f="undoableEvent",p="externalChange";return t(),{numEvents:s,popEvent:c,pushEvent:n,pushExternalChange:r,clearStack:t,getNthFromTop:a}}(),m=0;return{clearHistory:t,reportEvent:s,reportExternalChange:c,performUndo:f,performRedo:p,enabled:!0,apool:null}}();return t.undoModule=n,t}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(4))},function(e,t,n){var r,i;(function(o,a){r=[n(364),n(191),n(310),n(166)],i=function(e,t,n,r){var i;return i=function(){function i(e){this.$root=o(e.root),this.$rootOut=o(e.rootOut),this.avatarBox=o("#track-avatars"),this.trackingInfo={},this.selfInfo={},this.currentUser=window.cow.currentUser,this.initSelfAvatar(),this.changeId=0,this.avatarOverLeft=2,this.initPush()}return i.prototype.initSelfAvatar=function(){var t;return t=this.currentUser.id,this.avatarBox.html(a.template(e)({id:t,avatar:this.currentUser.avatar,name:this.currentUser.name})),this.selfInfo={id:t,$avatar:o("#track-avatar-"+t),ontrack:!1,lineNum:0,changeId:0}},i.prototype.initPush=function(){var e;return e=this,r.attach("avatar:add",function(t){var n,r;if(r=e.trackingInfo[t.id])return n=t.avatar.find("img").attr("src"),r.$avatar.children("img").attr("src",n)}),r.attach("avatar:remove",function(t){var n;if(n=e.trackingInfo[t.id])return n.ontrack=!1,e.hideTrackingAvatar(n),clearTimeout(n.timeOut)})},i.prototype.track=function(r){var i,s,c;if(i=r.changeAuthorId,i!==+this.currentUser.id&&0!==i)return s=this,c=t.get(i),this.trackingInfo[i]?(this.trackingInfo[i].lineNum=r.lineNum,this.trackingInfo[i].ontrack=!0,this.trackingInfo[i].changeId=++this.changeId):(this.avatarBox.append(a.template(e)({id:i,avatar:c.avatar,name:c.name})),window.cow.isMobile||n.showUserLine(),this.trackingInfo[i]={id:i,$avatar:o("#track-avatar-"+i),lineNum:r.lineNum,ontrack:!0,changeId:++this.changeId}),this.trackPosition(),this.trackingInfo[i].timeOut&&clearTimeout(this.trackingInfo[i].timeOut),this.trackingInfo[i].timeOut=setTimeout(function(){return s.trackingInfo[i].ontrack=!1,s.hideTrackingAvatar(s.trackingInfo[i])},18e4)},i.prototype.trackPosition=function(e){var t,n,r,i;return i=this,n=this.$root.children(),r={},this.selfInfo.ontrack=!1,e&&e.selStart&&(this.selfInfo.lineNum=this.getTrackingLineNum(e.selStart[0],n),t=o(n[this.selfInfo.lineNum]),r[this.selfInfo.lineNum]=[this.selfInfo]),a.each(this.trackingInfo,function(e){var t;if(e.ontrack)return i.selfInfo.ontrack=!0,t=o(n[e.lineNum]),t.length||(e.lineNum=i.getTrackingLineNum(e.lineNum,n),t=o(n[e.lineNum])),i.showTrackingAvatar(e,t),r[e.lineNum]?r[e.lineNum].push(e):r[e.lineNum]=[e]}),this.selfInfo.ontrack?this.showTrackingAvatar(this.selfInfo,t):this.hideTrackingAvatar(this.selfInfo),a.each(r,function(e){return i.sortSameLine(e)})},i.prototype.getTrackingLineNum=function(e,t){return e<t.length?e:t.length-1},i.prototype.showTrackingAvatar=function(e,t){if(t)return this.$root.addClass("mobile-avatar-show"),e.$avatar.css({top:this.$rootOut.scrollTop()+t.position().top+ +t.css("margin-top").replace("px","")+ +t.css("padding-top").replace("px","")+(t.height()-30)/2-1,opacity:1,"z-index":9})},i.prototype.hideTrackingAvatar=function(e){return this.$root.removeClass("mobile-avatar-show"),e.$avatar.css({opacity:0})},i.prototype.sortSameLine=function(e){var t,n,r;return n=this,r=a.sortBy(e,"changeId"),t=r.length,a.each(r,function(e,r){return r===t-1?(e.$avatar.css({left:0}),e.$avatar.removeClass("overlap")):r===t-2?(e.$avatar.css({left:-n.avatarOverLeft}),e.$avatar.addClass("overlap")):(e.$avatar.css({left:2*-n.avatarOverLeft}),e.$avatar.addClass("overlap"))})},i}()}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(1),n(4))},function(e,t){e.exports='<div id="track-avatar-<%= id %>" class="track-avatar">\n\t<img src="<%= avatar %>" alt="<%= name %>" title="<%= name %>" />\n</div>'},function(e,t,n){var r,i;(function(o){r=[n(316),n(315),n(166)],i=function(e,t,n){function r(r,i,a){function s(){d&&null===h&&(h=r.setTimeout(function(){try{d()}catch(e){}finally{h=null}},0))}var c=t.makeAText("\n"),u=null,l=t.identity(1),f=!1,p=!1,d=null,h=null,m={isTracking:function(){return f},setBaseText:function(e){m.setBaseAttributedText(t.makeAText(e),null)},setBaseAttributedText:function(n,r){a.withCallbacks("setBaseText",function(o){if(f=!0,c=t.cloneAText(n),r){var a=(new e).fromJsonable(r);c.attribs=t.moveOpsToNewPool(c.attribs,a,i)}u=null,l=t.identity(n.text.length),p=!0;try{o.setDocumentAttributedText(n)}finally{p=!1}})},composeUserChangeset:function(e){f&&(p||t.isIdentity(e)||(l=t.compose(l,e,i),s()))},trackAuthorAvatar:function(e,n,r){for(var i=n||0,a=0,s=t.unpack(e),c=t.opIterator(s.ops);c.hasNext();){var u=c.next();if("="!==u.opcode)break;var l=u.attribs.split("*"),f=!1;if(o.each(l,function(e){e&&r.numToAttrib[parseInt(e,16)]&&"list"===r.numToAttrib[parseInt(e,16)][0]&&(f=!0)}),a+=u.lines,f)break}return{changeAuthorId:i,lineNum:a}},applyChangesToBase:function(r,o,s,d){f&&a.withCallbacks("applyChangesToBase",function(o){if(s){var a=(new e).fromJsonable(s);r=t.moveOpsToNewPool(r,a,i);var f=m.trackAuthorAvatar(r,d,i)}if(c=t.applyToAText(r,c,i),window.cow.client&&!window.cow.offline){var h=t.prepareForWire(c.attribs,i),v={text:c.text,attribs:h.translated},g=window._collabClient.rev;n.notify("sync",{head:g,content:JSON.stringify(v),pool:JSON.stringify(h.pool.toJsonable())})}var y=r;if(u){var b=u;u=t.follow(r,b,!1,i),y=t.follow(b,r,!0,i)}var w=!0,_=l;l=t.follow(y,_,w,i);var x=t.follow(_,y,!w,i),C=!0;p=!0;try{o.applyChangesetToDocument(x,C,f)}finally{p=!1}})},prepareUserChangeset:function(){var e;if(u)e=t.compose(u,l,i);else{var n=window.pad.myUserInfo.userId;if(i.attribToNum){for(var r,o=Number(i.attribToNum["author,"+n]).toString(36),a=t.unpack(l),s=t.opIterator(a.ops),c=t.mergingOpAssembler();s.hasNext();){if(r=s.next(),"+"==r.opcode){var f="";r.attribs.split("*").forEach(function(e){if(e){var t=i.getAttrib(parseInt(e,36));t&&(f+="author"==t[0]?"*"+o:"*"+e)}}),r.attribs=f}c.append(r)}c.endDocument(),l=t.pack(a.oldLen,a.newLen,c.toString(),a.charBank),t.checkRep(l)}e=t.isIdentity(l)?null:l}var a=null;e&&(u=e,l=t.identity(t.newLen(e)),a=e);var p=null;if(a){var d=t.prepareForWire(a,i);p=d.pool.toJsonable(),a=d.translated}var h={changeset:a,apool:p};return h},applyPreparedChangesetToBase:function(){if(!u)throw new Error("applySubmittedChangesToBase: no submitted changes to apply");if(c=t.applyToAText(u,c,i),window.cow.client&&!window.cow.offline){var e=t.prepareForWire(c.attribs,i),r={text:c.text,attribs:e.translated},o=window._collabClient.rev;n.notify("sync",{head:o,content:JSON.stringify(r),pool:JSON.stringify(e.pool.toJsonable())})}u=null},setUserChangeNotificationCallback:function(e){d=e},hasUncommittedChanges:function(){return!(!u&&t.isIdentity(l))},getUncommittedChanges:function(){var e;if(e=u?t.compose(u,l,i):l,!e||t.isIdentity(e))return null;window.preChangeset&&(e=t.compose(window.preChangeset.changeset,e,i));var n=t.prepareForWire(e,i),r=n.pool.toJsonable();return e=n.translated,{changeset:e,apool:r}}};return m}return r}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(4))},function(e,t,n){var r,i;(function(o,a){r=[n(367),n(315),n(318),n(175),n(293),n(191)],i=function(e,t,n,r,i,s){function c(t){return e.nfc(t)}function u(e,u,l,p,d){function h(e){return!!M[(L.nodeTagName(e)||"").toLowerCase()]}function m(e){return c(e.replace(/[\n\r ]/g," ").replace(/\xa0/g," ").replace(/\t/g,"        "))}function v(e,t){return L.nodeProp(e,"_magicdom_"+t)}function g(e){R.atColumnZero()||j.startNewLine(e)}function y(e,t){if(0==L.nodeNumChildren(e))return!0;if(1==L.nodeNumChildren(e)&&v(e,"shouldBeEmpty")&&"&nbsp;"==L.optNodeInnerHTML(e)&&!v(e,"unpasted")){if(t){var n=L.nodeChild(e,0);_(n,0,t),_(n,1,t)}return!0}return!1}function b(e,t){var n=R.length()-1,r=R.textOfLine(n).length;return 0!=r||o.isEmpty(t.lineAttributes)||(r+=1),r+=e,[n,r]}function w(e,t,n){L.isNodeText(e)||_(e,t,n)}function _(e,t,n){N&&e==N.node&&N.index==t&&(F=b(0,n)),D&&e==D.node&&D.index==t&&(B=b(0,n))}function x(e,t){return t?e.lineAttributes.heading=t:delete e.lineAttributes.heading,I(e),t}function C(e,t,n){var r=e.lineAttributes.list;return"none"!=t&&(e.listNesting=(e.listNesting||0)+1),"none"!==t&&t?e.lineAttributes.list=t:delete e.lineAttributes.list,n?e.lineAttributes.start=n:delete e.lineAttributes.start,I(e),r}function k(e,t){e.lineAttributes.list&&e.listNesting--,t&&"none"!=t?e.lineAttributes.list=t:delete e.lineAttributes.list,delete e.lineAttributes.start,I(e)}function T(e,t){for(var n,r=0;r<t.length;r++)n=t[r],n[1]?e.lineAttributes["line-style:"+n[0]]=n[1]:delete e.lineAttributes["line-style:"+n[0]];return I(e),t}function S(e,t){for(var n=0;n<t.length;n++)current=t[n],delete e.lineAttributes["line-style:"+current[0]];I(e)}function E(e,t){var n=e.author;return e.authorLevel=(e.authorLevel||0)+1,e.author=t,I(e),n}function A(e,t){e.authorLevel--,e.author=t,I(e)}function I(e){var n=[];for(var i in e.attribs)e.attribs[i]&&!e.table&&("unbold"==i?n.push(["bold","none"]):"unitalic"==i?n.push(["italic","none"]):"ununderline"==i?n.push(["underline","none"]):"unstrikethrough"==i?n.push(["strikethrough","none"]):n.push([i,"true"]));if(e.table){for(var o=0;o<e.table.length;o++){var a=[e.table[o][0],e.table[o][1]];n.push(a)}var s=["doc-table",r.genGuid()];n.push(s)}if(e.link&&n.push(e.link),e.comment&&n.push(e.comment),e.fontColor&&n.push(e.fontColor),e.fontSize&&n.push(e.fontSize),e.mention&&n.push(e.mention),e.uploadImage&&n.push(e.uploadImage),e.hrline&&n.push(e.hrline),e.uploadAttachment&&n.push(e.uploadAttachment),e.lineguid&&n.push(["lineguid",e.lineguid]),e.dragAndDropPlaceholder&&n.push(["dragAndDropPlaceholder",e.dragAndDropPlaceholder]),e.authorLevel>0){var c=["author",e.author];l.putAttrib(c,!0)>=0&&n.push(c)}e.hrline&&n.push(e.hrline),e.attribString=t.makeAttribsString("+",n,l)}function O(e){var n=[["lmkr","1"],["insertorder","first"]].concat(o.map(e.lineAttributes,function(e,t){return[t,e]}));R.appendText("*",t.makeAttribsString("+",n,l))}u=u||{};var P,N,D,L=p||{isNodeText:function(e){return 3==e.nodeType},nodeTagName:function(e){return e.tagName},nodeValue:function(e){return e.nodeValue},nodeNumChildren:function(e){return e.childNodes.length},nodeChild:function(e,t){return e.childNodes.item(t)},nodeProp:function(e,t){return e[t]},nodeAttr:function(e,t){return e.getAttribute(t)},optNodeInnerHTML:function(e){return e.innerHTML}},M={div:1,p:1,li:1},R=function(){var e=[],n=[],r=null,i=t.newOp("+"),o={length:function(){return e.length},atColumnZero:function(){return""===e[e.length-1]},startNew:function(){e.push(""),o.flush(!0),r=t.smartOpAssembler()},textOfLine:function(t){return e[t]},appendText:function(t,n){e[e.length-1]+=t,i.attribs=n,i.chars=t.length,r.append(i)},textLines:function(){return e.slice()},attribLines:function(){return n},flush:function(e){r&&(n.push(r.toString()),r=null)}};return o.startNew(),o}(),j={},F=[-1,-1],B=[-1,-1];j.incrementFlag=function(e,t){e.flags[t]=(e.flags[t]||0)+1},j.decrementFlag=function(e,t){e.flags[t]--},j.incrementAttrib=function(e,t){e.attribs[t]?e.attribs[t]++:e.attribs[t]=1,I(e)},j.decrementAttrib=function(e,t){e.attribs[t]--,I(e)},j.startNewLine=function(e){if(e){if(e.table)return;e.lineguid=r.genGuid(),I(e);var t=0==R.textOfLine(R.length()-1).length;t&&!o.isEmpty(e.lineAttributes)&&O(e)}R.startNew()},j.notifySelection=function(e){e&&(P=e,N=P.startPoint,D=P.endPoint)},j.doAttrib=function(e,t){e.localAttribs=e.localAttribs||[],e.localAttribs.push(t),j.incrementAttrib(e,t)},j.collectContent=function(t,c){if(!c){c={flags:{},localAttribs:null,attribs:{},attribString:"",columnId:null,rowId:null,lineAttributes:{}};var l=L.nodeAttr(t,"class")||"";l&&(lineguid=/lineguid-(\S+)/.exec(l))?c.lineguid=lineguid[1]:c.lineguid=r.genGuid(),I(c)}var p=c.localAttribs;c.localAttribs=null;var v=!0,_=h(t),P=y(t,c);_&&g(c);var M=R.length()-1;w(t,0,c);var U=["line-bold","line-italic","line-underline","line-strikethrough","font-size","font-color"];if(L.isNodeText(t)){var z=L.nodeValue(t),$=L.nodeAttr(t.parentNode,"name"),H=n.callAll("collectContentLineText",{cc:this,state:c,tname:$,node:t,text:z,styl:null,cls:null}),z="object"==typeof H&&0==H.length?L.nodeValue(t):H[0],q="",K=0;for(0==z.length&&(N&&t==N.node&&(F=b(0,c)),D&&t==D.node&&(B=b(0,c)));z.length>0;){var G=0;if(c.flags.codeArea){var Y=z.split("\n",1)[0];G=Y.length+1,q=z.substring(G),z=Y}N&&t==N.node&&N.index-K<=z.length&&(F=b(N.index-K,c)),D&&t==D.node&&D.index-K<=z.length&&(B=b(D.index-K,c));var X=z;!c.flags.codeArea&&/^[\r\n]*$/.exec(z)&&(X="");var J=0==R.textOfLine(R.length()-1).length;J&&(X=X.replace(/^\n*/,"")),J&&!o.isEmpty(c.lineAttributes)&&O(c),c.table?c.table.push([c.rowId+":"+c.columnId,m(X)]):R.appendText(m(X),c.attribString),K+=G,z=q,z.length>0&&j.startNewLine(c)}}else{var $=(L.nodeTagName(t)||"").toLowerCase();if("br"==$){this.breakLine=!0;var Z=L.nodeAttr(t,"value"),Q=n.callAll("collectContentLineBreak",{cc:this,state:c,tname:$,tvalue:Z,styl:null,cls:null}),ee="object"==typeof Q&&0==Q.length||Q[0];ee&&j.startNewLine(c)}else if("script"==$||"style"==$);else if("img"==$)W(t,c,R);else if(L.nodeAttr(t,"class")&&L.nodeAttr(t,"class").indexOf("attachment-wrapper")>-1)V(t,c,R);else if(P&&c.table&&("td"==$||"th"==$))c.columnId++;else{var te=L.nodeAttr(t,"style")||"",l=L.nodeAttr(t,"class")||"",ne=null,re=null,ie=null,oe=null;if(e){if(n.callAll("collectContentPre",{cc:j,state:c,tname:$,styl:te,cls:l}),"span"==$&&!l.match(/horizontal-line/)){window.cow.mentionIdToNameMap||(window.cow.mentionIdToNameMap={});var ae=te.match(/font-family: '(.+)'/)||[],se=" "+l+" ";if(te&&ae.length>0)c.mention=["mention",["user-"+ae[1],r.genGuid()]],idToNameAry=ae[1].split("-"),idToNameAry.length>0&&(window.cow.mentionIdToNameMap[idToNameAry[0]]=idToNameAry[1]);else if(se.match(/\s+mention\s+/)){var ce=/\s+user\-([0-9]+)\s+/;if(ce.test(se)){var ue=se.match(ce)[1],le="";ue==window.cow.currentUser.id?le=window.cow.currentUser.name:s.contacts[ue]?le=s.getUserName(ue):window.cow.mentionIdToNameMap&&window.cow.mentionIdToNameMap[ue]&&(le=window.cow.mentionIdToNameMap[ue]),le&&(c.mention=["mention",["user-"+ue+"-"+le,r.genGuid()]])}}I(c)}if("a"==$&&0===a(t).find("img").length){var fe=t.parentNode.className&&t.parentNode.className.match(/\s(url-[0-9A-Za-z]+)\s/);c.link=["link",[fe?fe[1]:void 0,t.getAttribute("href")]],I(c)}if(("b"==$||te&&/\bfont-weight:\s*bold\b/i.exec(te)||"strong"==$)&&j.doAttrib(c,"bold"),("unbold"==$||l.match(/unbold/))&&j.doAttrib(c,"unbold"),("unitalic"==$||l.match(/unitalic/))&&j.doAttrib(c,"unitalic"),("ununderline"==$||l.match(/ununderline/))&&j.doAttrib(c,"ununderline"),("unstrikethrough"==$||l.match(/unstrikethrough/))&&j.doAttrib(c,"unstrikethrough"),("i"==$||te&&/\bfont-style:\s*italic\b/i.exec(te)||"em"==$)&&j.doAttrib(c,"italic"),("u"==$||te&&/\btext-decoration:\s*underline\b/i.exec(te)||"ins"==$)&&j.doAttrib(c,"underline"),("s"==$||te&&/\btext-decoration:\s*line-through\b/i.exec(te)||"del"==$)&&j.doAttrib(c,"strikethrough"),l.match(/drag-and-drop-placeholder/)&&(c.dragAndDropPlaceholder="drag-and-drop-placeholder"),"font"==$&&t.getAttribute("color")||te&&/\bcolor:\s*/i.exec(te)||"span"==$&&l.match(/font-color-(\d+)/)){var pe,de;if("span"==$&&l.match(/font-color-(\d+)/))pe=l.match(/font-color-(\d+)/)[1];else{if("font"==$)de=t.getAttribute("color");else{var he=/\bcolor:\s*(#[0-9A-F]{3,6})|(rgb\(.+\))/i.exec(te);if(he&&he[1])de=he[1];else if(he&&he[2]){var me=/\b\(([0-9]{1,3}),\s*([0-9]{1,3}),\s*([0-9]{1,3})\)/i.exec(he[2]);if(me&&4==me.length){de="#";for(var ve,ge=1;ge<4;ge++)ve=(+me[ge]).toString(16),ve=1==ve.length?"0"+ve:ve,de+=ve}}}for(var ye=0;ye<i.fontColorList.length;ye++)if(de===i.fontColorList[ye]){pe=i.attrValuesMap[ye];break}}pe>0&&(c.fontColor=["font-color",pe],I(c))}if("font"==$&&t.getAttribute("size")||te&&/\bfont-size:\s*/i.exec(te)||"span"==$&&l.match(/font-size-([1-9])/)){var be,pe,we;if("span"==$&&l.match(/font-size-([1-9])/))pe=l.match(/font-size-([1-9])/)[1];else if("font"==$&&t.getAttribute("size"))pe=t.getAttribute("size");else{be=/\bfont-size:\s*([0-9]+|[0-9]+\.[0-9]+)px/i.exec(te);var _e=96/72;if(be){we=+be[1]/_e;for(var ye=0;ye<i.fontSizeList.length;ye++)if(+we-+i.fontSizeList[ye]<.5){pe=ye+1;break}}else if(be=/\bfont-size:\s*([0-9]+|[0-9]+\.[0-9]+)pt/i.exec(te))for(var ye=0;ye<i.fontSizeList.length;ye++)if(be[1]==i.fontSizeList[ye]){pe=ye+1;break}}pe>-1&&(c.fontSize=["font-size",pe],I(c))}if("ul"==$||"ol"==$){var xe,Ce=l&&/(?:^| )list-([a-z]+[123456789])\b/.exec(l);if(xe=Ce&&Ce[1]||("ul"==$?"bullet":"number")+String(Math.min(f,(c.listNesting||0)+1)),"code1"===xe)j.incrementFlag(c,"codeArea"),c.codeArea=!0,re=C(c,"code1")||"none";else{start=L.nodeAttr(t,"start"),re=C(c,xe,start)||"none";var de,we,ke,Te,he=/\bcolor:\s*(#[0-9A-F]{3,6})|(rgb\(.+\))/i.exec(te),be=/\bfont-size:\s*([0-9]+|[0-9]+\.[0-9]+)px/i.exec(te),Se=/\bfont-weight:\s*(bold)/i.exec(te),Ee=/\bfont-style:\s*(italic)/i.exec(te),Ae=[],_e=96/72;if(he&&he[1])de=he[1];else if(he&&he[2]){var me=/\b\(([0-9]{1,3}),\s*([0-9]{1,3}),\s*([0-9]{1,3})\)/i.exec(he[2]);if(me&&4==me.length){de="#";for(var ve,ge=1;ge<4;ge++)ve=(+me[ge]).toString(16),ve=1==ve.length?"0"+ve:ve,de+=ve}}for(var ye=0;ye<i.fontColorList.length;ye++)de===i.fontColorList[ye]&&(Te=ye+1);if(be){we=+be[1]/_e;for(var ye=0;ye<i.fontSizeList.length;ye++)if(+we-+i.fontSizeList[ye]<.5){ke=ye+1;break}}else if(be=/\bfont-size:\s*([0-9]+|[0-9]+\.[0-9]+)pt/i.exec(te))for(var ye=0;ye<i.fontSizeList.length;ye++)if(be[1]==i.fontSizeList[ye]){ke=ye+1;break}Te>0&&Ae.push(["font-color",Te]),ke>0&&Ae.push(["font-size",ke]),Se&&Ae.push(["line-bold","true"]),Ee&&Ae.push(["line-italic","true"]),oe=T(c,Ae)}}if("pre"!=$&&"code"!=$||(re=C(c,"code1")||"none"),"span"==$&&l&&l.match(/\bis-commented\b/)&&(commentGuid=t.className.match(/\b\w{7}-\w{16}/),a("#innerdocbody ."+commentGuid[0]).length<=1&&(c.comment=["comment",commentGuid],I(c))),"hr"!=$||l&&l.match(/from-shimo-doc/)||(c.hrline=["horizontal-line",1],I(c),R.appendText(" ",c.attribString)),!c.table||"td"!=$&&"th"!=$){if("div"==$&&l&&l.match(/heading-/)){var Ce=l&&/(?:^| )heading-([123])\b/.exec(l);ne=x(c,Ce&&Ce[1]||0)}else if("span"==$&&l&&l.match(/horizontal-line/))c.hrline=["horizontal-line",1],I(c),R.appendText(" ",c.attribString);else if(("div"==$||"p"==$)&&l&&l.match(/ace-line|font-size-|font-color-|line-strikethrough|line-underline|line-bold|line-italic/)||l.match(/list-div/)){for(var Ie,Oe,Pe,Ne,Ae=[],ye=0;ye<U.length;ye++)Ie=U[ye],Oe="",ye<4?Oe=l.indexOf(Ie)>-1?"true":"":(Ne="font-color"==Ie?/font-color-(\d+)/:/font-size-([1-9])/,Pe=l.match(Ne),Oe=Pe&&Pe[1]?Pe[1]:""),Ae.push([Ie,Oe]);oe=T(c,Ae)}}else c.columnId++;if(d&&l){var De=l.match(/\S+/g);if(De&&De.length>0)for(var ye=0;ye<De.length;ye++){var Le=De[ye],Me=d(Le);if(Me){ie=E(c,Me)||"none";break}}}}if(v){var Re=L.nodeNumChildren(t),$=(L.nodeTagName(t)||"").toLowerCase();if("table"==$&&c.table?v=!1:("table"==$&&t&&(c.table=[],c.rowId=-1),"tr"==$&&(c.rowId++,c.columnId=-1)),v){for(var ye=0;ye<Re;ye++){var Le=L.nodeChild(t,ye);8!==Le.nodeType&&j.collectContent(Le,c)}e&&n.callAll("collectContentPost",{cc:j,state:c,tname:$,styl:te,cls:l}),c.table&&"table"==$&&(I(c),R.appendText(" ",c.attribString),c.table=null,I(c))}}if(c.lineAttributes.heading&&(delete c.lineAttributes.heading,I(c)),c.mention&&(c.mention=null,I(c)),c.link&&(c.link=null,I(c)),c.comment&&(c.comment=null,I(c)),c.fontColor&&(c.fontColor=null,I(c)),c.fontSize&&(c.fontSize=null,I(c)),c.dragAndDropPlaceholder&&(c.dragAndDropPlaceholder=null,I(c)),c.uploadImage&&(c.uploadImage=null,I(c)),c.uploadAttachment&&(c.uploadAttachment=null,I(c)),c.localAttribs)for(var ye=0;ye<c.localAttribs.length;ye++)j.decrementAttrib(c,c.localAttribs[ye]);oe&&S(c,oe),re&&k(c,re),ie&&A(c,ie),c.hrline&&(c.hrline=null,I(c))}}u.msie||w(t,1,c),_&&(R.length()-1==M?j.startNewLine(c):g(c)),u.msie&&w(t,1,c),c.localAttribs=p},j.notifyNextNode=function(e){(!e||h(e)&&!y(e))&&g(null)};var U=function(){return F},z=function(){return B},W=function(e,t,n){if(0!=e.src.indexOf("webkit-fake-url")&&0!=e.src.indexOf("data")){e.src=e.src.replace("tp=webp","");var i=n.textOfLine(n.length()-1);i&&i.length>0&&j.startNewLine(t),imgSrc=encodeURIComponent(decodeURI(e.src)),classArr=[imgSrc,r.genGuid()],width=parseInt(e.style.width),height=parseInt(e.style.height),isNaN(width)||classArr.push("image-width-"+width),isNaN(height)||classArr.push("image-height-"+height),t.uploadImage=["upload-image",classArr],I(t),t.lineAttributes["line-align"]||t.lineAttributes["inherit:inherit"]||t.lineAttributes.list||(t.lineAttributes["inherit:inherit"]=!0),O(t),n.appendText(" ",t.attribString),t.uploadImage=null,I(t),j.startNewLine(t)}},V=function(e,t,n){var i=n.textOfLine(n.length()-1);i&&i.length>0&&j.startNewLine(t);var o="",a="",s="",c=e.getElementsByClassName("attchment-innerdoc-tag"),u=e.getElementsByClassName("attachment-download-link"),l=e.getElementsByClassName("attachment-file-name"),f=e.getElementsByClassName("attachment-file-size");0!=c.length&&(u.length>0&&u[0].attributes.href&&(o=u[0].attributes.href),l.length>0&&l[0].attributes["data-content"]&&(a=l[0].getAttribute("data-content")),f.length>0&&f[0].attributes["data-content"]&&(s=f[0].getAttribute("data-content")),classArr=[o,r.genGuid(),a,s],t.uploadAttachment=["upload-attachment",classArr],I(t),t.lineAttributes["line-align"]||(t.lineAttributes["line-align"]="center",t.lineAttributes["inherit:inherit"]||t.lineAttributes.list||(t.lineAttributes["inherit:inherit"]=!0)),O(t),n.appendText(" ",t.attribString),t.uploadAttachment=null,I(t),j.startNewLine(t))};return j.getLines=function(){return R.textLines()},j.finish=function(){function e(){for(var e=2e3,a=10,s=0,c=0,u=r.length-1;u>=0;u--){var l=r[u],f=n[u];if(l.length>e+a){for(var p=function(e){if(!(e[0]<0)){var t=e[0],n=e[1];if(t>u)t+=d.length-1;else if(t==u){for(var r=0;n>d[r].length;)n-=d[r].length,r++;t+=r}e[0]=t,e[1]=n}},d=[],h=[];l.length>e;)lengthToTake=e,d.push(l.substring(0,lengthToTake)),l=l.substring(lengthToTake),h.push(t.subattribution(f,0,lengthToTake)),f=t.subattribution(f,lengthToTake);l.length>0&&(d.push(l),h.push(f)),p(i),p(o),s++,c+=d.length,d.unshift(u,1),r.splice.apply(r,d),h.unshift(u,1),n.splice.apply(n,h)}}return{linesWrapped:s,numLinesAfter:c}}R.flush();var n=R.attribLines(),r=j.getLines();r.length--,n.length--;var i=U(),o=z(),a=e();return{selStart:i,selEnd:o,linesWrapped:a.linesWrapped,numLinesAfter:a.numLinesAfter,lines:r,lineAttribs:n}},j}var l={},f=8;return l.sanitizeUnicode=c,l.makeContentCollector=u,l}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(4),n(1))},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_RESULT__=function(){var exports={};(function(){var DEFAULT_FEATURE=[null,0,{}],CACHE_THRESHOLD=10,SBase=44032,LBase=4352,VBase=4449,TBase=4519,LCount=19,VCount=21,TCount=28,NCount=VCount*TCount,SCount=LCount*NCount,UChar=function(e,t){this.codepoint=e,this.feature=t};UChar.fromCharCode=function(cp,needFeature){function fromCache(e,t,n){if(!ctx.cache){ctx.cache={},ctx.counter=[];for(var r=0;r<=255;++r)ctx.counter[r]=0}var i=ctx.cache[t];return i||(i=e(t,n),i.feature&&++ctx.counter[t>>8&255]>CACHE_THRESHOLD&&(ctx.cache[t]=i)),i}function fromData(next,cp,needFeature){var hash=65280&cp,dunit=UChar.udata[hash];null==dunit?dunit=UChar.udata[hash]={}:"string"==typeof dunit&&(dunit=UChar.udata[hash]=eval("("+dunit+")"));var f=dunit[cp];return f?new UChar(cp,f):new UChar(cp,DEFAULT_FEATURE)}function fromCpOnly(e,t,n){return n?e(t,n):new UChar(t,null)}function fromRuleBasedJamo(e,t,n){if(t<LBase||LBase+LCount<=t&&t<SBase||SBase+SCount<t)return e(t,n);if(LBase<=t&&t<LBase+LCount){for(var r={},i=(t-LBase)*VCount,o=0;o<VCount;++o)r[VBase+o]=SBase+TCount*(o+i);return new UChar(t,[,,r])}var a=t-SBase,s=a%TCount,c=[];if(0!=s)c[0]=[SBase+a-s,TBase+s];else{c[0]=[LBase+Math.floor(a/NCount),VBase+Math.floor(a%NCount/TCount)],c[2]={};for(var o=1;o<TCount;++o)c[2][TBase+o]=t+o}return new UChar(t,c)}function fromCpFilter(e,t,n){return t<60||13311<t&&t<42607?new UChar(t,DEFAULT_FEATURE):e(t,n)}var ctx=arguments.callee;if(!ctx.strategy){var strategies=[fromCpFilter,fromCache,fromCpOnly,fromRuleBasedJamo,fromData];for(UChar.fromCharCode.strategy=null;strategies.length>0;)ctx.strategy=function(e,t,n,r){return function(n,r){return t(e,n,r)}}(ctx.strategy,strategies.pop(),cp,needFeature)}return ctx.strategy(cp,needFeature)},UChar.isHighSurrogate=function(e){return e>=55296&&e<=56319},UChar.isLowSurrogate=function(e){return e>=56320&&e<=57343},UChar.prototype.prepFeature=function(){
this.feature||(this.feature=UChar.fromCharCode(this.codepoint,!0).feature)},UChar.prototype.toString=function(){if(this.codepoint<65536)return String.fromCharCode(this.codepoint);var e=this.codepoint-65536;return String.fromCharCode(Math.floor(e/1024)+55296,e%1024+56320)},UChar.prototype.getDecomp=function(){return this.prepFeature(),this.feature[0]||null},UChar.prototype.isCompatibility=function(){return this.prepFeature(),!!this.feature[1]&&256&this.feature[1]},UChar.prototype.isExclude=function(){return this.prepFeature(),!!this.feature[1]&&512&this.feature[1]},UChar.prototype.getCanonicalClass=function(){return this.prepFeature(),this.feature[1]?255&this.feature[1]:0},UChar.prototype.getComposite=function(e){if(this.prepFeature(),!this.feature[2])return null;var t=this.feature[2][e.codepoint];return null!=t?UChar.fromCharCode(t):null};var UCharIterator=function(e){this.str=e,this.cursor=0};UCharIterator.prototype.next=function(){if(this.str&&this.cursor<this.str.length){var e,t=this.str.charCodeAt(this.cursor++);return UChar.isHighSurrogate(t)&&this.cursor<this.str.length&&UChar.isLowSurrogate(e=this.str.charCodeAt(this.cursor))&&(t=1024*(t-55296)+(e-56320)+65536,++this.cursor),UChar.fromCharCode(t)}return this.str=null,null};var RecursDecompIterator=function(e,t){this.it=e,this.canonical=t,this.resBuf=[]};RecursDecompIterator.prototype.next=function(){function e(t,n){var r=n.getDecomp();if(!r||t&&n.isCompatibility())return[n];for(var i=[],o=0;o<r.length;++o)for(var a=e(t,UChar.fromCharCode(r[o])),s=0;s<a.length;++s)i.push(a[s]);return i}if(0==this.resBuf.length){var t=this.it.next();if(!t)return null;this.resBuf=e(this.canonical,t)}return this.resBuf.shift()};var DecompIterator=function(e){this.it=e,this.resBuf=[]};DecompIterator.prototype.next=function(){var e;if(0==this.resBuf.length)do{var t=this.it.next();if(!t)break;e=t.getCanonicalClass();var n=this.resBuf.length;if(0!=e)for(;n>0;--n){var r=this.resBuf[n-1],i=r.getCanonicalClass();if(i<=e)break}this.resBuf.splice(n,0,t)}while(0!=e);return this.resBuf.shift()};var CompIterator=function(e){this.it=e,this.procBuf=[],this.resBuf=[],this.lastClass=null};CompIterator.prototype.next=function(){for(;0==this.resBuf.length;){var e=this.it.next();if(!e){this.resBuf=this.procBuf,this.procBuf=[];break}if(0==this.procBuf.length)this.lastClass=e.getCanonicalClass(),this.procBuf.push(e);else{var t=this.procBuf[0],n=t.getComposite(e),r=e.getCanonicalClass();n&&(this.lastClass<r||0==this.lastClass)?this.procBuf[0]=n:(0==r&&(this.resBuf=this.procBuf,this.procBuf=[]),this.lastClass=r,this.procBuf.push(e))}}return this.resBuf.shift()};var createIterator=function(e,t){switch(e){case"NFD":return new DecompIterator(new RecursDecompIterator(new UCharIterator(t),!0));case"NFKD":return new DecompIterator(new RecursDecompIterator(new UCharIterator(t),!1));case"NFC":return new CompIterator(new DecompIterator(new RecursDecompIterator(new UCharIterator(t),!0)));case"NFKC":return new CompIterator(new DecompIterator(new RecursDecompIterator(new UCharIterator(t),!1)))}throw e+" is invalid"},normalize=function(e,t){for(var n,r=createIterator(e,t),i="";n=r.next();)i+=n.toString();return i},nfd=function(e){return normalize("NFD",e)},nfkd=function(e){return normalize("NFKD",e)},nfc=function(e){return normalize("NFC",e)},nfkc=function(e){return normalize("NFKC",e)};this.UNorm=this.UNorm||{};var ns=this.UNorm;ns.UChar=UChar,ns.normalize=normalize,ns.createIterator=createIterator,ns.nfd=nfd,ns.nfkd=nfkd,ns.nfc=nfc,ns.nfkc=nfkc}).call(this);var UNorm=this.UNorm;if(!this.UNorm||!this.UNorm.UChar)throw"must include unorm.js prior to unormdata.js";return UNorm.UChar.udata={0:"{60:[,,{824:8814}],61:[,,{824:8800}],62:[,,{824:8815}],65:[,,{768:192,769:193,770:194,771:195,772:256,774:258,775:550,776:196,777:7842,778:197,780:461,783:512,785:514,803:7840,805:7680,808:260}],66:[,,{775:7682,803:7684,817:7686}],67:[,,{769:262,770:264,775:266,780:268,807:199}],68:[,,{775:7690,780:270,803:7692,807:7696,813:7698,817:7694}],69:[,,{768:200,769:201,770:202,771:7868,772:274,774:276,775:278,776:203,777:7866,780:282,783:516,785:518,803:7864,807:552,808:280,813:7704,816:7706}],70:[,,{775:7710}],71:[,,{769:500,770:284,772:7712,774:286,775:288,780:486,807:290}],72:[,,{770:292,775:7714,776:7718,780:542,803:7716,807:7720,814:7722}],73:[,,{768:204,769:205,770:206,771:296,772:298,774:300,775:304,776:207,777:7880,780:463,783:520,785:522,803:7882,808:302,816:7724}],74:[,,{770:308}],75:[,,{769:7728,780:488,803:7730,807:310,817:7732}],76:[,,{769:313,780:317,803:7734,807:315,813:7740,817:7738}],77:[,,{769:7742,775:7744,803:7746}],78:[,,{768:504,769:323,771:209,775:7748,780:327,803:7750,807:325,813:7754,817:7752}],79:[,,{768:210,769:211,770:212,771:213,772:332,774:334,775:558,776:214,777:7886,779:336,780:465,783:524,785:526,795:416,803:7884,808:490}],80:[,,{769:7764,775:7766}],82:[,,{769:340,775:7768,780:344,783:528,785:530,803:7770,807:342,817:7774}],83:[,,{769:346,770:348,775:7776,780:352,803:7778,806:536,807:350}],84:[,,{775:7786,780:356,803:7788,806:538,807:354,813:7792,817:7790}],85:[,,{768:217,769:218,770:219,771:360,772:362,774:364,776:220,777:7910,778:366,779:368,780:467,783:532,785:534,795:431,803:7908,804:7794,808:370,813:7798,816:7796}],86:[,,{771:7804,803:7806}],87:[,,{768:7808,769:7810,770:372,775:7814,776:7812,803:7816}],88:[,,{775:7818,776:7820}],89:[,,{768:7922,769:221,770:374,771:7928,772:562,775:7822,776:376,777:7926,803:7924}],90:[,,{769:377,770:7824,775:379,780:381,803:7826,817:7828}],97:[,,{768:224,769:225,770:226,771:227,772:257,774:259,775:551,776:228,777:7843,778:229,780:462,783:513,785:515,803:7841,805:7681,808:261}],98:[,,{775:7683,803:7685,817:7687}],99:[,,{769:263,770:265,775:267,780:269,807:231}],100:[,,{775:7691,780:271,803:7693,807:7697,813:7699,817:7695}],101:[,,{768:232,769:233,770:234,771:7869,772:275,774:277,775:279,776:235,777:7867,780:283,783:517,785:519,803:7865,807:553,808:281,813:7705,816:7707}],102:[,,{775:7711}],103:[,,{769:501,770:285,772:7713,774:287,775:289,780:487,807:291}],104:[,,{770:293,775:7715,776:7719,780:543,803:7717,807:7721,814:7723,817:7830}],105:[,,{768:236,769:237,770:238,771:297,772:299,774:301,776:239,777:7881,780:464,783:521,785:523,803:7883,808:303,816:7725}],106:[,,{770:309,780:496}],107:[,,{769:7729,780:489,803:7731,807:311,817:7733}],108:[,,{769:314,780:318,803:7735,807:316,813:7741,817:7739}],109:[,,{769:7743,775:7745,803:7747}],110:[,,{768:505,769:324,771:241,775:7749,780:328,803:7751,807:326,813:7755,817:7753}],111:[,,{768:242,769:243,770:244,771:245,772:333,774:335,775:559,776:246,777:7887,779:337,780:466,783:525,785:527,795:417,803:7885,808:491}],112:[,,{769:7765,775:7767}],114:[,,{769:341,775:7769,780:345,783:529,785:531,803:7771,807:343,817:7775}],115:[,,{769:347,770:349,775:7777,780:353,803:7779,806:537,807:351}],116:[,,{775:7787,776:7831,780:357,803:7789,806:539,807:355,813:7793,817:7791}],117:[,,{768:249,769:250,770:251,771:361,772:363,774:365,776:252,777:7911,778:367,779:369,780:468,783:533,785:535,795:432,803:7909,804:7795,808:371,813:7799,816:7797}],118:[,,{771:7805,803:7807}],119:[,,{768:7809,769:7811,770:373,775:7815,776:7813,778:7832,803:7817}],120:[,,{775:7819,776:7821}],121:[,,{768:7923,769:253,770:375,771:7929,772:563,775:7823,776:255,777:7927,778:7833,803:7925}],122:[,,{769:378,770:7825,775:380,780:382,803:7827,817:7829}],160:[[32],256],168:[[32,776],256,{768:8173,769:901,834:8129}],170:[[97],256],175:[[32,772],256],178:[[50],256],179:[[51],256],180:[[32,769],256],181:[[956],256],184:[[32,807],256],185:[[49],256],186:[[111],256],188:[[49,8260,52],256],189:[[49,8260,50],256],190:[[51,8260,52],256],192:[[65,768]],193:[[65,769]],194:[[65,770],,{768:7846,769:7844,771:7850,777:7848}],195:[[65,771]],196:[[65,776],,{772:478}],197:[[65,778],,{769:506}],198:[,,{769:508,772:482}],199:[[67,807],,{769:7688}],200:[[69,768]],201:[[69,769]],202:[[69,770],,{768:7872,769:7870,771:7876,777:7874}],203:[[69,776]],204:[[73,768]],205:[[73,769]],206:[[73,770]],207:[[73,776],,{769:7726}],209:[[78,771]],210:[[79,768]],211:[[79,769]],212:[[79,770],,{768:7890,769:7888,771:7894,777:7892}],213:[[79,771],,{769:7756,772:556,776:7758}],214:[[79,776],,{772:554}],216:[,,{769:510}],217:[[85,768]],218:[[85,769]],219:[[85,770]],220:[[85,776],,{768:475,769:471,772:469,780:473}],221:[[89,769]],224:[[97,768]],225:[[97,769]],226:[[97,770],,{768:7847,769:7845,771:7851,777:7849}],227:[[97,771]],228:[[97,776],,{772:479}],229:[[97,778],,{769:507}],230:[,,{769:509,772:483}],231:[[99,807],,{769:7689}],232:[[101,768]],233:[[101,769]],234:[[101,770],,{768:7873,769:7871,771:7877,777:7875}],235:[[101,776]],236:[[105,768]],237:[[105,769]],238:[[105,770]],239:[[105,776],,{769:7727}],241:[[110,771]],242:[[111,768]],243:[[111,769]],244:[[111,770],,{768:7891,769:7889,771:7895,777:7893}],245:[[111,771],,{769:7757,772:557,776:7759}],246:[[111,776],,{772:555}],248:[,,{769:511}],249:[[117,768]],250:[[117,769]],251:[[117,770]],252:[[117,776],,{768:476,769:472,772:470,780:474}],253:[[121,769]],255:[[121,776]]}",256:"{256:[[65,772]],257:[[97,772]],258:[[65,774],,{768:7856,769:7854,771:7860,777:7858}],259:[[97,774],,{768:7857,769:7855,771:7861,777:7859}],260:[[65,808]],261:[[97,808]],262:[[67,769]],263:[[99,769]],264:[[67,770]],265:[[99,770]],266:[[67,775]],267:[[99,775]],268:[[67,780]],269:[[99,780]],270:[[68,780]],271:[[100,780]],274:[[69,772],,{768:7700,769:7702}],275:[[101,772],,{768:7701,769:7703}],276:[[69,774]],277:[[101,774]],278:[[69,775]],279:[[101,775]],280:[[69,808]],281:[[101,808]],282:[[69,780]],283:[[101,780]],284:[[71,770]],285:[[103,770]],286:[[71,774]],287:[[103,774]],288:[[71,775]],289:[[103,775]],290:[[71,807]],291:[[103,807]],292:[[72,770]],293:[[104,770]],296:[[73,771]],297:[[105,771]],298:[[73,772]],299:[[105,772]],300:[[73,774]],301:[[105,774]],302:[[73,808]],303:[[105,808]],304:[[73,775]],306:[[73,74],256],307:[[105,106],256],308:[[74,770]],309:[[106,770]],310:[[75,807]],311:[[107,807]],313:[[76,769]],314:[[108,769]],315:[[76,807]],316:[[108,807]],317:[[76,780]],318:[[108,780]],319:[[76,183],256],320:[[108,183],256],323:[[78,769]],324:[[110,769]],325:[[78,807]],326:[[110,807]],327:[[78,780]],328:[[110,780]],329:[[700,110],256],332:[[79,772],,{768:7760,769:7762}],333:[[111,772],,{768:7761,769:7763}],334:[[79,774]],335:[[111,774]],336:[[79,779]],337:[[111,779]],340:[[82,769]],341:[[114,769]],342:[[82,807]],343:[[114,807]],344:[[82,780]],345:[[114,780]],346:[[83,769],,{775:7780}],347:[[115,769],,{775:7781}],348:[[83,770]],349:[[115,770]],350:[[83,807]],351:[[115,807]],352:[[83,780],,{775:7782}],353:[[115,780],,{775:7783}],354:[[84,807]],355:[[116,807]],356:[[84,780]],357:[[116,780]],360:[[85,771],,{769:7800}],361:[[117,771],,{769:7801}],362:[[85,772],,{776:7802}],363:[[117,772],,{776:7803}],364:[[85,774]],365:[[117,774]],366:[[85,778]],367:[[117,778]],368:[[85,779]],369:[[117,779]],370:[[85,808]],371:[[117,808]],372:[[87,770]],373:[[119,770]],374:[[89,770]],375:[[121,770]],376:[[89,776]],377:[[90,769]],378:[[122,769]],379:[[90,775]],380:[[122,775]],381:[[90,780]],382:[[122,780]],383:[[115],256,{775:7835}],416:[[79,795],,{768:7900,769:7898,771:7904,777:7902,803:7906}],417:[[111,795],,{768:7901,769:7899,771:7905,777:7903,803:7907}],431:[[85,795],,{768:7914,769:7912,771:7918,777:7916,803:7920}],432:[[117,795],,{768:7915,769:7913,771:7919,777:7917,803:7921}],439:[,,{780:494}],452:[[68,381],256],453:[[68,382],256],454:[[100,382],256],455:[[76,74],256],456:[[76,106],256],457:[[108,106],256],458:[[78,74],256],459:[[78,106],256],460:[[110,106],256],461:[[65,780]],462:[[97,780]],463:[[73,780]],464:[[105,780]],465:[[79,780]],466:[[111,780]],467:[[85,780]],468:[[117,780]],469:[[220,772]],470:[[252,772]],471:[[220,769]],472:[[252,769]],473:[[220,780]],474:[[252,780]],475:[[220,768]],476:[[252,768]],478:[[196,772]],479:[[228,772]],480:[[550,772]],481:[[551,772]],482:[[198,772]],483:[[230,772]],486:[[71,780]],487:[[103,780]],488:[[75,780]],489:[[107,780]],490:[[79,808],,{772:492}],491:[[111,808],,{772:493}],492:[[490,772]],493:[[491,772]],494:[[439,780]],495:[[658,780]],496:[[106,780]],497:[[68,90],256],498:[[68,122],256],499:[[100,122],256],500:[[71,769]],501:[[103,769]],504:[[78,768]],505:[[110,768]],506:[[197,769]],507:[[229,769]],508:[[198,769]],509:[[230,769]],510:[[216,769]],511:[[248,769]],66045:[,220]}",512:"{512:[[65,783]],513:[[97,783]],514:[[65,785]],515:[[97,785]],516:[[69,783]],517:[[101,783]],518:[[69,785]],519:[[101,785]],520:[[73,783]],521:[[105,783]],522:[[73,785]],523:[[105,785]],524:[[79,783]],525:[[111,783]],526:[[79,785]],527:[[111,785]],528:[[82,783]],529:[[114,783]],530:[[82,785]],531:[[114,785]],532:[[85,783]],533:[[117,783]],534:[[85,785]],535:[[117,785]],536:[[83,806]],537:[[115,806]],538:[[84,806]],539:[[116,806]],542:[[72,780]],543:[[104,780]],550:[[65,775],,{772:480}],551:[[97,775],,{772:481}],552:[[69,807],,{774:7708}],553:[[101,807],,{774:7709}],554:[[214,772]],555:[[246,772]],556:[[213,772]],557:[[245,772]],558:[[79,775],,{772:560}],559:[[111,775],,{772:561}],560:[[558,772]],561:[[559,772]],562:[[89,772]],563:[[121,772]],658:[,,{780:495}],688:[[104],256],689:[[614],256],690:[[106],256],691:[[114],256],692:[[633],256],693:[[635],256],694:[[641],256],695:[[119],256],696:[[121],256],728:[[32,774],256],729:[[32,775],256],730:[[32,778],256],731:[[32,808],256],732:[[32,771],256],733:[[32,779],256],736:[[611],256],737:[[108],256],738:[[115],256],739:[[120],256],740:[[661],256]}",768:"{768:[,230],769:[,230],770:[,230],771:[,230],772:[,230],773:[,230],774:[,230],775:[,230],776:[,230,{769:836}],777:[,230],778:[,230],779:[,230],780:[,230],781:[,230],782:[,230],783:[,230],784:[,230],785:[,230],786:[,230],787:[,230],788:[,230],789:[,232],790:[,220],791:[,220],792:[,220],793:[,220],794:[,232],795:[,216],796:[,220],797:[,220],798:[,220],799:[,220],800:[,220],801:[,202],802:[,202],803:[,220],804:[,220],805:[,220],806:[,220],807:[,202],808:[,202],809:[,220],810:[,220],811:[,220],812:[,220],813:[,220],814:[,220],815:[,220],816:[,220],817:[,220],818:[,220],819:[,220],820:[,1],821:[,1],822:[,1],823:[,1],824:[,1],825:[,220],826:[,220],827:[,220],828:[,220],829:[,230],830:[,230],831:[,230],832:[[768],230],833:[[769],230],834:[,230],835:[[787],230],836:[[776,769],230],837:[,240],838:[,230],839:[,220],840:[,220],841:[,220],842:[,230],843:[,230],844:[,230],845:[,220],846:[,220],848:[,230],849:[,230],850:[,230],851:[,220],852:[,220],853:[,220],854:[,220],855:[,230],856:[,232],857:[,220],858:[,220],859:[,230],860:[,233],861:[,234],862:[,234],863:[,233],864:[,234],865:[,234],866:[,233],867:[,230],868:[,230],869:[,230],870:[,230],871:[,230],872:[,230],873:[,230],874:[,230],875:[,230],876:[,230],877:[,230],878:[,230],879:[,230],884:[[697]],890:[[32,837],256],894:[[59]],900:[[32,769],256],901:[[168,769]],902:[[913,769]],903:[[183]],904:[[917,769]],905:[[919,769]],906:[[921,769]],908:[[927,769]],910:[[933,769]],911:[[937,769]],912:[[970,769]],913:[,,{768:8122,769:902,772:8121,774:8120,787:7944,788:7945,837:8124}],917:[,,{768:8136,769:904,787:7960,788:7961}],919:[,,{768:8138,769:905,787:7976,788:7977,837:8140}],921:[,,{768:8154,769:906,772:8153,774:8152,776:938,787:7992,788:7993}],927:[,,{768:8184,769:908,787:8008,788:8009}],929:[,,{788:8172}],933:[,,{768:8170,769:910,772:8169,774:8168,776:939,788:8025}],937:[,,{768:8186,769:911,787:8040,788:8041,837:8188}],938:[[921,776]],939:[[933,776]],940:[[945,769],,{837:8116}],941:[[949,769]],942:[[951,769],,{837:8132}],943:[[953,769]],944:[[971,769]],945:[,,{768:8048,769:940,772:8113,774:8112,787:7936,788:7937,834:8118,837:8115}],949:[,,{768:8050,769:941,787:7952,788:7953}],951:[,,{768:8052,769:942,787:7968,788:7969,834:8134,837:8131}],953:[,,{768:8054,769:943,772:8145,774:8144,776:970,787:7984,788:7985,834:8150}],959:[,,{768:8056,769:972,787:8000,788:8001}],961:[,,{787:8164,788:8165}],965:[,,{768:8058,769:973,772:8161,774:8160,776:971,787:8016,788:8017,834:8166}],969:[,,{768:8060,769:974,787:8032,788:8033,834:8182,837:8179}],970:[[953,776],,{768:8146,769:912,834:8151}],971:[[965,776],,{768:8162,769:944,834:8167}],972:[[959,769]],973:[[965,769]],974:[[969,769],,{837:8180}],976:[[946],256],977:[[952],256],978:[[933],256,{769:979,776:980}],979:[[978,769]],980:[[978,776]],981:[[966],256],982:[[960],256],1008:[[954],256],1009:[[961],256],1010:[[962],256],1012:[[920],256],1013:[[949],256],1017:[[931],256]}",1024:"{1024:[[1045,768]],1025:[[1045,776]],1027:[[1043,769]],1030:[,,{776:1031}],1031:[[1030,776]],1036:[[1050,769]],1037:[[1048,768]],1038:[[1059,774]],1040:[,,{774:1232,776:1234}],1043:[,,{769:1027}],1045:[,,{768:1024,774:1238,776:1025}],1046:[,,{774:1217,776:1244}],1047:[,,{776:1246}],1048:[,,{768:1037,772:1250,774:1049,776:1252}],1049:[[1048,774]],1050:[,,{769:1036}],1054:[,,{776:1254}],1059:[,,{772:1262,774:1038,776:1264,779:1266}],1063:[,,{776:1268}],1067:[,,{776:1272}],1069:[,,{776:1260}],1072:[,,{774:1233,776:1235}],1075:[,,{769:1107}],1077:[,,{768:1104,774:1239,776:1105}],1078:[,,{774:1218,776:1245}],1079:[,,{776:1247}],1080:[,,{768:1117,772:1251,774:1081,776:1253}],1081:[[1080,774]],1082:[,,{769:1116}],1086:[,,{776:1255}],1091:[,,{772:1263,774:1118,776:1265,779:1267}],1095:[,,{776:1269}],1099:[,,{776:1273}],1101:[,,{776:1261}],1104:[[1077,768]],1105:[[1077,776]],1107:[[1075,769]],1110:[,,{776:1111}],1111:[[1110,776]],1116:[[1082,769]],1117:[[1080,768]],1118:[[1091,774]],1140:[,,{783:1142}],1141:[,,{783:1143}],1142:[[1140,783]],1143:[[1141,783]],1155:[,230],1156:[,230],1157:[,230],1158:[,230],1159:[,230],1217:[[1046,774]],1218:[[1078,774]],1232:[[1040,774]],1233:[[1072,774]],1234:[[1040,776]],1235:[[1072,776]],1238:[[1045,774]],1239:[[1077,774]],1240:[,,{776:1242}],1241:[,,{776:1243}],1242:[[1240,776]],1243:[[1241,776]],1244:[[1046,776]],1245:[[1078,776]],1246:[[1047,776]],1247:[[1079,776]],1250:[[1048,772]],1251:[[1080,772]],1252:[[1048,776]],1253:[[1080,776]],1254:[[1054,776]],1255:[[1086,776]],1256:[,,{776:1258}],1257:[,,{776:1259}],1258:[[1256,776]],1259:[[1257,776]],1260:[[1069,776]],1261:[[1101,776]],1262:[[1059,772]],1263:[[1091,772]],1264:[[1059,776]],1265:[[1091,776]],1266:[[1059,779]],1267:[[1091,779]],1268:[[1063,776]],1269:[[1095,776]],1272:[[1067,776]],1273:[[1099,776]]}",1280:"{1415:[[1381,1410],256],1425:[,220],1426:[,230],1427:[,230],1428:[,230],1429:[,230],1430:[,220],1431:[,230],1432:[,230],1433:[,230],1434:[,222],1435:[,220],1436:[,230],1437:[,230],1438:[,230],1439:[,230],1440:[,230],1441:[,230],1442:[,220],1443:[,220],1444:[,220],1445:[,220],1446:[,220],1447:[,220],1448:[,230],1449:[,230],1450:[,220],1451:[,230],1452:[,230],1453:[,222],1454:[,228],1455:[,230],1456:[,10],1457:[,11],1458:[,12],1459:[,13],1460:[,14],1461:[,15],1462:[,16],1463:[,17],1464:[,18],1465:[,19],1466:[,19],1467:[,20],1468:[,21],1469:[,22],1471:[,23],1473:[,24],1474:[,25],1476:[,230],1477:[,220],1479:[,18]}",1536:"{1552:[,230],1553:[,230],1554:[,230],1555:[,230],1556:[,230],1557:[,230],1558:[,230],1559:[,230],1560:[,30],1561:[,31],1562:[,32],1570:[[1575,1619]],1571:[[1575,1620]],1572:[[1608,1620]],1573:[[1575,1621]],1574:[[1610,1620]],1575:[,,{1619:1570,1620:1571,1621:1573}],1608:[,,{1620:1572}],1610:[,,{1620:1574}],1611:[,27],1612:[,28],1613:[,29],1614:[,30],1615:[,31],1616:[,32],1617:[,33],1618:[,34],1619:[,230],1620:[,230],1621:[,220],1622:[,220],1623:[,230],1624:[,230],1625:[,230],1626:[,230],1627:[,230],1628:[,220],1629:[,230],1630:[,230],1648:[,35],1653:[[1575,1652],256],1654:[[1608,1652],256],1655:[[1735,1652],256],1656:[[1610,1652],256],1728:[[1749,1620]],1729:[,,{1620:1730}],1730:[[1729,1620]],1746:[,,{1620:1747}],1747:[[1746,1620]],1749:[,,{1620:1728}],1750:[,230],1751:[,230],1752:[,230],1753:[,230],1754:[,230],1755:[,230],1756:[,230],1759:[,230],1760:[,230],1761:[,230],1762:[,230],1763:[,220],1764:[,230],1767:[,230],1768:[,230],1770:[,220],1771:[,230],1772:[,230],1773:[,220]}",1792:"{1809:[,36],1840:[,230],1841:[,220],1842:[,230],1843:[,230],1844:[,220],1845:[,230],1846:[,230],1847:[,220],1848:[,220],1849:[,220],1850:[,230],1851:[,220],1852:[,220],1853:[,230],1854:[,220],1855:[,230],1856:[,230],1857:[,230],1858:[,220],1859:[,230],1860:[,220],1861:[,230],1862:[,220],1863:[,230],1864:[,220],1865:[,230],1866:[,230],2027:[,230],2028:[,230],2029:[,230],2030:[,230],2031:[,230],2032:[,230],2033:[,230],2034:[,220],2035:[,230]}",2304:"{2344:[,,{2364:2345}],2345:[[2344,2364]],2352:[,,{2364:2353}],2353:[[2352,2364]],2355:[,,{2364:2356}],2356:[[2355,2364]],2364:[,7],2381:[,9],2385:[,230],2386:[,220],2387:[,230],2388:[,230],2392:[[2325,2364],512],2393:[[2326,2364],512],2394:[[2327,2364],512],2395:[[2332,2364],512],2396:[[2337,2364],512],2397:[[2338,2364],512],2398:[[2347,2364],512],2399:[[2351,2364],512],2492:[,7],2503:[,,{2494:2507,2519:2508}],2507:[[2503,2494]],2508:[[2503,2519]],2509:[,9],2524:[[2465,2492],512],2525:[[2466,2492],512],2527:[[2479,2492],512]}",2560:"{2611:[[2610,2620],512],2614:[[2616,2620],512],2620:[,7],2637:[,9],2649:[[2582,2620],512],2650:[[2583,2620],512],2651:[[2588,2620],512],2654:[[2603,2620],512],2748:[,7],2765:[,9],68109:[,220],68111:[,230],68152:[,230],68153:[,1],68154:[,220],68159:[,9]}",2816:"{2876:[,7],2887:[,,{2878:2891,2902:2888,2903:2892}],2888:[[2887,2902]],2891:[[2887,2878]],2892:[[2887,2903]],2893:[,9],2908:[[2849,2876],512],2909:[[2850,2876],512],2962:[,,{3031:2964}],2964:[[2962,3031]],3014:[,,{3006:3018,3031:3020}],3015:[,,{3006:3019}],3018:[[3014,3006]],3019:[[3015,3006]],3020:[[3014,3031]],3021:[,9]}",3072:"{3142:[,,{3158:3144}],3144:[[3142,3158]],3149:[,9],3157:[,84],3158:[,91],3260:[,7],3263:[,,{3285:3264}],3264:[[3263,3285]],3270:[,,{3266:3274,3285:3271,3286:3272}],3271:[[3270,3285]],3272:[[3270,3286]],3274:[[3270,3266],,{3285:3275}],3275:[[3274,3285]],3277:[,9]}",3328:"{3398:[,,{3390:3402,3415:3404}],3399:[,,{3390:3403}],3402:[[3398,3390]],3403:[[3399,3390]],3404:[[3398,3415]],3405:[,9],3530:[,9],3545:[,,{3530:3546,3535:3548,3551:3550}],3546:[[3545,3530]],3548:[[3545,3535],,{3530:3549}],3549:[[3548,3530]],3550:[[3545,3551]]}",3584:"{3635:[[3661,3634],256],3640:[,103],3641:[,103],3642:[,9],3656:[,107],3657:[,107],3658:[,107],3659:[,107],3763:[[3789,3762],256],3768:[,118],3769:[,118],3784:[,122],3785:[,122],3786:[,122],3787:[,122],3804:[[3755,3737],256],3805:[[3755,3745],256]}",3840:"{3852:[[3851],256],3864:[,220],3865:[,220],3893:[,220],3895:[,220],3897:[,216],3907:[[3906,4023],512],3917:[[3916,4023],512],3922:[[3921,4023],512],3927:[[3926,4023],512],3932:[[3931,4023],512],3945:[[3904,4021],512],3953:[,129],3954:[,130],3955:[[3953,3954],512],3956:[,132],3957:[[3953,3956],512],3958:[[4018,3968],512],3959:[[4018,3969],256],3960:[[4019,3968],512],3961:[[4019,3969],256],3962:[,130],3963:[,130],3964:[,130],3965:[,130],3968:[,130],3969:[[3953,3968],512],3970:[,230],3971:[,230],3972:[,9],3974:[,230],3975:[,230],3987:[[3986,4023],512],3997:[[3996,4023],512],4002:[[4001,4023],512],4007:[[4006,4023],512],4012:[[4011,4023],512],4025:[[3984,4021],512],4038:[,220]}",4096:"{4133:[,,{4142:4134}],4134:[[4133,4142]],4151:[,7],4153:[,9],4154:[,9],4237:[,220],4348:[[4316],256]}",4864:"{4959:[,230]}",5888:"{5908:[,9],5940:[,9],6098:[,9],6109:[,230]}",6144:"{6313:[,228]}",6400:"{6457:[,222],6458:[,230],6459:[,220]}",6656:"{6679:[,230],6680:[,220]}",6912:"{6917:[,,{6965:6918}],6918:[[6917,6965]],6919:[,,{6965:6920}],6920:[[6919,6965]],6921:[,,{6965:6922}],6922:[[6921,6965]],6923:[,,{6965:6924}],6924:[[6923,6965]],6925:[,,{6965:6926}],6926:[[6925,6965]],6929:[,,{6965:6930}],6930:[[6929,6965]],6964:[,7],6970:[,,{6965:6971}],6971:[[6970,6965]],6972:[,,{6965:6973}],6973:[[6972,6965]],6974:[,,{6965:6976}],6975:[,,{6965:6977}],6976:[[6974,6965]],6977:[[6975,6965]],6978:[,,{6965:6979}],6979:[[6978,6965]],6980:[,9],7019:[,230],7020:[,220],7021:[,230],7022:[,230],7023:[,230],7024:[,230],7025:[,230],7026:[,230],7027:[,230],7082:[,9]}",7168:"{7223:[,7]}",7424:"{7468:[[65],256],7469:[[198],256],7470:[[66],256],7472:[[68],256],7473:[[69],256],7474:[[398],256],7475:[[71],256],7476:[[72],256],7477:[[73],256],7478:[[74],256],7479:[[75],256],7480:[[76],256],7481:[[77],256],7482:[[78],256],7484:[[79],256],7485:[[546],256],7486:[[80],256],7487:[[82],256],7488:[[84],256],7489:[[85],256],7490:[[87],256],7491:[[97],256],7492:[[592],256],7493:[[593],256],7494:[[7426],256],7495:[[98],256],7496:[[100],256],7497:[[101],256],7498:[[601],256],7499:[[603],256],7500:[[604],256],7501:[[103],256],7503:[[107],256],7504:[[109],256],7505:[[331],256],7506:[[111],256],7507:[[596],256],7508:[[7446],256],7509:[[7447],256],7510:[[112],256],7511:[[116],256],7512:[[117],256],7513:[[7453],256],7514:[[623],256],7515:[[118],256],7516:[[7461],256],7517:[[946],256],7518:[[947],256],7519:[[948],256],7520:[[966],256],7521:[[967],256],7522:[[105],256],7523:[[114],256],7524:[[117],256],7525:[[118],256],7526:[[946],256],7527:[[947],256],7528:[[961],256],7529:[[966],256],7530:[[967],256],7544:[[1085],256],7579:[[594],256],7580:[[99],256],7581:[[597],256],7582:[[240],256],7583:[[604],256],7584:[[102],256],7585:[[607],256],7586:[[609],256],7587:[[613],256],7588:[[616],256],7589:[[617],256],7590:[[618],256],7591:[[7547],256],7592:[[669],256],7593:[[621],256],7594:[[7557],256],7595:[[671],256],7596:[[625],256],7597:[[624],256],7598:[[626],256],7599:[[627],256],7600:[[628],256],7601:[[629],256],7602:[[632],256],7603:[[642],256],7604:[[643],256],7605:[[427],256],7606:[[649],256],7607:[[650],256],7608:[[7452],256],7609:[[651],256],7610:[[652],256],7611:[[122],256],7612:[[656],256],7613:[[657],256],7614:[[658],256],7615:[[952],256],7616:[,230],7617:[,230],7618:[,220],7619:[,230],7620:[,230],7621:[,230],7622:[,230],7623:[,230],7624:[,230],7625:[,230],7626:[,220],7627:[,230],7628:[,230],7629:[,234],7630:[,214],7631:[,220],7632:[,202],7633:[,230],7634:[,230],7635:[,230],7636:[,230],7637:[,230],7638:[,230],7639:[,230],7640:[,230],7641:[,230],7642:[,230],7643:[,230],7644:[,230],7645:[,230],7646:[,230],7647:[,230],7648:[,230],7649:[,230],7650:[,230],7651:[,230],7652:[,230],7653:[,230],7654:[,230],7678:[,230],7679:[,220]}",7680:"{7680:[[65,805]],7681:[[97,805]],7682:[[66,775]],7683:[[98,775]],7684:[[66,803]],7685:[[98,803]],7686:[[66,817]],7687:[[98,817]],7688:[[199,769]],7689:[[231,769]],7690:[[68,775]],7691:[[100,775]],7692:[[68,803]],7693:[[100,803]],7694:[[68,817]],7695:[[100,817]],7696:[[68,807]],7697:[[100,807]],7698:[[68,813]],7699:[[100,813]],7700:[[274,768]],7701:[[275,768]],7702:[[274,769]],7703:[[275,769]],7704:[[69,813]],7705:[[101,813]],7706:[[69,816]],7707:[[101,816]],7708:[[552,774]],7709:[[553,774]],7710:[[70,775]],7711:[[102,775]],7712:[[71,772]],7713:[[103,772]],7714:[[72,775]],7715:[[104,775]],7716:[[72,803]],7717:[[104,803]],7718:[[72,776]],7719:[[104,776]],7720:[[72,807]],7721:[[104,807]],7722:[[72,814]],7723:[[104,814]],7724:[[73,816]],7725:[[105,816]],7726:[[207,769]],7727:[[239,769]],7728:[[75,769]],7729:[[107,769]],7730:[[75,803]],7731:[[107,803]],7732:[[75,817]],7733:[[107,817]],7734:[[76,803],,{772:7736}],7735:[[108,803],,{772:7737}],7736:[[7734,772]],7737:[[7735,772]],7738:[[76,817]],7739:[[108,817]],7740:[[76,813]],7741:[[108,813]],7742:[[77,769]],7743:[[109,769]],7744:[[77,775]],7745:[[109,775]],7746:[[77,803]],7747:[[109,803]],7748:[[78,775]],7749:[[110,775]],7750:[[78,803]],7751:[[110,803]],7752:[[78,817]],7753:[[110,817]],7754:[[78,813]],7755:[[110,813]],7756:[[213,769]],7757:[[245,769]],7758:[[213,776]],7759:[[245,776]],7760:[[332,768]],7761:[[333,768]],7762:[[332,769]],7763:[[333,769]],7764:[[80,769]],7765:[[112,769]],7766:[[80,775]],7767:[[112,775]],7768:[[82,775]],7769:[[114,775]],7770:[[82,803],,{772:7772}],7771:[[114,803],,{772:7773}],7772:[[7770,772]],7773:[[7771,772]],7774:[[82,817]],7775:[[114,817]],7776:[[83,775]],7777:[[115,775]],7778:[[83,803],,{775:7784}],7779:[[115,803],,{775:7785}],7780:[[346,775]],7781:[[347,775]],7782:[[352,775]],7783:[[353,775]],7784:[[7778,775]],7785:[[7779,775]],7786:[[84,775]],7787:[[116,775]],7788:[[84,803]],7789:[[116,803]],7790:[[84,817]],7791:[[116,817]],7792:[[84,813]],7793:[[116,813]],7794:[[85,804]],7795:[[117,804]],7796:[[85,816]],7797:[[117,816]],7798:[[85,813]],7799:[[117,813]],7800:[[360,769]],7801:[[361,769]],7802:[[362,776]],7803:[[363,776]],7804:[[86,771]],7805:[[118,771]],7806:[[86,803]],7807:[[118,803]],7808:[[87,768]],7809:[[119,768]],7810:[[87,769]],7811:[[119,769]],7812:[[87,776]],7813:[[119,776]],7814:[[87,775]],7815:[[119,775]],7816:[[87,803]],7817:[[119,803]],7818:[[88,775]],7819:[[120,775]],7820:[[88,776]],7821:[[120,776]],7822:[[89,775]],7823:[[121,775]],7824:[[90,770]],7825:[[122,770]],7826:[[90,803]],7827:[[122,803]],7828:[[90,817]],7829:[[122,817]],7830:[[104,817]],7831:[[116,776]],7832:[[119,778]],7833:[[121,778]],7834:[[97,702],256],7835:[[383,775]],7840:[[65,803],,{770:7852,774:7862}],7841:[[97,803],,{770:7853,774:7863}],7842:[[65,777]],7843:[[97,777]],7844:[[194,769]],7845:[[226,769]],7846:[[194,768]],7847:[[226,768]],7848:[[194,777]],7849:[[226,777]],7850:[[194,771]],7851:[[226,771]],7852:[[7840,770]],7853:[[7841,770]],7854:[[258,769]],7855:[[259,769]],7856:[[258,768]],7857:[[259,768]],7858:[[258,777]],7859:[[259,777]],7860:[[258,771]],7861:[[259,771]],7862:[[7840,774]],7863:[[7841,774]],7864:[[69,803],,{770:7878}],7865:[[101,803],,{770:7879}],7866:[[69,777]],7867:[[101,777]],7868:[[69,771]],7869:[[101,771]],7870:[[202,769]],7871:[[234,769]],7872:[[202,768]],7873:[[234,768]],7874:[[202,777]],7875:[[234,777]],7876:[[202,771]],7877:[[234,771]],7878:[[7864,770]],7879:[[7865,770]],7880:[[73,777]],7881:[[105,777]],7882:[[73,803]],7883:[[105,803]],7884:[[79,803],,{770:7896}],7885:[[111,803],,{770:7897}],7886:[[79,777]],7887:[[111,777]],7888:[[212,769]],7889:[[244,769]],7890:[[212,768]],7891:[[244,768]],7892:[[212,777]],7893:[[244,777]],7894:[[212,771]],7895:[[244,771]],7896:[[7884,770]],7897:[[7885,770]],7898:[[416,769]],7899:[[417,769]],7900:[[416,768]],7901:[[417,768]],7902:[[416,777]],7903:[[417,777]],7904:[[416,771]],7905:[[417,771]],7906:[[416,803]],7907:[[417,803]],7908:[[85,803]],7909:[[117,803]],7910:[[85,777]],7911:[[117,777]],7912:[[431,769]],7913:[[432,769]],7914:[[431,768]],7915:[[432,768]],7916:[[431,777]],7917:[[432,777]],7918:[[431,771]],7919:[[432,771]],7920:[[431,803]],7921:[[432,803]],7922:[[89,768]],7923:[[121,768]],7924:[[89,803]],7925:[[121,803]],7926:[[89,777]],7927:[[121,777]],7928:[[89,771]],7929:[[121,771]]}",7936:"{7936:[[945,787],,{768:7938,769:7940,834:7942,837:8064}],7937:[[945,788],,{768:7939,769:7941,834:7943,837:8065}],7938:[[7936,768],,{837:8066}],7939:[[7937,768],,{837:8067}],7940:[[7936,769],,{837:8068}],7941:[[7937,769],,{837:8069}],7942:[[7936,834],,{837:8070}],7943:[[7937,834],,{837:8071}],7944:[[913,787],,{768:7946,769:7948,834:7950,837:8072}],7945:[[913,788],,{768:7947,769:7949,834:7951,837:8073}],7946:[[7944,768],,{837:8074}],7947:[[7945,768],,{837:8075}],7948:[[7944,769],,{837:8076}],7949:[[7945,769],,{837:8077}],7950:[[7944,834],,{837:8078}],7951:[[7945,834],,{837:8079}],7952:[[949,787],,{768:7954,769:7956}],7953:[[949,788],,{768:7955,769:7957}],7954:[[7952,768]],7955:[[7953,768]],7956:[[7952,769]],7957:[[7953,769]],7960:[[917,787],,{768:7962,769:7964}],7961:[[917,788],,{768:7963,769:7965}],7962:[[7960,768]],7963:[[7961,768]],7964:[[7960,769]],7965:[[7961,769]],7968:[[951,787],,{768:7970,769:7972,834:7974,837:8080}],7969:[[951,788],,{768:7971,769:7973,834:7975,837:8081}],7970:[[7968,768],,{837:8082}],7971:[[7969,768],,{837:8083}],7972:[[7968,769],,{837:8084}],7973:[[7969,769],,{837:8085}],7974:[[7968,834],,{837:8086}],7975:[[7969,834],,{837:8087}],7976:[[919,787],,{768:7978,769:7980,834:7982,837:8088}],7977:[[919,788],,{768:7979,769:7981,834:7983,837:8089}],7978:[[7976,768],,{837:8090}],7979:[[7977,768],,{837:8091}],7980:[[7976,769],,{837:8092}],7981:[[7977,769],,{837:8093}],7982:[[7976,834],,{837:8094}],7983:[[7977,834],,{837:8095}],7984:[[953,787],,{768:7986,769:7988,834:7990}],7985:[[953,788],,{768:7987,769:7989,834:7991}],7986:[[7984,768]],7987:[[7985,768]],7988:[[7984,769]],7989:[[7985,769]],7990:[[7984,834]],7991:[[7985,834]],7992:[[921,787],,{768:7994,769:7996,834:7998}],7993:[[921,788],,{768:7995,769:7997,834:7999}],7994:[[7992,768]],7995:[[7993,768]],7996:[[7992,769]],7997:[[7993,769]],7998:[[7992,834]],7999:[[7993,834]],8000:[[959,787],,{768:8002,769:8004}],8001:[[959,788],,{768:8003,769:8005}],8002:[[8000,768]],8003:[[8001,768]],8004:[[8000,769]],8005:[[8001,769]],8008:[[927,787],,{768:8010,769:8012}],8009:[[927,788],,{768:8011,769:8013}],8010:[[8008,768]],8011:[[8009,768]],8012:[[8008,769]],8013:[[8009,769]],8016:[[965,787],,{768:8018,769:8020,834:8022}],8017:[[965,788],,{768:8019,769:8021,834:8023}],8018:[[8016,768]],8019:[[8017,768]],8020:[[8016,769]],8021:[[8017,769]],8022:[[8016,834]],8023:[[8017,834]],8025:[[933,788],,{768:8027,769:8029,834:8031}],8027:[[8025,768]],8029:[[8025,769]],8031:[[8025,834]],8032:[[969,787],,{768:8034,769:8036,834:8038,837:8096}],8033:[[969,788],,{768:8035,769:8037,834:8039,837:8097}],8034:[[8032,768],,{837:8098}],8035:[[8033,768],,{837:8099}],8036:[[8032,769],,{837:8100}],8037:[[8033,769],,{837:8101}],8038:[[8032,834],,{837:8102}],8039:[[8033,834],,{837:8103}],8040:[[937,787],,{768:8042,769:8044,834:8046,837:8104}],8041:[[937,788],,{768:8043,769:8045,834:8047,837:8105}],8042:[[8040,768],,{837:8106}],8043:[[8041,768],,{837:8107}],8044:[[8040,769],,{837:8108}],8045:[[8041,769],,{837:8109}],8046:[[8040,834],,{837:8110}],8047:[[8041,834],,{837:8111}],8048:[[945,768],,{837:8114}],8049:[[940]],8050:[[949,768]],8051:[[941]],8052:[[951,768],,{837:8130}],8053:[[942]],8054:[[953,768]],8055:[[943]],8056:[[959,768]],8057:[[972]],8058:[[965,768]],8059:[[973]],8060:[[969,768],,{837:8178}],8061:[[974]],8064:[[7936,837]],8065:[[7937,837]],8066:[[7938,837]],8067:[[7939,837]],8068:[[7940,837]],8069:[[7941,837]],8070:[[7942,837]],8071:[[7943,837]],8072:[[7944,837]],8073:[[7945,837]],8074:[[7946,837]],8075:[[7947,837]],8076:[[7948,837]],8077:[[7949,837]],8078:[[7950,837]],8079:[[7951,837]],8080:[[7968,837]],8081:[[7969,837]],8082:[[7970,837]],8083:[[7971,837]],8084:[[7972,837]],8085:[[7973,837]],8086:[[7974,837]],8087:[[7975,837]],8088:[[7976,837]],8089:[[7977,837]],8090:[[7978,837]],8091:[[7979,837]],8092:[[7980,837]],8093:[[7981,837]],8094:[[7982,837]],8095:[[7983,837]],8096:[[8032,837]],8097:[[8033,837]],8098:[[8034,837]],8099:[[8035,837]],8100:[[8036,837]],8101:[[8037,837]],8102:[[8038,837]],8103:[[8039,837]],8104:[[8040,837]],8105:[[8041,837]],8106:[[8042,837]],8107:[[8043,837]],8108:[[8044,837]],8109:[[8045,837]],8110:[[8046,837]],8111:[[8047,837]],8112:[[945,774]],8113:[[945,772]],8114:[[8048,837]],8115:[[945,837]],8116:[[940,837]],8118:[[945,834],,{837:8119}],8119:[[8118,837]],8120:[[913,774]],8121:[[913,772]],8122:[[913,768]],8123:[[902]],8124:[[913,837]],8125:[[32,787],256],8126:[[953]],8127:[[32,787],256,{768:8141,769:8142,834:8143}],8128:[[32,834],256],8129:[[168,834]],8130:[[8052,837]],8131:[[951,837]],8132:[[942,837]],8134:[[951,834],,{837:8135}],8135:[[8134,837]],8136:[[917,768]],8137:[[904]],8138:[[919,768]],8139:[[905]],8140:[[919,837]],8141:[[8127,768]],8142:[[8127,769]],8143:[[8127,834]],8144:[[953,774]],8145:[[953,772]],8146:[[970,768]],8147:[[912]],8150:[[953,834]],8151:[[970,834]],8152:[[921,774]],8153:[[921,772]],8154:[[921,768]],8155:[[906]],8157:[[8190,768]],8158:[[8190,769]],8159:[[8190,834]],8160:[[965,774]],8161:[[965,772]],8162:[[971,768]],8163:[[944]],8164:[[961,787]],8165:[[961,788]],8166:[[965,834]],8167:[[971,834]],8168:[[933,774]],8169:[[933,772]],8170:[[933,768]],8171:[[910]],8172:[[929,788]],8173:[[168,768]],8174:[[901]],8175:[[96]],8178:[[8060,837]],8179:[[969,837]],8180:[[974,837]],8182:[[969,834],,{837:8183}],8183:[[8182,837]],8184:[[927,768]],8185:[[908]],8186:[[937,768]],8187:[[911]],8188:[[937,837]],8189:[[180]],8190:[[32,788],256,{768:8157,769:8158,834:8159}]}",
8192:"{8192:[[8194]],8193:[[8195]],8194:[[32],256],8195:[[32],256],8196:[[32],256],8197:[[32],256],8198:[[32],256],8199:[[32],256],8200:[[32],256],8201:[[32],256],8202:[[32],256],8209:[[8208],256],8215:[[32,819],256],8228:[[46],256],8229:[[46,46],256],8230:[[46,46,46],256],8239:[[32],256],8243:[[8242,8242],256],8244:[[8242,8242,8242],256],8246:[[8245,8245],256],8247:[[8245,8245,8245],256],8252:[[33,33],256],8254:[[32,773],256],8263:[[63,63],256],8264:[[63,33],256],8265:[[33,63],256],8279:[[8242,8242,8242,8242],256],8287:[[32],256],8304:[[48],256],8305:[[105],256],8308:[[52],256],8309:[[53],256],8310:[[54],256],8311:[[55],256],8312:[[56],256],8313:[[57],256],8314:[[43],256],8315:[[8722],256],8316:[[61],256],8317:[[40],256],8318:[[41],256],8319:[[110],256],8320:[[48],256],8321:[[49],256],8322:[[50],256],8323:[[51],256],8324:[[52],256],8325:[[53],256],8326:[[54],256],8327:[[55],256],8328:[[56],256],8329:[[57],256],8330:[[43],256],8331:[[8722],256],8332:[[61],256],8333:[[40],256],8334:[[41],256],8336:[[97],256],8337:[[101],256],8338:[[111],256],8339:[[120],256],8340:[[601],256],8360:[[82,115],256],8400:[,230],8401:[,230],8402:[,1],8403:[,1],8404:[,230],8405:[,230],8406:[,230],8407:[,230],8408:[,1],8409:[,1],8410:[,1],8411:[,230],8412:[,230],8417:[,230],8421:[,1],8422:[,1],8423:[,230],8424:[,220],8425:[,230],8426:[,1],8427:[,1],8428:[,220],8429:[,220],8430:[,220],8431:[,220],8432:[,230]}",8448:"{8448:[[97,47,99],256],8449:[[97,47,115],256],8450:[[67],256],8451:[[176,67],256],8453:[[99,47,111],256],8454:[[99,47,117],256],8455:[[400],256],8457:[[176,70],256],8458:[[103],256],8459:[[72],256],8460:[[72],256],8461:[[72],256],8462:[[104],256],8463:[[295],256],8464:[[73],256],8465:[[73],256],8466:[[76],256],8467:[[108],256],8469:[[78],256],8470:[[78,111],256],8473:[[80],256],8474:[[81],256],8475:[[82],256],8476:[[82],256],8477:[[82],256],8480:[[83,77],256],8481:[[84,69,76],256],8482:[[84,77],256],8484:[[90],256],8486:[[937]],8488:[[90],256],8490:[[75]],8491:[[197]],8492:[[66],256],8493:[[67],256],8495:[[101],256],8496:[[69],256],8497:[[70],256],8499:[[77],256],8500:[[111],256],8501:[[1488],256],8502:[[1489],256],8503:[[1490],256],8504:[[1491],256],8505:[[105],256],8507:[[70,65,88],256],8508:[[960],256],8509:[[947],256],8510:[[915],256],8511:[[928],256],8512:[[8721],256],8517:[[68],256],8518:[[100],256],8519:[[101],256],8520:[[105],256],8521:[[106],256],8531:[[49,8260,51],256],8532:[[50,8260,51],256],8533:[[49,8260,53],256],8534:[[50,8260,53],256],8535:[[51,8260,53],256],8536:[[52,8260,53],256],8537:[[49,8260,54],256],8538:[[53,8260,54],256],8539:[[49,8260,56],256],8540:[[51,8260,56],256],8541:[[53,8260,56],256],8542:[[55,8260,56],256],8543:[[49,8260],256],8544:[[73],256],8545:[[73,73],256],8546:[[73,73,73],256],8547:[[73,86],256],8548:[[86],256],8549:[[86,73],256],8550:[[86,73,73],256],8551:[[86,73,73,73],256],8552:[[73,88],256],8553:[[88],256],8554:[[88,73],256],8555:[[88,73,73],256],8556:[[76],256],8557:[[67],256],8558:[[68],256],8559:[[77],256],8560:[[105],256],8561:[[105,105],256],8562:[[105,105,105],256],8563:[[105,118],256],8564:[[118],256],8565:[[118,105],256],8566:[[118,105,105],256],8567:[[118,105,105,105],256],8568:[[105,120],256],8569:[[120],256],8570:[[120,105],256],8571:[[120,105,105],256],8572:[[108],256],8573:[[99],256],8574:[[100],256],8575:[[109],256],8592:[,,{824:8602}],8594:[,,{824:8603}],8596:[,,{824:8622}],8602:[[8592,824]],8603:[[8594,824]],8622:[[8596,824]],8653:[[8656,824]],8654:[[8660,824]],8655:[[8658,824]],8656:[,,{824:8653}],8658:[,,{824:8655}],8660:[,,{824:8654}]}",8704:"{8707:[,,{824:8708}],8708:[[8707,824]],8712:[,,{824:8713}],8713:[[8712,824]],8715:[,,{824:8716}],8716:[[8715,824]],8739:[,,{824:8740}],8740:[[8739,824]],8741:[,,{824:8742}],8742:[[8741,824]],8748:[[8747,8747],256],8749:[[8747,8747,8747],256],8751:[[8750,8750],256],8752:[[8750,8750,8750],256],8764:[,,{824:8769}],8769:[[8764,824]],8771:[,,{824:8772}],8772:[[8771,824]],8773:[,,{824:8775}],8775:[[8773,824]],8776:[,,{824:8777}],8777:[[8776,824]],8781:[,,{824:8813}],8800:[[61,824]],8801:[,,{824:8802}],8802:[[8801,824]],8804:[,,{824:8816}],8805:[,,{824:8817}],8813:[[8781,824]],8814:[[60,824]],8815:[[62,824]],8816:[[8804,824]],8817:[[8805,824]],8818:[,,{824:8820}],8819:[,,{824:8821}],8820:[[8818,824]],8821:[[8819,824]],8822:[,,{824:8824}],8823:[,,{824:8825}],8824:[[8822,824]],8825:[[8823,824]],8826:[,,{824:8832}],8827:[,,{824:8833}],8828:[,,{824:8928}],8829:[,,{824:8929}],8832:[[8826,824]],8833:[[8827,824]],8834:[,,{824:8836}],8835:[,,{824:8837}],8836:[[8834,824]],8837:[[8835,824]],8838:[,,{824:8840}],8839:[,,{824:8841}],8840:[[8838,824]],8841:[[8839,824]],8849:[,,{824:8930}],8850:[,,{824:8931}],8866:[,,{824:8876}],8872:[,,{824:8877}],8873:[,,{824:8878}],8875:[,,{824:8879}],8876:[[8866,824]],8877:[[8872,824]],8878:[[8873,824]],8879:[[8875,824]],8882:[,,{824:8938}],8883:[,,{824:8939}],8884:[,,{824:8940}],8885:[,,{824:8941}],8928:[[8828,824]],8929:[[8829,824]],8930:[[8849,824]],8931:[[8850,824]],8938:[[8882,824]],8939:[[8883,824]],8940:[[8884,824]],8941:[[8885,824]]}",8960:"{9001:[[12296]],9002:[[12297]]}",9216:"{9312:[[49],256],9313:[[50],256],9314:[[51],256],9315:[[52],256],9316:[[53],256],9317:[[54],256],9318:[[55],256],9319:[[56],256],9320:[[57],256],9321:[[49,48],256],9322:[[49,49],256],9323:[[49,50],256],9324:[[49,51],256],9325:[[49,52],256],9326:[[49,53],256],9327:[[49,54],256],9328:[[49,55],256],9329:[[49,56],256],9330:[[49,57],256],9331:[[50,48],256],9332:[[40,49,41],256],9333:[[40,50,41],256],9334:[[40,51,41],256],9335:[[40,52,41],256],9336:[[40,53,41],256],9337:[[40,54,41],256],9338:[[40,55,41],256],9339:[[40,56,41],256],9340:[[40,57,41],256],9341:[[40,49,48,41],256],9342:[[40,49,49,41],256],9343:[[40,49,50,41],256],9344:[[40,49,51,41],256],9345:[[40,49,52,41],256],9346:[[40,49,53,41],256],9347:[[40,49,54,41],256],9348:[[40,49,55,41],256],9349:[[40,49,56,41],256],9350:[[40,49,57,41],256],9351:[[40,50,48,41],256],9352:[[49,46],256],9353:[[50,46],256],9354:[[51,46],256],9355:[[52,46],256],9356:[[53,46],256],9357:[[54,46],256],9358:[[55,46],256],9359:[[56,46],256],9360:[[57,46],256],9361:[[49,48,46],256],9362:[[49,49,46],256],9363:[[49,50,46],256],9364:[[49,51,46],256],9365:[[49,52,46],256],9366:[[49,53,46],256],9367:[[49,54,46],256],9368:[[49,55,46],256],9369:[[49,56,46],256],9370:[[49,57,46],256],9371:[[50,48,46],256],9372:[[40,97,41],256],9373:[[40,98,41],256],9374:[[40,99,41],256],9375:[[40,100,41],256],9376:[[40,101,41],256],9377:[[40,102,41],256],9378:[[40,103,41],256],9379:[[40,104,41],256],9380:[[40,105,41],256],9381:[[40,106,41],256],9382:[[40,107,41],256],9383:[[40,108,41],256],9384:[[40,109,41],256],9385:[[40,110,41],256],9386:[[40,111,41],256],9387:[[40,112,41],256],9388:[[40,113,41],256],9389:[[40,114,41],256],9390:[[40,115,41],256],9391:[[40,116,41],256],9392:[[40,117,41],256],9393:[[40,118,41],256],9394:[[40,119,41],256],9395:[[40,120,41],256],9396:[[40,121,41],256],9397:[[40,122,41],256],9398:[[65],256],9399:[[66],256],9400:[[67],256],9401:[[68],256],9402:[[69],256],9403:[[70],256],9404:[[71],256],9405:[[72],256],9406:[[73],256],9407:[[74],256],9408:[[75],256],9409:[[76],256],9410:[[77],256],9411:[[78],256],9412:[[79],256],9413:[[80],256],9414:[[81],256],9415:[[82],256],9416:[[83],256],9417:[[84],256],9418:[[85],256],9419:[[86],256],9420:[[87],256],9421:[[88],256],9422:[[89],256],9423:[[90],256],9424:[[97],256],9425:[[98],256],9426:[[99],256],9427:[[100],256],9428:[[101],256],9429:[[102],256],9430:[[103],256],9431:[[104],256],9432:[[105],256],9433:[[106],256],9434:[[107],256],9435:[[108],256],9436:[[109],256],9437:[[110],256],9438:[[111],256],9439:[[112],256],9440:[[113],256],9441:[[114],256],9442:[[115],256],9443:[[116],256],9444:[[117],256],9445:[[118],256],9446:[[119],256],9447:[[120],256],9448:[[121],256],9449:[[122],256],9450:[[48],256]}",10752:"{10764:[[8747,8747,8747,8747],256],10868:[[58,58,61],256],10869:[[61,61],256],10870:[[61,61,61],256],10972:[[10973,824],512]}",11264:"{11388:[[106],256],11389:[[86],256]}",11520:"{11631:[[11617],256],11744:[,230],11745:[,230],11746:[,230],11747:[,230],11748:[,230],11749:[,230],11750:[,230],11751:[,230],11752:[,230],11753:[,230],11754:[,230],11755:[,230],11756:[,230],11757:[,230],11758:[,230],11759:[,230],11760:[,230],11761:[,230],11762:[,230],11763:[,230],11764:[,230],11765:[,230],11766:[,230],11767:[,230],11768:[,230],11769:[,230],11770:[,230],11771:[,230],11772:[,230],11773:[,230],11774:[,230],11775:[,230]}",11776:"{11935:[[27597],256],12019:[[40863],256]}",12032:"{12032:[[19968],256],12033:[[20008],256],12034:[[20022],256],12035:[[20031],256],12036:[[20057],256],12037:[[20101],256],12038:[[20108],256],12039:[[20128],256],12040:[[20154],256],12041:[[20799],256],12042:[[20837],256],12043:[[20843],256],12044:[[20866],256],12045:[[20886],256],12046:[[20907],256],12047:[[20960],256],12048:[[20981],256],12049:[[20992],256],12050:[[21147],256],12051:[[21241],256],12052:[[21269],256],12053:[[21274],256],12054:[[21304],256],12055:[[21313],256],12056:[[21340],256],12057:[[21353],256],12058:[[21378],256],12059:[[21430],256],12060:[[21448],256],12061:[[21475],256],12062:[[22231],256],12063:[[22303],256],12064:[[22763],256],12065:[[22786],256],12066:[[22794],256],12067:[[22805],256],12068:[[22823],256],12069:[[22899],256],12070:[[23376],256],12071:[[23424],256],12072:[[23544],256],12073:[[23567],256],12074:[[23586],256],12075:[[23608],256],12076:[[23662],256],12077:[[23665],256],12078:[[24027],256],12079:[[24037],256],12080:[[24049],256],12081:[[24062],256],12082:[[24178],256],12083:[[24186],256],12084:[[24191],256],12085:[[24308],256],12086:[[24318],256],12087:[[24331],256],12088:[[24339],256],12089:[[24400],256],12090:[[24417],256],12091:[[24435],256],12092:[[24515],256],12093:[[25096],256],12094:[[25142],256],12095:[[25163],256],12096:[[25903],256],12097:[[25908],256],12098:[[25991],256],12099:[[26007],256],12100:[[26020],256],12101:[[26041],256],12102:[[26080],256],12103:[[26085],256],12104:[[26352],256],12105:[[26376],256],12106:[[26408],256],12107:[[27424],256],12108:[[27490],256],12109:[[27513],256],12110:[[27571],256],12111:[[27595],256],12112:[[27604],256],12113:[[27611],256],12114:[[27663],256],12115:[[27668],256],12116:[[27700],256],12117:[[28779],256],12118:[[29226],256],12119:[[29238],256],12120:[[29243],256],12121:[[29247],256],12122:[[29255],256],12123:[[29273],256],12124:[[29275],256],12125:[[29356],256],12126:[[29572],256],12127:[[29577],256],12128:[[29916],256],12129:[[29926],256],12130:[[29976],256],12131:[[29983],256],12132:[[29992],256],12133:[[30000],256],12134:[[30091],256],12135:[[30098],256],12136:[[30326],256],12137:[[30333],256],12138:[[30382],256],12139:[[30399],256],12140:[[30446],256],12141:[[30683],256],12142:[[30690],256],12143:[[30707],256],12144:[[31034],256],12145:[[31160],256],12146:[[31166],256],12147:[[31348],256],12148:[[31435],256],12149:[[31481],256],12150:[[31859],256],12151:[[31992],256],12152:[[32566],256],12153:[[32593],256],12154:[[32650],256],12155:[[32701],256],12156:[[32769],256],12157:[[32780],256],12158:[[32786],256],12159:[[32819],256],12160:[[32895],256],12161:[[32905],256],12162:[[33251],256],12163:[[33258],256],12164:[[33267],256],12165:[[33276],256],12166:[[33292],256],12167:[[33307],256],12168:[[33311],256],12169:[[33390],256],12170:[[33394],256],12171:[[33400],256],12172:[[34381],256],12173:[[34411],256],12174:[[34880],256],12175:[[34892],256],12176:[[34915],256],12177:[[35198],256],12178:[[35211],256],12179:[[35282],256],12180:[[35328],256],12181:[[35895],256],12182:[[35910],256],12183:[[35925],256],12184:[[35960],256],12185:[[35997],256],12186:[[36196],256],12187:[[36208],256],12188:[[36275],256],12189:[[36523],256],12190:[[36554],256],12191:[[36763],256],12192:[[36784],256],12193:[[36789],256],12194:[[37009],256],12195:[[37193],256],12196:[[37318],256],12197:[[37324],256],12198:[[37329],256],12199:[[38263],256],12200:[[38272],256],12201:[[38428],256],12202:[[38582],256],12203:[[38585],256],12204:[[38632],256],12205:[[38737],256],12206:[[38750],256],12207:[[38754],256],12208:[[38761],256],12209:[[38859],256],12210:[[38893],256],12211:[[38899],256],12212:[[38913],256],12213:[[39080],256],12214:[[39131],256],12215:[[39135],256],12216:[[39318],256],12217:[[39321],256],12218:[[39340],256],12219:[[39592],256],12220:[[39640],256],12221:[[39647],256],12222:[[39717],256],12223:[[39727],256],12224:[[39730],256],12225:[[39740],256],12226:[[39770],256],12227:[[40165],256],12228:[[40565],256],12229:[[40575],256],12230:[[40613],256],12231:[[40635],256],12232:[[40643],256],12233:[[40653],256],12234:[[40657],256],12235:[[40697],256],12236:[[40701],256],12237:[[40718],256],12238:[[40723],256],12239:[[40736],256],12240:[[40763],256],12241:[[40778],256],12242:[[40786],256],12243:[[40845],256],12244:[[40860],256],12245:[[40864],256]}",12288:"{12288:[[32],256],12330:[,218],12331:[,228],12332:[,232],12333:[,222],12334:[,224],12335:[,224],12342:[[12306],256],12344:[[21313],256],12345:[[21316],256],12346:[[21317],256],12358:[,,{12441:12436}],12363:[,,{12441:12364}],12364:[[12363,12441]],12365:[,,{12441:12366}],12366:[[12365,12441]],12367:[,,{12441:12368}],12368:[[12367,12441]],12369:[,,{12441:12370}],12370:[[12369,12441]],12371:[,,{12441:12372}],12372:[[12371,12441]],12373:[,,{12441:12374}],12374:[[12373,12441]],12375:[,,{12441:12376}],12376:[[12375,12441]],12377:[,,{12441:12378}],12378:[[12377,12441]],12379:[,,{12441:12380}],12380:[[12379,12441]],12381:[,,{12441:12382}],12382:[[12381,12441]],12383:[,,{12441:12384}],12384:[[12383,12441]],12385:[,,{12441:12386}],12386:[[12385,12441]],12388:[,,{12441:12389}],12389:[[12388,12441]],12390:[,,{12441:12391}],12391:[[12390,12441]],12392:[,,{12441:12393}],12393:[[12392,12441]],12399:[,,{12441:12400,12442:12401}],12400:[[12399,12441]],12401:[[12399,12442]],12402:[,,{12441:12403,12442:12404}],12403:[[12402,12441]],12404:[[12402,12442]],12405:[,,{12441:12406,12442:12407}],12406:[[12405,12441]],12407:[[12405,12442]],12408:[,,{12441:12409,12442:12410}],12409:[[12408,12441]],12410:[[12408,12442]],12411:[,,{12441:12412,12442:12413}],12412:[[12411,12441]],12413:[[12411,12442]],12436:[[12358,12441]],12441:[,8],12442:[,8],12443:[[32,12441],256],12444:[[32,12442],256],12445:[,,{12441:12446}],12446:[[12445,12441]],12447:[[12424,12426],256],12454:[,,{12441:12532}],12459:[,,{12441:12460}],12460:[[12459,12441]],12461:[,,{12441:12462}],12462:[[12461,12441]],12463:[,,{12441:12464}],12464:[[12463,12441]],12465:[,,{12441:12466}],12466:[[12465,12441]],12467:[,,{12441:12468}],12468:[[12467,12441]],12469:[,,{12441:12470}],12470:[[12469,12441]],12471:[,,{12441:12472}],12472:[[12471,12441]],12473:[,,{12441:12474}],12474:[[12473,12441]],12475:[,,{12441:12476}],12476:[[12475,12441]],12477:[,,{12441:12478}],12478:[[12477,12441]],12479:[,,{12441:12480}],12480:[[12479,12441]],12481:[,,{12441:12482}],12482:[[12481,12441]],12484:[,,{12441:12485}],12485:[[12484,12441]],12486:[,,{12441:12487}],12487:[[12486,12441]],12488:[,,{12441:12489}],12489:[[12488,12441]],12495:[,,{12441:12496,12442:12497}],12496:[[12495,12441]],12497:[[12495,12442]],12498:[,,{12441:12499,12442:12500}],12499:[[12498,12441]],12500:[[12498,12442]],12501:[,,{12441:12502,12442:12503}],12502:[[12501,12441]],12503:[[12501,12442]],12504:[,,{12441:12505,12442:12506}],12505:[[12504,12441]],12506:[[12504,12442]],12507:[,,{12441:12508,12442:12509}],12508:[[12507,12441]],12509:[[12507,12442]],12527:[,,{12441:12535}],12528:[,,{12441:12536}],12529:[,,{12441:12537}],12530:[,,{12441:12538}],12532:[[12454,12441]],12535:[[12527,12441]],12536:[[12528,12441]],12537:[[12529,12441]],12538:[[12530,12441]],12541:[,,{12441:12542}],12542:[[12541,12441]],12543:[[12467,12488],256]}",12544:"{12593:[[4352],256],12594:[[4353],256],12595:[[4522],256],12596:[[4354],256],12597:[[4524],256],12598:[[4525],256],12599:[[4355],256],12600:[[4356],256],12601:[[4357],256],12602:[[4528],256],12603:[[4529],256],12604:[[4530],256],12605:[[4531],256],12606:[[4532],256],12607:[[4533],256],12608:[[4378],256],12609:[[4358],256],12610:[[4359],256],12611:[[4360],256],12612:[[4385],256],12613:[[4361],256],12614:[[4362],256],12615:[[4363],256],12616:[[4364],256],12617:[[4365],256],12618:[[4366],256],12619:[[4367],256],12620:[[4368],256],12621:[[4369],256],12622:[[4370],256],12623:[[4449],256],12624:[[4450],256],12625:[[4451],256],12626:[[4452],256],12627:[[4453],256],12628:[[4454],256],12629:[[4455],256],12630:[[4456],256],12631:[[4457],256],12632:[[4458],256],12633:[[4459],256],12634:[[4460],256],12635:[[4461],256],12636:[[4462],256],12637:[[4463],256],12638:[[4464],256],12639:[[4465],256],12640:[[4466],256],12641:[[4467],256],12642:[[4468],256],12643:[[4469],256],12644:[[4448],256],12645:[[4372],256],12646:[[4373],256],12647:[[4551],256],12648:[[4552],256],12649:[[4556],256],12650:[[4558],256],12651:[[4563],256],12652:[[4567],256],12653:[[4569],256],12654:[[4380],256],12655:[[4573],256],12656:[[4575],256],12657:[[4381],256],12658:[[4382],256],12659:[[4384],256],12660:[[4386],256],12661:[[4387],256],12662:[[4391],256],12663:[[4393],256],12664:[[4395],256],12665:[[4396],256],12666:[[4397],256],12667:[[4398],256],12668:[[4399],256],12669:[[4402],256],12670:[[4406],256],12671:[[4416],256],12672:[[4423],256],12673:[[4428],256],12674:[[4593],256],12675:[[4594],256],12676:[[4439],256],12677:[[4440],256],12678:[[4441],256],12679:[[4484],256],12680:[[4485],256],12681:[[4488],256],12682:[[4497],256],12683:[[4498],256],12684:[[4500],256],12685:[[4510],256],12686:[[4513],256],12690:[[19968],256],12691:[[20108],256],12692:[[19977],256],12693:[[22235],256],12694:[[19978],256],12695:[[20013],256],12696:[[19979],256],12697:[[30002],256],12698:[[20057],256],12699:[[19993],256],12700:[[19969],256],12701:[[22825],256],12702:[[22320],256],12703:[[20154],256]}",12800:"{12800:[[40,4352,41],256],12801:[[40,4354,41],256],12802:[[40,4355,41],256],12803:[[40,4357,41],256],12804:[[40,4358,41],256],12805:[[40,4359,41],256],12806:[[40,4361,41],256],12807:[[40,4363,41],256],12808:[[40,4364,41],256],12809:[[40,4366,41],256],12810:[[40,4367,41],256],12811:[[40,4368,41],256],12812:[[40,4369,41],256],12813:[[40,4370,41],256],12814:[[40,4352,4449,41],256],12815:[[40,4354,4449,41],256],12816:[[40,4355,4449,41],256],12817:[[40,4357,4449,41],256],12818:[[40,4358,4449,41],256],12819:[[40,4359,4449,41],256],12820:[[40,4361,4449,41],256],12821:[[40,4363,4449,41],256],12822:[[40,4364,4449,41],256],12823:[[40,4366,4449,41],256],12824:[[40,4367,4449,41],256],12825:[[40,4368,4449,41],256],12826:[[40,4369,4449,41],256],12827:[[40,4370,4449,41],256],12828:[[40,4364,4462,41],256],12829:[[40,4363,4457,4364,4453,4523,41],256],12830:[[40,4363,4457,4370,4462,41],256],12832:[[40,19968,41],256],12833:[[40,20108,41],256],12834:[[40,19977,41],256],12835:[[40,22235,41],256],12836:[[40,20116,41],256],12837:[[40,20845,41],256],12838:[[40,19971,41],256],12839:[[40,20843,41],256],12840:[[40,20061,41],256],12841:[[40,21313,41],256],12842:[[40,26376,41],256],12843:[[40,28779,41],256],12844:[[40,27700,41],256],12845:[[40,26408,41],256],12846:[[40,37329,41],256],12847:[[40,22303,41],256],12848:[[40,26085,41],256],12849:[[40,26666,41],256],12850:[[40,26377,41],256],12851:[[40,31038,41],256],12852:[[40,21517,41],256],12853:[[40,29305,41],256],12854:[[40,36001,41],256],12855:[[40,31069,41],256],12856:[[40,21172,41],256],12857:[[40,20195,41],256],12858:[[40,21628,41],256],12859:[[40,23398,41],256],12860:[[40,30435,41],256],12861:[[40,20225,41],256],12862:[[40,36039,41],256],12863:[[40,21332,41],256],12864:[[40,31085,41],256],12865:[[40,20241,41],256],12866:[[40,33258,41],256],12867:[[40,33267,41],256],12880:[[80,84,69],256],12881:[[50,49],256],12882:[[50,50],256],12883:[[50,51],256],12884:[[50,52],256],12885:[[50,53],256],12886:[[50,54],256],12887:[[50,55],256],12888:[[50,56],256],12889:[[50,57],256],12890:[[51,48],256],12891:[[51,49],256],12892:[[51,50],256],12893:[[51,51],256],12894:[[51,52],256],12895:[[51,53],256],12896:[[4352],256],12897:[[4354],256],12898:[[4355],256],12899:[[4357],256],12900:[[4358],256],12901:[[4359],256],12902:[[4361],256],12903:[[4363],256],12904:[[4364],256],12905:[[4366],256],12906:[[4367],256],12907:[[4368],256],12908:[[4369],256],12909:[[4370],256],12910:[[4352,4449],256],12911:[[4354,4449],256],12912:[[4355,4449],256],12913:[[4357,4449],256],12914:[[4358,4449],256],12915:[[4359,4449],256],12916:[[4361,4449],256],12917:[[4363,4449],256],12918:[[4364,4449],256],12919:[[4366,4449],256],12920:[[4367,4449],256],12921:[[4368,4449],256],12922:[[4369,4449],256],12923:[[4370,4449],256],12924:[[4366,4449,4535,4352,4457],256],12925:[[4364,4462,4363,4468],256],12926:[[4363,4462],256],12928:[[19968],256],12929:[[20108],256],12930:[[19977],256],12931:[[22235],256],12932:[[20116],256],12933:[[20845],256],12934:[[19971],256],12935:[[20843],256],12936:[[20061],256],12937:[[21313],256],12938:[[26376],256],12939:[[28779],256],12940:[[27700],256],12941:[[26408],256],12942:[[37329],256],12943:[[22303],256],12944:[[26085],256],12945:[[26666],256],12946:[[26377],256],12947:[[31038],256],12948:[[21517],256],12949:[[29305],256],12950:[[36001],256],12951:[[31069],256],12952:[[21172],256],12953:[[31192],256],12954:[[30007],256],12955:[[22899],256],12956:[[36969],256],12957:[[20778],256],12958:[[21360],256],12959:[[27880],256],12960:[[38917],256],12961:[[20241],256],12962:[[20889],256],12963:[[27491],256],12964:[[19978],256],12965:[[20013],256],12966:[[19979],256],12967:[[24038],256],12968:[[21491],256],12969:[[21307],256],12970:[[23447],256],12971:[[23398],256],12972:[[30435],256],12973:[[20225],256],12974:[[36039],256],12975:[[21332],256],12976:[[22812],256],12977:[[51,54],256],12978:[[51,55],256],12979:[[51,56],256],12980:[[51,57],256],12981:[[52,48],256],12982:[[52,49],256],12983:[[52,50],256],12984:[[52,51],256],12985:[[52,52],256],12986:[[52,53],256],12987:[[52,54],256],12988:[[52,55],256],12989:[[52,56],256],12990:[[52,57],256],12991:[[53,48],256],12992:[[49,26376],256],12993:[[50,26376],256],12994:[[51,26376],256],12995:[[52,26376],256],12996:[[53,26376],256],12997:[[54,26376],256],12998:[[55,26376],256],12999:[[56,26376],256],13000:[[57,26376],256],13001:[[49,48,26376],256],13002:[[49,49,26376],256],13003:[[49,50,26376],256],13004:[[72,103],256],13005:[[101,114,103],256],13006:[[101,86],256],13007:[[76,84,68],256],13008:[[12450],256],13009:[[12452],256],13010:[[12454],256],13011:[[12456],256],13012:[[12458],256],13013:[[12459],256],13014:[[12461],256],13015:[[12463],256],13016:[[12465],256],13017:[[12467],256],13018:[[12469],256],13019:[[12471],256],13020:[[12473],256],13021:[[12475],256],13022:[[12477],256],13023:[[12479],256],13024:[[12481],256],13025:[[12484],256],13026:[[12486],256],13027:[[12488],256],13028:[[12490],256],13029:[[12491],256],13030:[[12492],256],13031:[[12493],256],13032:[[12494],256],13033:[[12495],256],13034:[[12498],256],13035:[[12501],256],13036:[[12504],256],13037:[[12507],256],13038:[[12510],256],13039:[[12511],256],13040:[[12512],256],13041:[[12513],256],13042:[[12514],256],13043:[[12516],256],13044:[[12518],256],13045:[[12520],256],13046:[[12521],256],13047:[[12522],256],13048:[[12523],256],13049:[[12524],256],13050:[[12525],256],13051:[[12527],256],13052:[[12528],256],13053:[[12529],256],13054:[[12530],256]}",13056:"{13056:[[12450,12497,12540,12488],256],13057:[[12450,12523,12501,12449],256],13058:[[12450,12531,12506,12450],256],13059:[[12450,12540,12523],256],13060:[[12452,12491,12531,12464],256],13061:[[12452,12531,12481],256],13062:[[12454,12457,12531],256],13063:[[12456,12473,12463,12540,12489],256],13064:[[12456,12540,12459,12540],256],13065:[[12458,12531,12473],256],13066:[[12458,12540,12512],256],13067:[[12459,12452,12522],256],13068:[[12459,12521,12483,12488],256],13069:[[12459,12525,12522,12540],256],13070:[[12460,12525,12531],256],13071:[[12460,12531,12510],256],13072:[[12462,12460],256],13073:[[12462,12491,12540],256],13074:[[12461,12517,12522,12540],256],13075:[[12462,12523,12480,12540],256],13076:[[12461,12525],256],13077:[[12461,12525,12464,12521,12512],256],13078:[[12461,12525,12513,12540,12488,12523],256],13079:[[12461,12525,12527,12483,12488],256],13080:[[12464,12521,12512],256],13081:[[12464,12521,12512,12488,12531],256],13082:[[12463,12523,12476,12452,12525],256],13083:[[12463,12525,12540,12493],256],13084:[[12465,12540,12473],256],13085:[[12467,12523,12490],256],13086:[[12467,12540,12509],256],13087:[[12469,12452,12463,12523],256],13088:[[12469,12531,12481,12540,12512],256],13089:[[12471,12522,12531,12464],256],13090:[[12475,12531,12481],256],13091:[[12475,12531,12488],256],13092:[[12480,12540,12473],256],13093:[[12487,12471],256],13094:[[12489,12523],256],13095:[[12488,12531],256],13096:[[12490,12494],256],13097:[[12494,12483,12488],256],13098:[[12495,12452,12484],256],13099:[[12497,12540,12475,12531,12488],256],13100:[[12497,12540,12484],256],13101:[[12496,12540,12524,12523],256],13102:[[12500,12450,12473,12488,12523],256],13103:[[12500,12463,12523],256],13104:[[12500,12467],256],13105:[[12499,12523],256],13106:[[12501,12449,12521,12483,12489],256],13107:[[12501,12451,12540,12488],256],13108:[[12502,12483,12471,12455,12523],256],13109:[[12501,12521,12531],256],13110:[[12504,12463,12479,12540,12523],256],13111:[[12506,12477],256],13112:[[12506,12491,12498],256],13113:[[12504,12523,12484],256],13114:[[12506,12531,12473],256],13115:[[12506,12540,12472],256],13116:[[12505,12540,12479],256],13117:[[12509,12452,12531,12488],256],13118:[[12508,12523,12488],256],13119:[[12507,12531],256],13120:[[12509,12531,12489],256],13121:[[12507,12540,12523],256],13122:[[12507,12540,12531],256],13123:[[12510,12452,12463,12525],256],13124:[[12510,12452,12523],256],13125:[[12510,12483,12495],256],13126:[[12510,12523,12463],256],13127:[[12510,12531,12471,12519,12531],256],13128:[[12511,12463,12525,12531],256],13129:[[12511,12522],256],13130:[[12511,12522,12496,12540,12523],256],13131:[[12513,12460],256],13132:[[12513,12460,12488,12531],256],13133:[[12513,12540,12488,12523],256],13134:[[12516,12540,12489],256],13135:[[12516,12540,12523],256],13136:[[12518,12450,12531],256],13137:[[12522,12483,12488,12523],256],13138:[[12522,12521],256],13139:[[12523,12500,12540],256],13140:[[12523,12540,12502,12523],256],13141:[[12524,12512],256],13142:[[12524,12531,12488,12466,12531],256],13143:[[12527,12483,12488],256],13144:[[48,28857],256],13145:[[49,28857],256],13146:[[50,28857],256],13147:[[51,28857],256],13148:[[52,28857],256],13149:[[53,28857],256],13150:[[54,28857],256],13151:[[55,28857],256],13152:[[56,28857],256],13153:[[57,28857],256],13154:[[49,48,28857],256],13155:[[49,49,28857],256],13156:[[49,50,28857],256],13157:[[49,51,28857],256],13158:[[49,52,28857],256],13159:[[49,53,28857],256],13160:[[49,54,28857],256],13161:[[49,55,28857],256],13162:[[49,56,28857],256],13163:[[49,57,28857],256],13164:[[50,48,28857],256],13165:[[50,49,28857],256],13166:[[50,50,28857],256],13167:[[50,51,28857],256],13168:[[50,52,28857],256],13169:[[104,80,97],256],13170:[[100,97],256],13171:[[65,85],256],13172:[[98,97,114],256],13173:[[111,86],256],13174:[[112,99],256],13175:[[100,109],256],13176:[[100,109,178],256],13177:[[100,109,179],256],13178:[[73,85],256],13179:[[24179,25104],256],13180:[[26157,21644],256],13181:[[22823,27491],256],13182:[[26126,27835],256],13183:[[26666,24335,20250,31038],256],13184:[[112,65],256],13185:[[110,65],256],13186:[[956,65],256],13187:[[109,65],256],13188:[[107,65],256],13189:[[75,66],256],13190:[[77,66],256],13191:[[71,66],256],13192:[[99,97,108],256],13193:[[107,99,97,108],256],13194:[[112,70],256],13195:[[110,70],256],13196:[[956,70],256],13197:[[956,103],256],13198:[[109,103],256],13199:[[107,103],256],13200:[[72,122],256],13201:[[107,72,122],256],13202:[[77,72,122],256],13203:[[71,72,122],256],13204:[[84,72,122],256],13205:[[956,8467],256],13206:[[109,8467],256],13207:[[100,8467],256],13208:[[107,8467],256],13209:[[102,109],256],13210:[[110,109],256],13211:[[956,109],256],13212:[[109,109],256],13213:[[99,109],256],13214:[[107,109],256],13215:[[109,109,178],256],13216:[[99,109,178],256],13217:[[109,178],256],13218:[[107,109,178],256],13219:[[109,109,179],256],13220:[[99,109,179],256],13221:[[109,179],256],13222:[[107,109,179],256],13223:[[109,8725,115],256],13224:[[109,8725,115,178],256],13225:[[80,97],256],13226:[[107,80,97],256],13227:[[77,80,97],256],13228:[[71,80,97],256],13229:[[114,97,100],256],13230:[[114,97,100,8725,115],256],13231:[[114,97,100,8725,115,178],256],13232:[[112,115],256],13233:[[110,115],256],13234:[[956,115],256],13235:[[109,115],256],13236:[[112,86],256],13237:[[110,86],256],13238:[[956,86],256],13239:[[109,86],256],13240:[[107,86],256],13241:[[77,86],256],13242:[[112,87],256],13243:[[110,87],256],13244:[[956,87],256],13245:[[109,87],256],13246:[[107,87],256],13247:[[77,87],256],13248:[[107,937],256],13249:[[77,937],256],13250:[[97,46,109,46],256],13251:[[66,113],256],13252:[[99,99],256],13253:[[99,100],256],13254:[[67,8725,107,103],256],13255:[[67,111,46],256],13256:[[100,66],256],13257:[[71,121],256],13258:[[104,97],256],13259:[[72,80],256],13260:[[105,110],256],13261:[[75,75],256],13262:[[75,77],256],13263:[[107,116],256],13264:[[108,109],256],13265:[[108,110],256],13266:[[108,111,103],256],13267:[[108,120],256],13268:[[109,98],256],13269:[[109,105,108],256],13270:[[109,111,108],256],13271:[[80,72],256],13272:[[112,46,109,46],256],13273:[[80,80,77],256],13274:[[80,82],256],13275:[[115,114],256],13276:[[83,118],256],13277:[[87,98],256],13278:[[86,8725,109],256],13279:[[65,8725,109],256],13280:[[49,26085],256],13281:[[50,26085],256],13282:[[51,26085],256],13283:[[52,26085],256],13284:[[53,26085],256],13285:[[54,26085],256],13286:[[55,26085],256],13287:[[56,26085],256],13288:[[57,26085],256],13289:[[49,48,26085],256],13290:[[49,49,26085],256],13291:[[49,50,26085],256],13292:[[49,51,26085],256],13293:[[49,52,26085],256],13294:[[49,53,26085],256],13295:[[49,54,26085],256],13296:[[49,55,26085],256],13297:[[49,56,26085],256],13298:[[49,57,26085],256],13299:[[50,48,26085],256],13300:[[50,49,26085],256],13301:[[50,50,26085],256],13302:[[50,51,26085],256],13303:[[50,52,26085],256],13304:[[50,53,26085],256],13305:[[50,54,26085],256],13306:[[50,55,26085],256],13307:[[50,56,26085],256],13308:[[50,57,26085],256],13309:[[51,48,26085],256],13310:[[51,49,26085],256],13311:[[103,97,108],256]}",42496:"{42607:[,230],42620:[,230],42621:[,230]}",42752:"{42864:[[42863],256]}",43008:"{43014:[,9],43204:[,9]}",43264:"{43307:[,220],43308:[,220],43309:[,220],43347:[,9]}",53504:"{119134:[[119127,119141],512],119135:[[119128,119141],512],119136:[[119135,119150],512],119137:[[119135,119151],512],119138:[[119135,119152],512],119139:[[119135,119153],512],119140:[[119135,119154],512],119141:[,216],119142:[,216],119143:[,1],119144:[,1],119145:[,1],119149:[,226],119150:[,216],119151:[,216],119152:[,216],119153:[,216],119154:[,216],119163:[,220],119164:[,220],119165:[,220],119166:[,220],119167:[,220],119168:[,220],119169:[,220],119170:[,220],119173:[,230],119174:[,230],119175:[,230],119176:[,230],119177:[,230],119178:[,220],119179:[,220],119210:[,230],119211:[,230],119212:[,230],119213:[,230],119227:[[119225,119141],512],119228:[[119226,119141],512],119229:[[119227,119150],512],119230:[[119228,119150],512],119231:[[119227,119151],512],119232:[[119228,119151],512]}",53760:"{119362:[,230],119363:[,230],119364:[,230]}",54272:"{119808:[[65],256],119809:[[66],256],119810:[[67],256],119811:[[68],256],119812:[[69],256],119813:[[70],256],119814:[[71],256],119815:[[72],256],119816:[[73],256],119817:[[74],256],119818:[[75],256],119819:[[76],256],119820:[[77],256],119821:[[78],256],119822:[[79],256],119823:[[80],256],119824:[[81],256],119825:[[82],256],119826:[[83],256],119827:[[84],256],119828:[[85],256],119829:[[86],256],119830:[[87],256],119831:[[88],256],119832:[[89],256],119833:[[90],256],119834:[[97],256],119835:[[98],256],119836:[[99],256],119837:[[100],256],119838:[[101],256],119839:[[102],256],119840:[[103],256],119841:[[104],256],119842:[[105],256],119843:[[106],256],119844:[[107],256],119845:[[108],256],119846:[[109],256],119847:[[110],256],119848:[[111],256],119849:[[112],256],119850:[[113],256],119851:[[114],256],119852:[[115],256],119853:[[116],256],119854:[[117],256],119855:[[118],256],119856:[[119],256],119857:[[120],256],119858:[[121],256],119859:[[122],256],119860:[[65],256],119861:[[66],256],119862:[[67],256],119863:[[68],256],119864:[[69],256],119865:[[70],256],119866:[[71],256],119867:[[72],256],119868:[[73],256],119869:[[74],256],119870:[[75],256],119871:[[76],256],119872:[[77],256],119873:[[78],256],119874:[[79],256],119875:[[80],256],119876:[[81],256],119877:[[82],256],119878:[[83],256],119879:[[84],256],119880:[[85],256],119881:[[86],256],119882:[[87],256],119883:[[88],256],119884:[[89],256],119885:[[90],256],119886:[[97],256],119887:[[98],256],119888:[[99],256],119889:[[100],256],119890:[[101],256],119891:[[102],256],119892:[[103],256],119894:[[105],256],119895:[[106],256],119896:[[107],256],119897:[[108],256],119898:[[109],256],119899:[[110],256],119900:[[111],256],119901:[[112],256],119902:[[113],256],119903:[[114],256],119904:[[115],256],119905:[[116],256],119906:[[117],256],119907:[[118],256],119908:[[119],256],119909:[[120],256],119910:[[121],256],119911:[[122],256],119912:[[65],256],119913:[[66],256],119914:[[67],256],119915:[[68],256],119916:[[69],256],119917:[[70],256],119918:[[71],256],119919:[[72],256],119920:[[73],256],119921:[[74],256],119922:[[75],256],119923:[[76],256],119924:[[77],256],119925:[[78],256],119926:[[79],256],119927:[[80],256],119928:[[81],256],119929:[[82],256],119930:[[83],256],119931:[[84],256],119932:[[85],256],119933:[[86],256],119934:[[87],256],119935:[[88],256],119936:[[89],256],119937:[[90],256],119938:[[97],256],119939:[[98],256],119940:[[99],256],119941:[[100],256],119942:[[101],256],119943:[[102],256],119944:[[103],256],119945:[[104],256],119946:[[105],256],119947:[[106],256],119948:[[107],256],119949:[[108],256],119950:[[109],256],119951:[[110],256],119952:[[111],256],119953:[[112],256],119954:[[113],256],119955:[[114],256],119956:[[115],256],119957:[[116],256],119958:[[117],256],119959:[[118],256],119960:[[119],256],119961:[[120],256],119962:[[121],256],119963:[[122],256],119964:[[65],256],119966:[[67],256],119967:[[68],256],119970:[[71],256],119973:[[74],256],119974:[[75],256],119977:[[78],256],119978:[[79],256],119979:[[80],256],119980:[[81],256],119982:[[83],256],119983:[[84],256],119984:[[85],256],119985:[[86],256],119986:[[87],256],119987:[[88],256],119988:[[89],256],119989:[[90],256],119990:[[97],256],119991:[[98],256],119992:[[99],256],119993:[[100],256],119995:[[102],256],119997:[[104],256],119998:[[105],256],119999:[[106],256],120000:[[107],256],120001:[[108],256],120002:[[109],256],120003:[[110],256],120005:[[112],256],120006:[[113],256],120007:[[114],256],120008:[[115],256],120009:[[116],256],120010:[[117],256],120011:[[118],256],120012:[[119],256],120013:[[120],256],120014:[[121],256],120015:[[122],256],120016:[[65],256],120017:[[66],256],120018:[[67],256],120019:[[68],256],120020:[[69],256],120021:[[70],256],120022:[[71],256],120023:[[72],256],120024:[[73],256],120025:[[74],256],120026:[[75],256],120027:[[76],256],120028:[[77],256],120029:[[78],256],120030:[[79],256],120031:[[80],256],120032:[[81],256],120033:[[82],256],120034:[[83],256],120035:[[84],256],120036:[[85],256],120037:[[86],256],120038:[[87],256],120039:[[88],256],120040:[[89],256],120041:[[90],256],120042:[[97],256],120043:[[98],256],120044:[[99],256],120045:[[100],256],120046:[[101],256],120047:[[102],256],120048:[[103],256],120049:[[104],256],120050:[[105],256],120051:[[106],256],120052:[[107],256],120053:[[108],256],120054:[[109],256],120055:[[110],256],120056:[[111],256],120057:[[112],256],120058:[[113],256],120059:[[114],256],120060:[[115],256],120061:[[116],256],120062:[[117],256],120063:[[118],256]}",
54528:"{120064:[[119],256],120065:[[120],256],120066:[[121],256],120067:[[122],256],120068:[[65],256],120069:[[66],256],120071:[[68],256],120072:[[69],256],120073:[[70],256],120074:[[71],256],120077:[[74],256],120078:[[75],256],120079:[[76],256],120080:[[77],256],120081:[[78],256],120082:[[79],256],120083:[[80],256],120084:[[81],256],120086:[[83],256],120087:[[84],256],120088:[[85],256],120089:[[86],256],120090:[[87],256],120091:[[88],256],120092:[[89],256],120094:[[97],256],120095:[[98],256],120096:[[99],256],120097:[[100],256],120098:[[101],256],120099:[[102],256],120100:[[103],256],120101:[[104],256],120102:[[105],256],120103:[[106],256],120104:[[107],256],120105:[[108],256],120106:[[109],256],120107:[[110],256],120108:[[111],256],120109:[[112],256],120110:[[113],256],120111:[[114],256],120112:[[115],256],120113:[[116],256],120114:[[117],256],120115:[[118],256],120116:[[119],256],120117:[[120],256],120118:[[121],256],120119:[[122],256],120120:[[65],256],120121:[[66],256],120123:[[68],256],120124:[[69],256],120125:[[70],256],120126:[[71],256],120128:[[73],256],120129:[[74],256],120130:[[75],256],120131:[[76],256],120132:[[77],256],120134:[[79],256],120138:[[83],256],120139:[[84],256],120140:[[85],256],120141:[[86],256],120142:[[87],256],120143:[[88],256],120144:[[89],256],120146:[[97],256],120147:[[98],256],120148:[[99],256],120149:[[100],256],120150:[[101],256],120151:[[102],256],120152:[[103],256],120153:[[104],256],120154:[[105],256],120155:[[106],256],120156:[[107],256],120157:[[108],256],120158:[[109],256],120159:[[110],256],120160:[[111],256],120161:[[112],256],120162:[[113],256],120163:[[114],256],120164:[[115],256],120165:[[116],256],120166:[[117],256],120167:[[118],256],120168:[[119],256],120169:[[120],256],120170:[[121],256],120171:[[122],256],120172:[[65],256],120173:[[66],256],120174:[[67],256],120175:[[68],256],120176:[[69],256],120177:[[70],256],120178:[[71],256],120179:[[72],256],120180:[[73],256],120181:[[74],256],120182:[[75],256],120183:[[76],256],120184:[[77],256],120185:[[78],256],120186:[[79],256],120187:[[80],256],120188:[[81],256],120189:[[82],256],120190:[[83],256],120191:[[84],256],120192:[[85],256],120193:[[86],256],120194:[[87],256],120195:[[88],256],120196:[[89],256],120197:[[90],256],120198:[[97],256],120199:[[98],256],120200:[[99],256],120201:[[100],256],120202:[[101],256],120203:[[102],256],120204:[[103],256],120205:[[104],256],120206:[[105],256],120207:[[106],256],120208:[[107],256],120209:[[108],256],120210:[[109],256],120211:[[110],256],120212:[[111],256],120213:[[112],256],120214:[[113],256],120215:[[114],256],120216:[[115],256],120217:[[116],256],120218:[[117],256],120219:[[118],256],120220:[[119],256],120221:[[120],256],120222:[[121],256],120223:[[122],256],120224:[[65],256],120225:[[66],256],120226:[[67],256],120227:[[68],256],120228:[[69],256],120229:[[70],256],120230:[[71],256],120231:[[72],256],120232:[[73],256],120233:[[74],256],120234:[[75],256],120235:[[76],256],120236:[[77],256],120237:[[78],256],120238:[[79],256],120239:[[80],256],120240:[[81],256],120241:[[82],256],120242:[[83],256],120243:[[84],256],120244:[[85],256],120245:[[86],256],120246:[[87],256],120247:[[88],256],120248:[[89],256],120249:[[90],256],120250:[[97],256],120251:[[98],256],120252:[[99],256],120253:[[100],256],120254:[[101],256],120255:[[102],256],120256:[[103],256],120257:[[104],256],120258:[[105],256],120259:[[106],256],120260:[[107],256],120261:[[108],256],120262:[[109],256],120263:[[110],256],120264:[[111],256],120265:[[112],256],120266:[[113],256],120267:[[114],256],120268:[[115],256],120269:[[116],256],120270:[[117],256],120271:[[118],256],120272:[[119],256],120273:[[120],256],120274:[[121],256],120275:[[122],256],120276:[[65],256],120277:[[66],256],120278:[[67],256],120279:[[68],256],120280:[[69],256],120281:[[70],256],120282:[[71],256],120283:[[72],256],120284:[[73],256],120285:[[74],256],120286:[[75],256],120287:[[76],256],120288:[[77],256],120289:[[78],256],120290:[[79],256],120291:[[80],256],120292:[[81],256],120293:[[82],256],120294:[[83],256],120295:[[84],256],120296:[[85],256],120297:[[86],256],120298:[[87],256],120299:[[88],256],120300:[[89],256],120301:[[90],256],120302:[[97],256],120303:[[98],256],120304:[[99],256],120305:[[100],256],120306:[[101],256],120307:[[102],256],120308:[[103],256],120309:[[104],256],120310:[[105],256],120311:[[106],256],120312:[[107],256],120313:[[108],256],120314:[[109],256],120315:[[110],256],120316:[[111],256],120317:[[112],256],120318:[[113],256],120319:[[114],256]}",54784:"{120320:[[115],256],120321:[[116],256],120322:[[117],256],120323:[[118],256],120324:[[119],256],120325:[[120],256],120326:[[121],256],120327:[[122],256],120328:[[65],256],120329:[[66],256],120330:[[67],256],120331:[[68],256],120332:[[69],256],120333:[[70],256],120334:[[71],256],120335:[[72],256],120336:[[73],256],120337:[[74],256],120338:[[75],256],120339:[[76],256],120340:[[77],256],120341:[[78],256],120342:[[79],256],120343:[[80],256],120344:[[81],256],120345:[[82],256],120346:[[83],256],120347:[[84],256],120348:[[85],256],120349:[[86],256],120350:[[87],256],120351:[[88],256],120352:[[89],256],120353:[[90],256],120354:[[97],256],120355:[[98],256],120356:[[99],256],120357:[[100],256],120358:[[101],256],120359:[[102],256],120360:[[103],256],120361:[[104],256],120362:[[105],256],120363:[[106],256],120364:[[107],256],120365:[[108],256],120366:[[109],256],120367:[[110],256],120368:[[111],256],120369:[[112],256],120370:[[113],256],120371:[[114],256],120372:[[115],256],120373:[[116],256],120374:[[117],256],120375:[[118],256],120376:[[119],256],120377:[[120],256],120378:[[121],256],120379:[[122],256],120380:[[65],256],120381:[[66],256],120382:[[67],256],120383:[[68],256],120384:[[69],256],120385:[[70],256],120386:[[71],256],120387:[[72],256],120388:[[73],256],120389:[[74],256],120390:[[75],256],120391:[[76],256],120392:[[77],256],120393:[[78],256],120394:[[79],256],120395:[[80],256],120396:[[81],256],120397:[[82],256],120398:[[83],256],120399:[[84],256],120400:[[85],256],120401:[[86],256],120402:[[87],256],120403:[[88],256],120404:[[89],256],120405:[[90],256],120406:[[97],256],120407:[[98],256],120408:[[99],256],120409:[[100],256],120410:[[101],256],120411:[[102],256],120412:[[103],256],120413:[[104],256],120414:[[105],256],120415:[[106],256],120416:[[107],256],120417:[[108],256],120418:[[109],256],120419:[[110],256],120420:[[111],256],120421:[[112],256],120422:[[113],256],120423:[[114],256],120424:[[115],256],120425:[[116],256],120426:[[117],256],120427:[[118],256],120428:[[119],256],120429:[[120],256],120430:[[121],256],120431:[[122],256],120432:[[65],256],120433:[[66],256],120434:[[67],256],120435:[[68],256],120436:[[69],256],120437:[[70],256],120438:[[71],256],120439:[[72],256],120440:[[73],256],120441:[[74],256],120442:[[75],256],120443:[[76],256],120444:[[77],256],120445:[[78],256],120446:[[79],256],120447:[[80],256],120448:[[81],256],120449:[[82],256],120450:[[83],256],120451:[[84],256],120452:[[85],256],120453:[[86],256],120454:[[87],256],120455:[[88],256],120456:[[89],256],120457:[[90],256],120458:[[97],256],120459:[[98],256],120460:[[99],256],120461:[[100],256],120462:[[101],256],120463:[[102],256],120464:[[103],256],120465:[[104],256],120466:[[105],256],120467:[[106],256],120468:[[107],256],120469:[[108],256],120470:[[109],256],120471:[[110],256],120472:[[111],256],120473:[[112],256],120474:[[113],256],120475:[[114],256],120476:[[115],256],120477:[[116],256],120478:[[117],256],120479:[[118],256],120480:[[119],256],120481:[[120],256],120482:[[121],256],120483:[[122],256],120484:[[305],256],120485:[[567],256],120488:[[913],256],120489:[[914],256],120490:[[915],256],120491:[[916],256],120492:[[917],256],120493:[[918],256],120494:[[919],256],120495:[[920],256],120496:[[921],256],120497:[[922],256],120498:[[923],256],120499:[[924],256],120500:[[925],256],120501:[[926],256],120502:[[927],256],120503:[[928],256],120504:[[929],256],120505:[[1012],256],120506:[[931],256],120507:[[932],256],120508:[[933],256],120509:[[934],256],120510:[[935],256],120511:[[936],256],120512:[[937],256],120513:[[8711],256],120514:[[945],256],120515:[[946],256],120516:[[947],256],120517:[[948],256],120518:[[949],256],120519:[[950],256],120520:[[951],256],120521:[[952],256],120522:[[953],256],120523:[[954],256],120524:[[955],256],120525:[[956],256],120526:[[957],256],120527:[[958],256],120528:[[959],256],120529:[[960],256],120530:[[961],256],120531:[[962],256],120532:[[963],256],120533:[[964],256],120534:[[965],256],120535:[[966],256],120536:[[967],256],120537:[[968],256],120538:[[969],256],120539:[[8706],256],120540:[[1013],256],120541:[[977],256],120542:[[1008],256],120543:[[981],256],120544:[[1009],256],120545:[[982],256],120546:[[913],256],120547:[[914],256],120548:[[915],256],120549:[[916],256],120550:[[917],256],120551:[[918],256],120552:[[919],256],120553:[[920],256],120554:[[921],256],120555:[[922],256],120556:[[923],256],120557:[[924],256],120558:[[925],256],120559:[[926],256],120560:[[927],256],120561:[[928],256],120562:[[929],256],120563:[[1012],256],120564:[[931],256],120565:[[932],256],120566:[[933],256],120567:[[934],256],120568:[[935],256],120569:[[936],256],120570:[[937],256],120571:[[8711],256],120572:[[945],256],120573:[[946],256],120574:[[947],256],120575:[[948],256]}",55040:"{120576:[[949],256],120577:[[950],256],120578:[[951],256],120579:[[952],256],120580:[[953],256],120581:[[954],256],120582:[[955],256],120583:[[956],256],120584:[[957],256],120585:[[958],256],120586:[[959],256],120587:[[960],256],120588:[[961],256],120589:[[962],256],120590:[[963],256],120591:[[964],256],120592:[[965],256],120593:[[966],256],120594:[[967],256],120595:[[968],256],120596:[[969],256],120597:[[8706],256],120598:[[1013],256],120599:[[977],256],120600:[[1008],256],120601:[[981],256],120602:[[1009],256],120603:[[982],256],120604:[[913],256],120605:[[914],256],120606:[[915],256],120607:[[916],256],120608:[[917],256],120609:[[918],256],120610:[[919],256],120611:[[920],256],120612:[[921],256],120613:[[922],256],120614:[[923],256],120615:[[924],256],120616:[[925],256],120617:[[926],256],120618:[[927],256],120619:[[928],256],120620:[[929],256],120621:[[1012],256],120622:[[931],256],120623:[[932],256],120624:[[933],256],120625:[[934],256],120626:[[935],256],120627:[[936],256],120628:[[937],256],120629:[[8711],256],120630:[[945],256],120631:[[946],256],120632:[[947],256],120633:[[948],256],120634:[[949],256],120635:[[950],256],120636:[[951],256],120637:[[952],256],120638:[[953],256],120639:[[954],256],120640:[[955],256],120641:[[956],256],120642:[[957],256],120643:[[958],256],120644:[[959],256],120645:[[960],256],120646:[[961],256],120647:[[962],256],120648:[[963],256],120649:[[964],256],120650:[[965],256],120651:[[966],256],120652:[[967],256],120653:[[968],256],120654:[[969],256],120655:[[8706],256],120656:[[1013],256],120657:[[977],256],120658:[[1008],256],120659:[[981],256],120660:[[1009],256],120661:[[982],256],120662:[[913],256],120663:[[914],256],120664:[[915],256],120665:[[916],256],120666:[[917],256],120667:[[918],256],120668:[[919],256],120669:[[920],256],120670:[[921],256],120671:[[922],256],120672:[[923],256],120673:[[924],256],120674:[[925],256],120675:[[926],256],120676:[[927],256],120677:[[928],256],120678:[[929],256],120679:[[1012],256],120680:[[931],256],120681:[[932],256],120682:[[933],256],120683:[[934],256],120684:[[935],256],120685:[[936],256],120686:[[937],256],120687:[[8711],256],120688:[[945],256],120689:[[946],256],120690:[[947],256],120691:[[948],256],120692:[[949],256],120693:[[950],256],120694:[[951],256],120695:[[952],256],120696:[[953],256],120697:[[954],256],120698:[[955],256],120699:[[956],256],120700:[[957],256],120701:[[958],256],120702:[[959],256],120703:[[960],256],120704:[[961],256],120705:[[962],256],120706:[[963],256],120707:[[964],256],120708:[[965],256],120709:[[966],256],120710:[[967],256],120711:[[968],256],120712:[[969],256],120713:[[8706],256],120714:[[1013],256],120715:[[977],256],120716:[[1008],256],120717:[[981],256],120718:[[1009],256],120719:[[982],256],120720:[[913],256],120721:[[914],256],120722:[[915],256],120723:[[916],256],120724:[[917],256],120725:[[918],256],120726:[[919],256],120727:[[920],256],120728:[[921],256],120729:[[922],256],120730:[[923],256],120731:[[924],256],120732:[[925],256],120733:[[926],256],120734:[[927],256],120735:[[928],256],120736:[[929],256],120737:[[1012],256],120738:[[931],256],120739:[[932],256],120740:[[933],256],120741:[[934],256],120742:[[935],256],120743:[[936],256],120744:[[937],256],120745:[[8711],256],120746:[[945],256],120747:[[946],256],120748:[[947],256],120749:[[948],256],120750:[[949],256],120751:[[950],256],120752:[[951],256],120753:[[952],256],120754:[[953],256],120755:[[954],256],120756:[[955],256],120757:[[956],256],120758:[[957],256],120759:[[958],256],120760:[[959],256],120761:[[960],256],120762:[[961],256],120763:[[962],256],120764:[[963],256],120765:[[964],256],120766:[[965],256],120767:[[966],256],120768:[[967],256],120769:[[968],256],120770:[[969],256],120771:[[8706],256],120772:[[1013],256],120773:[[977],256],120774:[[1008],256],120775:[[981],256],120776:[[1009],256],120777:[[982],256],120778:[[988],256],120779:[[989],256],120782:[[48],256],120783:[[49],256],120784:[[50],256],120785:[[51],256],120786:[[52],256],120787:[[53],256],120788:[[54],256],120789:[[55],256],120790:[[56],256],120791:[[57],256],120792:[[48],256],120793:[[49],256],120794:[[50],256],120795:[[51],256],120796:[[52],256],120797:[[53],256],120798:[[54],256],120799:[[55],256],120800:[[56],256],120801:[[57],256],120802:[[48],256],120803:[[49],256],120804:[[50],256],120805:[[51],256],120806:[[52],256],120807:[[53],256],120808:[[54],256],120809:[[55],256],120810:[[56],256],120811:[[57],256],120812:[[48],256],120813:[[49],256],120814:[[50],256],120815:[[51],256],120816:[[52],256],120817:[[53],256],120818:[[54],256],120819:[[55],256],120820:[[56],256],120821:[[57],256],120822:[[48],256],120823:[[49],256],120824:[[50],256],120825:[[51],256],120826:[[52],256],120827:[[53],256],120828:[[54],256],120829:[[55],256],120830:[[56],256],120831:[[57],256]}",63488:"{194560:[[20029]],194561:[[20024]],194562:[[20033]],194563:[[131362]],194564:[[20320]],194565:[[20398]],194566:[[20411]],194567:[[20482]],194568:[[20602]],194569:[[20633]],194570:[[20711]],194571:[[20687]],194572:[[13470]],194573:[[132666]],194574:[[20813]],194575:[[20820]],194576:[[20836]],194577:[[20855]],194578:[[132380]],194579:[[13497]],194580:[[20839]],194581:[[20877]],194582:[[132427]],194583:[[20887]],194584:[[20900]],194585:[[20172]],194586:[[20908]],194587:[[20917]],194588:[[168415]],194589:[[20981]],194590:[[20995]],194591:[[13535]],194592:[[21051]],194593:[[21062]],194594:[[21106]],194595:[[21111]],194596:[[13589]],194597:[[21191]],194598:[[21193]],194599:[[21220]],194600:[[21242]],194601:[[21253]],194602:[[21254]],194603:[[21271]],194604:[[21321]],194605:[[21329]],194606:[[21338]],194607:[[21363]],194608:[[21373]],194609:[[21375]],194610:[[21375]],194611:[[21375]],194612:[[133676]],194613:[[28784]],194614:[[21450]],194615:[[21471]],194616:[[133987]],194617:[[21483]],194618:[[21489]],194619:[[21510]],194620:[[21662]],194621:[[21560]],194622:[[21576]],194623:[[21608]],194624:[[21666]],194625:[[21750]],194626:[[21776]],194627:[[21843]],194628:[[21859]],194629:[[21892]],194630:[[21892]],194631:[[21913]],194632:[[21931]],194633:[[21939]],194634:[[21954]],194635:[[22294]],194636:[[22022]],194637:[[22295]],194638:[[22097]],194639:[[22132]],194640:[[20999]],194641:[[22766]],194642:[[22478]],194643:[[22516]],194644:[[22541]],194645:[[22411]],194646:[[22578]],194647:[[22577]],194648:[[22700]],194649:[[136420]],194650:[[22770]],194651:[[22775]],194652:[[22790]],194653:[[22810]],194654:[[22818]],194655:[[22882]],194656:[[136872]],194657:[[136938]],194658:[[23020]],194659:[[23067]],194660:[[23079]],194661:[[23000]],194662:[[23142]],194663:[[14062]],194664:[[14076]],194665:[[23304]],194666:[[23358]],194667:[[23358]],194668:[[137672]],194669:[[23491]],194670:[[23512]],194671:[[23527]],194672:[[23539]],194673:[[138008]],194674:[[23551]],194675:[[23558]],194676:[[24403]],194677:[[23586]],194678:[[14209]],194679:[[23648]],194680:[[23662]],194681:[[23744]],194682:[[23693]],194683:[[138724]],194684:[[23875]],194685:[[138726]],194686:[[23918]],194687:[[23915]],194688:[[23932]],194689:[[24033]],194690:[[24034]],194691:[[14383]],194692:[[24061]],194693:[[24104]],194694:[[24125]],194695:[[24169]],194696:[[14434]],194697:[[139651]],194698:[[14460]],194699:[[24240]],194700:[[24243]],194701:[[24246]],194702:[[24266]],194703:[[172946]],194704:[[24318]],194705:[[140081]],194706:[[140081]],194707:[[33281]],194708:[[24354]],194709:[[24354]],194710:[[14535]],194711:[[144056]],194712:[[156122]],194713:[[24418]],194714:[[24427]],194715:[[14563]],194716:[[24474]],194717:[[24525]],194718:[[24535]],194719:[[24569]],194720:[[24705]],194721:[[14650]],194722:[[14620]],194723:[[24724]],194724:[[141012]],194725:[[24775]],194726:[[24904]],194727:[[24908]],194728:[[24910]],194729:[[24908]],194730:[[24954]],194731:[[24974]],194732:[[25010]],194733:[[24996]],194734:[[25007]],194735:[[25054]],194736:[[25074]],194737:[[25078]],194738:[[25104]],194739:[[25115]],194740:[[25181]],194741:[[25265]],194742:[[25300]],194743:[[25424]],194744:[[142092]],194745:[[25405]],194746:[[25340]],194747:[[25448]],194748:[[25475]],194749:[[25572]],194750:[[142321]],194751:[[25634]],194752:[[25541]],194753:[[25513]],194754:[[14894]],194755:[[25705]],194756:[[25726]],194757:[[25757]],194758:[[25719]],194759:[[14956]],194760:[[25935]],194761:[[25964]],194762:[[143370]],194763:[[26083]],194764:[[26360]],194765:[[26185]],194766:[[15129]],194767:[[26257]],194768:[[15112]],194769:[[15076]],194770:[[20882]],194771:[[20885]],194772:[[26368]],194773:[[26268]],194774:[[32941]],194775:[[17369]],194776:[[26391]],194777:[[26395]],194778:[[26401]],194779:[[26462]],194780:[[26451]],194781:[[144323]],194782:[[15177]],194783:[[26618]],194784:[[26501]],194785:[[26706]],194786:[[26757]],194787:[[144493]],194788:[[26766]],194789:[[26655]],194790:[[26900]],194791:[[15261]],194792:[[26946]],194793:[[27043]],194794:[[27114]],194795:[[27304]],194796:[[145059]],194797:[[27355]],194798:[[15384]],194799:[[27425]],194800:[[145575]],194801:[[27476]],194802:[[15438]],194803:[[27506]],194804:[[27551]],194805:[[27578]],194806:[[27579]],194807:[[146061]],194808:[[138507]],194809:[[146170]],194810:[[27726]],194811:[[146620]],194812:[[27839]],194813:[[27853]],194814:[[27751]],194815:[[27926]]}",63744:"{63744:[[35912]],63745:[[26356]],63746:[[36554]],63747:[[36040]],63748:[[28369]],63749:[[20018]],63750:[[21477]],63751:[[40860]],63752:[[40860]],63753:[[22865]],63754:[[37329]],63755:[[21895]],63756:[[22856]],63757:[[25078]],63758:[[30313]],63759:[[32645]],63760:[[34367]],63761:[[34746]],63762:[[35064]],63763:[[37007]],63764:[[27138]],63765:[[27931]],63766:[[28889]],63767:[[29662]],63768:[[33853]],63769:[[37226]],63770:[[39409]],63771:[[20098]],63772:[[21365]],63773:[[27396]],63774:[[29211]],63775:[[34349]],63776:[[40478]],63777:[[23888]],63778:[[28651]],63779:[[34253]],63780:[[35172]],63781:[[25289]],63782:[[33240]],63783:[[34847]],63784:[[24266]],63785:[[26391]],63786:[[28010]],63787:[[29436]],63788:[[37070]],63789:[[20358]],63790:[[20919]],63791:[[21214]],63792:[[25796]],63793:[[27347]],63794:[[29200]],63795:[[30439]],63796:[[32769]],63797:[[34310]],63798:[[34396]],63799:[[36335]],63800:[[38706]],63801:[[39791]],63802:[[40442]],63803:[[30860]],63804:[[31103]],63805:[[32160]],63806:[[33737]],63807:[[37636]],63808:[[40575]],63809:[[35542]],63810:[[22751]],63811:[[24324]],63812:[[31840]],63813:[[32894]],63814:[[29282]],63815:[[30922]],63816:[[36034]],63817:[[38647]],63818:[[22744]],63819:[[23650]],63820:[[27155]],63821:[[28122]],63822:[[28431]],63823:[[32047]],63824:[[32311]],63825:[[38475]],63826:[[21202]],63827:[[32907]],63828:[[20956]],63829:[[20940]],63830:[[31260]],63831:[[32190]],63832:[[33777]],63833:[[38517]],63834:[[35712]],63835:[[25295]],63836:[[27138]],63837:[[35582]],63838:[[20025]],63839:[[23527]],63840:[[24594]],63841:[[29575]],63842:[[30064]],63843:[[21271]],63844:[[30971]],63845:[[20415]],63846:[[24489]],63847:[[19981]],63848:[[27852]],63849:[[25976]],63850:[[32034]],63851:[[21443]],63852:[[22622]],63853:[[30465]],63854:[[33865]],63855:[[35498]],63856:[[27578]],63857:[[36784]],63858:[[27784]],63859:[[25342]],63860:[[33509]],63861:[[25504]],63862:[[30053]],63863:[[20142]],63864:[[20841]],63865:[[20937]],63866:[[26753]],63867:[[31975]],63868:[[33391]],63869:[[35538]],63870:[[37327]],63871:[[21237]],63872:[[21570]],63873:[[22899]],63874:[[24300]],63875:[[26053]],63876:[[28670]],63877:[[31018]],63878:[[38317]],63879:[[39530]],63880:[[40599]],63881:[[40654]],63882:[[21147]],63883:[[26310]],63884:[[27511]],63885:[[36706]],63886:[[24180]],63887:[[24976]],63888:[[25088]],63889:[[25754]],63890:[[28451]],63891:[[29001]],63892:[[29833]],63893:[[31178]],63894:[[32244]],63895:[[32879]],63896:[[36646]],63897:[[34030]],63898:[[36899]],63899:[[37706]],63900:[[21015]],63901:[[21155]],63902:[[21693]],63903:[[28872]],63904:[[35010]],63905:[[35498]],63906:[[24265]],63907:[[24565]],63908:[[25467]],63909:[[27566]],63910:[[31806]],63911:[[29557]],63912:[[20196]],63913:[[22265]],63914:[[23527]],63915:[[23994]],63916:[[24604]],63917:[[29618]],63918:[[29801]],63919:[[32666]],63920:[[32838]],63921:[[37428]],63922:[[38646]],63923:[[38728]],63924:[[38936]],63925:[[20363]],63926:[[31150]],63927:[[37300]],63928:[[38584]],63929:[[24801]],63930:[[20102]],63931:[[20698]],63932:[[23534]],63933:[[23615]],63934:[[26009]],63935:[[27138]],63936:[[29134]],63937:[[30274]],63938:[[34044]],63939:[[36988]],63940:[[40845]],63941:[[26248]],63942:[[38446]],63943:[[21129]],63944:[[26491]],63945:[[26611]],63946:[[27969]],63947:[[28316]],63948:[[29705]],63949:[[30041]],63950:[[30827]],63951:[[32016]],63952:[[39006]],63953:[[20845]],63954:[[25134]],63955:[[38520]],63956:[[20523]],63957:[[23833]],63958:[[28138]],63959:[[36650]],63960:[[24459]],63961:[[24900]],63962:[[26647]],63963:[[29575]],63964:[[38534]],63965:[[21033]],63966:[[21519]],63967:[[23653]],63968:[[26131]],63969:[[26446]],63970:[[26792]],63971:[[27877]],63972:[[29702]],63973:[[30178]],63974:[[32633]],63975:[[35023]],63976:[[35041]],63977:[[37324]],63978:[[38626]],63979:[[21311]],63980:[[28346]],63981:[[21533]],63982:[[29136]],63983:[[29848]],63984:[[34298]],63985:[[38563]],63986:[[40023]],63987:[[40607]],63988:[[26519]],63989:[[28107]],63990:[[33256]],63991:[[31435]],63992:[[31520]],63993:[[31890]],63994:[[29376]],63995:[[28825]],63996:[[35672]],63997:[[20160]],63998:[[33590]],63999:[[21050]],194816:[[27966]],194817:[[28023]],194818:[[27969]],194819:[[28009]],194820:[[28024]],194821:[[28037]],194822:[[146718]],194823:[[27956]],194824:[[28207]],194825:[[28270]],194826:[[15667]],194827:[[28363]],194828:[[28359]],194829:[[147153]],194830:[[28153]],194831:[[28526]],194832:[[147294]],194833:[[147342]],194834:[[28614]],194835:[[28729]],194836:[[28702]],194837:[[28699]],194838:[[15766]],194839:[[28746]],194840:[[28797]],194841:[[28791]],194842:[[28845]],194843:[[132389]],194844:[[28997]],194845:[[148067]],194846:[[29084]],194847:[[148395]],194848:[[29224]],194849:[[29237]],194850:[[29264]],194851:[[149000]],194852:[[29312]],194853:[[29333]],194854:[[149301]],194855:[[149524]],194856:[[29562]],194857:[[29579]],194858:[[16044]],194859:[[29605]],194860:[[16056]],194861:[[16056]],194862:[[29767]],194863:[[29788]],194864:[[29809]],194865:[[29829]],194866:[[29898]],194867:[[16155]],194868:[[29988]],194869:[[150582]],194870:[[30014]],194871:[[150674]],194872:[[30064]],194873:[[139679]],194874:[[30224]],194875:[[151457]],194876:[[151480]],194877:[[151620]],194878:[[16380]],194879:[[16392]],194880:[[30452]],194881:[[151795]],194882:[[151794]],194883:[[151833]],194884:[[151859]],194885:[[30494]],194886:[[30495]],194887:[[30495]],194888:[[30538]],194889:[[16441]],194890:[[30603]],194891:[[16454]],194892:[[16534]],194893:[[152605]],194894:[[30798]],194895:[[30860]],194896:[[30924]],194897:[[16611]],194898:[[153126]],194899:[[31062]],194900:[[153242]],194901:[[153285]],194902:[[31119]],194903:[[31211]],194904:[[16687]],194905:[[31296]],194906:[[31306]],194907:[[31311]],194908:[[153980]],194909:[[154279]],194910:[[154279]],194911:[[31470]],194912:[[16898]],194913:[[154539]],194914:[[31686]],194915:[[31689]],194916:[[16935]],194917:[[154752]],194918:[[31954]],194919:[[17056]],194920:[[31976]],194921:[[31971]],194922:[[32000]],194923:[[155526]],194924:[[32099]],194925:[[17153]],194926:[[32199]],194927:[[32258]],194928:[[32325]],194929:[[17204]],194930:[[156200]],194931:[[156231]],194932:[[17241]],194933:[[156377]],194934:[[32634]],194935:[[156478]],194936:[[32661]],194937:[[32762]],194938:[[32773]],194939:[[156890]],194940:[[156963]],194941:[[32864]],194942:[[157096]],194943:[[32880]],194944:[[144223]],194945:[[17365]],194946:[[32946]],194947:[[33027]],194948:[[17419]],194949:[[33086]],194950:[[23221]],194951:[[157607]],194952:[[157621]],194953:[[144275]],194954:[[144284]],194955:[[33281]],194956:[[33284]],194957:[[36766]],194958:[[17515]],194959:[[33425]],194960:[[33419]],194961:[[33437]],194962:[[21171]],194963:[[33457]],194964:[[33459]],194965:[[33469]],194966:[[33510]],194967:[[158524]],194968:[[33509]],194969:[[33565]],194970:[[33635]],194971:[[33709]],194972:[[33571]],194973:[[33725]],194974:[[33767]],194975:[[33879]],194976:[[33619]],194977:[[33738]],194978:[[33740]],194979:[[33756]],194980:[[158774]],194981:[[159083]],194982:[[158933]],194983:[[17707]],194984:[[34033]],194985:[[34035]],194986:[[34070]],194987:[[160714]],194988:[[34148]],194989:[[159532]],194990:[[17757]],194991:[[17761]],194992:[[159665]],194993:[[159954]],194994:[[17771]],194995:[[34384]],194996:[[34396]],194997:[[34407]],194998:[[34409]],194999:[[34473]],195000:[[34440]],195001:[[34574]],195002:[[34530]],195003:[[34681]],195004:[[34600]],195005:[[34667]],195006:[[34694]],195007:[[17879]],195008:[[34785]],195009:[[34817]],195010:[[17913]],195011:[[34912]],195012:[[34915]],195013:[[161383]],195014:[[35031]],195015:[[35038]],195016:[[17973]],195017:[[35066]],195018:[[13499]],195019:[[161966]],195020:[[162150]],195021:[[18110]],195022:[[18119]],195023:[[35488]],195024:[[35565]],195025:[[35722]],195026:[[35925]],195027:[[162984]],195028:[[36011]],195029:[[36033]],195030:[[36123]],195031:[[36215]],195032:[[163631]],195033:[[133124]],195034:[[36299]],195035:[[36284]],195036:[[36336]],195037:[[133342]],195038:[[36564]],195039:[[36664]],195040:[[165330]],195041:[[165357]],195042:[[37012]],195043:[[37105]],195044:[[37137]],195045:[[165678]],195046:[[37147]],195047:[[37432]],195048:[[37591]],195049:[[37592]],195050:[[37500]],195051:[[37881]],195052:[[37909]],195053:[[166906]],195054:[[38283]],195055:[[18837]],195056:[[38327]],195057:[[167287]],195058:[[18918]],195059:[[38595]],195060:[[23986]],195061:[[38691]],195062:[[168261]],195063:[[168474]],195064:[[19054]],195065:[[19062]],195066:[[38880]],195067:[[168970]],195068:[[19122]],195069:[[169110]],195070:[[38923]],195071:[[38923]]}",64e3:"{64000:[[20999]],64001:[[24230]],64002:[[25299]],64003:[[31958]],64004:[[23429]],64005:[[27934]],64006:[[26292]],64007:[[36667]],64008:[[34892]],64009:[[38477]],64010:[[35211]],64011:[[24275]],64012:[[20800]],64013:[[21952]],64016:[[22618]],64018:[[26228]],64021:[[20958]],64022:[[29482]],64023:[[30410]],64024:[[31036]],64025:[[31070]],64026:[[31077]],64027:[[31119]],64028:[[38742]],64029:[[31934]],64030:[[32701]],64032:[[34322]],64034:[[35576]],64037:[[36920]],64038:[[37117]],64042:[[39151]],64043:[[39164]],64044:[[39208]],64045:[[40372]],64048:[[20398]],64049:[[20711]],64050:[[20813]],64051:[[21193]],64052:[[21220]],64053:[[21329]],64054:[[21917]],64055:[[22022]],64056:[[22120]],64057:[[22592]],64058:[[22696]],64059:[[23652]],64060:[[23662]],64061:[[24724]],64062:[[24936]],64063:[[24974]],64064:[[25074]],64065:[[25935]],64066:[[26082]],64067:[[26257]],64068:[[26757]],64069:[[28023]],64070:[[28186]],64071:[[28450]],64072:[[29038]],64073:[[29227]],64074:[[29730]],64075:[[30865]],64076:[[31038]],64077:[[31049]],64078:[[31048]],64079:[[31056]],64080:[[31062]],64081:[[31069]],64082:[[31117]],64083:[[31118]],64084:[[31296]],64085:[[31361]],64086:[[31680]],64087:[[32244]],64088:[[32265]],64089:[[32321]],64090:[[32626]],64091:[[32773]],64092:[[33261]],64093:[[33401]],64094:[[33401]],64095:[[33879]],64096:[[35088]],64097:[[35222]],64098:[[35585]],64099:[[35641]],64100:[[36051]],64101:[[36104]],64102:[[36790]],64103:[[36920]],64104:[[38627]],64105:[[38911]],64106:[[38971]],64112:[[20006]],64113:[[20917]],64114:[[20840]],64115:[[20352]],64116:[[20805]],64117:[[20864]],64118:[[21191]],64119:[[21242]],64120:[[21917]],64121:[[21845]],64122:[[21913]],64123:[[21986]],64124:[[22618]],64125:[[22707]],64126:[[22852]],64127:[[22868]],64128:[[23138]],64129:[[23336]],64130:[[24274]],64131:[[24281]],64132:[[24425]],64133:[[24493]],64134:[[24792]],64135:[[24910]],64136:[[24840]],64137:[[24974]],64138:[[24928]],64139:[[25074]],64140:[[25140]],64141:[[25540]],64142:[[25628]],64143:[[25682]],64144:[[25942]],64145:[[26228]],64146:[[26391]],64147:[[26395]],64148:[[26454]],64149:[[27513]],64150:[[27578]],64151:[[27969]],64152:[[28379]],64153:[[28363]],64154:[[28450]],64155:[[28702]],64156:[[29038]],64157:[[30631]],64158:[[29237]],64159:[[29359]],64160:[[29482]],64161:[[29809]],64162:[[29958]],64163:[[30011]],64164:[[30237]],64165:[[30239]],64166:[[30410]],64167:[[30427]],64168:[[30452]],64169:[[30538]],64170:[[30528]],64171:[[30924]],64172:[[31409]],64173:[[31680]],64174:[[31867]],64175:[[32091]],64176:[[32244]],64177:[[32574]],64178:[[32773]],64179:[[33618]],64180:[[33775]],64181:[[34681]],64182:[[35137]],64183:[[35206]],64184:[[35222]],64185:[[35519]],64186:[[35576]],64187:[[35531]],64188:[[35585]],64189:[[35582]],64190:[[35565]],64191:[[35641]],64192:[[35722]],64193:[[36104]],64194:[[36664]],64195:[[36978]],64196:[[37273]],64197:[[37494]],64198:[[38524]],64199:[[38627]],64200:[[38742]],64201:[[38875]],64202:[[38911]],64203:[[38923]],64204:[[38971]],64205:[[39698]],64206:[[40860]],64207:[[141386]],64208:[[141380]],64209:[[144341]],64210:[[15261]],64211:[[16408]],64212:[[16441]],64213:[[152137]],64214:[[154832]],64215:[[163539]],64216:[[40771]],64217:[[40846]],195072:[[38953]],195073:[[169398]],195074:[[39138]],195075:[[19251]],195076:[[39209]],195077:[[39335]],195078:[[39362]],195079:[[39422]],195080:[[19406]],195081:[[170800]],195082:[[39698]],195083:[[40000]],195084:[[40189]],195085:[[19662]],195086:[[19693]],195087:[[40295]],195088:[[172238]],195089:[[19704]],195090:[[172293]],195091:[[172558]],195092:[[172689]],195093:[[40635]],195094:[[19798]],195095:[[40697]],195096:[[40702]],195097:[[40709]],195098:[[40719]],195099:[[40726]],195100:[[40763]],195101:[[173568]]}",64256:"{64256:[[102,102],256],64257:[[102,105],256],64258:[[102,108],256],64259:[[102,102,105],256],64260:[[102,102,108],256],64261:[[383,116],256],64262:[[115,116],256],64275:[[1396,1398],256],64276:[[1396,1381],256],64277:[[1396,1387],256],64278:[[1406,1398],256],64279:[[1396,1389],256],64285:[[1497,1460],512],64286:[,26],64287:[[1522,1463],512],64288:[[1506],256],64289:[[1488],256],64290:[[1491],256],64291:[[1492],256],64292:[[1499],256],64293:[[1500],256],64294:[[1501],256],64295:[[1512],256],64296:[[1514],256],64297:[[43],256],64298:[[1513,1473],512],64299:[[1513,1474],512],64300:[[64329,1473],512],64301:[[64329,1474],512],64302:[[1488,1463],512],64303:[[1488,1464],512],64304:[[1488,1468],512],64305:[[1489,1468],512],64306:[[1490,1468],512],64307:[[1491,1468],512],64308:[[1492,1468],512],64309:[[1493,1468],512],64310:[[1494,1468],512],64312:[[1496,1468],512],64313:[[1497,1468],512],64314:[[1498,1468],512],64315:[[1499,1468],512],64316:[[1500,1468],512],64318:[[1502,1468],512],64320:[[1504,1468],512],64321:[[1505,1468],512],64323:[[1507,1468],512],64324:[[1508,1468],512],64326:[[1510,1468],512],64327:[[1511,1468],512],64328:[[1512,1468],512],64329:[[1513,1468],512],64330:[[1514,1468],512],64331:[[1493,1465],512],64332:[[1489,1471],512],64333:[[1499,1471],512],64334:[[1508,1471],512],64335:[[1488,1500],256],64336:[[1649],256],64337:[[1649],256],64338:[[1659],256],64339:[[1659],256],64340:[[1659],256],64341:[[1659],256],64342:[[1662],256],64343:[[1662],256],64344:[[1662],256],64345:[[1662],256],64346:[[1664],256],64347:[[1664],256],64348:[[1664],256],64349:[[1664],256],64350:[[1658],256],64351:[[1658],256],64352:[[1658],256],64353:[[1658],256],64354:[[1663],256],64355:[[1663],256],64356:[[1663],256],64357:[[1663],256],64358:[[1657],256],64359:[[1657],256],64360:[[1657],256],64361:[[1657],256],64362:[[1700],256],64363:[[1700],256],64364:[[1700],256],64365:[[1700],256],64366:[[1702],256],64367:[[1702],256],64368:[[1702],256],64369:[[1702],256],64370:[[1668],256],64371:[[1668],256],64372:[[1668],256],64373:[[1668],256],64374:[[1667],256],64375:[[1667],256],64376:[[1667],256],64377:[[1667],256],64378:[[1670],256],64379:[[1670],256],64380:[[1670],256],64381:[[1670],256],64382:[[1671],256],64383:[[1671],256],64384:[[1671],256],64385:[[1671],256],64386:[[1677],256],64387:[[1677],256],64388:[[1676],256],64389:[[1676],256],64390:[[1678],256],64391:[[1678],256],64392:[[1672],256],64393:[[1672],256],64394:[[1688],256],64395:[[1688],256],64396:[[1681],256],64397:[[1681],256],64398:[[1705],256],64399:[[1705],256],64400:[[1705],256],64401:[[1705],256],64402:[[1711],256],64403:[[1711],256],64404:[[1711],256],64405:[[1711],256],64406:[[1715],256],64407:[[1715],256],64408:[[1715],256],64409:[[1715],256],64410:[[1713],256],64411:[[1713],256],64412:[[1713],256],64413:[[1713],256],64414:[[1722],256],64415:[[1722],256],64416:[[1723],256],64417:[[1723],256],64418:[[1723],256],64419:[[1723],256],64420:[[1728],256],64421:[[1728],256],64422:[[1729],256],64423:[[1729],256],64424:[[1729],256],64425:[[1729],256],64426:[[1726],256],64427:[[1726],256],64428:[[1726],256],64429:[[1726],256],64430:[[1746],256],64431:[[1746],256],64432:[[1747],256],64433:[[1747],256],64467:[[1709],256],64468:[[1709],256],64469:[[1709],256],64470:[[1709],256],64471:[[1735],256],64472:[[1735],256],64473:[[1734],256],64474:[[1734],256],64475:[[1736],256],64476:[[1736],256],64477:[[1655],256],64478:[[1739],256],64479:[[1739],256],64480:[[1733],256],64481:[[1733],256],64482:[[1737],256],64483:[[1737],256],64484:[[1744],256],64485:[[1744],256],64486:[[1744],256],64487:[[1744],256],64488:[[1609],256],64489:[[1609],256],64490:[[1574,1575],256],64491:[[1574,1575],256],64492:[[1574,1749],256],64493:[[1574,1749],256],64494:[[1574,1608],256],64495:[[1574,1608],256],64496:[[1574,1735],256],64497:[[1574,1735],256],64498:[[1574,1734],256],64499:[[1574,1734],256],64500:[[1574,1736],256],64501:[[1574,1736],256],64502:[[1574,1744],256],64503:[[1574,1744],256],64504:[[1574,1744],256],64505:[[1574,1609],256],64506:[[1574,1609],256],64507:[[1574,1609],256],64508:[[1740],256],64509:[[1740],256],64510:[[1740],256],64511:[[1740],256]}",
64512:"{64512:[[1574,1580],256],64513:[[1574,1581],256],64514:[[1574,1605],256],64515:[[1574,1609],256],64516:[[1574,1610],256],64517:[[1576,1580],256],64518:[[1576,1581],256],64519:[[1576,1582],256],64520:[[1576,1605],256],64521:[[1576,1609],256],64522:[[1576,1610],256],64523:[[1578,1580],256],64524:[[1578,1581],256],64525:[[1578,1582],256],64526:[[1578,1605],256],64527:[[1578,1609],256],64528:[[1578,1610],256],64529:[[1579,1580],256],64530:[[1579,1605],256],64531:[[1579,1609],256],64532:[[1579,1610],256],64533:[[1580,1581],256],64534:[[1580,1605],256],64535:[[1581,1580],256],64536:[[1581,1605],256],64537:[[1582,1580],256],64538:[[1582,1581],256],64539:[[1582,1605],256],64540:[[1587,1580],256],64541:[[1587,1581],256],64542:[[1587,1582],256],64543:[[1587,1605],256],64544:[[1589,1581],256],64545:[[1589,1605],256],64546:[[1590,1580],256],64547:[[1590,1581],256],64548:[[1590,1582],256],64549:[[1590,1605],256],64550:[[1591,1581],256],64551:[[1591,1605],256],64552:[[1592,1605],256],64553:[[1593,1580],256],64554:[[1593,1605],256],64555:[[1594,1580],256],64556:[[1594,1605],256],64557:[[1601,1580],256],64558:[[1601,1581],256],64559:[[1601,1582],256],64560:[[1601,1605],256],64561:[[1601,1609],256],64562:[[1601,1610],256],64563:[[1602,1581],256],64564:[[1602,1605],256],64565:[[1602,1609],256],64566:[[1602,1610],256],64567:[[1603,1575],256],64568:[[1603,1580],256],64569:[[1603,1581],256],64570:[[1603,1582],256],64571:[[1603,1604],256],64572:[[1603,1605],256],64573:[[1603,1609],256],64574:[[1603,1610],256],64575:[[1604,1580],256],64576:[[1604,1581],256],64577:[[1604,1582],256],64578:[[1604,1605],256],64579:[[1604,1609],256],64580:[[1604,1610],256],64581:[[1605,1580],256],64582:[[1605,1581],256],64583:[[1605,1582],256],64584:[[1605,1605],256],64585:[[1605,1609],256],64586:[[1605,1610],256],64587:[[1606,1580],256],64588:[[1606,1581],256],64589:[[1606,1582],256],64590:[[1606,1605],256],64591:[[1606,1609],256],64592:[[1606,1610],256],64593:[[1607,1580],256],64594:[[1607,1605],256],64595:[[1607,1609],256],64596:[[1607,1610],256],64597:[[1610,1580],256],64598:[[1610,1581],256],64599:[[1610,1582],256],64600:[[1610,1605],256],64601:[[1610,1609],256],64602:[[1610,1610],256],64603:[[1584,1648],256],64604:[[1585,1648],256],64605:[[1609,1648],256],64606:[[32,1612,1617],256],64607:[[32,1613,1617],256],64608:[[32,1614,1617],256],64609:[[32,1615,1617],256],64610:[[32,1616,1617],256],64611:[[32,1617,1648],256],64612:[[1574,1585],256],64613:[[1574,1586],256],64614:[[1574,1605],256],64615:[[1574,1606],256],64616:[[1574,1609],256],64617:[[1574,1610],256],64618:[[1576,1585],256],64619:[[1576,1586],256],64620:[[1576,1605],256],64621:[[1576,1606],256],64622:[[1576,1609],256],64623:[[1576,1610],256],64624:[[1578,1585],256],64625:[[1578,1586],256],64626:[[1578,1605],256],64627:[[1578,1606],256],64628:[[1578,1609],256],64629:[[1578,1610],256],64630:[[1579,1585],256],64631:[[1579,1586],256],64632:[[1579,1605],256],64633:[[1579,1606],256],64634:[[1579,1609],256],64635:[[1579,1610],256],64636:[[1601,1609],256],64637:[[1601,1610],256],64638:[[1602,1609],256],64639:[[1602,1610],256],64640:[[1603,1575],256],64641:[[1603,1604],256],64642:[[1603,1605],256],64643:[[1603,1609],256],64644:[[1603,1610],256],64645:[[1604,1605],256],64646:[[1604,1609],256],64647:[[1604,1610],256],64648:[[1605,1575],256],64649:[[1605,1605],256],64650:[[1606,1585],256],64651:[[1606,1586],256],64652:[[1606,1605],256],64653:[[1606,1606],256],64654:[[1606,1609],256],64655:[[1606,1610],256],64656:[[1609,1648],256],64657:[[1610,1585],256],64658:[[1610,1586],256],64659:[[1610,1605],256],64660:[[1610,1606],256],64661:[[1610,1609],256],64662:[[1610,1610],256],64663:[[1574,1580],256],64664:[[1574,1581],256],64665:[[1574,1582],256],64666:[[1574,1605],256],64667:[[1574,1607],256],64668:[[1576,1580],256],64669:[[1576,1581],256],64670:[[1576,1582],256],64671:[[1576,1605],256],64672:[[1576,1607],256],64673:[[1578,1580],256],64674:[[1578,1581],256],64675:[[1578,1582],256],64676:[[1578,1605],256],64677:[[1578,1607],256],64678:[[1579,1605],256],64679:[[1580,1581],256],64680:[[1580,1605],256],64681:[[1581,1580],256],64682:[[1581,1605],256],64683:[[1582,1580],256],64684:[[1582,1605],256],64685:[[1587,1580],256],64686:[[1587,1581],256],64687:[[1587,1582],256],64688:[[1587,1605],256],64689:[[1589,1581],256],64690:[[1589,1582],256],64691:[[1589,1605],256],64692:[[1590,1580],256],64693:[[1590,1581],256],64694:[[1590,1582],256],64695:[[1590,1605],256],64696:[[1591,1581],256],64697:[[1592,1605],256],64698:[[1593,1580],256],64699:[[1593,1605],256],64700:[[1594,1580],256],64701:[[1594,1605],256],64702:[[1601,1580],256],64703:[[1601,1581],256],64704:[[1601,1582],256],64705:[[1601,1605],256],64706:[[1602,1581],256],64707:[[1602,1605],256],64708:[[1603,1580],256],64709:[[1603,1581],256],64710:[[1603,1582],256],64711:[[1603,1604],256],64712:[[1603,1605],256],64713:[[1604,1580],256],64714:[[1604,1581],256],64715:[[1604,1582],256],64716:[[1604,1605],256],64717:[[1604,1607],256],64718:[[1605,1580],256],64719:[[1605,1581],256],64720:[[1605,1582],256],64721:[[1605,1605],256],64722:[[1606,1580],256],64723:[[1606,1581],256],64724:[[1606,1582],256],64725:[[1606,1605],256],64726:[[1606,1607],256],64727:[[1607,1580],256],64728:[[1607,1605],256],64729:[[1607,1648],256],64730:[[1610,1580],256],64731:[[1610,1581],256],64732:[[1610,1582],256],64733:[[1610,1605],256],64734:[[1610,1607],256],64735:[[1574,1605],256],64736:[[1574,1607],256],64737:[[1576,1605],256],64738:[[1576,1607],256],64739:[[1578,1605],256],64740:[[1578,1607],256],64741:[[1579,1605],256],64742:[[1579,1607],256],64743:[[1587,1605],256],64744:[[1587,1607],256],64745:[[1588,1605],256],64746:[[1588,1607],256],64747:[[1603,1604],256],64748:[[1603,1605],256],64749:[[1604,1605],256],64750:[[1606,1605],256],64751:[[1606,1607],256],64752:[[1610,1605],256],64753:[[1610,1607],256],64754:[[1600,1614,1617],256],64755:[[1600,1615,1617],256],64756:[[1600,1616,1617],256],64757:[[1591,1609],256],64758:[[1591,1610],256],64759:[[1593,1609],256],64760:[[1593,1610],256],64761:[[1594,1609],256],64762:[[1594,1610],256],64763:[[1587,1609],256],64764:[[1587,1610],256],64765:[[1588,1609],256],64766:[[1588,1610],256],64767:[[1581,1609],256]}",64768:"{64768:[[1581,1610],256],64769:[[1580,1609],256],64770:[[1580,1610],256],64771:[[1582,1609],256],64772:[[1582,1610],256],64773:[[1589,1609],256],64774:[[1589,1610],256],64775:[[1590,1609],256],64776:[[1590,1610],256],64777:[[1588,1580],256],64778:[[1588,1581],256],64779:[[1588,1582],256],64780:[[1588,1605],256],64781:[[1588,1585],256],64782:[[1587,1585],256],64783:[[1589,1585],256],64784:[[1590,1585],256],64785:[[1591,1609],256],64786:[[1591,1610],256],64787:[[1593,1609],256],64788:[[1593,1610],256],64789:[[1594,1609],256],64790:[[1594,1610],256],64791:[[1587,1609],256],64792:[[1587,1610],256],64793:[[1588,1609],256],64794:[[1588,1610],256],64795:[[1581,1609],256],64796:[[1581,1610],256],64797:[[1580,1609],256],64798:[[1580,1610],256],64799:[[1582,1609],256],64800:[[1582,1610],256],64801:[[1589,1609],256],64802:[[1589,1610],256],64803:[[1590,1609],256],64804:[[1590,1610],256],64805:[[1588,1580],256],64806:[[1588,1581],256],64807:[[1588,1582],256],64808:[[1588,1605],256],64809:[[1588,1585],256],64810:[[1587,1585],256],64811:[[1589,1585],256],64812:[[1590,1585],256],64813:[[1588,1580],256],64814:[[1588,1581],256],64815:[[1588,1582],256],64816:[[1588,1605],256],64817:[[1587,1607],256],64818:[[1588,1607],256],64819:[[1591,1605],256],64820:[[1587,1580],256],64821:[[1587,1581],256],64822:[[1587,1582],256],64823:[[1588,1580],256],64824:[[1588,1581],256],64825:[[1588,1582],256],64826:[[1591,1605],256],64827:[[1592,1605],256],64828:[[1575,1611],256],64829:[[1575,1611],256],64848:[[1578,1580,1605],256],64849:[[1578,1581,1580],256],64850:[[1578,1581,1580],256],64851:[[1578,1581,1605],256],64852:[[1578,1582,1605],256],64853:[[1578,1605,1580],256],64854:[[1578,1605,1581],256],64855:[[1578,1605,1582],256],64856:[[1580,1605,1581],256],64857:[[1580,1605,1581],256],64858:[[1581,1605,1610],256],64859:[[1581,1605,1609],256],64860:[[1587,1581,1580],256],64861:[[1587,1580,1581],256],64862:[[1587,1580,1609],256],64863:[[1587,1605,1581],256],64864:[[1587,1605,1581],256],64865:[[1587,1605,1580],256],64866:[[1587,1605,1605],256],64867:[[1587,1605,1605],256],64868:[[1589,1581,1581],256],64869:[[1589,1581,1581],256],64870:[[1589,1605,1605],256],64871:[[1588,1581,1605],256],64872:[[1588,1581,1605],256],64873:[[1588,1580,1610],256],64874:[[1588,1605,1582],256],64875:[[1588,1605,1582],256],64876:[[1588,1605,1605],256],64877:[[1588,1605,1605],256],64878:[[1590,1581,1609],256],64879:[[1590,1582,1605],256],64880:[[1590,1582,1605],256],64881:[[1591,1605,1581],256],64882:[[1591,1605,1581],256],64883:[[1591,1605,1605],256],64884:[[1591,1605,1610],256],64885:[[1593,1580,1605],256],64886:[[1593,1605,1605],256],64887:[[1593,1605,1605],256],64888:[[1593,1605,1609],256],64889:[[1594,1605,1605],256],64890:[[1594,1605,1610],256],64891:[[1594,1605,1609],256],64892:[[1601,1582,1605],256],64893:[[1601,1582,1605],256],64894:[[1602,1605,1581],256],64895:[[1602,1605,1605],256],64896:[[1604,1581,1605],256],64897:[[1604,1581,1610],256],64898:[[1604,1581,1609],256],64899:[[1604,1580,1580],256],64900:[[1604,1580,1580],256],64901:[[1604,1582,1605],256],64902:[[1604,1582,1605],256],64903:[[1604,1605,1581],256],64904:[[1604,1605,1581],256],64905:[[1605,1581,1580],256],64906:[[1605,1581,1605],256],64907:[[1605,1581,1610],256],64908:[[1605,1580,1581],256],64909:[[1605,1580,1605],256],64910:[[1605,1582,1580],256],64911:[[1605,1582,1605],256],64914:[[1605,1580,1582],256],64915:[[1607,1605,1580],256],64916:[[1607,1605,1605],256],64917:[[1606,1581,1605],256],64918:[[1606,1581,1609],256],64919:[[1606,1580,1605],256],64920:[[1606,1580,1605],256],64921:[[1606,1580,1609],256],64922:[[1606,1605,1610],256],64923:[[1606,1605,1609],256],64924:[[1610,1605,1605],256],64925:[[1610,1605,1605],256],64926:[[1576,1582,1610],256],64927:[[1578,1580,1610],256],64928:[[1578,1580,1609],256],64929:[[1578,1582,1610],256],64930:[[1578,1582,1609],256],64931:[[1578,1605,1610],256],64932:[[1578,1605,1609],256],64933:[[1580,1605,1610],256],64934:[[1580,1581,1609],256],64935:[[1580,1605,1609],256],64936:[[1587,1582,1609],256],64937:[[1589,1581,1610],256],64938:[[1588,1581,1610],256],64939:[[1590,1581,1610],256],64940:[[1604,1580,1610],256],64941:[[1604,1605,1610],256],64942:[[1610,1581,1610],256],64943:[[1610,1580,1610],256],64944:[[1610,1605,1610],256],64945:[[1605,1605,1610],256],64946:[[1602,1605,1610],256],64947:[[1606,1581,1610],256],64948:[[1602,1605,1581],256],64949:[[1604,1581,1605],256],64950:[[1593,1605,1610],256],64951:[[1603,1605,1610],256],64952:[[1606,1580,1581],256],64953:[[1605,1582,1610],256],64954:[[1604,1580,1605],256],64955:[[1603,1605,1605],256],64956:[[1604,1580,1605],256],64957:[[1606,1580,1581],256],64958:[[1580,1581,1610],256],64959:[[1581,1580,1610],256],64960:[[1605,1580,1610],256],64961:[[1601,1605,1610],256],64962:[[1576,1581,1610],256],64963:[[1603,1605,1605],256],64964:[[1593,1580,1605],256],64965:[[1589,1605,1605],256],64966:[[1587,1582,1610],256],64967:[[1606,1580,1610],256],65008:[[1589,1604,1746],256],65009:[[1602,1604,1746],256],65010:[[1575,1604,1604,1607],256],65011:[[1575,1603,1576,1585],256],65012:[[1605,1581,1605,1583],256],65013:[[1589,1604,1593,1605],256],65014:[[1585,1587,1608,1604],256],65015:[[1593,1604,1610,1607],256],65016:[[1608,1587,1604,1605],256],65017:[[1589,1604,1609],256],65018:[[1589,1604,1609,32,1575,1604,1604,1607,32,1593,1604,1610,1607,32,1608,1587,1604,1605],256],65019:[[1580,1604,32,1580,1604,1575,1604,1607],256],65020:[[1585,1740,1575,1604],256]}",65024:"{65040:[[44],256],65041:[[12289],256],65042:[[12290],256],65043:[[58],256],65044:[[59],256],65045:[[33],256],65046:[[63],256],65047:[[12310],256],65048:[[12311],256],65049:[[8230],256],65056:[,230],65057:[,230],65058:[,230],65059:[,230],65060:[,230],65061:[,230],65062:[,230],65072:[[8229],256],65073:[[8212],256],65074:[[8211],256],65075:[[95],256],65076:[[95],256],65077:[[40],256],65078:[[41],256],65079:[[123],256],65080:[[125],256],65081:[[12308],256],65082:[[12309],256],65083:[[12304],256],65084:[[12305],256],65085:[[12298],256],65086:[[12299],256],65087:[[12296],256],65088:[[12297],256],65089:[[12300],256],65090:[[12301],256],65091:[[12302],256],65092:[[12303],256],65095:[[91],256],65096:[[93],256],65097:[[8254],256],65098:[[8254],256],65099:[[8254],256],65100:[[8254],256],65101:[[95],256],65102:[[95],256],65103:[[95],256],65104:[[44],256],65105:[[12289],256],65106:[[46],256],65108:[[59],256],65109:[[58],256],65110:[[63],256],65111:[[33],256],65112:[[8212],256],65113:[[40],256],65114:[[41],256],65115:[[123],256],65116:[[125],256],65117:[[12308],256],65118:[[12309],256],65119:[[35],256],65120:[[38],256],65121:[[42],256],65122:[[43],256],65123:[[45],256],65124:[[60],256],65125:[[62],256],65126:[[61],256],65128:[[92],256],65129:[[36],256],65130:[[37],256],65131:[[64],256],65136:[[32,1611],256],65137:[[1600,1611],256],65138:[[32,1612],256],65140:[[32,1613],256],65142:[[32,1614],256],65143:[[1600,1614],256],65144:[[32,1615],256],65145:[[1600,1615],256],65146:[[32,1616],256],65147:[[1600,1616],256],65148:[[32,1617],256],65149:[[1600,1617],256],65150:[[32,1618],256],65151:[[1600,1618],256],65152:[[1569],256],65153:[[1570],256],65154:[[1570],256],65155:[[1571],256],65156:[[1571],256],65157:[[1572],256],65158:[[1572],256],65159:[[1573],256],65160:[[1573],256],65161:[[1574],256],65162:[[1574],256],65163:[[1574],256],65164:[[1574],256],65165:[[1575],256],65166:[[1575],256],65167:[[1576],256],65168:[[1576],256],65169:[[1576],256],65170:[[1576],256],65171:[[1577],256],65172:[[1577],256],65173:[[1578],256],65174:[[1578],256],65175:[[1578],256],65176:[[1578],256],65177:[[1579],256],65178:[[1579],256],65179:[[1579],256],65180:[[1579],256],65181:[[1580],256],65182:[[1580],256],65183:[[1580],256],65184:[[1580],256],65185:[[1581],256],65186:[[1581],256],65187:[[1581],256],65188:[[1581],256],65189:[[1582],256],65190:[[1582],256],65191:[[1582],256],65192:[[1582],256],65193:[[1583],256],65194:[[1583],256],65195:[[1584],256],65196:[[1584],256],65197:[[1585],256],65198:[[1585],256],65199:[[1586],256],65200:[[1586],256],65201:[[1587],256],65202:[[1587],256],65203:[[1587],256],65204:[[1587],256],65205:[[1588],256],65206:[[1588],256],65207:[[1588],256],65208:[[1588],256],65209:[[1589],256],65210:[[1589],256],65211:[[1589],256],65212:[[1589],256],65213:[[1590],256],65214:[[1590],256],65215:[[1590],256],65216:[[1590],256],65217:[[1591],256],65218:[[1591],256],65219:[[1591],256],65220:[[1591],256],65221:[[1592],256],65222:[[1592],256],65223:[[1592],256],65224:[[1592],256],65225:[[1593],256],65226:[[1593],256],65227:[[1593],256],65228:[[1593],256],65229:[[1594],256],65230:[[1594],256],65231:[[1594],256],65232:[[1594],256],65233:[[1601],256],65234:[[1601],256],65235:[[1601],256],65236:[[1601],256],65237:[[1602],256],65238:[[1602],256],65239:[[1602],256],65240:[[1602],256],65241:[[1603],256],65242:[[1603],256],65243:[[1603],256],65244:[[1603],256],65245:[[1604],256],65246:[[1604],256],65247:[[1604],256],65248:[[1604],256],65249:[[1605],256],65250:[[1605],256],65251:[[1605],256],65252:[[1605],256],65253:[[1606],256],65254:[[1606],256],65255:[[1606],256],65256:[[1606],256],65257:[[1607],256],65258:[[1607],256],65259:[[1607],256],65260:[[1607],256],65261:[[1608],256],65262:[[1608],256],65263:[[1609],256],65264:[[1609],256],65265:[[1610],256],65266:[[1610],256],65267:[[1610],256],65268:[[1610],256],65269:[[1604,1570],256],65270:[[1604,1570],256],65271:[[1604,1571],256],65272:[[1604,1571],256],65273:[[1604,1573],256],65274:[[1604,1573],256],65275:[[1604,1575],256],65276:[[1604,1575],256]}",65280:"{65281:[[33],256],65282:[[34],256],65283:[[35],256],65284:[[36],256],65285:[[37],256],65286:[[38],256],65287:[[39],256],65288:[[40],256],65289:[[41],256],65290:[[42],256],65291:[[43],256],65292:[[44],256],65293:[[45],256],65294:[[46],256],65295:[[47],256],65296:[[48],256],65297:[[49],256],65298:[[50],256],65299:[[51],256],65300:[[52],256],65301:[[53],256],65302:[[54],256],65303:[[55],256],65304:[[56],256],65305:[[57],256],65306:[[58],256],65307:[[59],256],65308:[[60],256],65309:[[61],256],65310:[[62],256],65311:[[63],256],65312:[[64],256],65313:[[65],256],65314:[[66],256],65315:[[67],256],65316:[[68],256],65317:[[69],256],65318:[[70],256],65319:[[71],256],65320:[[72],256],65321:[[73],256],65322:[[74],256],65323:[[75],256],65324:[[76],256],65325:[[77],256],65326:[[78],256],65327:[[79],256],65328:[[80],256],65329:[[81],256],65330:[[82],256],65331:[[83],256],65332:[[84],256],65333:[[85],256],65334:[[86],256],65335:[[87],256],65336:[[88],256],65337:[[89],256],65338:[[90],256],65339:[[91],256],65340:[[92],256],65341:[[93],256],65342:[[94],256],65343:[[95],256],65344:[[96],256],65345:[[97],256],65346:[[98],256],65347:[[99],256],65348:[[100],256],65349:[[101],256],65350:[[102],256],65351:[[103],256],65352:[[104],256],65353:[[105],256],65354:[[106],256],65355:[[107],256],65356:[[108],256],65357:[[109],256],65358:[[110],256],65359:[[111],256],65360:[[112],256],65361:[[113],256],65362:[[114],256],65363:[[115],256],65364:[[116],256],65365:[[117],256],65366:[[118],256],65367:[[119],256],65368:[[120],256],65369:[[121],256],65370:[[122],256],65371:[[123],256],65372:[[124],256],65373:[[125],256],65374:[[126],256],65375:[[10629],256],65376:[[10630],256],65377:[[12290],256],65378:[[12300],256],65379:[[12301],256],65380:[[12289],256],65381:[[12539],256],65382:[[12530],256],65383:[[12449],256],65384:[[12451],256],65385:[[12453],256],65386:[[12455],256],65387:[[12457],256],65388:[[12515],256],65389:[[12517],256],65390:[[12519],256],65391:[[12483],256],65392:[[12540],256],65393:[[12450],256],65394:[[12452],256],65395:[[12454],256],65396:[[12456],256],65397:[[12458],256],65398:[[12459],256],65399:[[12461],256],65400:[[12463],256],65401:[[12465],256],65402:[[12467],256],65403:[[12469],256],65404:[[12471],256],65405:[[12473],256],65406:[[12475],256],65407:[[12477],256],65408:[[12479],256],65409:[[12481],256],65410:[[12484],256],65411:[[12486],256],65412:[[12488],256],65413:[[12490],256],65414:[[12491],256],65415:[[12492],256],65416:[[12493],256],65417:[[12494],256],65418:[[12495],256],65419:[[12498],256],65420:[[12501],256],65421:[[12504],256],65422:[[12507],256],65423:[[12510],256],65424:[[12511],256],65425:[[12512],256],65426:[[12513],256],65427:[[12514],256],65428:[[12516],256],65429:[[12518],256],65430:[[12520],256],65431:[[12521],256],65432:[[12522],256],65433:[[12523],256],65434:[[12524],256],65435:[[12525],256],65436:[[12527],256],65437:[[12531],256],65438:[[12441],256],65439:[[12442],256],65440:[[12644],256],65441:[[12593],256],65442:[[12594],256],65443:[[12595],256],65444:[[12596],256],65445:[[12597],256],65446:[[12598],256],65447:[[12599],256],65448:[[12600],256],65449:[[12601],256],65450:[[12602],256],65451:[[12603],256],65452:[[12604],256],65453:[[12605],256],65454:[[12606],256],65455:[[12607],256],65456:[[12608],256],65457:[[12609],256],65458:[[12610],256],65459:[[12611],256],65460:[[12612],256],65461:[[12613],256],65462:[[12614],256],65463:[[12615],256],65464:[[12616],256],65465:[[12617],256],65466:[[12618],256],65467:[[12619],256],65468:[[12620],256],65469:[[12621],256],65470:[[12622],256],65474:[[12623],256],65475:[[12624],256],65476:[[12625],256],65477:[[12626],256],65478:[[12627],256],65479:[[12628],256],65482:[[12629],256],65483:[[12630],256],65484:[[12631],256],65485:[[12632],256],65486:[[12633],256],65487:[[12634],256],65490:[[12635],256],65491:[[12636],256],65492:[[12637],256],65493:[[12638],256],65494:[[12639],256],65495:[[12640],256],65498:[[12641],256],65499:[[12642],256],65500:[[12643],256],65504:[[162],256],65505:[[163],256],65506:[[172],256],65507:[[175],256],65508:[[166],256],65509:[[165],256],65510:[[8361],256],65512:[[9474],256],65513:[[8592],256],65514:[[8593],256],65515:[[8594],256],65516:[[8595],256],65517:[[9632],256],65518:[[9675],256]}"},exports.nfc=UNorm.nfc,exports.nfd=UNorm.nfd,exports.nfkc=UNorm.nfkc,exports.nfkd=UNorm.nfkd,exports}.call(exports,__webpack_require__,exports,module),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},function(e,t,n){var r,i;(function(o,a){r=[n(357),n(318),n(369),n(297),n(191)],i=function(e,t,n,r,i){var s=n.lineAttributeMarker,c=function(){},u={};return u.addToLineClass=function(e,t){return t.replace(/\S+/g,function(t){0==t.indexOf("line:")&&(e=(e?e+" ":"")+t.substring(5))}),e},u.createDomLine=function(r,l,f,p,d,h){function m(e){return u.processSpaces(e,l)}function v(){var e=T(w.join(""));if(e||(e+=y&&f?"<br/>":"&nbsp;"),r&&(e=(_||"")+e+(x||"")),w=_=x="",e!==C&&(C=e,g.node.innerHTML=C),null!==S){if(h){var a=function(e){if(!e)return"";var t=e.split(" ");return t.length>=2?t[0]+" "+t[t.length-1].substr(0,1):e},s=S.split(" ").filter(function(e){return e.match("^gutter-author-|^author-")});if(s){var c=o.map(s,n.linestylefilter.className2Author);if(c.length){var u=i.getUserName(c[0]);u&&7!=c[0]&&0!=c[0]&&(window.cow.doceditor&&(window.cow.doceditor[u]=c[0]),g.node.setAttribute("data-author-name",a(u)))}}}g.node.className=S}t.callAll("acePostWriteDomLineHTML",{node:g.node})}var g={node:null,appendSpan:c,prepareForAdd:c,notifyAdded:c,clearSpans:c,finishUpdate:c,lineMarker:0},y=p,b=d;y?g.node=y.createElement("div"):g.node={innerHTML:"",className:""};var w=[],_="",x="",C=null,k=l?o.identity:m,T=l?m:o.identity,S="ace-line";return g.appendSpan=function(n,r){var i=!1;if(r.indexOf(s)>=0){var c=/(?:^| )list:(\S+)/.exec(r),l=/(?:^| )start:(\S+)/.exec(r),f=/(?:addition|deletion)/.exec(r);if(f=null!==f?" list-"+f[0]:"",o.map(t.callAll("aceDomLinePreProcessLineAttributes",{domline:u,cls:r}),function(e){_+=e.preHtml,x+=e.postHtml,i|=e.processedMarker}),c&&(c=c[1],c&&" list-deletion"!==f&&(c.indexOf("number")<0&&c.indexOf("code")<0?(_+='<ul class="list-'+e.escapeHTMLAttribute(c)+f+'"><li>',x="</li></ul>"+x):(l?(1==l[1]&&(S=S+" list-start-"+c),_+="<ol start="+l[1]+' class="list-'+e.escapeHTMLAttribute(c)+f+'"><li>'):_+='<ol class="list-'+e.escapeHTMLAttribute(c)+'"><li>',x+="</li></ol>")),i=!0),o.map(t.callAll("aceDomLineProcessLineAttributes",{domline:u,cls:r}),function(e){_+=e.preHtml,x+=e.postHtml,i|=e.processedMarker}),i)return void(g.lineMarker+=n.length)}var p=null,d=null;r.indexOf("url")>=0&&(r=r.replace(/(^| )url:(\S+)/g,function(e,t,n){return p=n,t+"url"})),r.indexOf("tag")>=0&&(r=r.replace(/(^| )tag:(\S+)/g,function(e,t,n){return d||(d=[]),d.push(n.toLowerCase()),t+n})),r.indexOf("mention")>=0&&(r=r.replace(/(^| )mention:(.+?(-\w{16}))/g,function(e,t,r){if(n&&n.match(/^\s+$/)){var i=r.split("-"),o=i.shift(),a=i.shift(),s=i.pop(),c=i.join("-");return b&&(b.updateMentionList(o,a,["name",c]),window.cow.mentionIdToNameMap||(window.cow.mentionIdToNameMap={}),window.cow.mentionIdToNameMap[a]=c),t+"mention "+o+"-"+a+" "+s}return""}));var h="",m="";if(o.map(t.callAll("aceCreateDomLine",{domline:u,cls:r}),function(e){r=e.cls,h+=e.extraOpenTags,m=e.extraCloseTags+m}),r.indexOf("deletion")>-1&&(h+="<span class='inner'>",m="</span>"+m),!n&&r)S=u.addToLineClass(S,r);else if(n){p&&(~p.indexOf("://")||~p.indexOf("mailto:")||(p="http://"+p),h=h+'<a href="'+e.escapeHTMLAttribute(p)+'">',m="</a>"+m),d&&(d.sort(),h=h+"<"+d.join("><")+">",d.reverse(),m="</"+d.join("></")+">"+m);var v="";v=r.match(/horizontal-line/)?'<span contenteditable="false" class="'+e.escapeHTMLAttribute(r||"")+'">'+h+k(e.escapeHTML(n))+m+"</span>":'<span class="'+e.escapeHTMLAttribute(r||"")+'">'+h+k(e.escapeHTML(n))+m+"</span>",a(v).find(".not-render").length>0&&($dom=a(v),$dom.find(".not-render").remove(),v=a("<div>").append($dom).html()),w.push(v)}},g.clearSpans=function(){w=[],S="",g.lineMarker=0},g.prepareForAdd=v,g.finishUpdate=v,g.getInnerHTML=function(){return C||""},g.getHtmls=function(){return{preHtml:_,postHtml:x,html:w}},g},u.processSpaces=function(e,t){if(e.indexOf("<")<0&&!t)return e.replace(/ /g,"&nbsp;");var n=[];if(e.replace(/<[^>]*>?| |[^ <]+/g,function(e){n.push(e)}),t){for(var r=!0,i=!1,o=n.length-1;o>=0;o--){var a=n[o];" "==a?((r||i)&&(n[o]="&nbsp;"),r=!1,i=!0):"<"!=a.charAt(0)&&(r=!1,i=!1)}for(var o=0;o<n.length;o++){var a=n[o];if(" "==a){n[o]="&nbsp;";break}if("<"!=a.charAt(0))break}}else for(var o=0;o<n.length;o++){var a=n[o];" "==a&&(n[o]="&nbsp;")}return n.join("")},u}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(4),n(1))},function(e,t,n){var r,i;(function(o){r=[n(315),n(318),n(370)],i=function(e,t,n){var r={},i={};i.ATTRIB_CLASSES={bold:"tag:b",italic:"tag:i",underline:"tag:u",strikethrough:"tag:s",autolink:"tag:autolink"};var a="lineAttribMarker";return r.lineAttributeMarker=a,i.getAuthorClassName=function(e){return"author-"+e.replace(/[^a-y0-9]/g,function(e){return"."==e||"-"==e?"-":"z"+e.charCodeAt(0)+"z"})},i.className2Author=function(e){var t=e.replace(/^fa-author-|^author-|^gutter-author-/,"");return t!=e?t.replace(/[a-y0-9]+|-|z.+?z/g,function(e){return"-"==e?".":"z"==e.charAt(0)?String.fromCharCode(Number(e.slice(1,-1))):e}):null},i.getLineStyleFilter=function(r,s,c,u){if(0==r)return c;var l=c,f=function(){function c(r,s){var c="",l=!1;return e.eachAttribNumber(r,function(a){var f=u.getAttribKey(a);if(f){var p=u.getAttribValue(a),d=f.match(/line-style:(.+)/);if(p)if(!l&&o.indexOf(n.lineAttributes,f)>=0&&(l=!0),"list"==f&&(b=!0,"code1"===p&&(w=!0)),"doc-table"===f&&(_=!0),"line-align"===f&&(T=p),"hrline"===f&&(S=1===+p),"text-indent"===f&&(E="true"===p),d&&d[1]&&("line-bold"==d[1]||"line-italic"==d[1]||"line-underline"==d[1]||"line-strikethrough"==d[1]?x.push(d[1]):x.push(d[1]+"-"+p)),"addition"!=f&&"deletion"!=f||(c+=" "+f),"lineguid"==f&&k.indexOf(p)==-1&&k.push(p),"dragAndDropPlaceholder"==f&&(c+=" drag-and-drop-placeholder"),"author"==f){hasAuthor=!0;var h=!1;e.eachAttribNumber(r,function(e){var t=u.getAttribKey(e);t&&"list"==t&&(h=!0)}),s>I&&(A=p,I=s),c+=" "+i.getAuthorClassName(p)}else if("heading"==f&&p>=0)C.exit=!0,C.value=p;else if("list"==f)c+=" list:"+p;else if("start"==f)c+=" start:"+p;else if(i.ATTRIB_CLASSES[f]){var m;m="bold"!==f&&"italic"!==f&&"underline"!==f&&"strikethrough"!==f||"none"!==p?i.ATTRIB_CLASSES[f]:"tag:un"+f,c+=" "+m}else c+=t.callAllStr("aceAttribsToClasses",{linestylefilter:i,key:f,value:p}," "," ","")}}),l&&(c+=" "+a),c.substring(1)}function f(){m=O.next(),v=m.opcode&&c(m.attribs,m.chars)}function p(){if(y<g)for(d=v,h=m.chars,f();m.opcode&&v==d;)h+=m.chars,f()}var d,h,m,v,g=r,y=0,b=!1,w=!1,_=!1,x=[],C={},k=[],T="",S=!1,E=!1,A=null,I=0,O=e.opIterator(s);return f(),p(),function(e,n){for(var r=t.callAll("disableAuthorColorsForThisLine",{linestylefilter:i,text:e,class:n}," "," ",""),o=null!=r&&0!=r.length&&r[0];e.length>0;){if(h<=0||o)return l(e,n);var a=e.length;a>h&&(a=h);var s=e.substring(0,a);e=e.substring(a),l(s,(n&&n+" ")+d),y+=a,h-=a,0==h&&p()}var c="";x.forEach(function(e){e.match(/heading-\d/)||(c+=" line:"+e)}),c+=A?" line:gutter-"+i.getAuthorClassName(A):" line:gutter-noauthor",T&&(c+=" line:line-"+T),_&&(c+=" line:table-div"),b&&(c+=" line:list-div"),w&&(c+=" line:list-code"),C.exit&&(c+=" line:heading-"+C.value),k.length&&(c+=" line:locate",k.forEach(function(e){c+=" line:lineguid-"+e})),S&&(c+=" line:hrline"),E&&(c+=" line:text-indent"),l("",c)}}();return f},i.getAtSignSplitterFilter=function(e,t){var n=/@/g;n.lastIndex=0;for(var r,o=null;r=n.exec(e);)o||(o=[]),o.push(r.index);return o?i.textAndClassFuncSplitter(t,o):t},i.getRegexpFilter=function(e,t){return function(n,r){function o(e){for(var t=0;t<s.length;t++){var n=s[t];if(e>=n[0]&&e<n[0]+n[1].length)return n[1]}return!1}e.lastIndex=0;for(var a,s=null,c=null;a=e.exec(n);){s||(s=[],c=[]);var u=a.index,l=a[0];s.push([u,l]),c.push(u,u+l.length)}if(!s)return r;var f=function(){var e=0;return function(n,i){var a=n.length,s=i,c=o(e);c&&(s+=" "+t+":"+c),r(n,s),e+=a}}();return i.textAndClassFuncSplitter(f,c)}},i.REGEX_WORDCHAR=/[\u0030-\u0039\u0041-\u005A\u0061-\u007A\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF\u0100-\u1FFF\u3040-\u9FFF\uF900-\uFDFF\uFE70-\uFEFE\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFDC]/,i.REGEX_URLCHAR=new RegExp("("+/[-:@a-zA-Z0-9_.,~%+\/\\?=&#!;()\[\]$]/.source+"|"+i.REGEX_WORDCHAR.source+")"),i.REGEX_URL=new RegExp(/(?:(?:https?|s?ftp|ftps|file|nfs):\/\/|mailto:|www\.)/.source+i.REGEX_URLCHAR.source+"*(?![:.,;])"+i.REGEX_URLCHAR.source,"g"),i.getURLFilter=i.getRegexpFilter(i.REGEX_URL,"url"),i.textAndClassFuncSplitter=function(e,t){function n(o,a){if(!t||r>=t.length)e(o,a),i+=o.length;else{var s=t,c=s[r]-i,u=o.length;c>=u?(e(o,a),i+=o.length,c==u&&r++):(c>0&&(e(o.substring(0,c),a),i+=c),r++,n(o.substring(c),a))}}for(var r=0,i=0;t&&r<t.length&&0==t[r];)r++;return n},i.getFilterStack=function(e,n,r){var a=i.getURLFilter(e,n),s=t.callAll("aceGetFilterStack",{linestylefilter:i,browser:r});return o.map(s,function(t){a=t(e,a)}),void 0!==r&&r.msie&&(a=i.getAtSignSplitterFilter(e,a)),a},i.populateDomLine=function(e,t,n,r){function o(e,t){r.appendSpan(e,t)}var a=e;"\n"==a.slice(-1)&&(a=a.substring(0,a.length-1));var s=i.getFilterStack(a,o);(s=i.getLineStyleFilter(a.length,t,s,n))(a,"")},r.linestylefilter=i,r}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(4))},function(e,t,n){var r,i;(function(o){r=[n(315),n(329)],i=function(e,t){var n="lmkr",r=[n,"list"],i=function(e,t){this.rep=e,this.applyChangesetCallback=t,this.author=""};return i.lineAttributes=r,i.prototype=o.extend(i.prototype,{applyChangeset:function(t){if(!this.applyChangesetCallback)return t;var n=t.toString();return e.isIdentity(n)||this.applyChangesetCallback(n),t},setAttributesOnRange:function(n,r,i){var o=e.builder(this.rep.lines.totalWidth());return t.buildKeepToStartOfRange(this.rep,o,n),t.buildKeepRange(this.rep,o,n,r,i,this.rep.apool),this.applyChangeset(o),window.pad.padeditor.ace.checkAttributeOnSelection("selection")},lineHasMarker:function(e){var t=this;return void 0!==o.find(r,function(n){return""!=t.getAttributeOnLine(e,n)})},getAttributeOnLine:function(t,n){var r=this.rep.alines[t];if(r){var i=e.opIterator(r);if(i.hasNext())return e.opAttributeValue(i.next(),n,this.rep.apool)||""}return""},findAttributeOnLine:function(t,n){var r="",i=this.rep.alines[t];if(i)for(var o=this.rep.apool,a=e.opIterator(i);a.hasNext();){var s=a.next().attribs;s&&e.eachAttribNumber(s,function(e){o.getAttribKey(e)==n&&(r=o.getAttribValue(e))})}return r},setAttributesOnLine:function(r,i){var o=[0,0],a=e.builder(this.rep.lines.totalWidth()),s=this.lineHasMarker(r);if(t.buildKeepRange(this.rep,a,o,o=[r,0]),s)t.buildKeepRange(this.rep,a,o,o=[r,1],i,this.rep.apool);else{var c=[["author",this.author],["insertorder","first"],[n,"1"]];c=c.concat(i),a.insert("*",c,this.rep.apool)}return this.applyChangeset(a)},setAttributeOnLine:function(r,i,o){var a=[0,0],s=e.builder(this.rep.lines.totalWidth()),c=this.lineHasMarker(r);return t.buildKeepRange(this.rep,s,a,a=[r,0]),c?t.buildKeepRange(this.rep,s,a,a=[r,1],[[i,o]],this.rep.apool):s.insert("*",[["author",this.author],["insertorder","first"],[n,"1"],[i,o]],this.rep.apool),this.applyChangeset(s)},removeAttributeOnLine:function(n,r,i){var o=[0,0],a=e.builder(this.rep.lines.totalWidth()),s=this.lineHasMarker(n);return s&&(t.buildKeepRange(this.rep,a,o,o=[n,0]),t.buildRemoveRange(this.rep,a,o,o=[n,1])),this.applyChangeset(a)},toggleAttributeOnLine:function(e,t,n){return this.getAttributeOnLine(t)?this.removeAttributeOnLine(e,t):this.setAttributeOnLine(e,t,n)}}),i}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(4))},function(e,t,n){var r,i;(function(o){r=[n(358)],i=function(e){function t(){function e(e){var t=d.levels,n=t-1,r=-1,i=0,o=new Array(t),a=new Array(t),s=new Array(t);for(o[n]=d,a[n]=-1,s[n]=0;n>=0;){for(var c=o[n];c.downPtrs[n]&&r+c.downSkips[n]<e;)r+=c.downSkips[n],i+=c.downSkipWidths[n],c=c.downPtrs[n];o[n]=c,a[n]=r,s[n]=i,n--,n>=0&&(o[n]=c)}return{nodes:o,idxs:a,loc:e,widthSkips:s,toString:function(){return"getPoint("+e+")"}}}function t(e){for(var t=0,n=d,r=d.levels-1;r>=0&&n.downPtrs[r];){for(;n.downPtrs[r]&&t+n.downSkipWidths[r]<=e;)t+=n.downSkipWidths[r],n=n.downPtrs[r];r--}return n===d?d.downPtrs[0]||null:n===h?e==v?h.upPtrs[0]||null:null:n}function r(e){
return e&&e.width||0}function i(e,t,n){var i=p("insertKey",!1),o={key:t,levels:0,upPtrs:[],downPtrs:[],downSkips:[],downSkipWidths:[]};i.mark("donealloc");var a=e.nodes,s=e.idxs,c=e.loc,u=e.widthSkips[0]+e.nodes[0].downSkipWidths[0],l=r(n);for(i.mark("loop1");0==o.levels||Math.random()<.01;){var f=o.levels;o.levels++,f==a.length&&(a[f]=d,s[f]=-1,d.levels++,h.levels++,d.downPtrs[f]=h,h.upPtrs[f]=d,d.downSkips[f]=m+1,d.downSkipWidths[f]=v,e.widthSkips[f]=0);var y=o,b=a[f],w=b.downPtrs[f],_=c-s[f],x=b.downSkips[f]+1-_;b.downSkips[f]=_,b.downPtrs[f]=y,y.downSkips[f]=x,y.upPtrs[f]=b,y.downPtrs[f]=w,w.upPtrs[f]=y;var C=u-e.widthSkips[f],k=b.downSkipWidths[f]+l-C;b.downSkipWidths[f]=C,y.downSkipWidths[f]=k}i.mark("loop2"),i.literal(a.length,"PNL");for(var f=o.levels;f<a.length;f++){var b=a[f];b.downSkips[f]++,b.downSkipWidths[f]+=l}i.mark("map"),g["$KEY$"+t]=o,m++,v+=l,i.end()}function a(e){return e.nodes[0].downPtrs[0]}function s(e){for(var t=e.nodes[0].downPtrs[0],n=r(t.entry),i=0;i<e.nodes.length;i++)if(i<t.levels){var o=t.upPtrs[i],a=t.downPtrs[i],s=o.downSkips[i]+t.downSkips[i]-1;o.downPtrs[i]=a,a.upPtrs[i]=o,o.downSkips[i]=s;var c=o.downSkipWidths[i]+t.downSkipWidths[i]-n;o.downSkipWidths[i]=c}else{var o=e.nodes[i],a=o.downPtrs[i];o.downSkips[i]--,o.downSkipWidths[i]-=n}delete g["$KEY$"+t.key],m--,v-=n}function c(e){for(var t=e.downSkipWidths[0],n=r(e.entry),i=n-t,o=e,a=0;a<o.levels;)for(o.downSkipWidths[a]+=i,a++;a>=o.levels&&o.upPtrs[a-1];)o=o.upPtrs[a-1];v+=i}function u(e,t){for(var n=t?0:-1,r=e;r!==d;){var i=r.levels-1;r=r.upPtrs[i],n+=t?r.downSkipWidths[i]:r.downSkips[i]}return n}function l(e){return g["$KEY$"+e]}function f(e){function t(t){return t!==d&&(t===h||e(t.entry))}for(var n=d,r=d.levels-1,i=-1;r>=0;){for(var o=n.downPtrs[r];!t(o);)i+=n.downSkips[r],n=o,o=n.downPtrs[r];r--}return i+1}var p=window.PROFILER;p||(p=function(){return{start:n,mark:n,literal:n,end:n,cancel:n}});var d={key:null,levels:1,upPtrs:[null],downPtrs:[null],downSkips:[1],downSkipWidths:[0]},h={key:null,levels:1,upPtrs:[null],downPtrs:[null],downSkips:[null],downSkipWidths:[null]},m=0,v=0,g={};d.downPtrs[0]=h,h.upPtrs[0]=d;var y=this;o.extend(this,{length:function(){return m},atIndex:function(t){return t<0&&console.warn("atIndex("+t+")"),t>=m&&console.warn("atIndex("+t+">="+m+")"),a(e(t)).entry},splice:function(t,n,r){t<0&&console.warn("splice("+t+", ...)"),t+n>m&&(console.warn("splice("+t+", "+n+", ...), N="+m),console.warn("%s %s %s",typeof t,typeof n,typeof m),console.trace()),r||(r=[]);for(var o=e(t),a=0;a<n;a++)s(o);for(var a=r.length-1;a>=0;a--){var c=r[a];i(o,c.key,c);var u=l(c.key);u.entry=c}},next:function(e){return l(e.key).downPtrs[0].entry||null},prev:function(e){return e?l(e.key).upPtrs[0].entry||null:null},push:function(e){y.splice(m,0,[e])},slice:function(e,t){if(void 0===e?e=0:e<0&&(e+=m),void 0===t?t=m:t<0&&(t+=m),e<0&&(e=0),e>m&&(e=m),t<0&&(t=0),t>m&&(t=m),dmesg(String([e,t,m])),t<=e)return[];for(var n=y.atIndex(e),r=[n],i=1;i<t-e;i++)n=y.next(n),r.push(n);return r},atKey:function(e){var t=l(e);return t?t.entry:null},indexOfKey:function(e){return u(l(e))},indexOfEntry:function(e){return y.indexOfKey(e.key)},containsKey:function(e){return!!l(e)},atOffset:function(e){var n=t(e);if(n)return n.entry},keyAtOffset:function(e){return y.atOffset(e).key},offsetOfKey:function(e){return u(l(e),!0)},offsetOfEntry:function(e){return y.offsetOfKey(e.key)},setEntryWidth:function(e,t){e.width=t,c(l(e.key))},totalWidth:function(){return v},offsetOfIndex:function(e){return e<0?0:e>=m?v:y.offsetOfEntry(y.atIndex(e))},indexOfOffset:function(e){return e<=0?0:e>=v?m:y.indexOfEntry(y.atOffset(e))},search:function(e){return f(e)},debugGetPoint:e,debugDepth:function(){return d.levels}})}var n=e.noop;return t}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(4))},function(e,t,n){var r,i;r=[],i=function(){var e={};return e.css2triple=function(t){function n(e){return Number("0x"+e)/255}var r=e.css2sixhex(t);return[n(r.substr(0,2)),n(r.substr(2,2)),n(r.substr(4,2))]},e.css2sixhex=function(e){var t=/[0-9a-fA-F]+/.exec(e)[0];if(6!=t.length){var n=t.charAt(0),r=t.charAt(1),i=t.charAt(2);t=n+n+r+r+i+i}return t},e.triple2css=function(t){function n(t){var n=e.clamp(Math.round(255*t),0,255);return("0"+n.toString(16)).slice(-2)}return"#"+n(t[0])+n(t[1])+n(t[2])},e.clamp=function(e,t,n){return e<t?t:e>n?n:e},e.min3=function(e,t,n){return e<t?e<n?e:n:t<n?t:n},e.max3=function(e,t,n){return e>t?e>n?e:n:t>n?t:n},e.colorMin=function(t){return e.min3(t[0],t[1],t[2])},e.colorMax=function(t){return e.max3(t[0],t[1],t[2])},e.scale=function(t,n,r){return e.clamp(n+t*(r-n),0,1)},e.unscale=function(t,n,r){return e.clamp((t-n)/(r-n),0,1)},e.scaleColor=function(t,n,r){return[e.scale(t[0],n,r),e.scale(t[1],n,r),e.scale(t[2],n,r)]},e.unscaleColor=function(t,n,r){return[e.unscale(t[0],n,r),e.unscale(t[1],n,r),e.unscale(t[2],n,r)]},e.luminosity=function(e){return.3*e[0]+.59*e[1]+.11*e[2]},e.saturate=function(t){var n=e.colorMin(t),r=e.colorMax(t);return r-n<=0?[1,1,1]:e.unscaleColor(t,n,r)},e.blend=function(t,n,r){return[e.scale(r,t[0],n[0]),e.scale(r,t[1],n[1]),e.scale(r,t[2],n[2])]},e}.apply(t,r),!(void 0!==i&&(e.exports=i))},function(e,t,n){var r,i;r=[],i=function(){function e(e,t){function n(e){for(var t=window,n=t.document.styleSheets,r=0;r<n.length;r++){var i=n[r];if(i.title==e)return i}return null}function r(){return u.cssRules||u.rules}function i(e){u.deleteRule?u.deleteRule(e):u.removeRule(e)}function o(e,t){u.insertRule?u.insertRule(t+" {}",e):u.addRule(t,null,e)}function a(e){for(var t=0;t<l.length;t++)if(l[t]==e)return t;return-1}function s(e){if(!u)return!1;var t=a(e);return t<0&&(o(0,e),l.splice(0,0,e),t=0),r().item(t).style}function c(e){if(!u)return!1;var t=a(e);t>=0&&(i(t),l.splice(t,1))}t===!0?t="parent":t||(t="inner");var u=n(e),l=[];return{selectorStyle:s,removeSelectorStyle:c,info:function(){return l.length+":"+r().length}}}return e}.apply(t,r),!(void 0!==i&&(e.exports=i))},function(e,t,n){var r,i;(function(o){r=[n(322),n(324),n(303),n(226),n(166),n(316),n(293),n(191),n(375)],i=function(t,n,r,i,a,s,c,u,l){function f(){var e,t=o("#pad-wrap").scrollTop()-120;return o("div[id^=magicdomid]").each(function(n,r){if(r.offsetTop>=t)return e=r,!1}),e}o.fn.doubleTap=function(e){var t=!1,n="ontouchstart"in document?"touchstart":"click";return o(this).scroll(function(){t=!1}),o(this).on(n,function(n){t&&(e(n),t=!1),t=!0,setTimeout(function(){t=!1},350)}),this};var p;o(document).on("iosAdaptor",function(e,t){p=t});var d="ios_adaptor",h=window.cow.iosToolbarActions={};h.list=function(e){/^number|bullet|check$/.test(e)&&p.ace.callWithAce(function(t){"number"===e?t.ace_doInsertOrderedList():t.ace_doInsertUnorderedList(e)},d,!0)},h.font=function(e){/^bold|italic|underline|strikethrough$/.test(e)&&p.ace.callWithAce(function(t){var n=t.ace_getRep(),r=n.selStart,i=n.selEnd;r[0]==i[0]&&r[1]==i[1]?(document.execCommand(e),t.ace_checkAttributeOnSelection("caret")):t.ace_toggleAttributeOnSelection(e)},d,!0)},h.indent=function(e){p.ace.callWithAce(function(t){t.ace_doIndentOutdent(!e)},d,!0)},h.heading=function(e){p.ace.callWithAce(function(t){t.ace_doInsertHeading(e,t)},d,!0)},h.insertImageLink=function(e){p.ace.callWithAce(function(t){t.ace_doInsertImageLink(t,e)},d,!0)},h.removeImage=function(e){o("#innerdocbody img[src='"+e+"']").parents("div[id^=magicdom]").remove()},h.activateComment=function(e){r.changeHighLight(e);var t=o("."+e);r.repositionBuddle(t),r.changeActiveGuid(e)},h.newComment=function(){var e=r.newComment();a.notify("newComment",{data:e})},h.finishComment=r.finishComment,h.getCommentData=function(){return JSON.stringify(r.getCommentData())},h.refreshSelection=function(){r.changeActiveGuid(""),r.refreshSelection()},h.fontColor=function(e){p.ace.callWithAce(function(t){t.ace_doInsertFontColor(e,t)},d,!0)},h.fontSize=function(e){p.ace.callWithAce(function(t){t.ace_doInsertFontSize(e,t)},d,!0)},h.createMention=function(e){p.ace.callWithAce(function(t){t.ace_createMention(e,t)},d,!0)},h.startMention=function(){p.ace.callWithAce(function(e){e.ace_startMention(e)},d,!0)},h.hideMention=function(){p.ace.callWithAce(function(e){e.ace_hideMention(e)},d,!0)},h.insertText=function(e){p.ace.callWithAce(function(t){t.ace_replaceRange(void 0,void 0,e)},d,!0)},h.getImgUrl=function(){return i.getImgUrl(!1)},h.sendSocket=function(e,t){a.notify("client:"+e,t)},h.notify=function(e){a.notify(e)},h.setEditable=function(e){if(e){var t=f();t&&window.editorInfo.ace_setCaretToLine(t),window.editorInfo.ace_startEdit()}else window.cow.isMobileEditable=!1},h.setPermission=function(e){window.cow.permission=e.editable?"editable":"readonly"},h.setFile=function(e,t){if(!window.cow.clientInit){o(document.body).addClass("client");var n=e.file,r=e.changeset,i=e.user;if(i.id=+i.id,n.id=+n.id,n.head=+n.head,u.set(i),n.content=n.content.replace(/\n/g,"\\n"),window.cow.clientInit=!0,window.cow.offline=t,window.cow.currentUser=i,window.cow.currentFile=window.cow.tempCurrentFile=n,window.docRoute.show(),window.docRoute.doInit(n.guid),a.notify("socket:connected"),c.reset(),c.initName(n.title),r.changeset){window.preChangeset=r,r.rev=+r.rev;var s=r.rev+1,f={type:"COLLABROOM",data:{newRev:s,changeset:r.changeset,apool:JSON.parse(r.apool),authorId:+i.id,padId:n.guid,type:"NEW_CHANGES"}};a.notify("socket:message",f)}new l}},h.quit=function(){window.pad.sendClientStatus("quit")},h.ajaxResponse=function(e,t,n){a.notify("ajax:response",e,t,n)},h.removeImageByGuid=function(e){var t="img-"+e,n=o("."+t).closest("div"),r=o("#innerdocbody>div").index(n[0]);p.ace.callWithAce(function(e){e.ace_doRemoveOldLine(r)},d,!0)},h.setCellValue=function(e,t,n){3===arguments.length&&a.notify("app:setCellValue",{row:e,col:t,value:n})},e.exports=h}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(1))},function(e,t,n){(function(t,r){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(166),l=i(u),f=n(175),p=i(f),d=function(){function e(){var t=this;a(this,e),setTimeout(function(){t.render(),t.componentDidMount()},0)}return c(e,[{key:"setState",value:function(e,n){this.state=t.assign(this.state||{},e),this.render(),n&&n.call(this)}}]),e}(),h=function(e){function t(){a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._init()}return o(t,e),c(t,[{key:"componentDidMount",value:function(){var e=this;l.default.attachOne("saveStatus:start",function(){return e._startSave()}),l.default.attachOne("saveStatus:success",function(){return e._saveSuccess()}),l.default.attachOne("saveStatus:error",function(){return e._saveError()}),l.default.attachOne("saveStatus:getUpdate",function(){return e._getUpdateFromServer()}),l.default.attachOne("saveStatus:offline",function(){return e._saveOffline()}),l.default.attachOne("saveStatus:uninit",function(){return e._saveUninit()}),this._tellClient(),this._createTimerTick()}},{key:"_init",value:function(){var e=window.cow.currentFile.updated_at||new Date,t=p.default.DateTime.format(e)+"更新";"刚刚更新"===t&&(t="文档将实时更新"),this.setState({displayText:t,lastUpdateTime:e,timerId:-1}),this._tellClient()}},{key:"_startSave",value:function(){this._destroyTimerTick(),this.setState({displayText:"正在保存..."},this._tellClient)}},{key:"_saveSuccess",value:function(){var e=this;setTimeout(function(){e.setState({displayText:"保存成功",lastUpdateTime:(new Date).toString()},e._tellClient),e._createTimerTick()},500)}},{key:"_saveError",value:function(){this.setState({displayText:"保存失败"},this._tellClient)}},{key:"_saveOffline",value:function(){this.setState({displayText:"已离线保存"},this._tellClient)}},{key:"_saveUninit",value:function(){this.setState({displayText:"初始化中"},this._tellClient)}},{key:"_getUpdateFromServer",value:function(){this.setState({displayText:"文档将实时保存",lastUpdateTime:(new Date).toString()},this._tellClient),this._destroyTimerTick(),this._createTimerTick()}},{key:"_createTimerTick",value:function(){var e=this,t=setInterval(function(){var t=p.default.DateTime.format(e.state.lastUpdateTime)+"更新";"刚刚更新"===t&&(t="文档将实时更新"),e.setState({displayText:t},e._tellClient)},1e4);e.setState({timerId:t})}},{key:"_destroyTimerTick",value:function(){clearInterval(this.state.timerId)}},{key:"_tellClient",value:function(){if(window.cow.iOS||window.cow.client){var e=this.state.displayText;l.default.notify("updateSaveStatus",{message:e})}}},{key:"render",value:function(){r("#save-status").text(this.state.displayText),"保存失败"===this.state.displayText?r("#save-status").css("color","#ee7b70"):r("#save-status").css("color","")}}]),t}(d);e.exports=h}).call(t,n(4),n(1))},function(e,t,n){(function(t){function r(){if(b)return b;try{if(window.cow.client){var e=d.get(window.preChangeset,"rev");b=new y(e)}else b=new g({userId:window.cow.currentUser.id})}catch(e){}return b}function i(){return window.socket}function o(e,n,r){var i="网络连接不通畅，请刷新此页面("+n+")。";e&&""!==e&&(i+='几秒内编写的内容可能会丢失，请复制下面内容备份：<br><br><span style="color:black;font-size: 13px;">'+e+"</span>"),s.show({okCallback:function(){window.location.reload()},modal:!0,buttons:["ok"],okText:"刷新",headText:"需要刷新",bodyText:i}),r||(r={file:"collab_client",fileGuid:cow.currentFile.guid,message:i}),r.code=n,t.post("/api/log/jserror",r)}function a(e,n,a){function s(e){A=e,A?p.tip({title:"网络连接不稳定",content:"所有改动都会离线保存",type:"error tip",delay:1/0}):p.tip({title:"网络恢复正常",content:"所有离线内容都已保存至云端",type:"tip",delay:5e3})}function g(e){E.push(JSON.stringify(e)),E.length>50&&E.shift()}function y(e){if(0!==E.length&&"doc"===window.cow.pageType){E.push("END");var n={client_id:i().id,sockets:JSON.stringify(E),category:e};t.post("/api/log/sockets",n,function(){}),E=[]}}function b(e){w(e.userId,!1,e.name,e.userLink)}function w(t,n,r,i){7!==t&&0!==t&&e.setAuthorInfo(t,{bgcolor:u.getColor(t),name:r,userLink:i})}function _(e){var t=1;for(var n in e){var r=e[n];S[r.id]||(w(r.id,!0,r.name,r.userLink),t++)}}var x=window._collabClient;x&&(x.stop&&x.stop(),x.destroy&&x.destroy());var C=!!window.cow.client,k=void 0;k=window.cow.usingNewSeq?new l({composeUrl:"/smapi/files/{fileId}/compose",pullUrl:"/smapi/files/{fileId}/pull",fileId:n.fileGuid,editor:e,userId:window.cow.currentUser.id,type:"etherpad",store:C?"memory":"localStorage",rev:n.rev}):new m({editor:v(e),user:window.cow.currentUser,store:r(),rev:n.rev,guid:n.padId}),window._collabClient=k,window.preChangeset&&k.on("store:set",function(e,t){window.preChangeset.rev&&(t.rev=window.preChangeset.rev),t.apool&&(t.apool=JSON.stringify(t.apool)),c.notify("saveOffline",{data:t})});var T=a.userId,S={};S[T]=a;var E=[];window.cow.isMobile||(b(a),cow.Contact.fetch().then(function(e){_(e),d.each(e,function(e){t(".gutter-author-"+e.id).attr("data-author-name",e.name)})})),e.setProperty("userAuthor",T),e.setBaseAttributedText(n.initialAttributedText,n.apool),k.on("bad_changeset",function(e){var t=e.changeset?f.unpack(e.changeset).charBank.trim():"";window.setTimeout(function(){o(t,"003",e)},500),y("badcs")}),k.on("error",function(e){s(!0);var n=e instanceof Error?d.pick(e,"message","stack"):{err:e};d.assign(n,{file:"collab_client",fileGuid:k.fileId||k.guid,code:"004",changeset:d.get(k.editor.getUncommittedChanges(),"changeset")}),t.post("/api/log/jserror",n)}),k.on("message:*",function(e){g(e)}),k.on("message:in",function(e){if(e&&"COLLABROOM"===e.type&&e.data&&e.data.user){var t=e.data.user;h.exists(t.id)||h.set(t)}});var A=void 0;return k.on("save_state",function(e){A&&"SAVED"===e&&s(!1)}),c.attach("sync:error",function(){y("sync")}),k}var s=n(295),c=n(166),u=n(377),l=n(378),f=n(315),p=n(175),d=n(4),h=n(191),m=n(418),v=n(423),g=n(424),y=n(425),b=void 0;window.cow.client&&(c.attach("socket:connected",function(){window.cow.offline=!1}),c.attach("socket:disconnected",function(){window.cow.offline=!0}));var w=void 0,_=0;c.attach("editor:change",function(){w&&clearTimeout(w),w=setTimeout(function(){if(!_)return void(_=document.getElementById("innerdocbody").textContent.length);var e=(document.getElementById("innerdocbody").textContent||"").length;_!==e&&((!window.lastIncorpLineTime||Date.now()-window.lastIncorpLineTime>2e4)&&o(t("#innerdocbody").text(),"001"),_=e)},5e3)}),c.attach("editor:change:cancel",function(){w&&(clearTimeout(w),w=null)});var x=!1;c.attach("changeset:apply",function(){x||(x=!0,setTimeout(function(){x=!1;var e=window._collabClient,t=Date.now();if(!e||t-e.lastComposeTime>3e4){var n=void 0;if(window._collabClient&&window._collabClient.editor){var r=window._collabClient.editor.getUncommittedChanges();r&&(n=f.unpack(r).charBank.trim())}o(n,"002")}},5e3))}),e.exports=a}).call(t,n(1))},function(e,t,n){(function(r,i){function o(e){return e&&e.__esModule?e:{default:e}}function a(e){switch(e.type){case"RECONNECT_READY":b.cooperators.length=0,s(e.clients);break;case"USER_ENTER":s([e.userInfo]);break;case"USER_LEAVE":c([e.userInfo])}}function s(e){e.forEach(function(e){if(e.id!==w.id){var t=r.find(b.cooperators,{id:e.id});t?t.count++:(e.color=p(e.id),e.count=1,b.cooperators.push(e),h.default.notify("avatar:add",e))}}),u()}function c(e){e.forEach(function(e){e.id!==w.id&&r.remove(b.cooperators,function(t){return t.id===e.id&&--t.count<=0})}),u()}function u(){h.default.notify("cooperation:updateAvatar",b.cooperators)}function l(e){return b.status="loading",b.currentFileGuid=e,b.cooperators=[],u(),new i(function(t,n){y.default.getFileCollaborators(e).then(function(e){for(b.status="loaded",f(e);b.messagePool.length;)a(b.messagePool.pop());t(e)},function(e){f([]),n(e)})})}function f(e){b.shareUserMaps={},(e||[]).forEach(function(e,t){e.index=t,b.shareUserMaps[e.id]=e}),b.shareUsers=r.sortBy(e,["index"],["asc"])}function p(e){return+e===w.id?_:b.shareUserMaps[e]?x[b.shareUserMaps[e].index%40]:cow.guideUsers&&cow.guideUsers.indexOf(e)>-1?x[cow.guideUsers.indexOf(e)%40]:"#41464b"}Object.defineProperty(t,"__esModule",{value:!0});var d=n(166),h=o(d),m=n(184),v=o(m),g=n(269),y=o(g),b={},w=cow.currentUser,_="#5292F7",x=["#A69ACA","#EC6E79","#F39801","#00A496","#FFD900","#674599","#83D4E7","#AF7C4F","#B8D200","#9D5B8B","#F15B1C","#41464B","#CD9F00","#47885E","#D7003B","#436EC9","#F897C7","#9C4109","#6E7A56","#83D4E7","#83609C","#F8DCDB","#E7C39C","#87B151","#9E0038","#B09FC9","#7DCFC8","#BEE7F0","#CD9F00","#CBAAC2","#F5C5C9","#CD8C28","#1A5A52","#9EB4E1","#406619","#CAB738","#F6C751","#8D699D","#613A14","#189DEC"];b.shareUserMaps={},b.shareUsers=[],b.cooperators=[],b.status="",b.currentFileGuid="",b.messagePool=[],v.default.bind("Invite",function(e){if("create"===e.db_event)!function(){var t=b.shareUsers.length?b.shareUsers.slice(-1)[0].index:-1;r.isArray(e.data)?e.data.forEach(function(e,n){e.index=t+n+1,b.shareUsers.push(e),b.shareUserMaps[e.id]=e}):(e.data.index=t+1,b.shareUserMaps[e.data.id]=e.data,b.shareUsers.push(e.data))}();else if("delete"===e.db_event){var t=r.remove(b.shareUsers,function(t){return r.isArray(e.data)?e.data.some(function(e){return e.id===t.id}):e.data.id===t.id});t.forEach(function(e){b.shareUserMaps[e.id]&&delete b.shareUserMaps[e.id]})}}),h.default.attach("socket:message",function(e){cow.currentFile.guid===b.currentFileGuid&&(["USER_ENTER","USER_LEAVE","SELECT","UNSELECT"].indexOf(e.data.type)>=0&&+e.data.userInfo.id===w.id||"COLLABROOM"===e.type&&("loaded"===b.status?a(e.data):"loading"===b.status&&b.messagePool.push(e.data)))}),t.default={reset:l,getColor:p},e.exports=t.default}).call(t,n(4),n(170))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}},s=n(379),c=n(1),u=n(380).v4,l=n(382).EventEmitter2,f=n(383)("collab:client"),p=n(386),d=[].slice,h={memory:n(399),localStorage:n(400)},m={etherpad:n(401),spreadsheet:n(402),quill:n(416)},v=function(e){function t(e){var n=this;if(r(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.id=e.id||u(),this.userId=e.userId,this.rev=e.rev,this.fileId=e.fileId,this.pullUrl=e.pullUrl.replace("{fileId}",this.fileId),this.composeUrl=e.composeUrl.replace("{fileId}",this.fileId),this.request=function(t){return(e.request||c.ajax)(t)},this.editor=m[e.type](e.editor),e.store=e.store||"memory",!h[e.store])throw new Error("Unknown store type:"+e.store);var i=void 0;try{i=new h[e.store]({userId:this.userId,clientId:this.id})}catch(e){this.emit("warning","离线编辑功能暂不可用"),i=new h.memory({userId:this.userId,clientId:this.id})}this.store=this.wrapStore(i),this.editor.setUserChangeNotificationCallback(function(){return n.compose()}),this.delayRunTimeouts={},this.onPullSuccess=this.onPullSuccess.bind(this),this.onPullError=this.onPullError.bind(this),this.onComposeSuccess=this.onComposeSuccess.bind(this),this.onComposeError=this.onComposeError.bind(this),f("id %s created",this.id),this.pull()}return i(t,e),o(t,[{key:"compose",value:function(){var e=Date.now();if(this.saving=!0,this.lastComposeTime&&e-this.lastComposeTime<800)return f("compose too ofter, delay run in %s ms",e-this.lastComposeTime),void this.delayRun(this.compose,e-this.lastComposeTime);this.lastComposeTime=e;var t=this.editor.getUncommittedChanges();if(t&&t.changeset&&(f("store offline data to localStorage",t),this.store.set(this.fileId,s.assign({},t,{rev:this.rev}))),!this.stopped){if(this.waitingForResponse)return void this.delayRun(this.compose,1e3);var n=this.editor.prepareUserChangeset();if(!n||!n.changeset)return void(this.saving=!1);f("id %s compose new cs based on rev %s",this.id,this.rev),n.rev=this.rev,f("id %s sending changeset rev: %s cs: %j",this.id,n.rev,n.changeset);var r=this._lastComposeData={fileId:this.fileId,clientId:this.id,rev:n.rev,changeset:n.changeset,apool:JSON.stringify(n.apool)};this.request({url:this.composeUrl,method:"POST",success:this.onComposeSuccess,error:this.onComposeError,data:r}),this.waitingForResponse=!0}}},{key:"pull",value:function(){var e=this;return this.stopped&&this.reader?void this.reader.abort():(this.reader||(this.reader=p(this.pullUrl,{data:{rev:this.rev,clientId:this.id},timeout:45e3})),void this.reader.read().then(function(t){return t.done?(e.reader.abort(),delete e.reader,"2"!==String(t.status)[0]?void setTimeout(function(){e.pull()},3e3):void e.pull()):t.data.errorMessage?e.onPullError(new Error(t.data.errorMessage)):e.onPullSuccess(t.data)}).catch(function(t){e.onPullError(t)}))}},{key:"resend",value:function(){this.stopped||this.request({url:this.composeUrl,method:"POST",success:this.onComposeSuccess,error:this.onComposeError,data:this._lastComposeData})}},{key:"onPullSuccess",value:function(e){if(this.editor.getInInternationalComposition&&this.editor.getInInternationalComposition())return void this.delayRun(this.onPullSuccess,1e3,e);for(var t=0;t<e.length;t++){var n=e[t];if("new"===n.type){f("id %s applyChangesToBase %j",this.id,n);try{this.editor.applyChangesToBase(n)}catch(e){this.onFatalError(e)}}else if("accept"===n.type){f("id %s accept commit %j",this.id,n),this.store.remove(this.fileId),this.waitingForResponse=!1;try{this.editor.applyPreparedChangesetToBase()}catch(e){this.onFatalError(e)}}else"error"===n.type&&this.stop(new Error(n.message));n.rev&&(this.rev=n.rev)}this.pull()}},{key:"onPullError",value:function(e){return console.log(e.message,e.stack),"bad_changeset"===e.message?(this.emit("bad_changeset",s.assign({rev:this.rev},this.editor.getUncommittedChanges())),this.stop(new Error("bad_changeset"))):(this.reader.abort(),delete this.reader,this.delayRun(this.pull,2e3))}},{key:"onComposeSuccess",value:function(e){if(e.data||e.code){var t=new Error(e.message||JSON.stringify(e.data));t.status=e.status||e.code,this.onComposeError(t)}}},{key:"onComposeError",value:function(e){return console.error(e),this._isNetworkError(e)?(this.state="OFFLINE",this.delayRun(this.resend,1500)):this.onFatalError(e)}},{key:"onFatalError",value:function(e){console.error(e),this.stop(e||new Error("服务器错误"))}},{key:"delayRun",value:function(e,t){var n=this,r=e.toString(),i=this.delayRunTimeouts[r],o=d.call(arguments).slice(2);i&&clearTimeout(i),this.delayRunTimeouts[r]=setTimeout(function(){return e.apply(n,o)},t)}},{key:"stop",value:function(e){f("id %s stopped",this.id),this.stopped=!0,e&&this.emit("error",e),setTimeout(this.removeAllListeners,0)}},{key:"_isNetworkError",value:function(e){if(!e)return!1;var t=String(e.message).toLowerCase();return[0,502,503,429,408].indexOf(e.status)>-1||t.indexOf("connect")>-1||t.indexOf("no available worker")>-1||t.indexOf("no available receiver")>-1||t.indexOf("socket hang up")>-1}},{key:"wrapStore",value:function(e){var t=this,n={};return["getAll","get","remove","set"].forEach(function(r){e&&"function"==typeof e[r]&&(n[r]=function(){e[r].apply(e,arguments),t.emit.apply(this,["store:"+r].concat(d.call(arguments,0)))})}),n}},{key:"state",set:function(e){"OFFLINE"===e&&clearTimeout(this.waitingForResponseTimeout),e!==this._state&&(this._state=e,f("id %s change state to %s",this.id,e),this.emit("save_state",e))},get:function(){return this._state}},{key:"saving",set:function(e){var t=this._saving=e;t?this.state="SAVING":this.state="SAVED"},get:function(){return this._saving}},{key:"waitingForResponse",set:function(e){var t=this,n=this._waitingForResponse=e;n?(this.lastSavingTime=Date.now(),this.waitingForResponseTimeout=setTimeout(function(){t.emit("error",new Error("accept_commit_timeout"))},2e4)):(this.saving=!1,this.lastSavedTime=Date.now(),clearTimeout(this.waitingForResponseTimeout))},get:function(){return this._waitingForResponse}}]),t}(l);e.exports=v},function(e,t,n){var r;(function(e,i,o){(function(){function o(e,t){if(e!==t){var n=null===e,r=e===E,i=e===e,o=null===t,a=t===E,s=t===t;if(e>t&&!o||!i||n&&!a&&s||r&&s)return 1;if(e<t&&!n||!s||o&&!r&&i||a&&i)return-1}return 0}function a(e,t,n){for(var r=e.length,i=n?r:-1;n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}function s(e,t,n){if(t!==t)return y(e,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function c(e){return"function"==typeof e||!1}function u(e){return null==e?"":e+""}function l(e,t){for(var n=-1,r=e.length;++n<r&&t.indexOf(e.charAt(n))>-1;);return n}function f(e,t){for(var n=e.length;n--&&t.indexOf(e.charAt(n))>-1;);return n}function p(e,t){return o(e.criteria,t.criteria)||e.index-t.index}function d(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,s=i.length,c=n.length;++r<s;){var u=o(i[r],a[r]);if(u){if(r>=c)return u;var l=n[r];return u*("asc"===l||l===!0?1:-1)}}return e.index-t.index}function h(e){return qe[e]}function m(e){return Ke[e]}function v(e,t,n){return t?e=Xe[e]:n&&(e=Je[e]),"\\"+e}function g(e){return"\\"+Je[e]}function y(e,t,n){for(var r=e.length,i=t+(n?0:-1);n?i--:++i<r;){var o=e[i];if(o!==o)return i}return-1}function b(e){return!!e&&"object"==typeof e}function w(e){return e<=160&&e>=9&&e<=13||32==e||160==e||5760==e||6158==e||e>=8192&&(e<=8202||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function _(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;)e[n]===t&&(e[n]=q,o[++i]=n);return o}function x(e,t){for(var n,r=-1,i=e.length,o=-1,a=[];++r<i;){var s=e[r],c=t?t(s,r,e):s;r&&n===c||(n=c,a[++o]=s)}return a}function C(e){for(var t=-1,n=e.length;++t<n&&w(e.charCodeAt(t)););return t}function k(e){for(var t=e.length;t--&&w(e.charCodeAt(t)););return t}function T(e){return Ge[e]}function S(e){function t(e){if(b(e)&&!Is(e)&&!(e instanceof i)){if(e instanceof r)return e;if(ta.call(e,"__chain__")&&ta.call(e,"__wrapped__"))return dr(e)}return new r(e)}function n(){}function r(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}function i(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Aa,this.__views__=[]}function w(){var e=new i(this.__wrapped__);return e.__actions__=et(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=et(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=et(this.__views__),e}function Q(){if(this.__filtered__){var e=new i(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function re(){var e=this.__wrapped__.value(),t=this.__dir__,n=Is(e),r=t<0,i=n?e.length:0,o=qn(0,i,this.__views__),a=o.start,s=o.end,c=s-a,u=r?s:a-1,l=this.__iteratees__,f=l.length,p=0,d=Ca(c,this.__takeCount__);if(!n||i<W||i==c&&d==c)return nn(r&&n?e.reverse():e,this.__actions__);var h=[];e:for(;c--&&p<d;){u+=t;for(var m=-1,v=e[u];++m<f;){var g=l[m],y=g.iteratee,b=g.type,w=y(v);if(b==$)v=w;else if(!w){if(b==V)continue e;break e}}h[p++]=v}return h}function oe(){this.__data__={}}function qe(e){return this.has(e)&&delete this.__data__[e]}function Ke(e){return"__proto__"==e?E:this.__data__[e]}function Ge(e){return"__proto__"!=e&&ta.call(this.__data__,e)}function Ye(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this}function Xe(e){var t=e?e.length:0;for(this.data={hash:ga(null),set:new fa};t--;)this.push(e[t])}function Je(e,t){var n=e.data,r="string"==typeof t||Li(t)?n.set.has(t):n.hash[t];return r?0:-1}function Ze(e){var t=this.data;"string"==typeof e||Li(e)?t.set.add(e):t.hash[e]=!0}function Qe(e,t){for(var n=-1,r=e.length,i=-1,o=t.length,a=zo(r+o);++n<r;)a[n]=e[n];for(;++i<o;)a[n++]=t[i];return a}function et(e,t){var n=-1,r=e.length;for(t||(t=zo(r));++n<r;)t[n]=e[n];return t}function tt(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function nt(e,t){for(var n=e.length;n--&&t(e[n],n,e)!==!1;);return e}function ot(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function at(e,t,n,r){for(var i=-1,o=e.length,a=r,s=a;++i<o;){var c=e[i],u=+t(c);n(u,a)&&(a=u,s=c)}return s}function st(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[++i]=a)}return o}function ct(e,t){for(var n=-1,r=e.length,i=zo(r);++n<r;)i[n]=t(e[n],n,e);return i}function ut(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function lt(e,t,n,r){var i=-1,o=e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function ft(e,t,n,r){var i=e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function pt(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function dt(e,t){for(var n=e.length,r=0;n--;)r+=+t(e[n])||0;return r}function ht(e,t){return e===E?t:e}function mt(e,t,n,r){return e!==E&&ta.call(r,n)?e:t}function vt(e,t,n){for(var r=-1,i=Us(t),o=i.length;++r<o;){var a=i[r],s=e[a],c=n(s,t[a],a,e,t);(c===c?c===s:s!==s)&&(s!==E||a in e)||(e[a]=c);
}return e}function gt(e,t){return null==t?e:bt(t,Us(t),e)}function yt(e,t){for(var n=-1,r=null==e,i=!r&&Jn(e),o=i?e.length:0,a=t.length,s=zo(a);++n<a;){var c=t[n];i?s[n]=Zn(c,o)?e[c]:E:s[n]=r?E:e[c]}return s}function bt(e,t,n){n||(n={});for(var r=-1,i=t.length;++r<i;){var o=t[r];n[o]=e[o]}return n}function wt(e,t,n){var r=typeof e;return"function"==r?t===E?e:an(e,t,n):null==e?Ao:"object"==r?Bt(e):t===E?Lo(e):Ut(e,t)}function _t(e,t,n,r,i,o,a){var s;if(n&&(s=i?n(e,r,i):n(e)),s!==E)return s;if(!Li(e))return e;var c=Is(e);if(c){if(s=Kn(e),!t)return et(e,s)}else{var u=ra.call(e),l=u==Z;if(u!=te&&u!=K&&(!l||i))return He[u]?Yn(e,u,t):i?e:{};if(s=Gn(l?{}:e),!t)return gt(s,e)}o||(o=[]),a||(a=[]);for(var f=o.length;f--;)if(o[f]==e)return a[f];return o.push(e),a.push(s),(c?tt:Pt)(e,function(r,i){s[i]=_t(r,t,n,i,e,o,a)}),s}function xt(e,t,n){if("function"!=typeof e)throw new Xo(H);return pa(function(){e.apply(E,n)},t)}function Ct(e,t){var n=e?e.length:0,r=[];if(!n)return r;var i=-1,o=Vn(),a=o==s,c=a&&t.length>=W?mn(t):null,u=t.length;c&&(o=Je,a=!1,t=c);e:for(;++i<n;){var l=e[i];if(a&&l===l){for(var f=u;f--;)if(t[f]===l)continue e;r.push(l)}else o(t,l,0)<0&&r.push(l)}return r}function kt(e,t){var n=!0;return Ra(e,function(e,r,i){return n=!!t(e,r,i)}),n}function Tt(e,t,n,r){var i=r,o=i;return Ra(e,function(e,a,s){var c=+t(e,a,s);(n(c,i)||c===r&&c===o)&&(i=c,o=e)}),o}function St(e,t,n,r){var i=e.length;for(n=null==n?0:+n||0,n<0&&(n=-n>i?0:i+n),r=r===E||r>i?i:+r||0,r<0&&(r+=i),i=n>r?0:r>>>0,n>>>=0;n<i;)e[n++]=t;return e}function Et(e,t){var n=[];return Ra(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function At(e,t,n,r){var i;return n(e,function(e,n,o){if(t(e,n,o))return i=r?n:e,!1}),i}function It(e,t,n,r){r||(r=[]);for(var i=-1,o=e.length;++i<o;){var a=e[i];b(a)&&Jn(a)&&(n||Is(a)||Ti(a))?t?It(a,t,n,r):ut(r,a):n||(r[r.length]=a)}return r}function Ot(e,t){return Fa(e,t,eo)}function Pt(e,t){return Fa(e,t,Us)}function Nt(e,t){return Ba(e,t,Us)}function Dt(e,t){for(var n=-1,r=t.length,i=-1,o=[];++n<r;){var a=t[n];Di(e[a])&&(o[++i]=a)}return o}function Lt(e,t,n){if(null!=e){n!==E&&n in fr(e)&&(t=[n]);for(var r=0,i=t.length;null!=e&&r<i;)e=e[t[r++]];return r&&r==i?e:E}}function Mt(e,t,n,r,i,o){return e===t||(null==e||null==t||!Li(e)&&!b(t)?e!==e&&t!==t:Rt(e,t,Mt,n,r,i,o))}function Rt(e,t,n,r,i,o,a){var s=Is(e),c=Is(t),u=G,l=G;s||(u=ra.call(e),u==K?u=te:u!=te&&(s=Vi(e))),c||(l=ra.call(t),l==K?l=te:l!=te&&(c=Vi(t)));var f=u==te,p=l==te,d=u==l;if(d&&!s&&!f)return Bn(e,t,u);if(!i){var h=f&&ta.call(e,"__wrapped__"),m=p&&ta.call(t,"__wrapped__");if(h||m)return n(h?e.value():e,m?t.value():t,r,i,o,a)}if(!d)return!1;o||(o=[]),a||(a=[]);for(var v=o.length;v--;)if(o[v]==e)return a[v]==t;o.push(e),a.push(t);var g=(s?Fn:Un)(e,t,n,r,i,o,a);return o.pop(),a.pop(),g}function jt(e,t,n){var r=t.length,i=r,o=!n;if(null==e)return!i;for(e=fr(e);r--;){var a=t[r];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++r<i;){a=t[r];var s=a[0],c=e[s],u=a[1];if(o&&a[2]){if(c===E&&!(s in e))return!1}else{var l=n?n(c,u,s):E;if(!(l===E?Mt(u,c,n,!0):l))return!1}}return!0}function Ft(e,t){var n=-1,r=Jn(e)?zo(e.length):[];return Ra(e,function(e,i,o){r[++n]=t(e,i,o)}),r}function Bt(e){var t=$n(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null!=e&&(e[n]===r&&(r!==E||n in fr(e)))}}return function(e){return jt(e,t)}}function Ut(e,t){var n=Is(e),r=er(e)&&rr(t),i=e+"";return e=pr(e),function(o){if(null==o)return!1;var a=i;if(o=fr(o),(n||!r)&&!(a in o)){if(o=1==e.length?o:Lt(o,Gt(e,0,-1)),null==o)return!1;a=Sr(e),o=fr(o)}return o[a]===t?t!==E||a in o:Mt(t,o[a],E,!0)}}function zt(e,t,n,r,i){if(!Li(e))return e;var o=Jn(t)&&(Is(t)||Vi(t)),a=o?E:Us(t);return tt(a||t,function(s,c){if(a&&(c=s,s=t[c]),b(s))r||(r=[]),i||(i=[]),Wt(e,t,c,zt,n,r,i);else{var u=e[c],l=n?n(u,s,c,e,t):E,f=l===E;f&&(l=s),l===E&&(!o||c in e)||!f&&(l===l?l===u:u!==u)||(e[c]=l)}}),e}function Wt(e,t,n,r,i,o,a){for(var s=o.length,c=t[n];s--;)if(o[s]==c)return void(e[n]=a[s]);var u=e[n],l=i?i(u,c,n,e,t):E,f=l===E;f&&(l=c,Jn(c)&&(Is(c)||Vi(c))?l=Is(u)?u:Jn(u)?et(u):[]:Ui(c)||Ti(c)?l=Ti(u)?Gi(u):Ui(u)?u:{}:f=!1),o.push(c),a.push(l),f?e[n]=r(l,c,i,o,a):(l===l?l!==u:u===u)&&(e[n]=l)}function Vt(e){return function(t){return null==t?E:t[e]}}function $t(e){var t=e+"";return e=pr(e),function(n){return Lt(n,e,t)}}function Ht(e,t){for(var n=e?t.length:0;n--;){var r=t[n];if(r!=i&&Zn(r)){var i=r;da.call(e,r,1)}}return e}function qt(e,t){return e+ya(Sa()*(t-e+1))}function Kt(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function Gt(e,t,n){var r=-1,i=e.length;t=null==t?0:+t||0,t<0&&(t=-t>i?0:i+t),n=n===E||n>i?i:+n||0,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=zo(i);++r<i;)o[r]=e[r+t];return o}function Yt(e,t){var n;return Ra(e,function(e,r,i){return n=t(e,r,i),!n}),!!n}function Xt(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function Jt(e,t,n){var r=zn(),i=-1;t=ct(t,function(e){return r(e)});var o=Ft(e,function(e){var n=ct(t,function(t){return t(e)});return{criteria:n,index:++i,value:e}});return Xt(o,function(e,t){return d(e,t,n)})}function Zt(e,t){var n=0;return Ra(e,function(e,r,i){n+=+t(e,r,i)||0}),n}function Qt(e,t){var n=-1,r=Vn(),i=e.length,o=r==s,a=o&&i>=W,c=a?mn():null,u=[];c?(r=Je,o=!1):(a=!1,c=t?[]:u);e:for(;++n<i;){var l=e[n],f=t?t(l,n,e):l;if(o&&l===l){for(var p=c.length;p--;)if(c[p]===f)continue e;t&&c.push(f),u.push(l)}else r(c,f,0)<0&&((t||a)&&c.push(f),u.push(l))}return u}function en(e,t){for(var n=-1,r=t.length,i=zo(r);++n<r;)i[n]=e[t[n]];return i}function tn(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Gt(e,r?0:o,r?o+1:i):Gt(e,r?o+1:0,r?i:o)}function nn(e,t){var n=e;n instanceof i&&(n=n.value());for(var r=-1,o=t.length;++r<o;){var a=t[r];n=a.func.apply(a.thisArg,ut([n],a.args))}return n}function rn(e,t,n){var r=0,i=e?e.length:r;if("number"==typeof t&&t===t&&i<=Pa){for(;r<i;){var o=r+i>>>1,a=e[o];(n?a<=t:a<t)&&null!==a?r=o+1:i=o}return i}return on(e,t,Ao,n)}function on(e,t,n,r){t=n(t);for(var i=0,o=e?e.length:0,a=t!==t,s=null===t,c=t===E;i<o;){var u=ya((i+o)/2),l=n(e[u]),f=l!==E,p=l===l;if(a)var d=p||r;else d=s?p&&f&&(r||null!=l):c?p&&(r||f):null!=l&&(r?l<=t:l<t);d?i=u+1:o=u}return Ca(o,Oa)}function an(e,t,n){if("function"!=typeof e)return Ao;if(t===E)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)};case 5:return function(n,r,i,o,a){return e.call(t,n,r,i,o,a)}}return function(){return e.apply(t,arguments)}}function sn(e){var t=new aa(e.byteLength),n=new ha(t);return n.set(new ha(e)),t}function cn(e,t,n){for(var r=n.length,i=-1,o=xa(e.length-r,0),a=-1,s=t.length,c=zo(s+o);++a<s;)c[a]=t[a];for(;++i<r;)c[n[i]]=e[i];for(;o--;)c[a++]=e[i++];return c}function un(e,t,n){for(var r=-1,i=n.length,o=-1,a=xa(e.length-i,0),s=-1,c=t.length,u=zo(a+c);++o<a;)u[o]=e[o];for(var l=o;++s<c;)u[l+s]=t[s];for(;++r<i;)u[l+n[r]]=e[o++];return u}function ln(e,t){return function(n,r,i){var o=t?t():{};if(r=zn(r,i,3),Is(n))for(var a=-1,s=n.length;++a<s;){var c=n[a];e(o,c,r(c,a,n),n)}else Ra(n,function(t,n,i){e(o,t,r(t,n,i),i)});return o}}function fn(e){return gi(function(t,n){var r=-1,i=null==t?0:n.length,o=i>2?n[i-2]:E,a=i>2?n[2]:E,s=i>1?n[i-1]:E;for("function"==typeof o?(o=an(o,s,5),i-=2):(o="function"==typeof s?s:E,i-=o?1:0),a&&Qn(n[0],n[1],a)&&(o=i<3?E:o,i=1);++r<i;){var c=n[r];c&&e(t,c,o)}return t})}function pn(e,t){return function(n,r){var i=n?Wa(n):0;if(!nr(i))return e(n,r);for(var o=t?i:-1,a=fr(n);(t?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function dn(e){return function(t,n,r){for(var i=fr(t),o=r(t),a=o.length,s=e?a:-1;e?s--:++s<a;){var c=o[s];if(n(i[c],c,i)===!1)break}return t}}function hn(e,t){function n(){var i=this&&this!==rt&&this instanceof n?r:e;return i.apply(t,arguments)}var r=gn(e);return n}function mn(e){return ga&&fa?new Xe(e):null}function vn(e){return function(t){for(var n=-1,r=To(lo(t)),i=r.length,o="";++n<i;)o=e(o,r[n],n);return o}}function gn(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Ma(e.prototype),r=e.apply(n,t);return Li(r)?r:n}}function yn(e){function t(n,r,i){i&&Qn(n,r,i)&&(r=E);var o=jn(n,e,E,E,E,E,E,r);return o.placeholder=t.placeholder,o}return t}function bn(e,t){return gi(function(n){var r=n[0];return null==r?r:(n.push(t),e.apply(E,n))})}function wn(e,t){return function(n,r,i){if(i&&Qn(n,r,i)&&(r=E),r=zn(r,i,3),1==r.length){n=Is(n)?n:lr(n);var o=at(n,r,e,t);if(!n.length||o!==t)return o}return Tt(n,r,e,t)}}function _n(e,t){return function(n,r,i){if(r=zn(r,i,3),Is(n)){var o=a(n,r,t);return o>-1?n[o]:E}return At(n,r,e)}}function xn(e){return function(t,n,r){return t&&t.length?(n=zn(n,r,3),a(t,n,e)):-1}}function Cn(e){return function(t,n,r){return n=zn(n,r,3),At(t,n,e,!0)}}function kn(e){return function(){for(var t,n=arguments.length,i=e?n:-1,o=0,a=zo(n);e?i--:++i<n;){var s=a[o++]=arguments[i];if("function"!=typeof s)throw new Xo(H);!t&&r.prototype.thru&&"wrapper"==Wn(s)&&(t=new r([],!0))}for(i=t?-1:n;++i<n;){s=a[i];var c=Wn(s),u="wrapper"==c?za(s):E;t=u&&tr(u[0])&&u[1]==(R|N|L|j)&&!u[4].length&&1==u[9]?t[Wn(u[0])].apply(t,u[3]):1==s.length&&tr(s)?t[c]():t.thru(s)}return function(){var e=arguments,r=e[0];if(t&&1==e.length&&Is(r)&&r.length>=W)return t.plant(r).value();for(var i=0,o=n?a[i].apply(this,e):r;++i<n;)o=a[i].call(this,o);return o}}}function Tn(e,t){return function(n,r,i){return"function"==typeof r&&i===E&&Is(n)?e(n,r):t(n,an(r,i,3))}}function Sn(e){return function(t,n,r){return"function"==typeof n&&r===E||(n=an(n,r,3)),e(t,n,eo)}}function En(e){return function(t,n,r){return"function"==typeof n&&r===E||(n=an(n,r,3)),e(t,n)}}function An(e){return function(t,n,r){var i={};return n=zn(n,r,3),Pt(t,function(t,r,o){var a=n(t,r,o);r=e?a:r,t=e?t:a,i[r]=t}),i}}function In(e){return function(t,n,r){return t=u(t),(e?t:"")+Dn(t,n,r)+(e?"":t)}}function On(e){var t=gi(function(n,r){var i=_(r,t.placeholder);return jn(n,e,E,r,i)});return t}function Pn(e,t){return function(n,r,i,o){var a=arguments.length<3;return"function"==typeof r&&o===E&&Is(n)?e(n,r,i,a):Kt(n,zn(r,o,4),i,a,t)}}function Nn(e,t,n,r,i,o,a,s,c,u){function l(){for(var y=arguments.length,b=y,w=zo(y);b--;)w[b]=arguments[b];if(r&&(w=cn(w,r,i)),o&&(w=un(w,o,a)),h||v){var x=l.placeholder,C=_(w,x);if(y-=C.length,y<u){var k=s?et(s):E,T=xa(u-y,0),S=h?C:E,A=h?E:C,P=h?w:E,N=h?E:w;t|=h?L:M,t&=~(h?M:L),m||(t&=~(I|O));var D=[e,t,n,P,S,N,A,k,c,T],R=Nn.apply(E,D);return tr(e)&&Va(R,D),R.placeholder=x,R}}var j=p?n:this,F=d?j[e]:e;return s&&(w=cr(w,s)),f&&c<w.length&&(w.length=c),this&&this!==rt&&this instanceof l&&(F=g||gn(e)),F.apply(j,w)}var f=t&R,p=t&I,d=t&O,h=t&N,m=t&P,v=t&D,g=d?E:gn(e);return l}function Dn(e,t,n){var r=e.length;if(t=+t,r>=t||!wa(t))return"";var i=t-r;return n=null==n?" ":n+"",go(n,va(i/n.length)).slice(0,i)}function Ln(e,t,n,r){function i(){for(var t=-1,s=arguments.length,c=-1,u=r.length,l=zo(u+s);++c<u;)l[c]=r[c];for(;s--;)l[c++]=arguments[++t];var f=this&&this!==rt&&this instanceof i?a:e;return f.apply(o?n:this,l)}var o=t&I,a=gn(e);return i}function Mn(e){var t=Ho[e];return function(e,n){return n=n===E?0:+n||0,n?(n=ua(10,n),t(e*n)/n):t(e)}}function Rn(e){return function(t,n,r,i){var o=zn(r);return null==r&&o===wt?rn(t,n,e):on(t,n,o(r,i,1),e)}}function jn(e,t,n,r,i,o,a,s){var c=t&O;if(!c&&"function"!=typeof e)throw new Xo(H);var u=r?r.length:0;if(u||(t&=~(L|M),r=i=E),u-=i?i.length:0,t&M){var l=r,f=i;r=i=E}var p=c?E:za(e),d=[e,t,n,r,i,l,f,o,a,s];if(p&&(ir(d,p),t=d[1],s=d[9]),d[9]=null==s?c?0:e.length:xa(s-u,0)||0,t==I)var h=hn(d[0],d[2]);else h=t!=L&&t!=(I|L)||d[4].length?Nn.apply(E,d):Ln.apply(E,d);var m=p?Ua:Va;return m(h,d)}function Fn(e,t,n,r,i,o,a){var s=-1,c=e.length,u=t.length;if(c!=u&&!(i&&u>c))return!1;for(;++s<c;){var l=e[s],f=t[s],p=r?r(i?f:l,i?l:f,s):E;if(p!==E){if(p)continue;return!1}if(i){if(!pt(t,function(e){return l===e||n(l,e,r,i,o,a)}))return!1}else if(l!==f&&!n(l,f,r,i,o,a))return!1}return!0}function Bn(e,t,n){switch(n){case Y:case X:return+e==+t;case J:return e.name==t.name&&e.message==t.message;case ee:return e!=+e?t!=+t:e==+t;case ne:case ie:return e==t+""}return!1}function Un(e,t,n,r,i,o,a){var s=Us(e),c=s.length,u=Us(t),l=u.length;if(c!=l&&!i)return!1;for(var f=c;f--;){var p=s[f];if(!(i?p in t:ta.call(t,p)))return!1}for(var d=i;++f<c;){p=s[f];var h=e[p],m=t[p],v=r?r(i?m:h,i?h:m,p):E;if(!(v===E?n(h,m,r,i,o,a):v))return!1;d||(d="constructor"==p)}if(!d){var g=e.constructor,y=t.constructor;if(g!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y))return!1}return!0}function zn(e,n,r){var i=t.callback||So;return i=i===So?wt:i,r?i(e,n,r):i}function Wn(e){for(var t=e.name,n=La[t],r=n?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Vn(e,n,r){var i=t.indexOf||kr;return i=i===kr?s:i,e?i(e,n,r):i}function $n(e){for(var t=to(e),n=t.length;n--;)t[n][2]=rr(t[n][1]);return t}function Hn(e,t){var n=null==e?E:e[t];return ji(n)?n:E}function qn(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Ca(t,e+a);break;case"takeRight":e=xa(e,t-a)}}return{start:e,end:t}}function Kn(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ta.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Gn(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=Ko),new t}function Yn(e,t,n){var r=e.constructor;switch(t){case ae:return sn(e);case Y:case X:return new r(+e);case se:case ce:case ue:case le:case fe:case pe:case de:case he:case me:var i=e.buffer;return new r(n?sn(i):i,e.byteOffset,e.length);case ee:case ie:return new r(e);case ne:var o=new r(e.source,Le.exec(e));o.lastIndex=e.lastIndex}return o}function Xn(e,t,n){null==e||er(t,e)||(t=pr(t),e=1==t.length?e:Lt(e,Gt(t,0,-1)),t=Sr(t));var r=null==e?e:e[t];return null==r?E:r.apply(e,n)}function Jn(e){return null!=e&&nr(Wa(e))}function Zn(e,t){return e="number"==typeof e||je.test(e)?+e:-1,t=null==t?Na:t,e>-1&&e%1==0&&e<t}function Qn(e,t,n){if(!Li(n))return!1;var r=typeof t;if("number"==r?Jn(n)&&Zn(t,n.length):"string"==r&&t in n){var i=n[t];return e===e?e===i:i!==i}return!1}function er(e,t){var n=typeof e;if("string"==n&&Ee.test(e)||"number"==n)return!0;if(Is(e))return!1;var r=!Se.test(e);return r||null!=t&&e in fr(t)}function tr(e){var n=Wn(e);if(!(n in i.prototype))return!1;var r=t[n];if(e===r)return!0;var o=za(r);return!!o&&e===o[0]}function nr(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Na}function rr(e){return e===e&&!Li(e)}function ir(e,t){var n=e[1],r=t[1],i=n|r,o=i<R,a=r==R&&n==N||r==R&&n==j&&e[7].length<=t[8]||r==(R|j)&&n==N;if(!o&&!a)return e;r&I&&(e[2]=t[2],i|=n&I?0:P);var s=t[3];if(s){var c=e[3];e[3]=c?cn(c,s,t[4]):et(s),e[4]=c?_(e[3],q):et(t[4])}return s=t[5],s&&(c=e[5],e[5]=c?un(c,s,t[6]):et(s),e[6]=c?_(e[5],q):et(t[6])),s=t[7],s&&(e[7]=et(s)),r&R&&(e[8]=null==e[8]?t[8]:Ca(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function or(e,t){return e===E?t:Os(e,t,or)}function ar(e,t){e=fr(e);for(var n=-1,r=t.length,i={};++n<r;){var o=t[n];o in e&&(i[o]=e[o])}return i}function sr(e,t){var n={};return Ot(e,function(e,r,i){t(e,r,i)&&(n[r]=e)}),n}function cr(e,t){for(var n=e.length,r=Ca(t.length,n),i=et(e);r--;){var o=t[r];e[r]=Zn(o,n)?i[o]:E}return e}function ur(e){for(var t=eo(e),n=t.length,r=n&&e.length,i=!!r&&nr(r)&&(Is(e)||Ti(e)),o=-1,a=[];++o<n;){var s=t[o];(i&&Zn(s,r)||ta.call(e,s))&&a.push(s)}return a}function lr(e){return null==e?[]:Jn(e)?Li(e)?e:Ko(e):oo(e)}function fr(e){return Li(e)?e:Ko(e)}function pr(e){if(Is(e))return e;var t=[];return u(e).replace(Ae,function(e,n,r,i){t.push(r?i.replace(Ne,"$1"):n||e)}),t}function dr(e){return e instanceof i?e.clone():new r(e.__wrapped__,e.__chain__,et(e.__actions__))}function hr(e,t,n){t=(n?Qn(e,t,n):null==t)?1:xa(ya(t)||1,1);for(var r=0,i=e?e.length:0,o=-1,a=zo(va(i/t));r<i;)a[++o]=Gt(e,r,r+=t);return a}function mr(e){for(var t=-1,n=e?e.length:0,r=-1,i=[];++t<n;){var o=e[t];o&&(i[++r]=o)}return i}function vr(e,t,n){var r=e?e.length:0;return r?((n?Qn(e,t,n):null==t)&&(t=1),Gt(e,t<0?0:t)):[]}function gr(e,t,n){var r=e?e.length:0;return r?((n?Qn(e,t,n):null==t)&&(t=1),t=r-(+t||0),Gt(e,0,t<0?0:t)):[]}function yr(e,t,n){return e&&e.length?tn(e,zn(t,n,3),!0,!0):[]}function br(e,t,n){return e&&e.length?tn(e,zn(t,n,3),!0):[]}function wr(e,t,n,r){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&Qn(e,t,n)&&(n=0,r=i),St(e,t,n,r)):[]}function _r(e){return e?e[0]:E}function xr(e,t,n){var r=e?e.length:0;return n&&Qn(e,t,n)&&(t=!1),r?It(e,t):[]}function Cr(e){var t=e?e.length:0;return t?It(e,!0):[]}function kr(e,t,n){var r=e?e.length:0;if(!r)return-1;if("number"==typeof n)n=n<0?xa(r+n,0):n;else if(n){var i=rn(e,t);return i<r&&(t===t?t===e[i]:e[i]!==e[i])?i:-1}return s(e,t,n||0)}function Tr(e){return gr(e,1)}function Sr(e){var t=e?e.length:0;return t?e[t-1]:E}function Er(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(n<0?xa(r+n,0):Ca(n||0,r-1))+1;else if(n){i=rn(e,t,!0)-1;var o=e[i];return(t===t?t===o:o!==o)?i:-1}if(t!==t)return y(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1}function Ar(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,r=Vn(),i=e.length;++n<i;)for(var o=0,a=e[n];(o=r(t,a,o))>-1;)da.call(t,o,1);return t}function Ir(e,t,n){var r=[];if(!e||!e.length)return r;var i=-1,o=[],a=e.length;for(t=zn(t,n,3);++i<a;){var s=e[i];t(s,i,e)&&(r.push(s),o.push(i))}return Ht(e,o),r}function Or(e){return vr(e,1)}function Pr(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&Qn(e,t,n)&&(t=0,n=r),Gt(e,t,n)):[]}function Nr(e,t,n){var r=e?e.length:0;return r?((n?Qn(e,t,n):null==t)&&(t=1),Gt(e,0,t<0?0:t)):[]}function Dr(e,t,n){var r=e?e.length:0;return r?((n?Qn(e,t,n):null==t)&&(t=1),t=r-(+t||0),Gt(e,t<0?0:t)):[]}function Lr(e,t,n){return e&&e.length?tn(e,zn(t,n,3),!1,!0):[]}function Mr(e,t,n){return e&&e.length?tn(e,zn(t,n,3)):[]}function Rr(e,t,n,r){var i=e?e.length:0;if(!i)return[];null!=t&&"boolean"!=typeof t&&(r=n,n=Qn(e,t,r)?E:t,t=!1);var o=zn();return null==n&&o===wt||(n=o(n,r,3)),t&&Vn()==s?x(e,n):Qt(e,n)}function jr(e){if(!e||!e.length)return[];var t=-1,n=0;e=st(e,function(e){if(Jn(e))return n=xa(e.length,n),!0});for(var r=zo(n);++t<n;)r[t]=ct(e,Vt(t));return r}function Fr(e,t,n){var r=e?e.length:0;if(!r)return[];var i=jr(e);return null==t?i:(t=an(t,n,4),ct(i,function(e){return lt(e,t,E,!0)}))}function Br(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Jn(n))var r=r?ut(Ct(r,n),Ct(n,r)):n}return r?Qt(r):[]}function Ur(e,t){var n=-1,r=e?e.length:0,i={};for(!r||t||Is(e[0])||(t=[]);++n<r;){var o=e[n];t?i[o]=t[n]:o&&(i[o[0]]=o[1])}return i}function zr(e){var n=t(e);return n.__chain__=!0,n}function Wr(e,t,n){return t.call(n,e),e}function Vr(e,t,n){return t.call(n,e)}function $r(){return zr(this)}function Hr(){return new r(this.value(),this.__chain__)}function qr(e){for(var t,r=this;r instanceof n;){var i=dr(r);t?o.__wrapped__=i:t=i;var o=i;r=r.__wrapped__}return o.__wrapped__=e,t}function Kr(){var e=this.__wrapped__,t=function(e){return n&&n.__dir__<0?e:e.reverse()};if(e instanceof i){var n=e;return this.__actions__.length&&(n=new i(this)),n=n.reverse(),n.__actions__.push({func:Vr,args:[t],thisArg:E}),new r(n,this.__chain__)}return this.thru(t)}function Gr(){return this.value()+""}function Yr(){return nn(this.__wrapped__,this.__actions__)}function Xr(e,t,n){var r=Is(e)?ot:kt;return n&&Qn(e,t,n)&&(t=E),"function"==typeof t&&n===E||(t=zn(t,n,3)),r(e,t)}function Jr(e,t,n){var r=Is(e)?st:Et;return t=zn(t,n,3),r(e,t)}function Zr(e,t){return is(e,Bt(t))}function Qr(e,t,n,r){var i=e?Wa(e):0;return nr(i)||(e=oo(e),i=e.length),n="number"!=typeof n||r&&Qn(t,n,r)?0:n<0?xa(i+n,0):n||0,"string"==typeof e||!Is(e)&&Wi(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Vn(e,t,n)>-1}function ei(e,t,n){var r=Is(e)?ct:Ft;return t=zn(t,n,3),r(e,t)}function ti(e,t){return ei(e,Lo(t))}function ni(e,t,n){var r=Is(e)?st:Et;return t=zn(t,n,3),r(e,function(e,n,r){return!t(e,n,r)})}function ri(e,t,n){if(n?Qn(e,t,n):null==t){e=lr(e);var r=e.length;return r>0?e[qt(0,r-1)]:E}var i=-1,o=Ki(e),r=o.length,a=r-1;for(t=Ca(t<0?0:+t||0,r);++i<t;){var s=qt(i,a),c=o[s];o[s]=o[i],o[i]=c}return o.length=t,o}function ii(e){return ri(e,Aa)}function oi(e){var t=e?Wa(e):0;return nr(t)?t:Us(e).length}function ai(e,t,n){var r=Is(e)?pt:Yt;return n&&Qn(e,t,n)&&(t=E),"function"==typeof t&&n===E||(t=zn(t,n,3)),r(e,t)}function si(e,t,n){if(null==e)return[];n&&Qn(e,t,n)&&(t=E);var r=-1;t=zn(t,n,3);var i=Ft(e,function(e,n,i){return{criteria:t(e,n,i),index:++r,value:e}});return Xt(i,p)}function ci(e,t,n,r){return null==e?[]:(r&&Qn(t,n,r)&&(n=E),Is(t)||(t=null==t?[]:[t]),Is(n)||(n=null==n?[]:[n]),Jt(e,t,n))}function ui(e,t){return Jr(e,Bt(t))}function li(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new Xo(H);var n=e;e=t,t=n}return e=wa(e=+e)?e:0,function(){if(--e<1)return t.apply(this,arguments)}}function fi(e,t,n){return n&&Qn(e,t,n)&&(t=E),t=e&&null==t?e.length:xa(+t||0,0),jn(e,R,E,E,E,E,t)}function pi(e,t){var n;if("function"!=typeof t){if("function"!=typeof e)throw new Xo(H);var r=e;e=t,t=r}return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=E),n}}function di(e,t,n){function r(){d&&sa(d),u&&sa(u),m=0,u=d=h=E}function i(t,n){n&&sa(n),u=d=h=E,t&&(m=ms(),l=e.apply(p,c),d||u||(c=p=E))}function o(){var e=t-(ms()-f);e<=0||e>t?i(h,u):d=pa(o,e)}function a(){i(g,d)}function s(){if(c=arguments,f=ms(),p=this,h=g&&(d||!y),v===!1)var n=y&&!d;else{u||y||(m=f);var r=v-(f-m),i=r<=0||r>v;i?(u&&(u=sa(u)),m=f,l=e.apply(p,c)):u||(u=pa(a,r))}return i&&d?d=sa(d):d||t===v||(d=pa(o,t)),n&&(i=!0,l=e.apply(p,c)),!i||d||u||(c=p=E),l}var c,u,l,f,p,d,h,m=0,v=!1,g=!0;if("function"!=typeof e)throw new Xo(H);if(t=t<0?0:+t||0,n===!0){var y=!0;g=!1}else Li(n)&&(y=!!n.leading,v="maxWait"in n&&xa(+n.maxWait||0,t),g="trailing"in n?!!n.trailing:g);return s.cancel=r,s}function hi(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new Xo(H);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new hi.Cache,n}function mi(e){if("function"!=typeof e)throw new Xo(H);return function(){return!e.apply(this,arguments)}}function vi(e){return pi(2,e)}function gi(e,t){if("function"!=typeof e)throw new Xo(H);return t=xa(t===E?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,i=xa(n.length-t,0),o=zo(i);++r<i;)o[r]=n[t+r];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,n[0],o);case 2:return e.call(this,n[0],n[1],o)}var a=zo(t+1);for(r=-1;++r<t;)a[r]=n[r];return a[t]=o,e.apply(this,a)}}function yi(e){if("function"!=typeof e)throw new Xo(H);return function(t){return e.apply(this,t)}}function bi(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Xo(H);return n===!1?r=!1:Li(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),di(e,t,{leading:r,maxWait:+t,trailing:i})}function wi(e,t){return t=null==t?Ao:t,jn(t,L,E,[e],[])}function _i(e,t,n,r){return t&&"boolean"!=typeof t&&Qn(e,t,n)?t=!1:"function"==typeof t&&(r=n,n=t,t=!1),"function"==typeof n?_t(e,t,an(n,r,1)):_t(e,t)}function xi(e,t,n){return"function"==typeof t?_t(e,!0,an(t,n,1)):_t(e,!0)}function Ci(e,t){return e>t}function ki(e,t){return e>=t}function Ti(e){return b(e)&&Jn(e)&&ta.call(e,"callee")&&!la.call(e,"callee")}function Si(e){return e===!0||e===!1||b(e)&&ra.call(e)==Y}function Ei(e){return b(e)&&ra.call(e)==X}function Ai(e){return!!e&&1===e.nodeType&&b(e)&&!Ui(e)}function Ii(e){return null==e||(Jn(e)&&(Is(e)||Wi(e)||Ti(e)||b(e)&&Di(e.splice))?!e.length:!Us(e).length)}function Oi(e,t,n,r){n="function"==typeof n?an(n,r,3):E;var i=n?n(e,t):E;return i===E?Mt(e,t,n):!!i}function Pi(e){return b(e)&&"string"==typeof e.message&&ra.call(e)==J}function Ni(e){return"number"==typeof e&&wa(e)}function Di(e){return Li(e)&&ra.call(e)==Z}function Li(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Mi(e,t,n,r){return n="function"==typeof n?an(n,r,3):E,jt(e,$n(t),n)}function Ri(e){return Bi(e)&&e!=+e}function ji(e){return null!=e&&(Di(e)?oa.test(ea.call(e)):b(e)&&Re.test(e))}function Fi(e){return null===e}function Bi(e){return"number"==typeof e||b(e)&&ra.call(e)==ee}function Ui(e){var t;if(!b(e)||ra.call(e)!=te||Ti(e)||!ta.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var n;return Ot(e,function(e,t){n=t}),n===E||ta.call(e,n)}function zi(e){return Li(e)&&ra.call(e)==ne}function Wi(e){return"string"==typeof e||b(e)&&ra.call(e)==ie}function Vi(e){return b(e)&&nr(e.length)&&!!$e[ra.call(e)]}function $i(e){return e===E}function Hi(e,t){return e<t}function qi(e,t){return e<=t}function Ki(e){var t=e?Wa(e):0;return nr(t)?t?et(e):[]:oo(e)}function Gi(e){return bt(e,eo(e))}function Yi(e,t,n){var r=Ma(e);return n&&Qn(e,t,n)&&(t=E),t?gt(r,t):r}function Xi(e){return Dt(e,eo(e))}function Ji(e,t,n){var r=null==e?E:Lt(e,pr(t),t+"");return r===E?n:r}function Zi(e,t){if(null==e)return!1;var n=ta.call(e,t);if(!n&&!er(t)){if(t=pr(t),e=1==t.length?e:Lt(e,Gt(t,0,-1)),null==e)return!1;t=Sr(t),n=ta.call(e,t)}return n||nr(e.length)&&Zn(t,e.length)&&(Is(e)||Ti(e))}function Qi(e,t,n){n&&Qn(e,t,n)&&(t=E);for(var r=-1,i=Us(e),o=i.length,a={};++r<o;){var s=i[r],c=e[s];t?ta.call(a,c)?a[c].push(s):a[c]=[s]:a[c]=s}return a}function eo(e){if(null==e)return[];Li(e)||(e=Ko(e));var t=e.length;t=t&&nr(t)&&(Is(e)||Ti(e))&&t||0;for(var n=e.constructor,r=-1,i="function"==typeof n&&n.prototype===e,o=zo(t),a=t>0;++r<t;)o[r]=r+"";for(var s in e)a&&Zn(s,t)||"constructor"==s&&(i||!ta.call(e,s))||o.push(s);return o}function to(e){e=fr(e);for(var t=-1,n=Us(e),r=n.length,i=zo(r);++t<r;){var o=n[t];i[t]=[o,e[o]]}return i}function no(e,t,n){var r=null==e?E:e[t];return r===E&&(null==e||er(t,e)||(t=pr(t),e=1==t.length?e:Lt(e,Gt(t,0,-1)),r=null==e?E:e[Sr(t)]),r=r===E?n:r),Di(r)?r.call(e):r}function ro(e,t,n){if(null==e)return e;var r=t+"";t=null!=e[r]||er(t,e)?[r]:pr(t);for(var i=-1,o=t.length,a=o-1,s=e;null!=s&&++i<o;){var c=t[i];Li(s)&&(i==a?s[c]=n:null==s[c]&&(s[c]=Zn(t[i+1])?[]:{})),s=s[c]}return e}function io(e,t,n,r){var i=Is(e)||Vi(e);if(t=zn(t,r,4),null==n)if(i||Li(e)){var o=e.constructor;n=i?Is(e)?new o:[]:Ma(Di(o)?o.prototype:E)}else n={};return(i?tt:Pt)(e,function(e,r,i){return t(n,e,r,i)}),n}function oo(e){return en(e,Us(e))}function ao(e){return en(e,eo(e))}function so(e,t,n){return t=+t||0,n===E?(n=t,t=0):n=+n||0,e>=Ca(t,n)&&e<xa(t,n)}function co(e,t,n){n&&Qn(e,t,n)&&(t=n=E);var r=null==e,i=null==t;if(null==n&&(i&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,i=!0)),r&&i&&(t=1,i=!1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1){var o=Sa();return Ca(e+o*(t-e+ca("1e-"+((o+"").length-1))),t)}return qt(e,t)}function uo(e){return e=u(e),e&&e.charAt(0).toUpperCase()+e.slice(1)}function lo(e){return e=u(e),e&&e.replace(Fe,h).replace(Pe,"")}function fo(e,t,n){e=u(e),t+="";var r=e.length;return n=n===E?r:Ca(n<0?0:+n||0,r),n-=t.length,n>=0&&e.indexOf(t,n)==n}function po(e){return e=u(e),e&&xe.test(e)?e.replace(we,m):e}function ho(e){return e=u(e),e&&Oe.test(e)?e.replace(Ie,v):e||"(?:)"}function mo(e,t,n){e=u(e),t=+t;var r=e.length;if(r>=t||!wa(t))return e;var i=(t-r)/2,o=ya(i),a=va(i);return n=Dn("",a,n),n.slice(0,o)+e+n}function vo(e,t,n){return(n?Qn(e,t,n):null==t)?t=0:t&&(t=+t),e=wo(e),Ta(e,t||(Me.test(e)?16:10))}function go(e,t){var n="";if(e=u(e),t=+t,t<1||!e||!wa(t))return n;do t%2&&(n+=e),t=ya(t/2),e+=e;while(t);return n}function yo(e,t,n){return e=u(e),n=null==n?0:Ca(n<0?0:+n||0,e.length),e.lastIndexOf(t,n)==n}function bo(e,n,r){var i=t.templateSettings;r&&Qn(e,n,r)&&(n=r=E),e=u(e),n=vt(gt({},r||n),i,mt);var o,a,s=vt(gt({},n.imports),i.imports,mt),c=Us(s),l=en(s,c),f=0,p=n.interpolate||Be,d="__p += '",h=Go((n.escape||Be).source+"|"+p.source+"|"+(p===Te?De:Be).source+"|"+(n.evaluate||Be).source+"|$","g"),m="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Ve+"]")+"\n";e.replace(h,function(t,n,r,i,s,c){return r||(r=i),d+=e.slice(f,c).replace(Ue,g),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=c+t.length,t}),d+="';\n";var v=n.variable;v||(d="with (obj) {\n"+d+"\n}\n"),d=(a?d.replace(ve,""):d).replace(ge,"$1").replace(ye,"$1;"),d="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var y=Js(function(){return $o(c,m+"return "+d).apply(E,l)});if(y.source=d,Pi(y))throw y;return y}function wo(e,t,n){var r=e;return(e=u(e))?(n?Qn(r,t,n):null==t)?e.slice(C(e),k(e)+1):(t+="",e.slice(l(e,t),f(e,t)+1)):e}function _o(e,t,n){var r=e;return e=u(e),e?(n?Qn(r,t,n):null==t)?e.slice(C(e)):e.slice(l(e,t+"")):e}function xo(e,t,n){var r=e;return e=u(e),e?(n?Qn(r,t,n):null==t)?e.slice(0,k(e)+1):e.slice(0,f(e,t+"")+1):e}function Co(e,t,n){n&&Qn(e,t,n)&&(t=E);var r=F,i=B;if(null!=t)if(Li(t)){var o="separator"in t?t.separator:o;r="length"in t?+t.length||0:r,i="omission"in t?u(t.omission):i}else r=+t||0;if(e=u(e),r>=e.length)return e;var a=r-i.length;if(a<1)return i;var s=e.slice(0,a);if(null==o)return s+i;if(zi(o)){if(e.slice(a).search(o)){var c,l,f=e.slice(0,a);for(o.global||(o=Go(o.source,(Le.exec(o)||"")+"g")),o.lastIndex=0;c=o.exec(f);)l=c.index;s=s.slice(0,null==l?a:l)}}else if(e.indexOf(o,a)!=a){var p=s.lastIndexOf(o);p>-1&&(s=s.slice(0,p))}return s+i}function ko(e){return e=u(e),e&&_e.test(e)?e.replace(be,T):e}function To(e,t,n){return n&&Qn(e,t,n)&&(t=E),e=u(e),e.match(t||ze)||[]}function So(e,t,n){return n&&Qn(e,t,n)&&(t=E),b(e)?Io(e):wt(e,t)}function Eo(e){return function(){return e}}function Ao(e){return e}function Io(e){return Bt(_t(e,!0))}function Oo(e,t){return Ut(e,_t(t,!0))}function Po(e,t,n){if(null==n){var r=Li(t),i=r?Us(t):E,o=i&&i.length?Dt(t,i):E;(o?o.length:r)||(o=!1,n=t,t=e,e=this)}o||(o=Dt(t,Us(t)));var a=!0,s=-1,c=Di(e),u=o.length;n===!1?a=!1:Li(n)&&"chain"in n&&(a=n.chain);for(;++s<u;){var l=o[s],f=t[l];e[l]=f,c&&(e.prototype[l]=function(t){return function(){var n=this.__chain__;if(a||n){var r=e(this.__wrapped__),i=r.__actions__=et(this.__actions__);return i.push({func:t,args:arguments,thisArg:e}),r.__chain__=n,r}return t.apply(e,ut([this.value()],arguments))}}(f))}return e}function No(){return rt._=ia,this}function Do(){}function Lo(e){return er(e)?Vt(e):$t(e)}function Mo(e){return function(t){return Lt(e,pr(t),t+"")}}function Ro(e,t,n){n&&Qn(e,t,n)&&(t=n=E),e=+e||0,n=null==n?1:+n||0,null==t?(t=e,e=0):t=+t||0;for(var r=-1,i=xa(va((t-e)/(n||1)),0),o=zo(i);++r<i;)o[r]=e,e+=n;return o}function jo(e,t,n){if(e=ya(e),e<1||!wa(e))return[];var r=-1,i=zo(Ca(e,Ia));for(t=an(t,n,1);++r<e;)r<Ia?i[r]=t(r):t(r);return i}function Fo(e){var t=++na;return u(e)+t}function Bo(e,t){return(+e||0)+(+t||0)}function Uo(e,t,n){return n&&Qn(e,t,n)&&(t=E),t=zn(t,n,3),1==t.length?dt(Is(e)?e:lr(e),t):Zt(e,t)}e=e?it.defaults(rt.Object(),e,it.pick(rt,We)):rt;var zo=e.Array,Wo=e.Date,Vo=e.Error,$o=e.Function,Ho=e.Math,qo=e.Number,Ko=e.Object,Go=e.RegExp,Yo=e.String,Xo=e.TypeError,Jo=zo.prototype,Zo=Ko.prototype,Qo=Yo.prototype,ea=$o.prototype.toString,ta=Zo.hasOwnProperty,na=0,ra=Zo.toString,ia=rt._,oa=Go("^"+ea.call(ta).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),aa=e.ArrayBuffer,sa=e.clearTimeout,ca=e.parseFloat,ua=Ho.pow,la=Zo.propertyIsEnumerable,fa=Hn(e,"Set"),pa=e.setTimeout,da=Jo.splice,ha=e.Uint8Array,ma=Hn(e,"WeakMap"),va=Ho.ceil,ga=Hn(Ko,"create"),ya=Ho.floor,ba=Hn(zo,"isArray"),wa=e.isFinite,_a=Hn(Ko,"keys"),xa=Ho.max,Ca=Ho.min,ka=Hn(Wo,"now"),Ta=e.parseInt,Sa=Ho.random,Ea=qo.NEGATIVE_INFINITY,Aa=qo.POSITIVE_INFINITY,Ia=4294967295,Oa=Ia-1,Pa=Ia>>>1,Na=9007199254740991,Da=ma&&new ma,La={};
t.support={};t.templateSettings={escape:Ce,evaluate:ke,interpolate:Te,variable:"",imports:{_:t}};var Ma=function(){function e(){}return function(t){if(Li(t)){e.prototype=t;var n=new e;e.prototype=E}return n||{}}}(),Ra=pn(Pt),ja=pn(Nt,!0),Fa=dn(),Ba=dn(!0),Ua=Da?function(e,t){return Da.set(e,t),e}:Ao,za=Da?function(e){return Da.get(e)}:Do,Wa=Vt("length"),Va=function(){var e=0,t=0;return function(n,r){var i=ms(),o=z-(i-t);if(t=i,o>0){if(++e>=U)return n}else e=0;return Ua(n,r)}}(),$a=gi(function(e,t){return b(e)&&Jn(e)?Ct(e,It(t,!1,!0)):[]}),Ha=xn(),qa=xn(!0),Ka=gi(function(e){for(var t=e.length,n=t,r=zo(f),i=Vn(),o=i==s,a=[];n--;){var c=e[n]=Jn(c=e[n])?c:[];r[n]=o&&c.length>=120?mn(n&&c):null}var u=e[0],l=-1,f=u?u.length:0,p=r[0];e:for(;++l<f;)if(c=u[l],(p?Je(p,c):i(a,c,0))<0){for(var n=t;--n;){var d=r[n];if((d?Je(d,c):i(e[n],c,0))<0)continue e}p&&p.push(c),a.push(c)}return a}),Ga=gi(function(e,t){t=It(t);var n=yt(e,t);return Ht(e,t.sort(o)),n}),Ya=Rn(),Xa=Rn(!0),Ja=gi(function(e){return Qt(It(e,!1,!0))}),Za=gi(function(e,t){return Jn(e)?Ct(e,t):[]}),Qa=gi(jr),es=gi(function(e){var t=e.length,n=t>2?e[t-2]:E,r=t>1?e[t-1]:E;return t>2&&"function"==typeof n?t-=2:(n=t>1&&"function"==typeof r?(--t,r):E,r=E),e.length=t,Fr(e,n,r)}),ts=gi(function(e){return e=It(e),this.thru(function(t){return Qe(Is(t)?t:[fr(t)],e)})}),ns=gi(function(e,t){return yt(e,It(t))}),rs=ln(function(e,t,n){ta.call(e,n)?++e[n]:e[n]=1}),is=_n(Ra),os=_n(ja,!0),as=Tn(tt,Ra),ss=Tn(nt,ja),cs=ln(function(e,t,n){ta.call(e,n)?e[n].push(t):e[n]=[t]}),us=ln(function(e,t,n){e[n]=t}),ls=gi(function(e,t,n){var r=-1,i="function"==typeof t,o=er(t),a=Jn(e)?zo(e.length):[];return Ra(e,function(e){var s=i?t:o&&null!=e?e[t]:E;a[++r]=s?s.apply(e,n):Xn(e,t,n)}),a}),fs=ln(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),ps=Pn(lt,Ra),ds=Pn(ft,ja),hs=gi(function(e,t){if(null==e)return[];var n=t[2];return n&&Qn(t[0],t[1],n)&&(t.length=1),Jt(e,It(t),[])}),ms=ka||function(){return(new Wo).getTime()},vs=gi(function(e,t,n){var r=I;if(n.length){var i=_(n,vs.placeholder);r|=L}return jn(e,r,t,n,i)}),gs=gi(function(e,t){t=t.length?It(t):Xi(e);for(var n=-1,r=t.length;++n<r;){var i=t[n];e[i]=jn(e[i],I,e)}return e}),ys=gi(function(e,t,n){var r=I|O;if(n.length){var i=_(n,ys.placeholder);r|=L}return jn(t,r,e,n,i)}),bs=yn(N),ws=yn(D),_s=gi(function(e,t){return xt(e,1,t)}),xs=gi(function(e,t,n){return xt(e,t,n)}),Cs=kn(),ks=kn(!0),Ts=gi(function(e,t){if(t=It(t),"function"!=typeof e||!ot(t,c))throw new Xo(H);var n=t.length;return gi(function(r){for(var i=Ca(r.length,n);i--;)r[i]=t[i](r[i]);return e.apply(this,r)})}),Ss=On(L),Es=On(M),As=gi(function(e,t){return jn(e,j,E,E,E,It(t))}),Is=ba||function(e){return b(e)&&nr(e.length)&&ra.call(e)==G},Os=fn(zt),Ps=fn(function(e,t,n){return n?vt(e,t,n):gt(e,t)}),Ns=bn(Ps,ht),Ds=bn(Os,or),Ls=Cn(Pt),Ms=Cn(Nt),Rs=Sn(Fa),js=Sn(Ba),Fs=En(Pt),Bs=En(Nt),Us=_a?function(e){var t=null==e?E:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&Jn(e)?ur(e):Li(e)?_a(e):[]}:ur,zs=An(!0),Ws=An(),Vs=gi(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=ct(It(t),Yo);return ar(e,Ct(eo(e),t))}var n=an(t[0],t[1],3);return sr(e,function(e,t,r){return!n(e,t,r)})}),$s=gi(function(e,t){return null==e?{}:"function"==typeof t[0]?sr(e,an(t[0],t[1],3)):ar(e,It(t))}),Hs=vn(function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)}),qs=vn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Ks=In(),Gs=In(!0),Ys=vn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Xs=vn(function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Js=gi(function(e,t){try{return e.apply(E,t)}catch(e){return Pi(e)?e:new Vo(e)}}),Zs=gi(function(e,t){return function(n){return Xn(n,e,t)}}),Qs=gi(function(e,t){return function(n){return Xn(e,n,t)}}),ec=Mn("ceil"),tc=Mn("floor"),nc=wn(Ci,Ea),rc=wn(Hi,Aa),ic=Mn("round");return t.prototype=n.prototype,r.prototype=Ma(n.prototype),r.prototype.constructor=r,i.prototype=Ma(n.prototype),i.prototype.constructor=i,oe.prototype.delete=qe,oe.prototype.get=Ke,oe.prototype.has=Ge,oe.prototype.set=Ye,Xe.prototype.push=Ze,hi.Cache=oe,t.after=li,t.ary=fi,t.assign=Ps,t.at=ns,t.before=pi,t.bind=vs,t.bindAll=gs,t.bindKey=ys,t.callback=So,t.chain=zr,t.chunk=hr,t.compact=mr,t.constant=Eo,t.countBy=rs,t.create=Yi,t.curry=bs,t.curryRight=ws,t.debounce=di,t.defaults=Ns,t.defaultsDeep=Ds,t.defer=_s,t.delay=xs,t.difference=$a,t.drop=vr,t.dropRight=gr,t.dropRightWhile=yr,t.dropWhile=br,t.fill=wr,t.filter=Jr,t.flatten=xr,t.flattenDeep=Cr,t.flow=Cs,t.flowRight=ks,t.forEach=as,t.forEachRight=ss,t.forIn=Rs,t.forInRight=js,t.forOwn=Fs,t.forOwnRight=Bs,t.functions=Xi,t.groupBy=cs,t.indexBy=us,t.initial=Tr,t.intersection=Ka,t.invert=Qi,t.invoke=ls,t.keys=Us,t.keysIn=eo,t.map=ei,t.mapKeys=zs,t.mapValues=Ws,t.matches=Io,t.matchesProperty=Oo,t.memoize=hi,t.merge=Os,t.method=Zs,t.methodOf=Qs,t.mixin=Po,t.modArgs=Ts,t.negate=mi,t.omit=Vs,t.once=vi,t.pairs=to,t.partial=Ss,t.partialRight=Es,t.partition=fs,t.pick=$s,t.pluck=ti,t.property=Lo,t.propertyOf=Mo,t.pull=Ar,t.pullAt=Ga,t.range=Ro,t.rearg=As,t.reject=ni,t.remove=Ir,t.rest=Or,t.restParam=gi,t.set=ro,t.shuffle=ii,t.slice=Pr,t.sortBy=si,t.sortByAll=hs,t.sortByOrder=ci,t.spread=yi,t.take=Nr,t.takeRight=Dr,t.takeRightWhile=Lr,t.takeWhile=Mr,t.tap=Wr,t.throttle=bi,t.thru=Vr,t.times=jo,t.toArray=Ki,t.toPlainObject=Gi,t.transform=io,t.union=Ja,t.uniq=Rr,t.unzip=jr,t.unzipWith=Fr,t.values=oo,t.valuesIn=ao,t.where=ui,t.without=Za,t.wrap=wi,t.xor=Br,t.zip=Qa,t.zipObject=Ur,t.zipWith=es,t.backflow=ks,t.collect=ei,t.compose=ks,t.each=as,t.eachRight=ss,t.extend=Ps,t.iteratee=So,t.methods=Xi,t.object=Ur,t.select=Jr,t.tail=Or,t.unique=Rr,Po(t,t),t.add=Bo,t.attempt=Js,t.camelCase=Hs,t.capitalize=uo,t.ceil=ec,t.clone=_i,t.cloneDeep=xi,t.deburr=lo,t.endsWith=fo,t.escape=po,t.escapeRegExp=ho,t.every=Xr,t.find=is,t.findIndex=Ha,t.findKey=Ls,t.findLast=os,t.findLastIndex=qa,t.findLastKey=Ms,t.findWhere=Zr,t.first=_r,t.floor=tc,t.get=Ji,t.gt=Ci,t.gte=ki,t.has=Zi,t.identity=Ao,t.includes=Qr,t.indexOf=kr,t.inRange=so,t.isArguments=Ti,t.isArray=Is,t.isBoolean=Si,t.isDate=Ei,t.isElement=Ai,t.isEmpty=Ii,t.isEqual=Oi,t.isError=Pi,t.isFinite=Ni,t.isFunction=Di,t.isMatch=Mi,t.isNaN=Ri,t.isNative=ji,t.isNull=Fi,t.isNumber=Bi,t.isObject=Li,t.isPlainObject=Ui,t.isRegExp=zi,t.isString=Wi,t.isTypedArray=Vi,t.isUndefined=$i,t.kebabCase=qs,t.last=Sr,t.lastIndexOf=Er,t.lt=Hi,t.lte=qi,t.max=nc,t.min=rc,t.noConflict=No,t.noop=Do,t.now=ms,t.pad=mo,t.padLeft=Ks,t.padRight=Gs,t.parseInt=vo,t.random=co,t.reduce=ps,t.reduceRight=ds,t.repeat=go,t.result=no,t.round=ic,t.runInContext=S,t.size=oi,t.snakeCase=Ys,t.some=ai,t.sortedIndex=Ya,t.sortedLastIndex=Xa,t.startCase=Xs,t.startsWith=yo,t.sum=Uo,t.template=bo,t.trim=wo,t.trimLeft=_o,t.trimRight=xo,t.trunc=Co,t.unescape=ko,t.uniqueId=Fo,t.words=To,t.all=Xr,t.any=ai,t.contains=Qr,t.eq=Oi,t.detect=is,t.foldl=ps,t.foldr=ds,t.head=_r,t.include=Qr,t.inject=ps,Po(t,function(){var e={};return Pt(t,function(n,r){t.prototype[r]||(e[r]=n)}),e}(),!1),t.sample=ri,t.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return ri(t,e)}):ri(this.value())},t.VERSION=A,tt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){t[e].placeholder=t}),tt(["drop","take"],function(e,t){i.prototype[e]=function(n){var r=this.__filtered__;if(r&&!t)return new i(this);n=null==n?1:xa(ya(n)||0,0);var o=this.clone();return r?o.__takeCount__=Ca(o.__takeCount__,n):o.__views__.push({size:n,type:e+(o.__dir__<0?"Right":"")}),o},i.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),tt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n!=$;i.prototype[e]=function(e,t){var i=this.clone();return i.__iteratees__.push({iteratee:zn(e,t,1),type:n}),i.__filtered__=i.__filtered__||r,i}}),tt(["first","last"],function(e,t){var n="take"+(t?"Right":"");i.prototype[e]=function(){return this[n](1).value()[0]}}),tt(["initial","rest"],function(e,t){var n="drop"+(t?"":"Right");i.prototype[e]=function(){return this.__filtered__?new i(this):this[n](1)}}),tt(["pluck","where"],function(e,t){var n=t?"filter":"map",r=t?Bt:Lo;i.prototype[e]=function(e){return this[n](r(e))}}),i.prototype.compact=function(){return this.filter(Ao)},i.prototype.reject=function(e,t){return e=zn(e,t,1),this.filter(function(t){return!e(t)})},i.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=this;return n.__filtered__&&(e>0||t<0)?new i(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==E&&(t=+t||0,n=t<0?n.dropRight(-t):n.take(t-e)),n)},i.prototype.takeRightWhile=function(e,t){return this.reverse().takeWhile(e,t).reverse()},i.prototype.toArray=function(){return this.take(Aa)},Pt(i.prototype,function(e,n){var o=/^(?:filter|map|reject)|While$/.test(n),a=/^(?:first|last)$/.test(n),s=t[a?"take"+("last"==n?"Right":""):n];s&&(t.prototype[n]=function(){var t=a?[1]:arguments,n=this.__chain__,c=this.__wrapped__,u=!!this.__actions__.length,l=c instanceof i,f=t[0],p=l||Is(c);p&&o&&"function"==typeof f&&1!=f.length&&(l=p=!1);var d=function(e){return a&&n?s(e,1)[0]:s.apply(E,ut([e],t))},h={func:Vr,args:[d],thisArg:E},m=l&&!u;if(a&&!n)return m?(c=c.clone(),c.__actions__.push(h),e.call(c)):s.call(E,this.value())[0];if(!a&&p){c=m?c:new i(this);var v=e.apply(c,t);return v.__actions__.push(h),new r(v,n)}return this.thru(d)})}),tt(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var n=(/^(?:replace|split)$/.test(e)?Qo:Jo)[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(e);t.prototype[e]=function(){var e=arguments;return i&&!this.__chain__?n.apply(this.value(),e):this[r](function(t){return n.apply(t,e)})}}),Pt(i.prototype,function(e,n){var r=t[n];if(r){var i=r.name,o=La[i]||(La[i]=[]);o.push({name:n,func:r})}}),La[Nn(E,O).name]=[{name:"wrapper",func:E}],i.prototype.clone=w,i.prototype.reverse=Q,i.prototype.value=re,t.prototype.chain=$r,t.prototype.commit=Hr,t.prototype.concat=ts,t.prototype.plant=qr,t.prototype.reverse=Kr,t.prototype.toString=Gr,t.prototype.run=t.prototype.toJSON=t.prototype.valueOf=t.prototype.value=Yr,t.prototype.collect=t.prototype.map,t.prototype.head=t.prototype.first,t.prototype.select=t.prototype.filter,t.prototype.tail=t.prototype.rest,t}var E,A="3.10.1",I=1,O=2,P=4,N=8,D=16,L=32,M=64,R=128,j=256,F=30,B="...",U=150,z=16,W=200,V=1,$=2,H="Expected a function",q="__lodash_placeholder__",K="[object Arguments]",G="[object Array]",Y="[object Boolean]",X="[object Date]",J="[object Error]",Z="[object Function]",Q="[object Map]",ee="[object Number]",te="[object Object]",ne="[object RegExp]",re="[object Set]",ie="[object String]",oe="[object WeakMap]",ae="[object ArrayBuffer]",se="[object Float32Array]",ce="[object Float64Array]",ue="[object Int8Array]",le="[object Int16Array]",fe="[object Int32Array]",pe="[object Uint8Array]",de="[object Uint8ClampedArray]",he="[object Uint16Array]",me="[object Uint32Array]",ve=/\b__p \+= '';/g,ge=/\b(__p \+=) '' \+/g,ye=/(__e\(.*?\)|\b__t\)) \+\n'';/g,be=/&(?:amp|lt|gt|quot|#39|#96);/g,we=/[&<>"'`]/g,_e=RegExp(be.source),xe=RegExp(we.source),Ce=/<%-([\s\S]+?)%>/g,ke=/<%([\s\S]+?)%>/g,Te=/<%=([\s\S]+?)%>/g,Se=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,Ee=/^\w*$/,Ae=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Ie=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Oe=RegExp(Ie.source),Pe=/[\u0300-\u036f\ufe20-\ufe23]/g,Ne=/\\(\\)?/g,De=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Le=/\w*$/,Me=/^0[xX]/,Re=/^\[object .+?Constructor\]$/,je=/^\d+$/,Fe=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Be=/($^)/,Ue=/['\n\r\u2028\u2029\\]/g,ze=function(){var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),We=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Ve=-1,$e={};$e[se]=$e[ce]=$e[ue]=$e[le]=$e[fe]=$e[pe]=$e[de]=$e[he]=$e[me]=!0,$e[K]=$e[G]=$e[ae]=$e[Y]=$e[X]=$e[J]=$e[Z]=$e[Q]=$e[ee]=$e[te]=$e[ne]=$e[re]=$e[ie]=$e[oe]=!1;var He={};He[K]=He[G]=He[ae]=He[Y]=He[X]=He[se]=He[ce]=He[ue]=He[le]=He[fe]=He[ee]=He[te]=He[ne]=He[ie]=He[pe]=He[de]=He[he]=He[me]=!0,He[J]=He[Z]=He[Q]=He[re]=He[oe]=!1;var qe={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Ke={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ge={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Ye={function:!0,object:!0},Xe={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Je={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ze=Ye[typeof t]&&t&&!t.nodeType&&t,Qe=Ye[typeof e]&&e&&!e.nodeType&&e,et=Ze&&Qe&&"object"==typeof i&&i&&i.Object&&i,tt=Ye[typeof self]&&self&&self.Object&&self,nt=Ye[typeof window]&&window&&window.Object&&window,rt=(Qe&&Qe.exports===Ze&&Ze,et||nt!==(this&&this.window)&&nt||tt||this),it=S();rt._=it,r=function(){return it}.call(t,n,t,e),!(r!==E&&(e.exports=r))}).call(this)}).call(t,n(5)(e),function(){return this}(),n(379))},function(e,t,n){function r(e,t,n){var r=t&&n||0,i=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){i<16&&(t[r+i++]=u[e])});i<16;)t[r+i++]=0;return t}function i(e,t){var n=t||0,r=c;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}function o(e,t,n){var r=t&&n||0,o=t||[];e=e||{};var a=void 0!==e.clockseq?e.clockseq:d,s=void 0!==e.msecs?e.msecs:(new Date).getTime(),c=void 0!==e.nsecs?e.nsecs:m+1,u=s-h+(c-m)/1e4;if(u<0&&void 0===e.clockseq&&(a=a+1&16383),(u<0||s>h)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");h=s,m=c,d=a,s+=122192928e5;var l=(1e4*(268435455&s)+c)%4294967296;o[r++]=l>>>24&255,o[r++]=l>>>16&255,o[r++]=l>>>8&255,o[r++]=255&l;var f=s/4294967296*1e4&268435455;o[r++]=f>>>8&255,o[r++]=255&f,o[r++]=f>>>24&15|16,o[r++]=f>>>16&255,o[r++]=a>>>8|128,o[r++]=255&a;for(var v=e.node||p,g=0;g<6;g++)o[r+g]=v[g];return t?t:i(o)}function a(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null),e=e||{};var o=e.random||(e.rng||s)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var a=0;a<16;a++)t[r+a]=o[a];return t||i(o)}for(var s=n(381),c=[],u={},l=0;l<256;l++)c[l]=(l+256).toString(16).substr(1),u[c[l]]=l;var f=s(),p=[1|f[0],f[1],f[2],f[3],f[4],f[5]],d=16383&(f[6]<<8|f[7]),h=0,m=0,v=a;v.v1=o,v.v4=a,v.parse=r,v.unparse=i,e.exports=v},function(e,t){(function(t){var n,r=t.crypto||t.msCrypto;if(r&&r.getRandomValues){var i=new Uint8Array(16);n=function(){return r.getRandomValues(i),i}}if(!n){var o=new Array(16);n=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}e.exports=n}).call(t,function(){return this}())},function(e,t,n){var r;(function(i){!function(o){function a(){this._events={},this._conf&&s.call(this,this._conf)}function s(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._events.maxListeners=e.maxListeners!==o?e.maxListeners:d,e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),this.wildcard&&(this.listenerTree={})):this._events.maxListeners=d}function c(e,t){var n="(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.";this.verboseMemoryLeak?(n+=" Event name: %s.",console.error(n,e,t)):console.error(n,e),console.trace&&console.trace()}function u(e){this._events={},this.newListener=!1,this.verboseMemoryLeak=!1,s.call(this,e)}function l(e,t,n,r){if(!n)return[];var i,o,a,s,c,u,f,p=[],d=t.length,h=t[r],m=t[r+1];if(r===d&&n._listeners){if("function"==typeof n._listeners)return e&&e.push(n._listeners),[n];for(i=0,o=n._listeners.length;i<o;i++)e&&e.push(n._listeners[i]);return[n]}if("*"===h||"**"===h||n[h]){if("*"===h){for(a in n)"_listeners"!==a&&n.hasOwnProperty(a)&&(p=p.concat(l(e,t,n[a],r+1)));return p}if("**"===h){f=r+1===d||r+2===d&&"*"===m,f&&n._listeners&&(p=p.concat(l(e,t,n,d)));for(a in n)"_listeners"!==a&&n.hasOwnProperty(a)&&("*"===a||"**"===a?(n[a]._listeners&&!f&&(p=p.concat(l(e,t,n[a],d))),p=p.concat(l(e,t,n[a],r))):p=a===m?p.concat(l(e,t,n[a],r+2)):p.concat(l(e,t,n[a],r)));return p}p=p.concat(l(e,t,n[h],r+1))}if(s=n["*"],s&&l(e,t,s,r+1),c=n["**"])if(r<d){c._listeners&&l(e,t,c,d);for(a in c)"_listeners"!==a&&c.hasOwnProperty(a)&&(a===m?l(e,t,c[a],r+2):a===h?l(e,t,c[a],r+1):(u={},u[a]=c[a],l(e,t,{"**":u},r+1)))}else c._listeners?l(e,t,c,d):c["*"]&&c["*"]._listeners&&l(e,t,c["*"],d);return p}function f(e,t){e="string"==typeof e?e.split(this.delimiter):e.slice();for(var n=0,r=e.length;n+1<r;n++)if("**"===e[n]&&"**"===e[n+1])return;for(var i=this.listenerTree,a=e.shift();a!==o;){if(i[a]||(i[a]={}),i=i[a],0===e.length)return i._listeners?("function"==typeof i._listeners&&(i._listeners=[i._listeners]),i._listeners.push(t),!i._listeners.warned&&this._events.maxListeners>0&&i._listeners.length>this._events.maxListeners&&(i._listeners.warned=!0,c.call(this,i._listeners.length,a))):i._listeners=t,!0;a=e.shift()}return!0}var p=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},d=10;u.EventEmitter2=u,u.prototype.delimiter=".",u.prototype.setMaxListeners=function(e){e!==o&&(this._events||a.call(this),this._events.maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},u.prototype.event="",u.prototype.once=function(e,t){return this.many(e,1,t),this},u.prototype.many=function(e,t,n){function r(){0===--t&&i.off(e,r),n.apply(this,arguments)}var i=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");return r._origin=n,this.on(e,r),i},u.prototype.emit=function(){this._events||a.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return!1;var t,n,r,i,o,s=arguments.length;if(this._all&&this._all.length){if(o=this._all.slice(),s>3)for(t=new Array(s),i=0;i<s;i++)t[i]=arguments[i];for(r=0,n=o.length;r<n;r++)switch(this.event=e,s){case 1:o[r].call(this,e);break;case 2:o[r].call(this,e,arguments[1]);break;case 3:o[r].call(this,e,arguments[1],arguments[2]);break;default:o[r].apply(this,t)}}if(this.wildcard){o=[];var c="string"==typeof e?e.split(this.delimiter):e.slice();l.call(this,o,c,this.listenerTree,0)}else{if(o=this._events[e],"function"==typeof o){switch(this.event=e,s){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(s-1),i=1;i<s;i++)t[i-1]=arguments[i];o.apply(this,t)}return!0}o&&(o=o.slice())}if(o&&o.length){if(s>3)for(t=new Array(s-1),i=1;i<s;i++)t[i-1]=arguments[i];for(r=0,n=o.length;r<n;r++)switch(this.event=e,s){case 1:o[r].call(this);break;case 2:o[r].call(this,arguments[1]);break;case 3:o[r].call(this,arguments[1],arguments[2]);break;default:o[r].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},u.prototype.emitAsync=function(){this._events||a.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return i.resolve([!1]);var t,n,r,o,s,c=[],u=arguments.length;if(this._all){if(u>3)for(t=new Array(u),o=1;o<u;o++)t[o]=arguments[o];for(r=0,n=this._all.length;r<n;r++)switch(this.event=e,u){case 1:c.push(this._all[r].call(this,e));break;case 2:c.push(this._all[r].call(this,e,arguments[1]));break;case 3:c.push(this._all[r].call(this,e,arguments[1],arguments[2]));break;default:c.push(this._all[r].apply(this,t))}}if(this.wildcard){s=[];var f="string"==typeof e?e.split(this.delimiter):e.slice();l.call(this,s,f,this.listenerTree,0)}else s=this._events[e];if("function"==typeof s)switch(this.event=e,u){case 1:c.push(s.call(this));break;case 2:c.push(s.call(this,arguments[1]));break;case 3:c.push(s.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(u-1),o=1;o<u;o++)t[o-1]=arguments[o];c.push(s.apply(this,t))}else if(s&&s.length){if(u>3)for(t=new Array(u-1),o=1;o<u;o++)t[o-1]=arguments[o];for(r=0,n=s.length;r<n;r++)switch(this.event=e,u){case 1:c.push(s[r].call(this));break;case 2:c.push(s[r].call(this,arguments[1]));break;case 3:c.push(s[r].call(this,arguments[1],arguments[2]));break;default:c.push(s[r].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?i.reject(arguments[1]):i.reject("Uncaught, unspecified 'error' event.");return i.all(c)},u.prototype.on=function(e,t){if("function"==typeof e)return this.onAny(e),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||a.call(this),this.emit("newListener",e,t),this.wildcard?(f.call(this,e,t),this):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),this._events[e].push(t),!this._events[e].warned&&this._events.maxListeners>0&&this._events[e].length>this._events.maxListeners&&(this._events[e].warned=!0,c.call(this,this._events[e].length,e))):this._events[e]=t,this)},u.prototype.onAny=function(e){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),this._all.push(e),this},u.prototype.addListener=u.prototype.on,u.prototype.off=function(e,t){function n(e){if(e!==o){var t=Object.keys(e);for(var r in t){var i=t[r],a=e[i];a instanceof Function||"object"!=typeof a||null===a||(Object.keys(a).length>0&&n(e[i]),0===Object.keys(a).length&&delete e[i])}}}if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var r,i=[];if(this.wildcard){var a="string"==typeof e?e.split(this.delimiter):e.slice();i=l.call(this,null,a,this.listenerTree,0)}else{if(!this._events[e])return this;r=this._events[e],i.push({_listeners:r})}for(var s=0;s<i.length;s++){var c=i[s];if(r=c._listeners,p(r)){for(var u=-1,f=0,d=r.length;f<d;f++)if(r[f]===t||r[f].listener&&r[f].listener===t||r[f]._origin&&r[f]._origin===t){u=f;break}if(u<0)continue;return this.wildcard?c._listeners.splice(u,1):this._events[e].splice(u,1),0===r.length&&(this.wildcard?delete c._listeners:delete this._events[e]),this.emit("removeListener",e,t),this}(r===t||r.listener&&r.listener===t||r._origin&&r._origin===t)&&(this.wildcard?delete c._listeners:delete this._events[e],this.emit("removeListener",e,t))}return n(this.listenerTree),this},u.prototype.offAny=function(e){var t,n=0,r=0;if(e&&this._all&&this._all.length>0){for(t=this._all,n=0,r=t.length;n<r;n++)if(e===t[n])return t.splice(n,1),this.emit("removeListenerAny",e),this}else{for(t=this._all,n=0,r=t.length;n<r;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},u.prototype.removeListener=u.prototype.off,u.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||a.call(this),this;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),n=l.call(this,null,t,this.listenerTree,0),r=0;r<n.length;r++){var i=n[r];i._listeners=null}else this._events&&(this._events[e]=null);return this},u.prototype.listeners=function(e){if(this.wildcard){var t=[],n="string"==typeof e?e.split(this.delimiter):e.slice();return l.call(this,t,n,this.listenerTree,0),t}return this._events||a.call(this),this._events[e]||(this._events[e]=[]),p(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},u.prototype.listenerCount=function(e){return this.listeners(e).length},u.prototype.listenersAny=function(){return this._all?this._all:[]},r=function(){return u}.call(t,n,t,e),!(r!==o&&(e.exports=r))}()}).call(t,n(170))},function(e,t,n){(function(r){function i(){return!("undefined"==typeof window||!window||"undefined"==typeof window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document&&"WebkitAppearance"in document.documentElement.style||"undefined"!=typeof window&&window&&window.console&&(console.firebug||console.exception&&console.table)||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function o(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,r)}}function a(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}}function c(){try{return t.storage.debug}catch(e){}if("undefined"!=typeof r&&"env"in r)return r.env.DEBUG}function u(){try{return window.localStorage}catch(e){}}t=e.exports=n(384),t.log=a,t.formatArgs=o,t.save=s,t.load=c,t.useColors=i,t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:u(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(c())}).call(t,n(171))},function(e,t,n){function r(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}function i(e){function n(){if(n.enabled){var e=n,r=+new Date,i=r-(u||r);e.diff=i,e.prev=u,e.curr=r,u=r;for(var o=new Array(arguments.length),a=0;a<o.length;a++)o[a]=arguments[a];o[0]=t.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var s=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;s++;var i=t.formatters[r];if("function"==typeof i){var a=o[s];n=i.call(e,a),o.splice(s,1),s--}return n}),t.formatArgs.call(e,o);var c=n.log||t.log||console.log.bind(console);c.apply(e,o)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=r(e),"function"==typeof t.init&&t.init(n),n}function o(e){t.save(e),t.names=[],t.skips=[];for(var n=(e||"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&(e=n[i].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function a(){t.enable("")}function s(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=i.debug=i.default=i,t.coerce=c,t.disable=a,t.enable=o,t.enabled=s,t.humanize=n(385),t.names=[],t.skips=[],t.formatters={};var u},function(e,t){function n(e){if(e=String(e),!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*l;case"days":case"day":case"d":return n*u;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*s;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function r(e){return e>=u?Math.round(e/u)+"d":e>=c?Math.round(e/c)+"h":e>=s?Math.round(e/s)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function i(e){return o(e,u,"day")||o(e,c,"hour")||o(e,s,"minute")||o(e,a,"second")||e+" ms"}function o(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,s=60*a,c=60*s,u=24*c,l=365.25*u;e.exports=function(e,t){t=t||{};var o=typeof e;if("string"===o&&e.length>0)return n(e);if("number"===o&&isNaN(e)===!1)return t.long?i(e):r(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";var r=n(387),i=n(388),o=n(389);r(o,i),e.exports=o},function(e,t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function r(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function i(e,t){return function(n){return e(t(n))}}function o(e,t){var n=M(e)||m(e)?r(e.length,String):[],i=n.length,o=!!i;for(var a in e)!t&&!I.call(e,a)||o&&("length"==a||f(a,i))||n.push(a);return n}function a(e,t,n){var r=e[t];I.call(e,t)&&h(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function s(e){if(!d(e))return N(e);var t=[];for(var n in Object(e))I.call(e,n)&&"constructor"!=n&&t.push(n);return t}function c(e,t){return t=D(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=D(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=a,n(e,this,s)}}function u(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var s=t[i],c=r?r(n[s],e[s],s,n,e):void 0;a(n,s,void 0===c?e[s]:c)}return n}function l(e){return c(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&p(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t})}function f(e,t){return t=null==t?C:t,!!t&&("number"==typeof e||E.test(e))&&e>-1&&e%1==0&&e<t}function p(e,t,n){if(!w(n))return!1;var r=typeof t;return!!("number"==r?v(n)&&f(t,n.length):"string"==r&&t in n)&&h(n[t],e)}function d(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||A;return e===n}function h(e,t){return e===t||e!==e&&t!==t}function m(e){return g(e)&&I.call(e,"callee")&&(!P.call(e,"callee")||O.call(e)==k)}function v(e){return null!=e&&b(e.length)&&!y(e)}function g(e){return _(e)&&v(e)}function y(e){var t=w(e)?O.call(e):"";return t==T||t==S}function b(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=C}function w(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function _(e){return!!e&&"object"==typeof e}function x(e){return v(e)?o(e):s(e)}var C=9007199254740991,k="[object Arguments]",T="[object Function]",S="[object GeneratorFunction]",E=/^(?:0|[1-9]\d*)$/,A=Object.prototype,I=A.hasOwnProperty,O=A.toString,P=A.propertyIsEnumerable,N=i(Object.keys,Object),D=Math.max,L=!P.call({valueOf:1},"valueOf"),M=Array.isArray,R=l(function(e,t){if(L||d(t)||v(t))return void u(t,x(t),e);for(var n in t)I.call(t,n)&&a(e,n,t[n])});e.exports=R},function(e,t){"use strict";function n(e){var t=JSON.stringify({data:e});return t.length+":"+t+"\r\n"}function r(e){var t=e.slice(0,-2),n=t.split("\r\n");return n.map(function(e){var t=e.match(o);if(!t)throw new Error("pipelining format error:"+e);var n=t[2];return JSON.parse(n).data})}function i(e){if(!e)return!1;if("\r\n"!==e.slice(-2))return!1;for(var t=e.slice(0,-2),n=t.split("\r\n"),r=0;r<n.length;r+=1){var i=n[r].match(o);if(!i)return!1;if(Number(i[1])!==i[2].length)return!1}return!0}var o=/^(\d+):(.*)$/;e.exports.pack=n,e.exports.unpack=r,e.exports.isValid=i},function(e,t,n){"use strict";function r(e){var t=c(e);t.method=t.method.toUpperCase();
var n=void 0;if(t.data){var r=a.parse(t.url);"GET"===t.method?(r.query=r.query||{},s(r.query,t.data),t.url=a.format(r)):(n=new FormData,o(t.data).forEach(function(e){n.append(e,t.data[e])}))}var i=[],d=0,h=void 0,m=!1,v=!1,g=void 0,y=!1,b=void 0,w=Date.now(),_="",x=function(e){if(p("get data:",e),e=_+e,!l.isValid(e))return void(_=e);_="";var t=l.unpack(e);t.length>0&&(t.forEach(function(e){return i.push(e)}),h&&(h.resolve({data:t[0]}),h=null,d+=1))},C=function(e){p("request ended"),m=!0,b={done:!0,status:(e||{}).status},h&&i.length===d&&h.resolve(b)},k=f(s({},t,{onData:x,onEnd:C})),T={abort:function(){return p("pipelining aborted"),y=!0,k.abort()},read:function(){var e=Date.now();return new u(function(e,t){if(y)return void t(new Error("Aborted"));if(g)return void t(g);if(m){if(v)return void t(new Error("Already resolved"));if(i.length===d)return e(b),void(v=!0)}return i.length>d?(e({data:i[d]}),void(d+=1)):void(h={resolve:e,reject:t})}).timeout(t.timeout-(e-w),new Error("Timeout"))}};return T}function i(e){return function(t,n){var i=n||{};return r(s({},{url:t,method:e,timeout:6e4},i))}}var o=n(390),a=n(391),s=n(387),c=n(397),u=n(170),l=n(388),f=n(398),p=n(383)("pipelining");e.exports=e.exports.get=i("get"),e.exports.request=r,["post","patch","put"].forEach(function(t){e.exports[t]=i(t)}),"undefined"!=typeof window&&(window.pipelining=t)},function(e,t){function n(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function r(e,t){return function(n){return e(t(n))}}function i(e,t){var r=S(e)||c(e)?n(e.length,String):[],i=r.length,o=!!i;for(var s in e)!t&&!x.call(e,s)||o&&("length"==s||a(s,i))||r.push(s);return r}function o(e){if(!s(e))return T(e);var t=[];for(var n in Object(e))x.call(e,n)&&"constructor"!=n&&t.push(n);return t}function a(e,t){return t=null==t?v:t,!!t&&("number"==typeof e||w.test(e))&&e>-1&&e%1==0&&e<t}function s(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||_;return e===n}function c(e){return l(e)&&x.call(e,"callee")&&(!k.call(e,"callee")||C.call(e)==g)}function u(e){return null!=e&&p(e.length)&&!f(e)}function l(e){return h(e)&&u(e)}function f(e){var t=d(e)?C.call(e):"";return t==y||t==b}function p(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=v}function d(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function h(e){return!!e&&"object"==typeof e}function m(e){return u(e)?i(e):o(e)}var v=9007199254740991,g="[object Arguments]",y="[object Function]",b="[object GeneratorFunction]",w=/^(?:0|[1-9]\d*)$/,_=Object.prototype,x=_.hasOwnProperty,C=_.toString,k=_.propertyIsEnumerable,T=r(Object.keys,Object),S=Array.isArray;e.exports=m},function(e,t,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(e,t,n){if(e&&u.isObject(e)&&e instanceof r)return e;var i=new r;return i.parse(e,t,n),i}function o(e){return u.isString(e)&&(e=i(e)),e instanceof r?e.format():r.prototype.format.call(e)}function a(e,t){return i(e,!1,!0).resolve(t)}function s(e,t){return e?i(e,!1,!0).resolveObject(t):t}var c=n(392),u=n(393);t.parse=i,t.resolve=a,t.resolveObject=s,t.format=o,t.Url=r;var l=/^([a-z0-9.+-]+:)/i,f=/:[0-9]*$/,p=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,d=["<",">",'"',"`"," ","\r","\n","\t"],h=["{","}","|","\\","^","`"].concat(d),m=["'"].concat(h),v=["%","/","?",";","#"].concat(m),g=["/","?","#"],y=255,b=/^[+a-z0-9A-Z_-]{0,63}$/,w=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,_={javascript:!0,"javascript:":!0},x={javascript:!0,"javascript:":!0},C={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},k=n(394);r.prototype.parse=function(e,t,n){if(!u.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=r!==-1&&r<e.indexOf("#")?"?":"#",o=e.split(i),a=/\\/g;o[0]=o[0].replace(a,"/"),e=o.join(i);var s=e;if(s=s.trim(),!n&&1===e.split("#").length){var f=p.exec(s);if(f)return this.path=s,this.href=s,this.pathname=f[1],f[2]?(this.search=f[2],t?this.query=k.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var d=l.exec(s);if(d){d=d[0];var h=d.toLowerCase();this.protocol=h,s=s.substr(d.length)}if(n||d||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var T="//"===s.substr(0,2);!T||d&&x[d]||(s=s.substr(2),this.slashes=!0)}if(!x[d]&&(T||d&&!C[d])){for(var S=-1,E=0;E<g.length;E++){var A=s.indexOf(g[E]);A!==-1&&(S===-1||A<S)&&(S=A)}var I,O;O=S===-1?s.lastIndexOf("@"):s.lastIndexOf("@",S),O!==-1&&(I=s.slice(0,O),s=s.slice(O+1),this.auth=decodeURIComponent(I)),S=-1;for(var E=0;E<v.length;E++){var A=s.indexOf(v[E]);A!==-1&&(S===-1||A<S)&&(S=A)}S===-1&&(S=s.length),this.host=s.slice(0,S),s=s.slice(S),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var N=this.hostname.split(/\./),E=0,D=N.length;E<D;E++){var L=N[E];if(L&&!L.match(b)){for(var M="",R=0,j=L.length;R<j;R++)M+=L.charCodeAt(R)>127?"x":L[R];if(!M.match(b)){var F=N.slice(0,E),B=N.slice(E+1),U=L.match(w);U&&(F.push(U[1]),B.unshift(U[2])),B.length&&(s="/"+B.join(".")+s),this.hostname=F.join(".");break}}}this.hostname.length>y?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=c.toASCII(this.hostname));var z=this.port?":"+this.port:"",W=this.hostname||"";this.host=W+z,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!_[h])for(var E=0,D=m.length;E<D;E++){var V=m[E];if(s.indexOf(V)!==-1){var $=encodeURIComponent(V);$===V&&($=escape(V)),s=s.split(V).join($)}}var H=s.indexOf("#");H!==-1&&(this.hash=s.substr(H),s=s.slice(0,H));var q=s.indexOf("?");if(q!==-1?(this.search=s.substr(q),this.query=s.substr(q+1),t&&(this.query=k.parse(this.query)),s=s.slice(0,q)):t&&(this.search="",this.query={}),s&&(this.pathname=s),C[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var z=this.pathname||"",K=this.search||"";this.path=z+K}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&u.isObject(this.query)&&Object.keys(this.query).length&&(o=k.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||C[t])&&i!==!1?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),a=a.replace("#","%23"),t+i+n+a+r},r.prototype.resolve=function(e){return this.resolveObject(i(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(u.isString(e)){var t=new r;t.parse(e,!1,!0),e=t}for(var n=new r,i=Object.keys(this),o=0;o<i.length;o++){var a=i[o];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),c=0;c<s.length;c++){var l=s[c];"protocol"!==l&&(n[l]=e[l])}return C[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!C[e.protocol]){for(var f=Object.keys(e),p=0;p<f.length;p++){var d=f[p];n[d]=e[d]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||x[e.protocol])n.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",v=n.search||"";n.path=m+v}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var g=n.pathname&&"/"===n.pathname.charAt(0),y=e.host||e.pathname&&"/"===e.pathname.charAt(0),b=y||g||n.host&&e.pathname,w=b,_=n.pathname&&n.pathname.split("/")||[],h=e.pathname&&e.pathname.split("/")||[],k=n.protocol&&!C[n.protocol];if(k&&(n.hostname="",n.port=null,n.host&&(""===_[0]?_[0]=n.host:_.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),b=b&&(""===h[0]||""===_[0])),y)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,_=h;else if(h.length)_||(_=[]),_.pop(),_=_.concat(h),n.search=e.search,n.query=e.query;else if(!u.isNullOrUndefined(e.search)){if(k){n.hostname=n.host=_.shift();var T=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");T&&(n.auth=T.shift(),n.host=n.hostname=T.shift())}return n.search=e.search,n.query=e.query,u.isNull(n.pathname)&&u.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!_.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var S=_.slice(-1)[0],E=(n.host||e.host||_.length>1)&&("."===S||".."===S)||""===S,A=0,I=_.length;I>=0;I--)S=_[I],"."===S?_.splice(I,1):".."===S?(_.splice(I,1),A++):A&&(_.splice(I,1),A--);if(!b&&!w)for(;A--;A)_.unshift("..");!b||""===_[0]||_[0]&&"/"===_[0].charAt(0)||_.unshift(""),E&&"/"!==_.join("/").substr(-1)&&_.push("");var O=""===_[0]||_[0]&&"/"===_[0].charAt(0);if(k){n.hostname=n.host=O?"":_.length?_.shift():"";var T=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");T&&(n.auth=T.shift(),n.host=n.hostname=T.shift())}return b=b||n.host&&_.length,b&&!O&&_.unshift(""),_.length?n.pathname=_.join("/"):(n.pathname=null,n.path=null),u.isNull(n.pathname)&&u.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=f.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){var r;(function(e,i){!function(o){function a(e){throw RangeError(N[e])}function s(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function c(e,t){var n=e.split("@"),r="";n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(P,".");var i=e.split("."),o=s(i,t).join(".");return r+o}function u(e){for(var t,n,r=[],i=0,o=e.length;i<o;)t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<o?(n=e.charCodeAt(i++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--)):r.push(t);return r}function l(e){return s(e,function(e){var t="";return e>65535&&(e-=65536,t+=M(e>>>10&1023|55296),e=56320|1023&e),t+=M(e)}).join("")}function f(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:_}function p(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function d(e,t,n){var r=0;for(e=n?L(e/T):e>>1,e+=L(e/t);e>D*C>>1;r+=_)e=L(e/D);return L(r+(D+1)*e/(e+k))}function h(e){var t,n,r,i,o,s,c,u,p,h,m=[],v=e.length,g=0,y=E,b=S;for(n=e.lastIndexOf(A),n<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&a("not-basic"),m.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<v;){for(o=g,s=1,c=_;i>=v&&a("invalid-input"),u=f(e.charCodeAt(i++)),(u>=_||u>L((w-g)/s))&&a("overflow"),g+=u*s,p=c<=b?x:c>=b+C?C:c-b,!(u<p);c+=_)h=_-p,s>L(w/h)&&a("overflow"),s*=h;t=m.length+1,b=d(g-o,t,0==o),L(g/t)>w-y&&a("overflow"),y+=L(g/t),g%=t,m.splice(g++,0,y)}return l(m)}function m(e){var t,n,r,i,o,s,c,l,f,h,m,v,g,y,b,k=[];for(e=u(e),v=e.length,t=E,n=0,o=S,s=0;s<v;++s)m=e[s],m<128&&k.push(M(m));for(r=i=k.length,i&&k.push(A);r<v;){for(c=w,s=0;s<v;++s)m=e[s],m>=t&&m<c&&(c=m);for(g=r+1,c-t>L((w-n)/g)&&a("overflow"),n+=(c-t)*g,t=c,s=0;s<v;++s)if(m=e[s],m<t&&++n>w&&a("overflow"),m==t){for(l=n,f=_;h=f<=o?x:f>=o+C?C:f-o,!(l<h);f+=_)b=l-h,y=_-h,k.push(M(p(h+b%y,0))),l=L(b/y);k.push(M(p(l,0))),o=d(n,g,r==i),n=0,++r}++n,++t}return k.join("")}function v(e){return c(e,function(e){return I.test(e)?h(e.slice(4).toLowerCase()):e})}function g(e){return c(e,function(e){return O.test(e)?"xn--"+m(e):e})}var y=("object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof i&&i);y.global!==y&&y.window!==y&&y.self!==y||(o=y);var b,w=2147483647,_=36,x=1,C=26,k=38,T=700,S=72,E=128,A="-",I=/^xn--/,O=/[^\x20-\x7E]/,P=/[\x2E\u3002\uFF0E\uFF61]/g,N={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},D=_-x,L=Math.floor,M=String.fromCharCode;b={version:"1.3.2",ucs2:{decode:u,encode:l},decode:h,encode:m,toASCII:g,toUnicode:v},r=function(){return b}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(this)}).call(t,n(5)(e),function(){return this}())},function(e,t){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(395),t.encode=t.stringify=n(396)},function(e,t){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,i){t=t||"&",r=r||"=";var o={};if("string"!=typeof e||0===e.length)return o;var a=/\+/g;e=e.split(t);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var c=e.length;s>0&&c>s&&(c=s);for(var u=0;u<c;++u){var l,f,p,d,h=e[u].replace(a,"%20"),m=h.indexOf(r);m>=0?(l=h.substr(0,m),f=h.substr(m+1)):(l=h,f=""),p=decodeURIComponent(l),d=decodeURIComponent(f),n(o,p)?Array.isArray(o[p])?o[p].push(d):o[p]=[o[p],d]:o[p]=d}return o}},function(e,t){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,i){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map(function(i){var o=encodeURIComponent(n(i))+r;return Array.isArray(e[i])?e[i].map(function(e){return o+encodeURIComponent(n(e))}).join(t):o+encodeURIComponent(n(e[i]))}).join(t):i?encodeURIComponent(n(i))+r+encodeURIComponent(n(e)):""}},function(e,t,n){(function(e,n){function r(e,t){return e.set(t[0],t[1]),e}function i(e,t){return e.add(t),e}function o(e,t){for(var n=-1,r=e?e.length:0;++n<r&&t(e[n],n,e)!==!1;);return e}function a(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function s(e,t,n,r){var i=-1,o=e?e.length:0;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function c(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function u(e,t){return null==e?void 0:e[t]}function l(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function f(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function p(e,t){return function(n){return e(t(n))}}function d(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function h(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function m(){this.__data__=Bt?Bt(null):{}}function v(e){return this.has(e)&&delete this.__data__[e]}function g(e){var t=this.__data__;if(Bt){var n=t[e];return n===Ie?void 0:n}return _t.call(t,e)?t[e]:void 0}function y(e){var t=this.__data__;return Bt?void 0!==t[e]:_t.call(t,e)}function b(e,t){var n=this.__data__;return n[e]=Bt&&void 0===t?Ie:t,this}function w(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _(){this.__data__=[]}function x(e){var t=this.__data__,n=U(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Ot.call(t,n,1),!0}function C(e){var t=this.__data__,n=U(t,e);return n<0?void 0:t[n][1]}function k(e){return U(this.__data__,e)>-1}function T(e,t){var n=this.__data__,r=U(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}function S(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function E(){this.__data__={hash:new h,map:new(Mt||w),string:new h}}function A(e){return ae(this,e).delete(e)}function I(e){return ae(this,e).get(e)}function O(e){return ae(this,e).has(e)}function P(e,t){return ae(this,e).set(e,t),this}function N(e){this.__data__=new w(e)}function D(){this.__data__=new w}function L(e){return this.__data__.delete(e)}function M(e){return this.__data__.get(e)}function R(e){return this.__data__.has(e)}function j(e,t){var n=this.__data__;if(n instanceof w){var r=n.__data__;if(!Mt||r.length<Ae-1)return r.push([e,t]),this;n=this.__data__=new S(r)}return n.set(e,t),this}function F(e,t){var n=Yt(e)||ye(e)?c(e.length,String):[],r=n.length,i=!!r;for(var o in e)!t&&!_t.call(e,o)||i&&("length"==o||fe(o,r))||n.push(o);return n}function B(e,t,n){var r=e[t];_t.call(e,t)&&ge(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function U(e,t){for(var n=e.length;n--;)if(ge(e[n][0],t))return n;return-1}function z(e,t){return e&&re(t,Te(t),e)}function W(e,t,n,r,i,a,s){var c;if(r&&(c=a?r(e,i,a,s):r(e)),void 0!==c)return c;if(!Ce(e))return e;var u=Yt(e);if(u){if(c=ce(e),!t)return ne(e,c)}else{var f=Gt(e),p=f==Re||f==je;if(Xt(e))return G(e,t);if(f==Ue||f==Pe||p&&!a){if(l(e))return a?e:{};if(c=ue(p?{}:e),!t)return ie(e,z(c,e))}else{if(!ct[f])return a?e:{};c=le(e,f,W,t)}}s||(s=new N);var d=s.get(e);if(d)return d;if(s.set(e,c),!u)var h=n?oe(e):Te(e);return o(h||e,function(i,o){h&&(o=i,i=e[o]),B(c,o,W(i,t,n,r,o,e,s))}),c}function V(e){return Ce(e)?At(e):{}}function $(e,t,n){var r=t(e);return Yt(e)?r:a(r,n(e))}function H(e){return xt.call(e)}function q(e){if(!Ce(e)||de(e))return!1;var t=_e(e)||l(e)?Ct:at;return t.test(me(e))}function K(e){if(!he(e))return Dt(e);var t=[];for(var n in Object(e))_t.call(e,n)&&"constructor"!=n&&t.push(n);return t}function G(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function Y(e){var t=new e.constructor(e.byteLength);return new St(t).set(new St(e)),t}function X(e,t){var n=t?Y(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function J(e,t,n){var i=t?n(f(e),!0):f(e);return s(i,r,new e.constructor)}function Z(e){var t=new e.constructor(e.source,ot.exec(e));return t.lastIndex=e.lastIndex,t}function Q(e,t,n){var r=t?n(d(e),!0):d(e);return s(r,i,new e.constructor)}function ee(e){return qt?Object(qt.call(e)):{}}function te(e,t){var n=t?Y(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function ne(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function re(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var a=t[i],s=r?r(n[a],e[a],a,n,e):void 0;B(n,a,void 0===s?e[a]:s)}return n}function ie(e,t){return re(e,Kt(e),t)}function oe(e){return $(e,Te,Kt)}function ae(e,t){var n=e.__data__;return pe(t)?n["string"==typeof t?"string":"hash"]:n.map}function se(e,t){var n=u(e,t);return q(n)?n:void 0}function ce(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&_t.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function ue(e){return"function"!=typeof e.constructor||he(e)?{}:V(Et(e))}function le(e,t,n,r){var i=e.constructor;switch(t){case Ke:return Y(e);case De:case Le:return new i(+e);case Ge:return X(e,r);case Ye:case Xe:case Je:case Ze:case Qe:case et:case tt:case nt:case rt:return te(e,r);case Fe:return J(e,r,n);case Be:case $e:return new i(e);case We:return Z(e);case Ve:return Q(e,r,n);case He:return ee(e)}}function fe(e,t){return t=null==t?Oe:t,!!t&&("number"==typeof e||st.test(e))&&e>-1&&e%1==0&&e<t}function pe(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function de(e){return!!bt&&bt in e}function he(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||gt;return e===n}function me(e){if(null!=e){try{return wt.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ve(e){return W(e,!1,!0)}function ge(e,t){return e===t||e!==e&&t!==t}function ye(e){return we(e)&&_t.call(e,"callee")&&(!It.call(e,"callee")||xt.call(e)==Pe)}function be(e){return null!=e&&xe(e.length)&&!_e(e)}function we(e){return ke(e)&&be(e)}function _e(e){var t=Ce(e)?xt.call(e):"";return t==Re||t==je}function xe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Oe}function Ce(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ke(e){return!!e&&"object"==typeof e}function Te(e){return be(e)?F(e):K(e)}function Se(){return[]}function Ee(){return!1}var Ae=200,Ie="__lodash_hash_undefined__",Oe=9007199254740991,Pe="[object Arguments]",Ne="[object Array]",De="[object Boolean]",Le="[object Date]",Me="[object Error]",Re="[object Function]",je="[object GeneratorFunction]",Fe="[object Map]",Be="[object Number]",Ue="[object Object]",ze="[object Promise]",We="[object RegExp]",Ve="[object Set]",$e="[object String]",He="[object Symbol]",qe="[object WeakMap]",Ke="[object ArrayBuffer]",Ge="[object DataView]",Ye="[object Float32Array]",Xe="[object Float64Array]",Je="[object Int8Array]",Ze="[object Int16Array]",Qe="[object Int32Array]",et="[object Uint8Array]",tt="[object Uint8ClampedArray]",nt="[object Uint16Array]",rt="[object Uint32Array]",it=/[\\^$.*+?()[\]{}|]/g,ot=/\w*$/,at=/^\[object .+?Constructor\]$/,st=/^(?:0|[1-9]\d*)$/,ct={};ct[Pe]=ct[Ne]=ct[Ke]=ct[Ge]=ct[De]=ct[Le]=ct[Ye]=ct[Xe]=ct[Je]=ct[Ze]=ct[Qe]=ct[Fe]=ct[Be]=ct[Ue]=ct[We]=ct[Ve]=ct[$e]=ct[He]=ct[et]=ct[tt]=ct[nt]=ct[rt]=!0,ct[Me]=ct[Re]=ct[qe]=!1;var ut="object"==typeof e&&e&&e.Object===Object&&e,lt="object"==typeof self&&self&&self.Object===Object&&self,ft=ut||lt||Function("return this")(),pt="object"==typeof t&&t&&!t.nodeType&&t,dt=pt&&"object"==typeof n&&n&&!n.nodeType&&n,ht=dt&&dt.exports===pt,mt=Array.prototype,vt=Function.prototype,gt=Object.prototype,yt=ft["__core-js_shared__"],bt=function(){var e=/[^.]+$/.exec(yt&&yt.keys&&yt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),wt=vt.toString,_t=gt.hasOwnProperty,xt=gt.toString,Ct=RegExp("^"+wt.call(_t).replace(it,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),kt=ht?ft.Buffer:void 0,Tt=ft.Symbol,St=ft.Uint8Array,Et=p(Object.getPrototypeOf,Object),At=Object.create,It=gt.propertyIsEnumerable,Ot=mt.splice,Pt=Object.getOwnPropertySymbols,Nt=kt?kt.isBuffer:void 0,Dt=p(Object.keys,Object),Lt=se(ft,"DataView"),Mt=se(ft,"Map"),Rt=se(ft,"Promise"),jt=se(ft,"Set"),Ft=se(ft,"WeakMap"),Bt=se(Object,"create"),Ut=me(Lt),zt=me(Mt),Wt=me(Rt),Vt=me(jt),$t=me(Ft),Ht=Tt?Tt.prototype:void 0,qt=Ht?Ht.valueOf:void 0;h.prototype.clear=m,h.prototype.delete=v,h.prototype.get=g,h.prototype.has=y,h.prototype.set=b,w.prototype.clear=_,w.prototype.delete=x,w.prototype.get=C,w.prototype.has=k,w.prototype.set=T,S.prototype.clear=E,S.prototype.delete=A,S.prototype.get=I,S.prototype.has=O,S.prototype.set=P,N.prototype.clear=D,N.prototype.delete=L,N.prototype.get=M,N.prototype.has=R,N.prototype.set=j;var Kt=Pt?p(Pt,Object):Se,Gt=H;(Lt&&Gt(new Lt(new ArrayBuffer(1)))!=Ge||Mt&&Gt(new Mt)!=Fe||Rt&&Gt(Rt.resolve())!=ze||jt&&Gt(new jt)!=Ve||Ft&&Gt(new Ft)!=qe)&&(Gt=function(e){var t=xt.call(e),n=t==Ue?e.constructor:void 0,r=n?me(n):void 0;if(r)switch(r){case Ut:return Ge;case zt:return Fe;case Wt:return ze;case Vt:return Ve;case $t:return qe}return t});var Yt=Array.isArray,Xt=Nt||Ee;n.exports=ve}).call(t,function(){return this}(),n(5)(e))},function(e,t){"use strict";function n(e){var t=new XMLHttpRequest,n=void 0,r=0;return t.open(e.method,e.url),t.onreadystatechange=function(){if(3===t.readyState){var i=t.responseText,o=i.slice(r);r=i.length,e.onData(o)}if(4===t.readyState){n=t.status||0;var i=t.responseText,o=i.slice(r);o.length>0&&e.onData(o),e.onEnd({status:n})}},t.send(e.data),t}e.exports=n},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(379),a=n(380).v4,s=function(){function e(t){var n=this;r(this,e),this.userId=t.userId,this.clientId=t.clientId,this.stack=t.stack||{};var i=this.stack,o=a();Object.keys(i).forEach(function(e){if(i[e]){var t=Object.keys(i[e]);t.forEach(function(r){t[0]&&/^[a-zA-Z0-9]{16}$/.test(t[0])&&(n.set(r,i[e][r],o),delete i[e][r])})}})}return i(e,[{key:"getAll",value:function(){return this.stack[this.userId]}},{key:"get",value:function(e,t){var n=t||this.clientId;return o.get(this.stack,this.userId+"."+n+"."+e)}},{key:"remove",value:function(e,t){var n=t||this.clientId;o.get(this.stack,this.userId+"."+n+"."+e)&&(delete this.stack[this.userId][n][e],0===Object.keys(this.stack[this.userId][n]).length&&delete this.stack[this.userId][n])}},{key:"set",value:function(e,t,n){var r=n||this.clientId,i=this.userId;o.set(this.stack,i+"."+r+"."+e,o.assign({guid:e},t))}}]),e}();e.exports=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(379),a=n(380).v4,s=function(){function e(t){var n=this;r(this,e),this.key="shimo-offline-data",this.userId=t.userId,t.localStorage||"undefined"==typeof localStorage||(t.localStorage=localStorage),this.clientId=t.clientId,this.store=t.localStorage;try{this.store.setItem("test","test")}catch(e){throw new Error("离线功能暂时不可用")}var i=this._getAll(),o=a();Object.keys(i).forEach(function(e){if(i[e]){var t=Object.keys(i[e]);t.forEach(function(r){t[0]&&/^[a-zA-Z0-9]{16}$/.test(t[0])&&(n.set(r,i[e][r],o),i=n._getAll(),delete i[e][r],n.store.setItem(n.key,JSON.stringify(i)),i=n._getAll())})}})}return i(e,[{key:"_getAll",value:function(){return JSON.parse(this.store.getItem(this.key))||{}}},{key:"getAll",value:function(){return this._getAll()[this.userId]||{}}},{key:"get",value:function(e,t){var n=t||this.clientId;return o.get(this._getAll(),this.userId+"."+n+"."+e)}},{key:"remove",value:function(e,t){var n=t||this.clientId,r=this._getAll();o.get(r,this.userId+"."+n+"."+e)&&(delete r[this.userId][n][e],0===Object.keys(r[this.userId][n]).length&&delete r[this.userId][n]),this.store.setItem(this.key,JSON.stringify(r))}},{key:"set",value:function(e,t,n){var r=n||this.clientId,i=this._getAll(),a=this.userId;o.set(i,a+"."+r+"."+e,o.assign({guid:e},t)),this.store.setItem(this.key,JSON.stringify(i))}}]),e}();e.exports=s},function(e,t){"use strict";e.exports=function(e){var t={};return["setUserChangeNotificationCallback","prepareUserChangeset","getUncommittedChanges","applyPreparedChangesetToBase","getInInternationalComposition"].forEach(function(n){t[n]=e[n].bind(e)}),t.applyChangesToBase=function(t){var n=t.changeset,r=t.author||"",i=t.apool,o=Number(t.authorId);e.applyChangesToBase(n,r,i,o)},t}},function(e,t,n){"use strict";var r=n(403);e.exports=function(e){var t=e.store,n=e.actions,i=e._global;return{setUserChangeNotificationCallback:function(e){i.cow.curSheetComposeUserChange=e},prepareUserChangeset:function(){var e=t.getState().msg,n=void 0;return n=e.committingCS?e.committingCS.compose(e.userCS):e.userCS,{changeset:r.pack(n)}},getUncommittedChanges:function(){var e=t.getState().msg,n=void 0;return n=e.committingCS?e.committingCS.compose(e.userCS):e.userCS,{changeset:r.pack(n)}},applyPreparedChangesetToBase:function(){t.dispatch(n.sendChangeSuccess())},applyChangesToBase:function(e){t.dispatch(n.receivedNewChange(e.changeset,e.rev))}}}},function(e,t,n){"use strict";function r(e){var t=e[0].toString(),n=t[t.length-1],i=a[t.slice(0,t.length-1)];return i.unpack([n,e[1],e[2]],r)}var i=n(4);t.Attribute=n(404),t.Delta=n(405);var o={TableOperator:n(411),CellOperator:n(414),TextOperator:n(415),Operator:n(412)};i.assign(t,o),t.pack=function(e){if("function"==typeof e.pack)return JSON.stringify(e.pack());throw new Error("Only delta can be packed")},t.unpack=function(e){return t.Delta.unpack(JSON.parse(e),r)},t.print=function(e){e.print(!0)};var a=i.reduce(Object.keys(o),function(e,t){var n=o[t];return e[n.packId]=n,e},{});t.Delta.operatorUnpacker=r,Object.keys(o).forEach(function(e){o[e].operatorUnpacker=r});var s=n(406);t.parsePosition=s.parsePosition,t.stringifyPosition=s.stringifyPosition},function(e,t){"use strict";var n=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=[{name:"color"},{name:"background"},{name:"font-size"},{name:"width"},{name:"height"},{name:"rowspan"},{name:"colspan"},{name:"align",values:["left","center","right"]},{name:"bold",values:[!1,!0]},{name:"italic",values:[!1,!0]},{name:"underline",values:[!1,!0]},{name:"vertical",values:["top","middle","bottom"]},{name:"strike",values:[!1,!0]},{name:"wrap",values:["text-wrap","text-no-wrap"]},{name:"fixedRowsTop"},{name:"fixedColumnsLeft"},{name:"link"},{name:"format",values:["normal","0,0","0,0.00","0%","0.00%","0.00E+00","(0,0)","(0,0.00)","¥0,0","¥0,0.00","$0,0","$0,0.00","YYYY/MM/DD","YYYY-MM-DD","HH:mm:ss","YYYY/MM/DD HH:mm:ss"]},{name:"formula"},{name:"filter"},{name:"border-top"},{name:"border-right"},{name:"border-bottom"},{name:"border-left"}],i="|",o=":",a=r.reduce(function(e,t,n){return t.index=n,e[t.name]=t,e},{});e.exports={pack:function(e){if("object"==typeof e&&null!==e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if("undefined"!=typeof r){var s=a[n];s&&(n=s.index,s.values&&null!==r&&(r=s.values.indexOf(r),r===-1))||t.push(null===r?n:n+o+JSON.stringify("string"==typeof r?encodeURIComponent(r):r))}}return t.sort().join(i)}},unpack:function(e){if("string"!=typeof e)return{};for(var t={},a=e.split(i),s=0;s<a.length;s++){var c=a[s].split(o),u=n(c,2),l=u[0],f=u[1],p=r[l];if(f){f=JSON.parse(f);var d=typeof f;"string"===d&&(f=decodeURIComponent(f)),p&&(l=p.name,p.values&&"number"===d&&"undefined"!=typeof p.values[f]&&(f=p.values[f]))}else p&&(l=p.name),f=null;t[l]=f}return t},merge:function(e,t,n){if(n&&!e)return t;if(!t)return e;e=this.unpack(e),t=this.unpack(t);for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r],n||null!==e[r]||delete e[r]);return this.pack(e)},invert:function(e,t){if(t){if(!e)return t.split(i).map(function(e){var t=e.indexOf(o);return t===-1?e:e.slice(0,t)}).join(i);e=this.unpack(e),t=this.unpack(t);for(var n in t)t.hasOwnProperty(n)&&("undefined"!=typeof e[n]?t[n]=e[n]:t[n]=null);return this.pack(t)}},transform:function(e,t,n){if(!n)return t;if(t){if(!e)return t;e=this.unpack(e),t=this.unpack(t);for(var r in t)t.hasOwnProperty(r)&&"undefined"!=typeof e[r]&&delete t[r];return this.pack(t)}},diff:function(e,t){if(!e)return t;e=this.unpack(e),t&&(t=this.unpack(t));for(var n={},r=!0,i=t?Object.keys(e).concat(Object.keys(t)):Object.keys(e),o=0;o<i.length;o++){var a=i[o],s=t?t[a]:void 0;e[a]!==s&&(r=!1,n[a]=void 0===s?null:s)}return r?void 0:this.pack(n)}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(4),a=n(406),s=n(407),c=n(408),u=String.fromCharCode(0),l=n(404),f=function(){function e(t,n){if(r(this,e),this.ops=[],Array.isArray(t)){for(var i=0;i<t.length;i++)this.pushWithMutations(t[i]);n&&this.chopWithMutations()}else"function"==typeof t&&t(this);a.freeze(this)}return i(e,[{key:"freeze",value:function(){a.freeze(this.ops)}},{key:"createCleaner",value:function(){for(var t=[],n=0;n<this.ops.length;n++){var r=this.ops[n],i=r.createInstance({action:"remove",
data:r.length});t.push(i)}return new e(t)}},{key:"clone",value:function(){return new e(this.ops.map(a.clone))}},{key:"pack",value:function(){return this.ops.map(function(e){return e.pack()})}},{key:"isDocument",value:function(){for(var e=0;e<this.ops.length;e++)if("insert"!==this.ops[e].action)return!1;return!0}},{key:"isEmpty",value:function(){return 0===this.ops.length}},{key:"_genericPush",value:function(e,t){var n=e.length,r=e[n-1];if(r&&"remove"===r.action&&"insert"===t.action&&(n-=1,r=e[n-1]),!r)return e.unshift(t),e;var i=t.merge(r);return i?e[n-1]=i:n===e.length?e.push(t):e.splice(n,0,t),e}},{key:"push",value:function(t){if(!t.length)return this;var n=this.ops.slice(0);if(Array.isArray(t)){for(var r=!1,i=0;i<t.length;i++)t[i].length&&(r=!0,n=this._genericPush(n,t[i]));if(!r)return this}else n=this._genericPush(n,t);return new e(n)}},{key:"pushWithMutations",value:function(e){return e.length&&this._genericPush(this.ops,e),this}},{key:"concat",value:function(t){var n=this;return t.ops.length?this.ops.length?new e(function(e){e.ops=n.ops.slice(),e.pushWithMutations(t.ops[0]),t.ops.length>1&&(e.ops=e.ops.concat(t.ops.slice(1)))}):t:this}},{key:"_genericChop",value:function(e){for(;e.length&&e[e.length-1].isEmpty();)e.pop();return e}},{key:"chop",value:function(){return new e(this._genericChop(this.ops.slice(0)))}},{key:"chopWithMutations",value:function(){return this._genericChop(this.ops),this}},{key:"slice",value:function(t,n){t=t||0,"number"!=typeof n&&(n=1/0);for(var r=[],i=this.getIter(),o=0;o<n&&i.hasNext();){var a=void 0;o<t?a=i.next(t-o):(a=i.next(n-o),r.push(a)),o+=a.length}return new e(r)}},{key:"getIter",value:function(){return new a.OperatorIterator(this.ops)}},{key:"compose",value:function(t){for(var n=this.getIter(),r=t.getIter(),i=[];n.hasNext()||r.hasNext();)if("insert"===r.peekAction())i.push(r.next());else if("remove"===n.peekAction())i.push(n.next());else{var o=Math.min(n.peekLength(),r.peekLength()),a=n.next(o),s=r.next(o);s&&"retain"!==s.action?a&&"retain"!==a.action||i.push(s):a?i.push(s?a.compose(s):a):i.push(s)}return new e(i,!0)}},{key:"composePosition",value:function(e){for(var t=this.getIter(),n=0;t.hasNext()&&n<=e;){var r=t.peekLength(),i=t.peekAction();switch(t.next(),i){case"remove":if(r>e-n)return null;e-=r;continue;case"insert":e+=r}n+=r}return e}},{key:"invert",value:function(t){for(var n=this.getIter(),r=t.getIter(),i=[];r.hasNext();)if("insert"===r.peekAction()){var o=r.next(),a=o.createInstance({action:"remove",data:o.length});i.push(a)}else{if(!n.hasNext())throw new Error(this.constructor.name+" should be smaller than document");var s=Math.min(n.peekLength(),r.peekLength()),c=n.next(s),u=r.next(s);if("insert"!==c.action)throw new Error("Only document can invert deltas");"retain"===u.action?i.push(c.invert(u)):i.push(c)}return new e(i,!0)}},{key:"invertPosition",value:function(e){for(var t=this.getIter(),n=0;t.hasNext()&&n<=e;){var r=t.peekLength(),i=t.peekAction();switch(t.next(),i){case"insert":if(r>e-n)return null;e-=r;continue;case"remove":e+=r}n+=r}return e}},{key:"transform",value:function(t,n){for(var r=this.getIter(),i=t.getIter(),o=[];i.hasNext();)if("insert"!==r.peekAction()||!n&&"insert"===i.peekAction())if("insert"===i.peekAction())o.push(i.next());else{var a=Math.min(r.peekLength(),i.peekLength()),s=r.next(a),c=i.next(a);if(s&&"remove"===s.action)continue;c&&"remove"===c.action?o.push(c):s?o.push(s.transform(c,n)):o.push(c)}else{var u=r.next();o.push(u.createInstance({action:"retain",data:u.length}))}return new e(o,!0)}},{key:"transformPosition",value:function(e,t){for(var n=this.getIter(),r=0;n.hasNext()&&r<=e;){var i=n.peekLength(),o=n.peekAction();switch(n.next(),o){case"remove":e-=Math.min(i,e-r);continue;case"insert":(r<e||!t)&&(e+=i)}r+=i}return e}},{key:"toString",value:function(){for(var e="",t=0;t<this.ops.length;t++){var n=this.ops[t];if("insert"!==n.action)throw new Error("toString() called on non-document");e+="string"==typeof n.data?n.data:u}return e}},{key:"diff",value:function(t){if(this.ops===t.ops)return new e;if(!this.ops.length)return t.toString(),t;var n=o.bind(this.ops[0].createInstance,this.ops[0]),r=[],i=s(this.toString(),t.toString()),a=this.getIter(),u=t.getIter();return i.forEach(function(e){for(var t=e[1].length;t>0;){var i=0;switch(e[0]){case s.INSERT:i=Math.min(u.peekLength(),t),r.push(u.next(i));break;case s.DELETE:i=Math.min(t,a.peekLength()),a.next(i),r.push(n({action:"remove",data:i}));break;case s.EQUAL:i=Math.min(a.peekLength(),u.peekLength(),t);var o=a.next(i),f=u.next(i),p=o.skipDiff()&&f.skipDiff()&&o.name()===f.name()||c(o.data,f.data);p?r.push(n({action:"retain",data:i,attributes:l.diff(o.attributes,f.attributes)})):(r.push(f),r.push(n({action:"remove",data:i})))}t-=i}}),new e(r,!0)}},{key:"print",value:function(e){console[e?"group":"groupCollapsed"]("Delta["+this.length+"] with "+this.ops.length+" operators"),this.ops.forEach(function(e){return e.print()}),console.groupEnd()}},{key:"length",get:function(){for(var e=0,t=0;t<this.ops.length;t++)e+=this.ops[t].length;return e}}],[{key:"unpack",value:function(e){var t=this;return new this(e.map(function(e){return t.operatorUnpacker(e)}))}}]),e}();e.exports=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(4);t.clone=function(e){return"object"!=typeof e||null===e?e:o.cloneDeep(e,function(e){if("object"==typeof e&&e&&"function"==typeof e.clone)return e.clone()})},t.freeze=function(e){return e},t.isFrozen=function(e){return!1};var a=function(){function e(t){r(this,e),this.ops=t,this.index=0,this.offset=0}return i(e,[{key:"hasNext",value:function(){return this.peekLength()<1/0}},{key:"next",value:function(e){e||(e=1/0);var t=this.ops[this.index];if(!t)return null;var n=this.offset,r=t.length;e>=r-n?(e=r-n,this.index+=1,this.offset=0):this.offset+=e;var i={action:t.action,attributes:t.attributes};switch(t.action){case"remove":i.data=e;break;case"retain":if("string"==typeof t.data)throw new Error("retain with a string is not allowed");"number"==typeof t.data?i.data=e:i.data=t.data;break;case"insert":"string"==typeof t.data?i.data=t.data.substr(n,e):"number"==typeof t.data?i.data=e:i.data=t.data}return t.createInstance(i)}},{key:"peekLength",value:function(){var e=this.ops[this.index];return e?e.length-this.offset:1/0}},{key:"peekAction",value:function(){var e=this.ops[this.index];return e?e.action:"retain"}}]),e}();t.OperatorIterator=a,t.parsePosition=function(e){for(var t=0,n=0,r=0;r<e.length;r++){var i=e[r].charCodeAt(0);if(i>=65&&i<=90)n=26*n+i-64;else{if(!(i>=48&&i<=57))throw new Error("Invalid cell position "+e);t=10*t+i-48}}return{row:t-1,col:n-1}},t.stringifyPosition=function(e,t){if(!(e>=0&&t>=0))throw new Error("Invalid cell position "+e+":"+t);for(var n=t+1,r="";n>0;){var i=(n-1)%26;r=String.fromCharCode(65+i)+r,n=Math.floor((n-i)/26)}return r+(e+1)}},function(e,t){function n(e,t,n){if(e==t)return e?[[m,e]]:[];(n<0||e.length<n)&&(n=null);var i=a(e,t),o=e.substring(0,i);e=e.substring(i),t=t.substring(i),i=s(e,t);var c=e.substring(e.length-i);e=e.substring(0,e.length-i),t=t.substring(0,t.length-i);var l=r(e,t);return o&&l.unshift([m,o]),c&&l.push([m,c]),u(l),null!=n&&(l=f(l,n)),l}function r(e,t){var r;if(!e)return[[h,t]];if(!t)return[[d,e]];var o=e.length>t.length?e:t,a=e.length>t.length?t:e,s=o.indexOf(a);if(s!=-1)return r=[[h,o.substring(0,s)],[m,a],[h,o.substring(s+a.length)]],e.length>t.length&&(r[0][0]=r[2][0]=d),r;if(1==a.length)return[[d,e],[h,t]];var u=c(e,t);if(u){var l=u[0],f=u[1],p=u[2],v=u[3],g=u[4],y=n(l,p),b=n(f,v);return y.concat([[m,g]],b)}return i(e,t)}function i(e,t){for(var n=e.length,r=t.length,i=Math.ceil((n+r)/2),a=i,s=2*i,c=new Array(s),u=new Array(s),l=0;l<s;l++)c[l]=-1,u[l]=-1;c[a+1]=0,u[a+1]=0;for(var f=n-r,p=f%2!=0,m=0,v=0,g=0,y=0,b=0;b<i;b++){for(var w=-b+m;w<=b-v;w+=2){var _,x=a+w;_=w==-b||w!=b&&c[x-1]<c[x+1]?c[x+1]:c[x-1]+1;for(var C=_-w;_<n&&C<r&&e.charAt(_)==t.charAt(C);)_++,C++;if(c[x]=_,_>n)v+=2;else if(C>r)m+=2;else if(p){var k=a+f-w;if(k>=0&&k<s&&u[k]!=-1){var T=n-u[k];if(_>=T)return o(e,t,_,C)}}}for(var S=-b+g;S<=b-y;S+=2){var T,k=a+S;T=S==-b||S!=b&&u[k-1]<u[k+1]?u[k+1]:u[k-1]+1;for(var E=T-S;T<n&&E<r&&e.charAt(n-T-1)==t.charAt(r-E-1);)T++,E++;if(u[k]=T,T>n)y+=2;else if(E>r)g+=2;else if(!p){var x=a+f-S;if(x>=0&&x<s&&c[x]!=-1){var _=c[x],C=a+_-x;if(T=n-T,_>=T)return o(e,t,_,C)}}}}return[[d,e],[h,t]]}function o(e,t,r,i){var o=e.substring(0,r),a=t.substring(0,i),s=e.substring(r),c=t.substring(i),u=n(o,a),l=n(s,c);return u.concat(l)}function a(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(o,i)==t.substring(o,i)?(n=i,o=n):r=i,i=Math.floor((r-n)/2+n);return i}function s(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(e.length-i,e.length-o)==t.substring(t.length-i,t.length-o)?(n=i,o=n):r=i,i=Math.floor((r-n)/2+n);return i}function c(e,t){function n(e,t,n){for(var r,i,o,c,u=e.substring(n,n+Math.floor(e.length/4)),l=-1,f="";(l=t.indexOf(u,l+1))!=-1;){var p=a(e.substring(n),t.substring(l)),d=s(e.substring(0,n),t.substring(0,l));f.length<d+p&&(f=t.substring(l-d,l)+t.substring(l,l+p),r=e.substring(0,n-d),i=e.substring(n+p),o=t.substring(0,l-d),c=t.substring(l+p))}return 2*f.length>=e.length?[r,i,o,c,f]:null}var r=e.length>t.length?e:t,i=e.length>t.length?t:e;if(r.length<4||2*i.length<r.length)return null;var o,c=n(r,i,Math.ceil(r.length/4)),u=n(r,i,Math.ceil(r.length/2));if(!c&&!u)return null;o=u?c&&c[4].length>u[4].length?c:u:c;var l,f,p,d;e.length>t.length?(l=o[0],f=o[1],p=o[2],d=o[3]):(p=o[0],d=o[1],l=o[2],f=o[3]);var h=o[4];return[l,f,p,d,h]}function u(e){e.push([m,""]);for(var t,n=0,r=0,i=0,o="",c="";n<e.length;)switch(e[n][0]){case h:i++,c+=e[n][1],n++;break;case d:r++,o+=e[n][1],n++;break;case m:r+i>1?(0!==r&&0!==i&&(t=a(c,o),0!==t&&(n-r-i>0&&e[n-r-i-1][0]==m?e[n-r-i-1][1]+=c.substring(0,t):(e.splice(0,0,[m,c.substring(0,t)]),n++),c=c.substring(t),o=o.substring(t)),t=s(c,o),0!==t&&(e[n][1]=c.substring(c.length-t)+e[n][1],c=c.substring(0,c.length-t),o=o.substring(0,o.length-t))),0===r?e.splice(n-i,r+i,[h,c]):0===i?e.splice(n-r,r+i,[d,o]):e.splice(n-r-i,r+i,[d,o],[h,c]),n=n-r-i+(r?1:0)+(i?1:0)+1):0!==n&&e[n-1][0]==m?(e[n-1][1]+=e[n][1],e.splice(n,1)):n++,i=0,r=0,o="",c=""}""===e[e.length-1][1]&&e.pop();var l=!1;for(n=1;n<e.length-1;)e[n-1][0]==m&&e[n+1][0]==m&&(e[n][1].substring(e[n][1].length-e[n-1][1].length)==e[n-1][1]?(e[n][1]=e[n-1][1]+e[n][1].substring(0,e[n][1].length-e[n-1][1].length),e[n+1][1]=e[n-1][1]+e[n+1][1],e.splice(n-1,1),l=!0):e[n][1].substring(0,e[n+1][1].length)==e[n+1][1]&&(e[n-1][1]+=e[n+1][1],e[n][1]=e[n][1].substring(e[n+1][1].length)+e[n+1][1],e.splice(n+1,1),l=!0)),n++;l&&u(e)}function l(e,t){if(0===t)return[m,e];for(var n=0,r=0;r<e.length;r++){var i=e[r];if(i[0]===d||i[0]===m){var o=n+i[1].length;if(t===o)return[r+1,e];if(t<o){e=e.slice();var a=t-n,s=[i[0],i[1].slice(0,a)],c=[i[0],i[1].slice(a)];return e.splice(r,1,s,c),[r+1,e]}n=o}}throw new Error("cursor_pos is out of bounds!")}function f(e,t){var n=l(e,t),r=n[1],i=n[0],o=r[i],a=r[i+1];if(null==o)return e;if(o[0]!==m)return e;if(null!=a&&o[1]+a[1]===a[1]+o[1])return r.splice(i,2,a,o),p(r,i,2);if(null!=a&&0===a[1].indexOf(o[1])){r.splice(i,2,[a[0],o[1]],[0,o[1]]);var s=a[1].slice(o[1].length);return s.length>0&&r.splice(i+2,0,[a[0],s]),p(r,i,3)}return e}function p(e,t,n){for(var r=t+n-1;r>=0&&r>=t-1;r--)if(r+1<e.length){var i=e[r],o=e[r+1];i[0]===o[1]&&e.splice(r,2,[i[0],i[1]+o[1]])}return e}var d=-1,h=1,m=0,v=n;v.INSERT=h,v.DELETE=d,v.EQUAL=m,e.exports=v},function(e,t,n){function r(e){return null===e||void 0===e}function i(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}function o(e,t,n){var o,l;if(r(e)||r(t))return!1;if(e.prototype!==t.prototype)return!1;if(c(e))return!!c(t)&&(e=a.call(e),t=a.call(t),u(e,t,n));if(i(e)){if(!i(t))return!1;if(e.length!==t.length)return!1;for(o=0;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}try{var f=s(e),p=s(t)}catch(e){return!1}if(f.length!=p.length)return!1;for(f.sort(),p.sort(),o=f.length-1;o>=0;o--)if(f[o]!=p[o])return!1;for(o=f.length-1;o>=0;o--)if(l=f[o],!u(e[l],t[l],n))return!1;return typeof e==typeof t}var a=Array.prototype.slice,s=n(409),c=n(410),u=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:o(e,t,n))}},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}t=e.exports="function"==typeof Object.keys?Object.keys:n,t.shim=n},function(e,t){function n(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function r(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}var i="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();t=e.exports=i?n:r,t.supported=n,t.unsupported=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},u=n(412),l=n(405),f=n(406),p=n(413),d=function(e){function t(e){var n,o;return r(this,t),o=n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),i(n,o)}return o(t,e),s(t,[{key:"freeze",value:function(){f.freeze(this.data),f.freeze(this.data.rows),f.freeze(this.data.cols)}},{key:"name",value:function(){return"TableOperator"}},{key:"getEmbedObject",value:function(){if("object"!=typeof this.data)throw new Error("data is not an embed object");return{table:this.data}}},{key:"skipDiff",value:function(){return!0}},{key:"_genericSet",value:function(e){var n=c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_genericSet",this).call(this,e),r=n.changed,i=n.op;if("object"==typeof i.data){if(i.data.rows||(i.data.rows=new l),i.data.cols||(i.data.cols=new l),i.data.cells||(i.data.cells={}),"function"!=typeof i.data.cells.name&&(i.data.cells=new p({action:i.action,cells:i.data.cells})),"function"!=typeof i.data.rows.pack)throw new Error("rows should be a Delta");if("function"!=typeof i.data.cols.pack)throw new Error("cols should be a Delta");"retain"===i.action&&i.data.rows.isEmpty()&&i.data.cols.isEmpty()&&!Object.keys(i.data.cells).length&&(i.data=1)}if("insert"===i.action){if(!i.data.rows.isDocument())throw new Error("rows should be a document");if(!i.data.cols.isDocument())throw new Error("cols should be a document")}return{changed:r,op:i}}},{key:"pack",value:function(){var e=c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"pack",this).call(this);if("object"==typeof e[1]){var n=e[1],r=n.cells,i=n.rows,o=n.cols;if(e[1]=[r.pack()],i.isEmpty()&&o.isEmpty())return e;o.isEmpty()?e[1].push(i.pack()):(e[1].push(i.isEmpty()?0:i.pack()),e[1].push(o.pack()))}return e}},{key:"compose",value:function(e){var n=c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"compose",this).call(this,e);if("number"==typeof this.data||"number"==typeof e.data)return n;var r={rows:n.data.rows.compose(e.data.rows),cols:n.data.cols.compose(e.data.cols)},i=new p({cells:n.data.cells,action:n.action});return i.composeWithMutations(e.data),e.data.cells.forEach(function(t){var n=i.get(t),r=e.data.cells.get(t);i.set(t,n.compose(r))}),r.cells=i,n.set({data:r})}},{key:"invert",value:function(e){var n=this,r=c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"invert",this).call(this,e);if("number"==typeof this.data||"number"==typeof e.data)return r;var i={rows:this.data.rows.invert(e.data.rows),cols:this.data.cols.invert(e.data.cols)},o=new p({cells:e.data.cells,action:r.action});o.composeWithMutations(i,function(e,t){return n.data.cells.get(t).invert(e)});var a=e.data.rows.isEmpty(),s=e.data.cols.isEmpty();return a&&s||this.data.cells.forEach(function(t){var r=f.parsePosition(t),i=r.row,a=r.col;null!==e.data.rows.composePosition(i)&&null!==e.data.cols.composePosition(a)||o.set(t,n.data.cells.get(t))}),i.cells=o,r.set({data:i})}},{key:"transform",value:function(e,n){var r=this,i=c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"transform",this).call(this,e,n);if("number"==typeof this.data||"number"==typeof e.data)return i;var o={rows:i.data.rows.transform(this.data.rows,!n),cols:i.data.cols.transform(this.data.cols,!n)},a={rows:this.data.rows.transform(e.data.rows,n),cols:this.data.cols.transform(e.data.cols,n)},s=new p({cells:e.data.cells,action:i.action});s.composeWithMutations(o);var u=e.data.rows.isEmpty(),l=e.data.cols.isEmpty();return this.data.cells.forEach(function(e){var t=f.parsePosition(e),i=t.row,o=t.col;if(u||(i=a.rows.composePosition(i)),l||(o=a.cols.composePosition(o)),null!==i&&null!==o){var c=f.stringifyPosition(i,o);s.set(c,r.data.cells.get(e).transform(s.get(c),n))}}),a.cells=s,i.set({data:a})}}],[{key:"unpack",value:function(e){if(Array.isArray(e[1])){var n=a(e[1],3),r=n[0],i=n[1],o=n[2];e[1]={rows:i?l.unpack(i):null,cols:o?l.unpack(o):null,cells:r}}return c(t.__proto__||Object.getPrototypeOf(t),"unpack",this).call(this,e)}}]),t}(u);d.packId=3,e.exports=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){"function"==typeof e.pack?e.print():"object"==typeof e?Object.keys(e).forEach(function(t){var n=e[t];console.groupCollapsed(t),i(n),console.groupEnd()}):console.log(e)}var o=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(405),c=n(406).clone,u=n(404),l=n(406),f=function(){function e(t){r(this,e),this.setWithMutations(t);var n="Operator"!==this.name()&&this.isGeneric(),i=n?this.toGeneric():this;return l.freeze(i),i}return a(e,[{key:"name",value:function(){return"Operator"}},{key:"skipDiff",value:function(){return!1}},{key:"isGeneric",value:function(){return"number"==typeof this.data}},{key:"toGeneric",value:function(){return new e({action:this.action,data:this.data,attributes:this.attributes})}},{key:"clone",value:function(){var e=this.createInstance(this);return e.data=c(e.data),e}},{key:"_genericSet",value:function(e){var t={action:this.action,data:this.data,attributes:this.attributes},n=!1,r=e.action;if(r&&r!==t.action){if(n=!0,"insert"!==r&&"retain"!==r&&"remove"!==r)throw new Error('Action "'+r+'" is invalid');t.action=r}var i=e.data;if(null!=i&&i!==t.data){if(n=!0,"remove"===t.action&&("number"!=typeof i||i<0))throw new Error("Expect the data of remove action to be a positive number, got "+i);t.data=i}if(null==t.data)throw new Error("Expect data to have a non-empty value, got "+t.data);var o=e.attributes;if(o){var a=typeof o;if("object"===a&&Object.keys(o).length){var s=u.pack(o);s&&t.attributes!==s&&(n=!0,t.attributes=s)}else"string"===a&&t.attributes!==o&&(n=!0,t.attributes=o)}return{changed:n,op:t}}},{key:"set",value:function(e){var t=this._genericSet(e),n=t.changed,r=t.op;return n?this.createInstance(r):this}},{key:"setWithMutations",value:function(e){var t=this._genericSet(e),n=t.op;return this.action=n.action,this.data=n.data,this.attributes=n.attributes,this}},{key:"createInstance",value:function(e){return new this.constructor(e)}},{key:"pack",value:function(){var e=void 0;switch(this.action){case"insert":e=0;break;case"remove":e=1;break;case"retain":e=2}var t="function"==typeof this.data.pack?this.data.pack():this.data,n=[Number(""+this.constructor.packId+e),t];return this.attributes&&n.push(this.attributes),n}},{key:"getEmbedObject",value:function(){throw new Error("#getEmbedObject() not implemented")}},{key:"isEmpty",value:function(){return"retain"===this.action&&!this.attributes&&"number"==typeof this.data}},{key:"getAttributes",value:function(){return u.unpack(this.attributes)}},{key:"merge",value:function(e){if(this.name()!==e.name())return!1;var t=typeof this.data,n=this.action===e.action&&t===typeof e.data&&("number"===t||"string"===t)&&this.attributes===e.attributes;return!!n&&e.set({data:e.data+this.data})}},{key:"compose",value:function(e){if("remove"===this.action)throw new Error("Removing operator cannot compose other operators");if("retain"!==e.action)throw new Error("Only retaining operator can be composed");if(this.constructor!==e.constructor&&!this.isGeneric()&&!e.isGeneric())throw new Error('Failed to compose operators. Expect constructor "'+e.constructor.name+'" to equal "'+this.constructor.name+'"');var t=void 0;t="function"==typeof this.data.compose&&e.data.constructor===this.data.constructor?this.data.compose(e.data):"number"==typeof this.data?e.data:this.data;var n=this.isGeneric()?e:this;return n.createInstance({data:t,attributes:u.merge(this.attributes,e.attributes,"insert"!==this.action),action:this.action})}},{key:"invert",value:function(e){if("insert"!==this.action)throw new Error('invert should only apply to the "insert" action ('+this.constructor.name+")");if("retain"!==e.action)throw new Error("Only retaining operator can be inverted");if(this.constructor!==e.constructor&&!e.isGeneric())throw new Error('Failed to invert operators. Expect constructor "'+e.constructor.name+'" to equal "'+this.constructor.name+'"');var t=void 0;return t="function"==typeof this.data.invert&&e.data.constructor===this.data.constructor?this.data.invert(e.data):"number"==typeof e.data?e.data:this.data,this.createInstance({data:t,attributes:u.invert(this.attributes,e.attributes),action:"retain"})}},{key:"transform",value:function(e,t){if("retain"!==this.action)throw new Error("Only retaining operator can transform other operators");if("retain"!==e.action)throw new Error("Only retaining operator can be transformd");if(this.constructor!==e.constructor&&!e.isGeneric()&&!this.isGeneric())throw new Error('Failed to transform operators. Expect constructor "'+e.constructor.name+'" to equal "'+this.constructor.name+'"');var n=this.isGeneric()?e:this;return n.createInstance({attributes:u.transform(this.attributes,e.attributes,t),action:"retain",data:"function"==typeof this.data.transform&&"function"==typeof e.data.transform?this.data.transform(e.data,t):e.data})}},{key:"print",value:function(){var e=[this.action+": %c"+this.name(),"color: #51c6ed"];this.attributes&&(e[0]=e[0]+"%c, %O",e.push("font-weight: normal; color: #000",this.attributes.toJS())),console.groupCollapsed.apply(console,e),i(this.data),console.groupEnd()}},{key:"length",get:function(){switch(typeof this.data){case"number":return this.data;case"string":return this.data.length;default:return 1}}}],[{key:"unpack",value:function(e){var t=o(e,3),n=t[0],r=t[1],i=t[2];return new this({action:["insert","remove","retain"][n],data:Array.isArray(r)?s.unpack(r):r,attributes:i})}},{key:"insert",value:function(e,t){return new this({action:"insert",data:e,attributes:t})}},{key:"retain",value:function(e,t){return new this({action:"retain",data:e,attributes:t})}},{key:"remove",value:function(e){return new this({action:"remove",data:e})}}]),e}();f.packId=1,e.exports=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(414),a=n(405),s=n(4),c=n(406),u=function(){function e(t){var n=t.cells,i=t.action;if(r(this,e),this.cells={},"function"==typeof n.name){this.proto=n.proto;for(var o in n.cells)n.cells.hasOwnProperty(o)&&(this.cells[o]=n.cells[o])}else this.proto=n;this.action=i}return i(e,[{key:"name",value:function(){return"CellManager"}},{key:"keys",value:function e(){var e=[];return this.forEach(function(t){e.push(t)}),e}},{key:"get",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=void 0;return n="undefined"==typeof this.cells[e]?this.proto[e]:this.cells[e],n?(t&&Array.isArray(n)&&(n=this.cells[e]=o.operatorUnpacker(n)),n.action&&n.action!==this.action&&(n=this.cells[e]=n.set({action:this.action}))):n=new o({action:this.action,data:"insert"===this.action?new a:1}),n}},{key:"forEach",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];for(var n in this.cells)!this.cells.hasOwnProperty(n)||t&&null===this.cells[n]||e(n);for(var r in this.proto)this.proto.hasOwnProperty(r)&&!this.cells.hasOwnProperty(r)&&null!==this.proto[r]&&e(r)}},{key:"set",value:function(e,t){this.cells[e]=t?t:null}},{key:"composeWithMutations",value:function(e,t){var n=this,r=e.rows,i=e.cols,o=r.isEmpty(),a=i.isEmpty();if(!o||!a||t){var s={},u={row:{},col:{}};this.forEach(function(e){var l=c.parsePosition(e),f=l.row,p=l.col;if(o||("undefined"==typeof u.row[f]&&(u.row[f]=r.composePosition(f)),f=u.row[f]),a||("undefined"==typeof u.col[p]&&(u.col[p]=i.composePosition(p)),p=u.col[p]),s[e]||(s[e]=null),null!==f&&null!==p){var d=c.stringifyPosition(f,p),h=n.get(e);s[d]=t?t(h,d):h}},!1),this.cells=s}}},{key:"pack",value:function(){var e=this,t={};return this.forEach(function(n){var r=e.get(n,!1);Array.isArray(r)?t[n]=r:(r.attributes||r.data.isEmpty&&!r.data.isEmpty())&&(t[n]=r.pack())}),s.isEmpty(t)?0:t}}]),e}();e.exports=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},c=n(412),u=function(e){function t(e){var n,o;return r(this,t),o=n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),i(n,o)}return o(t,e),a(t,[{key:"setData",value:function(e){if(s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setData",this).call(this,e),"number"==typeof this.data&&1!==this.data)throw new Error('The value of data should be "1", got '+this.data);return this}},{key:"name",value:function(){return"CellOperator"}}]),t}(c);u.packId=4,e.exports=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},c=n(412),u=function(e){function t(e){var n,o;return r(this,t),o=n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),i(n,o)}return o(t,e),a(t,[{key:"name",value:function(){return"TextOperator"}},{key:"getEmbedObject",value:function(){if("object"!=typeof this.data)throw new Error("data is not an embed object");return this.data}},{key:"setData",value:function(e){switch(s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setData",this).call(this,e),this.action){case"insert":if("string"!=typeof this.data&&"object"!=typeof this.data)throw new Error('data should be a string or an object for "insert" action, got '+this.data);break;case"retain":if("number"!=typeof this.data)throw new Error('data should be a number for "'+this.action+'" action, got '+this.data)}return this}}]),t}(c);u.packId=2,e.exports=u},function(e,t,n){"use strict";var r=n(417);e.exports=function(e){var t={};return["setUserChangeNotificationCallback","prepareUserChangeset","getUncommittedChanges","applyPreparedChangesetToBase","getUncommittedChanges"].forEach(function(e){t[e]=r[e].bind(r)}),t.applyChangesToBase=function(t){var n=t.changeset,i=t.author||"",o=t.apool,a=Number(t.authorId),s=r.applyChangesToBase(n,i,o,a);e.updateContents(s)},t.getInInternationalComposition=function(){return!1},t}},function(e,t,n){var r,i;(function(o){r=[n(403),n(166)],i=function(e,t){function n(){u&&null===l&&(l=setTimeout(function(){try{u()}catch(e){}finally{l=null}},0))}var r=e.Delta,i=new r,a=new r,s=new r,c=!1,u=null,l=null,f={composeUserChangeset:function(e,t,r){"api"!==r&&(s=s.compose(e),n())},trackAuthorAvatar:function(e,t,n){for(var r=t||0,i=0,a=Changeset.unpack(e),s=Changeset.opIterator(a.ops);s.hasNext();){var c=s.next();if("="!==c.opcode)break;var u=c.attribs.split("*"),l=!1;if(o.each(u,function(e){
e&&n.numToAttrib[parseInt(e,16)]&&"list"===n.numToAttrib[parseInt(e,16)][0]&&(l=!0)}),i+=c.lines,l)break}return{changeAuthorId:r,lineNum:i}},applyChangesToBase:function(t,n,r,o){t=e.unpack(t);var c=i.compose(t),u=t.transform(a,!1),l=a.transform(t,!0).transform(s,!0),f=s.transform(a.transform(t,!0));return i=c,a=u,s=l,f},prepareUserChangeset:function(){var t;return t=!s.length||c||a.length?null:s,t&&(a=t,s=new r,c=!0,t=e.pack(t)),{changeset:t}},applyPreparedChangesetToBase:function(){if(!a)throw new Error("applySubmittedChangesToBase: no submitted changes to apply");if(i=i.compose(a),window.cow.client&&!window.cow.offline){var e=Changeset.prepareForWire(baseAText.attribs,apool),n={text:baseAText.text,attribs:e.translated},o=window.pad.collabClient.getCurrentRevisionNumber();t.notify("sync",{head:o,content:JSON.stringify(n),pool:JSON.stringify(e.pool.toJsonable())})}a=new r,c=!1},setUserChangeNotificationCallback:function(e){u=e},hasUncommittedChanges:function(){return!(!a&&Changeset.isIdentity(s))},getUncommittedChanges:function(){var e;return(e=a?a.compose(s):s)?(window.preChangeset&&(e=window.preChangeset.changeset.compose(e)),{changeset:e}):null}};return f}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(t,n(4))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}},s=n(4),c=n(380).v4,u=n(419).EventEmitter2,l=n(420).mapArrayToObject,f=n(421),p=n(422),d=n(383)("collab:client"),h=[].slice,m=l(["IDLE","COMMITTING"]),v=l(["CONNECTING","CONNECTED","DISCONNECTED"]),g=l(["ACCEPT_COMMIT","NEW_CHANGES","COLLABROOM"]),y=l(["USER_CHANGES","MISSING_CHANGES"]),b=l(["SAVING","SAVED","FAILED","OFFLINE","UNINITIALIZED"]),w=l(["CLIENT_READY","CLIENT_QUIT"]),_=function(e){function t(e){var n=this;r(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,{wildcard:!0,delimiter:":"}),this.id=e.id||Math.random().toString(36).slice(2,8),this.guid=e.guid,this.rev=e.rev,this.offlineTime=e.offlineTime||1e4,this.offlineSaveTime=e.offlineSaveTime||3e3,this.beforeHandleMessageFromServer=e.beforeHandleMessageFromServer,this.beforeSendMessageToServer=e.beforeSendMessageToServer,this.editor=e.editor,this.user=e.user||{id:-1},this.collabId=e.collabId||c(),this.handleNewChange=this.tryWrap(this._handleNewChange),this.hanlderMessageFromServer=this.tryWrap(this._hanlderMessageFromServer),this.needResendChangeSet=!1,this.on("message:in",this.hanlderMessageFromServer),this.editor.setUserChangeNotificationCallback(function(){return n.handleNewChange(!0)}),this.saveState=b.UNINITIALIZED,this.lastSaveTime=this.lastSaveSuccessTime=this.lastOfflineSaveTime=Date.now(),this.lastFetchMissingChangesetTime=Date.now(),this.lastResendChangeSetTime=Date.now(),this.delayRunTimeouts={},this.minDelaySaveTime=e.minDelaySaveTime||500,this.connState=v.DISCONNECTED,this._state=m.IDLE,this.lastCommitTime=Date.now(),this.maxResendTimes=e.maxResendTimes||5,this.lastResendMessage="",this.resendTime=0,this.store=e.store||new p({userId:this.user.id}),this.store.clientId=this.collabId,this.queue=new f,this.destroied=!1,d("id %s instance created",this.id)}return i(t,e),o(t,[{key:"connect",value:function(){d("conn state changed to CONNECTED"),this.sendClientReady(),this.connState=v.CONNECTED}},{key:"disconnect",value:function(){d("conn state changed to DISCONNECTED"),this.connState=v.DISCONNECTED}},{key:"checkMessage",value:function(e){var t=e.newRev,n=this.editor.getInInternationalComposition();return n&&d("id %s is typing chinese when checkMessage",this.id),this.queue.length>0||n?(t>this.rev&&this.queue.push(e),!1):t>this.lastRev+1?(d("ERROR: id %s new rev should be %s instead got %s, fetch missing messages now",this.id,this.lastRev+1,t),this.fetchMissingMessage(this.lastRev+1,t-1),this.queue.push(e),!1):!(t<this.lastRev+1)||(d("WARNING: id %s get rev(%s) <= lastRev(%s), ignore it",this.id,t,this.lastRev),!1)}},{key:"_handleNewChange",value:function(e){if(this.destroied)return void(e&&this.emit("error","collab client has been destroied"));var t=this.lastSaveTime=Date.now();if(this.connState!==v.CONNECTED)return this.changeSaveState(b.OFFLINE),d("id %s conn state is not CONNECTED, retry in 1s",this.id),void this.delayRun(this.handleNewChange,1e3);if(this.editor.getInInternationalComposition())return d("id %s is typing chinese when handleNewChange",this.id),void this.delayRun(this.handleNewChange,1e3);var n=this.lastCommitTime+this.minDelaySaveTime;if(t<n)return this.changeSaveState(b.SAVING),d("user change is too hurry, save it after %d ms",n-t),void this.delayRun(this.handleNewChange,n-t);if(!this.queue.isReady(this.rev))return d("id %s queue is not ready: %j, this.rev: %s, retry in 1s",this.id,this.queue.getRevArray(),this.rev),this.changeSaveState(b.SAVING),void this.delayRun(this.handleNewChange,1e3);if(this.handleQueue(),this.state!==m.IDLE&&!this.needResendChangeSet)return this.state===m.COMMITTING&&0===this.queue.length&&(d("id %s state is COMMITTING, wait for 1s",this.id),this.changeSaveState(b.SAVING)),void this.delayRun(this.handleNewChange,1e3);if(this.needResendChangeSet&&this.lastSendMessage){this.lastSendMessage.tag="resend",d("id %s resend changeset",this.id),this.send(this.lastSendMessage);var r=JSON.stringify(this.lastSendMessage);return this.lastResendMessage===r?(this.resendTime++,this.resendTime>=this.maxResendTimes&&this.emit("error",{message:"resend userchange over "+this.maxResendTimes+" times",queue:this.queue.data,rev:this.rev})):(this.lastResendMessage=r,this.resendTime=0),this.delayRun(this.handleNewChange,1e3),this.lastResendChangeSetTime=Date.now(),void(this.needResendChangeSet=!1)}var i=this.editor.prepareUserChangeset();if(i&&i.changeset){this.lastCommitTime=Date.now(),this.changeSaveState(b.SAVING),this.state=m.COMMITTING;var o={type:y.USER_CHANGES,baseRev:this.rev,changeset:i.changeset,apool:i.apool,uuid:c()};this.lastSendMessage=o,this.send(o)}this.delayRun(this.handleNewChange,1e3)}},{key:"_hanlderMessageFromServer",value:function(e){var t=this;if(this.beforeHandleMessageFromServer&&(e=this.beforeHandleMessageFromServer(e)),!e)return void d("id %s receive nothing from server",this.id);if(e.type===g.COLLABROOM){d("id %s get message %j",this.id,e),e.receiveTime=+new Date;var n=s.isArray(e.data)?e.data:[e.data];n.forEach(function(e){if(e.padId===t.guid)if(e.type===g.NEW_CHANGES){if(!t.checkMessage(e))return;t.handleNewChangeFromServer(e)}else if(e.type===g.ACCEPT_COMMIT){if(!t.checkMessage(e))return;t.handleAcceptCommitFromServer(e)}else if("BAD_CHANGESET"===e.type){var n=t.editor.getUncommittedChanges();t.emit("bad_changeset",{changesetData:n,rev:t.lastRev,message:e})}else t.emit("message",e)})}}},{key:"handleNewChangeFromServer",value:function(e){this.rev=e.newRev,this.editor.applyChangesToBase(e)}},{key:"handleAcceptCommitFromServer",value:function(e){this.rev=e.newRev,this.editor.applyPreparedChangesetToBase(),this.state=m.IDLE,this.needResendChangeSet=!1,this.lastSendMessage=null,this.handleNewChange(),this.changeSaveState(b.SAVED)}},{key:"fetchMissingMessage",value:function(e,t){return this.connState!==v.CONNECTED?(d("id %s conn state is not CONNECTED, retry fetching missing messages in 5s",this.id),void this.delayRun(this.fetchMissingMessage,5e3,e,t)):("undefined"==typeof e&&(e=this.rev+1),this.send({type:y.MISSING_CHANGES,fromRev:e,toRev:t}),void(this.lastFetchMissingChangesetTime=Date.now()))}},{key:"handleQueue",value:function(){if(0!==this.queue.length){d("id %s handleQueue",this.id);for(var e=void 0;e=this.queue.shift();)e.type===g.ACCEPT_COMMIT?this.handleAcceptCommitFromServer(e):e.type===g.NEW_CHANGES&&this.handleNewChangeFromServer(e)}}},{key:"send",value:function(e){var t={type:"COLLABROOM",component:"pad",padId:this.guid,data:e,sendTime:Date.now(),collabId:this.collabId};return this.beforeSendMessageToServer&&(t=this.beforeSendMessageToServer(t)),t?(d("id %s send message %j",this.id,t),void this.emit("message:out",t)):void d("id %s send nothing to server",this.id)}},{key:"changeSaveState",value:function(e){var t=e,n=Date.now(),r=n-this.lastSaveSuccessTime;switch(e){case b.SAVED:this.lastSaveSuccessTime=Date.now(),this.store.remove(this.guid);break;case b.SAVING:var i=n-this.lastFetchMissingChangesetTime,o=n-this.lastResendChangeSetTime;r>this.offlineTime&&n-this.lastCommitTime>this.offlineTime&&(this.saveState!==b.OFFLINE&&d("id %s enter offline mode"),t=b.OFFLINE,i>this.offlineTime&&(d("fetchMissingMessage from rev %s to rev stored in server",this.id,this.rev+1),this.fetchMissingMessage(this.rev+1))),r>this.offlineTime&&this.connState===v.CONNECTED&&this.lastSendMessage&&o>this.offlineTime&&(d("id %s need to resend the changeset",this.id),this.needResendChangeSet=!0)}if((e===b.SAVING||e===b.OFFLINE)&&r>this.offlineSaveTime){var a=this.editor.getUncommittedChanges();a?(d("id %s store uncommitted changeset to offline store",this.id),this.store.set(this.guid,s.assign({},a,{rev:this.rev}))):this.store.remove(this.guid),this.lastOfflineSaveTime=Date.now()}this.saveState!==t&&(this.emit("save_state",t),this.saveState=t)}},{key:"sendClientReady",value:function(){d("id %s send CLIENT_READY to server",this.id),this.emit("message:out",{component:"pad",type:w.CLIENT_READY,padId:this.guid,version:2,client_rev:this.rev,reconnect:!0,collabId:this.collabId})}},{key:"sendClientQuit",value:function(){this.emit("message:out",{component:"pad",type:w.CLIENT_QUIT,padId:this.guid,collabId:this.collabId})}},{key:"delayRun",value:function(e,t){var n=this,r=e.name,i=this.delayRunTimeouts[r],o=h.call(arguments).slice(2);i&&clearTimeout(i),this.delayRunTimeouts[r]=setTimeout(function(){return e.apply(n,o)},t)}},{key:"tryRun",value:function(e,t){try{e.apply(this,t)}catch(e){d("ERROR, id %s %s %s",this.id,e.message,e.stack),this.emit("error",e)}}},{key:"tryWrap",value:function(e){var t=this;return function(){t.tryRun(e,arguments)}}},{key:"destroy",value:function(){d("id %s destroy now",this.id),this.sendClientQuit(),this.removeAllListeners("message:*"),this.destroied=!0}},{key:"state",get:function(){return this._state},set:function(e){if(!m[e])throw new Error("Unknow state: "+e);this._state!==e&&(this._state=e)}},{key:"lastRev",get:function(){return this.queue.length>0?this.queue.last.newRev:this.rev}}]),t}(u);e.exports=_},function(e,t,n){var r;(function(i){!function(o){function a(){this._events={},this._conf&&s.call(this,this._conf)}function s(e){e&&(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),e.maxListeners&&(this._events.maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),this.wildcard&&(this.listenerTree={}))}function c(e){this._events={},this.newListener=!1,s.call(this,e)}function u(e,t,n,r){if(!n)return[];var i,o,a,s,c,l,f,p=[],d=t.length,h=t[r],m=t[r+1];if(r===d&&n._listeners){if("function"==typeof n._listeners)return e&&e.push(n._listeners),[n];for(i=0,o=n._listeners.length;i<o;i++)e&&e.push(n._listeners[i]);return[n]}if("*"===h||"**"===h||n[h]){if("*"===h){for(a in n)"_listeners"!==a&&n.hasOwnProperty(a)&&(p=p.concat(u(e,t,n[a],r+1)));return p}if("**"===h){f=r+1===d||r+2===d&&"*"===m,f&&n._listeners&&(p=p.concat(u(e,t,n,d)));for(a in n)"_listeners"!==a&&n.hasOwnProperty(a)&&("*"===a||"**"===a?(n[a]._listeners&&!f&&(p=p.concat(u(e,t,n[a],d))),p=p.concat(u(e,t,n[a],r))):p=a===m?p.concat(u(e,t,n[a],r+2)):p.concat(u(e,t,n[a],r)));return p}p=p.concat(u(e,t,n[h],r+1))}if(s=n["*"],s&&u(e,t,s,r+1),c=n["**"])if(r<d){c._listeners&&u(e,t,c,d);for(a in c)"_listeners"!==a&&c.hasOwnProperty(a)&&(a===m?u(e,t,c[a],r+2):a===h?u(e,t,c[a],r+1):(l={},l[a]=c[a],u(e,t,{"**":l},r+1)))}else c._listeners?u(e,t,c,d):c["*"]&&c["*"]._listeners&&u(e,t,c["*"],d);return p}function l(e,t){e="string"==typeof e?e.split(this.delimiter):e.slice();for(var n=0,r=e.length;n+1<r;n++)if("**"===e[n]&&"**"===e[n+1])return;for(var i=this.listenerTree,o=e.shift();o;){if(i[o]||(i[o]={}),i=i[o],0===e.length){if(i._listeners){if("function"==typeof i._listeners)i._listeners=[i._listeners,t];else if(f(i._listeners)&&(i._listeners.push(t),!i._listeners.warned)){var a=p;"undefined"!=typeof this._events.maxListeners&&(a=this._events.maxListeners),a>0&&i._listeners.length>a&&(i._listeners.warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",i._listeners.length),console.trace&&console.trace())}}else i._listeners=t;return!0}o=e.shift()}return!0}var f=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},p=10;c.EventEmitter2=c,c.prototype.delimiter=".",c.prototype.setMaxListeners=function(e){this._events||a.call(this),this._events.maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e},c.prototype.event="",c.prototype.once=function(e,t){return this.many(e,1,t),this},c.prototype.many=function(e,t,n){function r(){0===--t&&i.off(e,r),n.apply(this,arguments)}var i=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");return r._origin=n,this.on(e,r),i},c.prototype.emit=function(){this._events||a.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return!1;var t,n,r,i,o,s=arguments.length;if(this._all&&this._all.length){if(o=this._all.slice(),s>3)for(t=new Array(s),i=1;i<s;i++)t[i]=arguments[i];for(r=0,n=o.length;r<n;r++)switch(this.event=e,s){case 1:o[r].call(this,e);break;case 2:o[r].call(this,e,arguments[1]);break;case 3:o[r].call(this,e,arguments[1],arguments[2]);break;default:o[r].apply(this,t)}}if(this.wildcard){o=[];var c="string"==typeof e?e.split(this.delimiter):e.slice();u.call(this,o,c,this.listenerTree,0)}else{if(o=this._events[e],"function"==typeof o){switch(this.event=e,s){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(s-1),i=1;i<s;i++)t[i-1]=arguments[i];o.apply(this,t)}return!0}o&&(o=o.slice())}if(o&&o.length){if(s>3)for(t=new Array(s-1),i=1;i<s;i++)t[i-1]=arguments[i];for(r=0,n=o.length;r<n;r++)switch(this.event=e,s){case 1:o[r].call(this);break;case 2:o[r].call(this,arguments[1]);break;case 3:o[r].call(this,arguments[1],arguments[2]);break;default:o[r].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},c.prototype.emitAsync=function(){this._events||a.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return i.resolve([!1]);var t,n,r,o,s,c=[],l=arguments.length;if(this._all){if(l>3)for(t=new Array(l),o=1;o<l;o++)t[o]=arguments[o];for(r=0,n=this._all.length;r<n;r++)switch(this.event=e,l){case 1:c.push(this._all[r].call(this,e));break;case 2:c.push(this._all[r].call(this,e,arguments[1]));break;case 3:c.push(this._all[r].call(this,e,arguments[1],arguments[2]));break;default:c.push(this._all[r].apply(this,t))}}if(this.wildcard){s=[];var f="string"==typeof e?e.split(this.delimiter):e.slice();u.call(this,s,f,this.listenerTree,0)}else s=this._events[e];if("function"==typeof s)switch(this.event=e,l){case 1:c.push(s.call(this));break;case 2:c.push(s.call(this,arguments[1]));break;case 3:c.push(s.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(l-1),o=1;o<l;o++)t[o-1]=arguments[o];c.push(s.apply(this,t))}else if(s&&s.length){if(l>3)for(t=new Array(l-1),o=1;o<l;o++)t[o-1]=arguments[o];for(r=0,n=s.length;r<n;r++)switch(this.event=e,l){case 1:c.push(s[r].call(this));break;case 2:c.push(s[r].call(this,arguments[1]));break;case 3:c.push(s[r].call(this,arguments[1],arguments[2]));break;default:c.push(s[r].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?i.reject(arguments[1]):i.reject("Uncaught, unspecified 'error' event.");return i.all(c)},c.prototype.on=function(e,t){if("function"==typeof e)return this.onAny(e),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");if(this._events||a.call(this),this.emit("newListener",e,t),this.wildcard)return l.call(this,e,t),this;if(this._events[e]){if("function"==typeof this._events[e])this._events[e]=[this._events[e],t];else if(f(this._events[e])&&(this._events[e].push(t),!this._events[e].warned)){var n=p;"undefined"!=typeof this._events.maxListeners&&(n=this._events.maxListeners),n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),console.trace&&console.trace())}}else this._events[e]=t;return this},c.prototype.onAny=function(e){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),this._all.push(e),this},c.prototype.addListener=c.prototype.on,c.prototype.off=function(e,t){function n(e){if(e!==o){var t=Object.keys(e);for(var r in t){var i=t[r],a=e[i];a instanceof Function||"object"!=typeof a||(Object.keys(a).length>0&&n(e[i]),0===Object.keys(a).length&&delete e[i])}}}if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var r,i=[];if(this.wildcard){var a="string"==typeof e?e.split(this.delimiter):e.slice();i=u.call(this,null,a,this.listenerTree,0)}else{if(!this._events[e])return this;r=this._events[e],i.push({_listeners:r})}for(var s=0;s<i.length;s++){var c=i[s];if(r=c._listeners,f(r)){for(var l=-1,p=0,d=r.length;p<d;p++)if(r[p]===t||r[p].listener&&r[p].listener===t||r[p]._origin&&r[p]._origin===t){l=p;break}if(l<0)continue;return this.wildcard?c._listeners.splice(l,1):this._events[e].splice(l,1),0===r.length&&(this.wildcard?delete c._listeners:delete this._events[e]),this.emit("removeListener",e,t),this}(r===t||r.listener&&r.listener===t||r._origin&&r._origin===t)&&(this.wildcard?delete c._listeners:delete this._events[e],this.emit("removeListener",e,t))}return n(this.listenerTree),this},c.prototype.offAny=function(e){var t,n=0,r=0;if(e&&this._all&&this._all.length>0){for(t=this._all,n=0,r=t.length;n<r;n++)if(e===t[n])return t.splice(n,1),this.emit("removeListenerAny",e),this}else{for(t=this._all,n=0,r=t.length;n<r;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},c.prototype.removeListener=c.prototype.off,c.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||a.call(this),this;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),n=u.call(this,null,t,this.listenerTree,0),r=0;r<n.length;r++){var i=n[r];i._listeners=null}else{if(!this._events||!this._events[e])return this;this._events[e]=null}return this},c.prototype.listeners=function(e){if(this.wildcard){var t=[],n="string"==typeof e?e.split(this.delimiter):e.slice();return u.call(this,t,n,this.listenerTree,0),t}return this._events||a.call(this),this._events[e]||(this._events[e]=[]),f(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},c.prototype.listenersAny=function(){return this._all?this._all:[]},r=function(){return c}.call(t,n,t,e),!(r!==o&&(e.exports=r))}()}).call(t,n(170))},function(e,t){"use strict";e.exports={mapArrayToObject:function(e){return e.reduce(function(e,t){return e[t]=t,e},{})}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(4),a=function(){function e(){r(this,e),this.data=[]}return i(e,[{key:"get",value:function(e){return this.data[e]}},{key:"push",value:function(e){if(!o.isNumber(e.newRev))throw new Error("queue push message mush have newRev property");this.data.push(e),this.data=this.data.sort(function(e,t){return e.newRev-t.newRev}).filter(function(e,t,n){return o.findIndex(n,function(t){return t.newRev===e.newRev})===t})}},{key:"isReady",value:function(e){return!(o.isNumber(e)&&this.length>0&&this.get(0).newRev!==e+1)&&(this.data.length<2||this.data.every(function(e,t,n){return 0===t||n[t].newRev-n[t-1].newRev===1}))}},{key:"shift",value:function(){return this.data.shift()}},{key:"getRevArray",value:function(){return o.map(this.data,"newRev")}},{key:"length",get:function(){return this.data.length}},{key:"last",get:function(){return this.get(this.data.length-1)}}]),e}();e.exports=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(4),a=n(380).v4,s=function(){function e(t){var n=this;r(this,e),this.userId=t.userId,this.clientId=t.clientId,this.stack=t.stack||{};var i=this.stack,o=a();Object.keys(i).forEach(function(e){if(i[e]){var t=Object.keys(i[e]);t.forEach(function(r){t[0]&&/^[a-zA-Z0-9]{16}$/.test(t[0])&&(n.set(r,i[e][r],o),delete i[e][r])})}})}return i(e,[{key:"getAll",value:function(){return this.stack[this.userId]}},{key:"get",value:function(e,t){var n=t||this.clientId;return o.get(this.stack,this.userId+"."+n+"."+e)}},{key:"remove",value:function(e,t){var n=t||this.clientId;o.get(this.stack,this.userId+"."+n+"."+e)&&(delete this.stack[this.userId][n][e],0===Object.keys(this.stack[this.userId][n]).length&&delete this.stack[this.userId][n])}},{key:"set",value:function(e,t,n){var r=n||this.clientId,i=this.userId;o.set(this.stack,i+"."+r+"."+e,o.assign({guid:e},t))}}]),e}();e.exports=s},function(e,t){"use strict";e.exports=function(e){var t={};return["setUserChangeNotificationCallback","prepareUserChangeset","getUncommittedChanges","applyPreparedChangesetToBase","getUncommittedChanges","getInInternationalComposition"].forEach(function(n){t[n]=e[n].bind(e)}),t.applyChangesToBase=function(t){var n=t.changeset,r=t.author||"",i=t.apool,o=Number(t.authorId);e.applyChangesToBase(n,r,i,o)},t}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(4),a=n(380).v4,s=function(){function e(t){var n=this;r(this,e),this.key="shimo-offline-data",this.userId=t.userId,t.localStorage||"undefined"==typeof localStorage||(t.localStorage=localStorage),this.clientId=t.clientId,this.store=t.localStorage;try{this.store.setItem("test","test")}catch(e){throw new Error("localStorage is not working")}var i=this._getAll(),o=a();Object.keys(i).forEach(function(e){if(i[e]){var t=Object.keys(i[e]);t.forEach(function(r){t[0]&&/^[a-zA-Z0-9]{16}$/.test(t[0])&&(n.set(r,i[e][r],o),i=n._getAll(),delete i[e][r],n.store.setItem(n.key,JSON.stringify(i)),i=n._getAll())})}})}return i(e,[{key:"_getAll",value:function(){return JSON.parse(this.store.getItem(this.key))||{}}},{key:"getAll",value:function(){return this._getAll()[this.userId]||{}}},{key:"get",value:function(e,t){var n=t||this.clientId;return o.get(this._getAll(),this.userId+"."+n+"."+e)}},{key:"remove",value:function(e,t){var n=t||this.clientId,r=this._getAll();o.get(r,this.userId+"."+n+"."+e)&&(delete r[this.userId][n][e],0===Object.keys(r[this.userId][n]).length&&delete r[this.userId][n]),this.store.setItem(this.key,JSON.stringify(r))}},{key:"set",value:function(e,t,n){var r=n||this.clientId,i=this._getAll(),a=this.userId;o.set(i,a+"."+r+"."+e,o.assign({guid:e},t)),this.store.setItem(this.key,JSON.stringify(i))}}]),e}();e.exports=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(166),a=function(){function e(t){r(this,e),this.rev=t}return i(e,[{key:"getAll",value:function(){}},{key:"get",value:function(e,t){}},{key:"remove",value:function(e,t){}},{key:"set",value:function(e,t,n){this.rev&&(t.rev=this.rev),t.apool&&(t.apool=JSON.stringify(t.apool)),o.notify("saveOffline",{data:t})}}]),e}();e.exports=a},function(e,t,n){var r,i;r=[n(427)],i=function(e){return e.configure({minimum:.6,easing:"linear",positionUsing:"",speed:250,trickle:!0,trickleRate:.01,trickleSpeed:150,showSpinner:!1,barSelector:'[role="bar"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div></div></div>'}),e}.apply(t,r),!(void 0!==i&&(e.exports=i))},function(e,t,n){var r,i;!function(o,a){r=a,i="function"==typeof r?r.call(t,n,t,e):r,!(void 0!==i&&(e.exports=i))}(this,function(){function e(e,t,n){return e<t?t:e>n?n:e}function t(e){return 100*(-1+e)}function n(e,n,r){var i;return i="translate3d"===u.positionUsing?{transform:"translate3d("+t(e)+"%,0,0)"}:"translate"===u.positionUsing?{transform:"translate("+t(e)+"%,0)"}:{"margin-left":t(e)+"%"},i.transition="all "+n+"ms "+r,i}function r(e,t){var n="string"==typeof e?e:a(e);return n.indexOf(" "+t+" ")>=0}function i(e,t){var n=a(e),i=n+t;r(n,t)||(e.className=i.substring(1))}function o(e,t){var n,i=a(e);r(e,t)&&(n=i.replace(" "+t+" "," "),e.className=n.substring(1,n.length-1))}function a(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")}function s(e){e&&e.parentNode&&e.parentNode.removeChild(e)}var c={};c.version="0.2.0";var u=c.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};c.configure=function(e){var t,n;for(t in e)n=e[t],void 0!==n&&e.hasOwnProperty(t)&&(u[t]=n);return this},c.status=null,c.set=function(t){var r=c.isStarted();t=e(t,u.minimum,1),c.status=1===t?null:t;var i=c.render(!r),o=i.querySelector(u.barSelector),a=u.speed,s=u.easing;return i.offsetWidth,l(function(e){""===u.positionUsing&&(u.positionUsing=c.getPositioningCSS()),f(o,n(t,a,s)),1===t?(f(i,{transition:"none",opacity:1}),i.offsetWidth,setTimeout(function(){f(i,{transition:"all "+a+"ms linear",opacity:0}),setTimeout(function(){c.remove(),e()},a)},a)):setTimeout(e,a)}),this},c.isStarted=function(){return"number"==typeof c.status},c.start=function(){c.status||c.set(0);var e=function(){setTimeout(function(){c.status&&(c.trickle(),e())},u.trickleSpeed)};return u.trickle&&e(),this},c.done=function(e){return e||c.status?c.inc(.3+.5*Math.random()).set(1):this},c.inc=function(t){var n=c.status;return n?("number"!=typeof t&&(t=(1-n)*e(Math.random()*n,.1,.95)),n=e(n+t,0,.994),c.set(n)):c.start()},c.trickle=function(){return c.inc(Math.random()*u.trickleRate)},function(){var e=0,t=0;c.promise=function(n){return n&&"resolved"!==n.state()?(0===t&&c.start(),e++,t++,n.always(function(){t--,0===t?(e=0,c.done()):c.set((e-t)/e)}),this):this}}(),c.render=function(e){if(c.isRendered())return document.getElementById("nprogress");i(document.documentElement,"nprogress-busy");var n=document.createElement("div");n.id="nprogress",n.innerHTML=u.template;var r,o=n.querySelector(u.barSelector),a=e?"-100":t(c.status||0),l=document.querySelector(u.parent);return f(o,{transition:"all 0 linear",transform:"translate3d("+a+"%,0,0)"}),u.showSpinner||(r=n.querySelector(u.spinnerSelector),r&&s(r)),l!=document.body&&i(l,"nprogress-custom-parent"),l.appendChild(n),n},c.remove=function(){o(document.documentElement,"nprogress-busy"),o(document.querySelector(u.parent),"nprogress-custom-parent");var e=document.getElementById("nprogress");e&&s(e)},c.isRendered=function(){return!!document.getElementById("nprogress")},c.getPositioningCSS=function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective"in e?"translate3d":t+"Transform"in e?"translate":"margin"};var l=function(){function e(){var n=t.shift();n&&n(e)}var t=[];return function(n){t.push(n),1==t.length&&e()}}(),f=function(){function e(e){return e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(e,t){return t.toUpperCase()})}function t(e){var t=document.body.style;if(e in t)return e;for(var n,r=i.length,o=e.charAt(0).toUpperCase()+e.slice(1);r--;)if(n=i[r]+o,n in t)return n;return e}function n(n){return n=e(n),o[n]||(o[n]=t(n))}function r(e,t,r){t=n(t),e.style[t]=r}var i=["Webkit","O","Moz","ms"],o={};return function(e,t){var n,i,o=arguments;if(2==o.length)for(n in t)i=t[n],void 0!==i&&t.hasOwnProperty(n)&&r(e,n,i);else r(e,o[1],o[2])}}();return c})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}},u=n(7),l=r(u),f=n(162),p=r(f);t.default=function(e){return function(t){function n(){i(this,n),c(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this.checkClick=this.checkClick.bind(this),this.checkResize=this.checkResize.bind(this)}return o(n,t),s(n,[{key:"componentDidMount",value:function(){this.bindClick(),this.bindResize()}},{key:"componentWillUnmount",value:function(){this.unbindClick(),this.unbindResize()}},{key:"isDescendant",value:function(e,t){for(var n=t.parentNode;null!==n;){if(n===e)return!0;n=n.parentNode}return!1}},{key:"checkClick",value:function(e){
var t=p.default.findDOMNode(this),n=e.target,r=this.refs.composedComponent.componentClick;n!==t&&!this.isDescendant(t,n)&&document.documentElement.contains(n)&&"function"==typeof r&&r(e,t)}},{key:"checkResize",value:function(e){var t=this.refs.composedComponent.componentResize;"function"==typeof t&&t(e)}},{key:"bindClick",value:function(){document.addEventListener("mouseup",this.checkClick),document.addEventListener("touchend",this.checkClick)}},{key:"unbindClick",value:function(){document.removeEventListener("mouseup",this.checkClick),document.removeEventListener("touchend",this.checkClick)}},{key:"bindResize",value:function(){window.addEventListener("resize",this.checkResize)}},{key:"unbindResize",value:function(){window.removeEventListener("resize",this.checkResize)}},{key:"render",value:function(){return l.default.createElement(e,a({ref:"composedComponent"},this.props))}}]),n}(u.Component)},e.exports=t.default},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(743),o=r(i);t.default=o.default,e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}},u=n(7),l=r(u),f=n(744),p=r(f),d=function(e){function t(){i(this,t),c(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),s(t,[{key:"getPopupDomNode",value:function(){return this.refs.tooltip.getPopupDomNode()}},{key:"renderOverlay",value:function(){var e=this.props,t=e.title,n=e.prefixCls,r=e.content,i=e.innerClass;return l.default.createElement("div",{className:i},t&&l.default.createElement("div",{className:(i||n)+"-title"},t),l.default.createElement("div",{className:(i||n)+"-inner-content"},r))}},{key:"render",value:function(){return l.default.createElement(p.default,a({ref:"tooltip"},this.props,{overlay:this.renderOverlay()}))}}],[{key:"defaultProps",get:function(){return{prefixCls:"sm-popover",placement:"bottomRight",trigger:"click",mouseEnterDelay:.1,mouseLeaveDelay:.1,overlayStyle:{},innerClass:""}}}]),t}(u.Component);t.default=d,e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(745),o=r(i);t.default=o.default,e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}},l=n(7),f=r(l),p=n(746),d=r(p),h=n(822),m=n(288),v=r(m);n(823);var g=function(e){function t(e){o(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={visible:!1},this.onVisibleChange=this.onVisibleChange.bind(this),this.onPopupAlign=this.onPopupAlign.bind(this)}return a(t,e),c(t,null,[{key:"defaultProps",get:function(){return{prefixCls:"sm-tooltip",placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,onVisibleChange:function(){}}}},{key:"propTypes",get:function(){return{title:l.PropTypes.string,overlay:l.PropTypes.oneOfType([l.PropTypes.node,l.PropTypes.func]),onVisibleChange:l.PropTypes.func,visible:l.PropTypes.bool,prefixCls:l.PropTypes.string,openClassName:l.PropTypes.string,arrowPointAtCenter:l.PropTypes.bool,builtinPlacements:l.PropTypes.object,trigger:l.PropTypes.oneOf(["hover","click","focus","none"]),placement:l.PropTypes.oneOf(["top","right","bottom","left","topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"])}}}]),c(t,[{key:"onVisibleChange",value:function(e){this.setState({visible:e}),this.props.onVisibleChange(e)}},{key:"getPopupDomNode",value:function(){return this.refs.tooltip.getPopupDomNode()}},{key:"getPlacements",value:function(){var e=this.props,t=e.builtinPlacements,n=e.arrowPointAtCenter;return t||(0,h.getPlacements)({arrowPointAtCenter:n,verticalArrowShift:8,horizontalArrowShif:16,arrowWidth:5})}},{key:"onPopupAlign",value:function(e,t){var n=this.getPlacements(),r=Object.keys(n).filter(function(e){return n[e].points[0]===t.points[0]&&n[e].points[1]===t.points[1]})[0];if(r){var i=e.getBoundingClientRect(),o={top:"50%",left:"50%"};r.indexOf("top")>=0||r.indexOf("Bottom")>=0?o.top=i.height-t.offset[1]+"px":(r.indexOf("Top")>=0||r.indexOf("bottom")>=0)&&(o.top=-t.offset[1]+"px"),r.indexOf("left")>=0||r.indexOf("Right")>=0?o.left=i.width-t.offset[0]+"px":(r.indexOf("right")>=0||r.indexOf("Left")>=0)&&(o.left=-t.offset[0]+"px"),e.style.transformOrigin=o.left+" "+o.top}}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,r=t.title,o=t.overlay,a=t.children,c=this.state.visible;r||o||(c=!1),"visible"in this.props&&(c=this.props.visible);var u=null;"string"==typeof r?u=function(){return f.default.createElement("span",{className:n+"-text"},r)}:o&&(u=o);var l=a?a.props:{},p=(0,v.default)((e={},i(e,l.className,!!l.className),i(e,this.props.openClassName||n+"-open",!0),e));return f.default.createElement(d.default,s({overlay:u,visible:c,onPopupAlign:this.onPopupAlign,ref:"tooltip"},this.props,{builtinPlacements:this.getPlacements(),onVisibleChange:this.onVisibleChange}),c?f.default.cloneElement(a,{className:p}):a)}}]),t}(l.Component);t.default=g,e.exports=t.default},function(e,t,n){"use strict";e.exports=n(747)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(7),s=r(a),c=n(748),u=n(749),l=r(u),f=s.default.createClass({displayName:"Tooltip",propTypes:{trigger:a.PropTypes.any,children:a.PropTypes.any,defaultVisible:a.PropTypes.bool,visible:a.PropTypes.bool,placement:a.PropTypes.string,transitionName:a.PropTypes.string,animation:a.PropTypes.any,onVisibleChange:a.PropTypes.func,afterVisibleChange:a.PropTypes.func,overlay:a.PropTypes.oneOfType([s.default.PropTypes.node,s.default.PropTypes.func]).isRequired,overlayStyle:a.PropTypes.object,overlayClassName:a.PropTypes.string,prefixCls:a.PropTypes.string,mouseEnterDelay:a.PropTypes.number,mouseLeaveDelay:a.PropTypes.number,getTooltipContainer:a.PropTypes.func,destroyTooltipOnHide:a.PropTypes.bool,align:a.PropTypes.object,arrowContent:a.PropTypes.any},getDefaultProps:function(){return{prefixCls:"rc-tooltip",mouseEnterDelay:0,destroyTooltipOnHide:!1,mouseLeaveDelay:.1,align:{},placement:"right",trigger:["hover"],arrowContent:null}},getPopupElement:function(){var e=this.props,t=e.arrowContent,n=e.overlay,r=e.prefixCls;return[s.default.createElement("div",{className:r+"-arrow",key:"arrow"},t),s.default.createElement("div",{className:r+"-inner",key:"content"},"function"==typeof n?n():n)]},getPopupDomNode:function(){return this.refs.trigger.getPopupDomNode()},render:function(){var e=this.props,t=e.overlayClassName,n=e.trigger,r=e.mouseEnterDelay,a=e.mouseLeaveDelay,u=e.overlayStyle,f=e.prefixCls,p=e.children,d=e.onVisibleChange,h=e.transitionName,m=e.animation,v=e.placement,g=e.align,y=e.destroyTooltipOnHide,b=e.defaultVisible,w=e.getTooltipContainer,_=i(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","transitionName","animation","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer"]),x=o({},_);return"visible"in this.props&&(x.popupVisible=this.props.visible),s.default.createElement(l.default,o({popupClassName:t,ref:"trigger",prefixCls:f,popup:this.getPopupElement,action:n,builtinPlacements:c.placements,popupPlacement:v,popupAlign:g,getPopupContainer:w,onPopupVisibleChange:d,popupTransitionName:h,popupAnimation:m,defaultPopupVisible:b,destroyPopupOnHide:y,mouseLeaveDelay:a,popupStyle:u,mouseEnterDelay:r},x),p)}});t.default=f,e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={adjustX:1,adjustY:1},r=[0,0],i=t.placements={left:{points:["cr","cl"],overflow:n,offset:[-4,0],targetOffset:r},right:{points:["cl","cr"],overflow:n,offset:[4,0],targetOffset:r},top:{points:["bc","tc"],overflow:n,offset:[0,-4],targetOffset:r},bottom:{points:["tc","bc"],overflow:n,offset:[0,4],targetOffset:r},topLeft:{points:["bl","tl"],overflow:n,offset:[0,-4],targetOffset:r},leftTop:{points:["tr","tl"],overflow:n,offset:[-4,0],targetOffset:r},topRight:{points:["br","tr"],overflow:n,offset:[0,-4],targetOffset:r},rightTop:{points:["tl","tr"],overflow:n,offset:[4,0],targetOffset:r},bottomRight:{points:["tr","br"],overflow:n,offset:[0,4],targetOffset:r},rightBottom:{points:["bl","br"],overflow:n,offset:[4,0],targetOffset:r},bottomLeft:{points:["tl","bl"],overflow:n,offset:[0,4],targetOffset:r},leftBottom:{points:["br","bl"],overflow:n,offset:[-4,0],targetOffset:r}};t.default=i},function(e,t,n){"use strict";e.exports=n(750)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){}function o(){return""}function a(){return window.document}Object.defineProperty(t,"__esModule",{value:!0});var s=n(751),c=r(s),u=n(7),l=r(u),f=n(162),p=r(f),d=n(789),h=r(d),m=n(790),v=r(m),g=n(795),y=r(g),b=n(820),w=n(821),_=r(w),x=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"],C=l.default.createClass({displayName:"Trigger",propTypes:{children:u.PropTypes.any,action:u.PropTypes.oneOfType([u.PropTypes.string,u.PropTypes.arrayOf(u.PropTypes.string)]),showAction:u.PropTypes.any,hideAction:u.PropTypes.any,getPopupClassNameFromAlign:u.PropTypes.any,onPopupVisibleChange:u.PropTypes.func,afterPopupVisibleChange:u.PropTypes.func,popup:u.PropTypes.oneOfType([u.PropTypes.node,u.PropTypes.func]).isRequired,popupStyle:u.PropTypes.object,prefixCls:u.PropTypes.string,popupClassName:u.PropTypes.string,popupPlacement:u.PropTypes.string,builtinPlacements:u.PropTypes.object,popupTransitionName:u.PropTypes.string,popupAnimation:u.PropTypes.any,mouseEnterDelay:u.PropTypes.number,mouseLeaveDelay:u.PropTypes.number,zIndex:u.PropTypes.number,focusDelay:u.PropTypes.number,blurDelay:u.PropTypes.number,getPopupContainer:u.PropTypes.func,getDocument:u.PropTypes.func,destroyPopupOnHide:u.PropTypes.bool,mask:u.PropTypes.bool,maskClosable:u.PropTypes.bool,onPopupAlign:u.PropTypes.func,popupAlign:u.PropTypes.object,popupVisible:u.PropTypes.bool,maskTransitionName:u.PropTypes.string,maskAnimation:u.PropTypes.string},mixins:[(0,_.default)({autoMount:!1,isVisible:function(e){return e.state.popupVisible},getContainer:function(e){var t=e.props,n=document.createElement("div");n.style.position="absolute",n.style.top="0",n.style.left="0",n.style.width="100%";var r=t.getPopupContainer?t.getPopupContainer((0,f.findDOMNode)(e)):t.getDocument().body;return r.appendChild(n),n}})],getDefaultProps:function(){return{prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:o,getDocument:a,onPopupVisibleChange:i,afterPopupVisibleChange:i,onPopupAlign:i,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[]}},getInitialState:function(){var e=this.props,t=void 0;return t="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,{popupVisible:t}},componentWillMount:function(){var e=this;x.forEach(function(t){e["fire"+t]=function(n){e.fireEvents(t,n)}})},componentDidMount:function(){this.componentDidUpdate({},{popupVisible:this.state.popupVisible})},componentWillReceiveProps:function(e){var t=e.popupVisible;void 0!==t&&this.setState({popupVisible:t})},componentDidUpdate:function(e,t){var n=this.props,r=this.state;if(this.renderComponent(null,function(){t.popupVisible!==r.popupVisible&&n.afterPopupVisibleChange(r.popupVisible)}),this.isClickToHide()&&r.popupVisible){if(!this.clickOutsideHandler){var i=n.getDocument();this.clickOutsideHandler=(0,v.default)(i,"mousedown",this.onDocumentClick),this.touchOutsideHandler=(0,v.default)(i,"touchstart",this.onDocumentClick)}}else this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.touchOutsideHandler.remove(),this.clickOutsideHandler=null,this.touchOutsideHandler=null)},componentWillUnmount:function(){this.clearDelayTimer(),this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.touchOutsideHandler.remove(),this.clickOutsideHandler=null,this.touchOutsideHandler=null)},onMouseEnter:function(e){this.fireEvents("onMouseEnter",e),this.delaySetPopupVisible(!0,this.props.mouseEnterDelay)},onMouseLeave:function(e){this.fireEvents("onMouseLeave",e),this.delaySetPopupVisible(!1,this.props.mouseLeaveDelay)},onPopupMouseEnter:function(){this.clearDelayTimer()},onPopupMouseLeave:function(e){e.relatedTarget&&!e.relatedTarget.setTimeout&&this._component&&(0,h.default)(this._component.getPopupDomNode(),e.relatedTarget)||this.delaySetPopupVisible(!1,this.props.mouseLeaveDelay)},onFocus:function(e){this.fireEvents("onFocus",e),this.clearDelayTimer(),this.isFocusToShow()&&(this.focusTime=Date.now(),this.delaySetPopupVisible(!0,this.props.focusDelay))},onMouseDown:function(e){this.fireEvents("onMouseDown",e),this.preClickTime=Date.now()},onTouchStart:function(e){this.fireEvents("onTouchStart",e),this.preTouchTime=Date.now()},onBlur:function(e){this.fireEvents("onBlur",e),this.clearDelayTimer(),this.isBlurToHide()&&this.delaySetPopupVisible(!1,this.props.blurDelay)},onClick:function(e){if(this.fireEvents("onClick",e),this.focusTime){var t=void 0;if(this.preClickTime&&this.preTouchTime?t=Math.min(this.preClickTime,this.preTouchTime):this.preClickTime?t=this.preClickTime:this.preTouchTime&&(t=this.preTouchTime),Math.abs(t-this.focusTime)<20)return;this.focusTime=0}this.preClickTime=0,this.preTouchTime=0,e.preventDefault();var n=!this.state.popupVisible;(this.isClickToHide()&&!n||n&&this.isClickToShow())&&this.setPopupVisible(!this.state.popupVisible)},onDocumentClick:function(e){if(!this.props.mask||this.props.maskClosable){var t=e.target,n=(0,f.findDOMNode)(this),r=this.getPopupDomNode();(0,h.default)(n,t)||(0,h.default)(r,t)||this.close()}},getPopupDomNode:function(){return this._component&&this._component.isMounted()?this._component.getPopupDomNode():null},getRootDomNode:function(){return p.default.findDOMNode(this)},getPopupClassNameFromAlign:function(e){var t=[],n=this.props,r=n.popupPlacement,i=n.builtinPlacements,o=n.prefixCls;return r&&i&&t.push((0,b.getPopupClassNameFromAlign)(i,o,e)),n.getPopupClassNameFromAlign&&t.push(n.getPopupClassNameFromAlign(e)),t.join(" ")},getPopupAlign:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,r=e.builtinPlacements;return t&&r?(0,b.getAlignFromPlacement)(r,t,n):n},getComponent:function(){var e=this.props,t=this.state,n={};return this.isMouseEnterToShow()&&(n.onMouseEnter=this.onPopupMouseEnter),this.isMouseLeaveToHide()&&(n.onMouseLeave=this.onPopupMouseLeave),l.default.createElement(y.default,(0,c.default)({prefixCls:e.prefixCls,destroyPopupOnHide:e.destroyPopupOnHide,visible:t.popupVisible,className:e.popupClassName,action:e.action,align:this.getPopupAlign(),onAlign:e.onPopupAlign,animation:e.popupAnimation,getClassNameFromAlign:this.getPopupClassNameFromAlign},n,{getRootDomNode:this.getRootDomNode,style:e.popupStyle,mask:e.mask,zIndex:e.zIndex,transitionName:e.popupTransitionName,maskAnimation:e.maskAnimation,maskTransitionName:e.maskTransitionName}),"function"==typeof e.popup?e.popup():e.popup)},setPopupVisible:function(e){this.clearDelayTimer(),this.state.popupVisible!==e&&("popupVisible"in this.props||this.setState({popupVisible:e}),this.props.onPopupVisibleChange(e))},delaySetPopupVisible:function(e,t){var n=this,r=1e3*t;this.clearDelayTimer(),r?this.delayTimer=setTimeout(function(){n.setPopupVisible(e),n.clearDelayTimer()},r):this.setPopupVisible(e)},clearDelayTimer:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)},createTwoChains:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire"+e]:t[e]||n[e]},isClickToShow:function(){var e=this.props,t=e.action,n=e.showAction;return t.indexOf("click")!==-1||n.indexOf("click")!==-1},isClickToHide:function(){var e=this.props,t=e.action,n=e.hideAction;return t.indexOf("click")!==-1||n.indexOf("click")!==-1},isMouseEnterToShow:function(){var e=this.props,t=e.action,n=e.showAction;return t.indexOf("hover")!==-1||n.indexOf("mouseEnter")!==-1},isMouseLeaveToHide:function(){var e=this.props,t=e.action,n=e.hideAction;return t.indexOf("hover")!==-1||n.indexOf("mouseLeave")!==-1},isFocusToShow:function(){var e=this.props,t=e.action,n=e.showAction;return t.indexOf("focus")!==-1||n.indexOf("focus")!==-1},isBlurToHide:function(){var e=this.props,t=e.action,n=e.hideAction;return t.indexOf("focus")!==-1||n.indexOf("blur")!==-1},forcePopupAlign:function(){this.state.popupVisible&&this.popupInstance&&this.popupInstance.alignInstance&&this.popupInstance.alignInstance.forceAlign()},fireEvents:function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)},close:function(){this.setPopupVisible(!1)},render:function(){var e=this.props,t=e.children,n=l.default.Children.only(t),r={};return this.isClickToHide()||this.isClickToShow()?(r.onClick=this.onClick,r.onMouseDown=this.onMouseDown,r.onTouchStart=this.onTouchStart):(r.onClick=this.createTwoChains("onClick"),r.onMouseDown=this.createTwoChains("onMouseDown"),r.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?r.onMouseEnter=this.onMouseEnter:r.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?r.onMouseLeave=this.onMouseLeave:r.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(r.onFocus=this.onFocus,r.onBlur=this.onBlur):(r.onFocus=this.createTwoChains("onFocus"),r.onBlur=this.createTwoChains("onBlur")),l.default.cloneElement(n,r)}});t.default=C,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(752),o=r(i);t.default=o.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){e.exports={default:n(753),__esModule:!0}},function(e,t,n){n(754),e.exports=n(757).Object.assign},function(e,t,n){var r=n(755);r(r.S+r.F,"Object",{assign:n(770)})},function(e,t,n){var r=n(756),i=n(757),o=n(758),a=n(760),s="prototype",c=function(e,t,n){var u,l,f,p=e&c.F,d=e&c.G,h=e&c.S,m=e&c.P,v=e&c.B,g=e&c.W,y=d?i:i[t]||(i[t]={}),b=y[s],w=d?r:h?r[t]:(r[t]||{})[s];d&&(n=t);for(u in n)l=!p&&w&&void 0!==w[u],l&&u in y||(f=l?w[u]:n[u],y[u]=d&&"function"!=typeof w[u]?n[u]:v&&l?o(f,r):g&&w[u]==f?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t[s]=e[s],t}(f):m&&"function"==typeof f?o(Function.call,f):f,m&&((y.virtual||(y.virtual={}))[u]=f,e&c.R&&b&&!b[u]&&a(b,u,f)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(759);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(761),i=n(769);e.exports=n(765)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(762),i=n(764),o=n(768),a=Object.defineProperty;t.f=n(765)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(763);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(765)&&!n(766)(function(){return 7!=Object.defineProperty(n(767)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){e.exports=!n(766)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(763),i=n(756).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(763);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){"use strict";var r=n(771),i=n(786),o=n(787),a=n(788),s=n(775),c=Object.assign;e.exports=!c||n(766)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=r})?function(e,t){for(var n=a(e),c=arguments.length,u=1,l=i.f,f=o.f;c>u;)for(var p,d=s(arguments[u++]),h=l?r(d).concat(l(d)):r(d),m=h.length,v=0;m>v;)f.call(d,p=h[v++])&&(n[p]=d[p]);return n}:c},function(e,t,n){var r=n(772),i=n(785);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(773),i=n(774),o=n(778)(!1),a=n(782)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),c=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;t.length>c;)r(s,n=t[c++])&&(~o(u,n)||u.push(n));return u}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(775),i=n(777);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(776);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(774),i=n(779),o=n(781);e.exports=function(e){return function(t,n,a){var s,c=r(t),u=i(c.length),l=o(a,u);if(e&&n!=n){for(;u>l;)if(s=c[l++],s!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(780),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(780),i=Math.max,o=Math.min;e.exports=function(e,t){return e=r(e),e<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(783)("keys"),i=n(784);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(756),i="__core-js_shared__",o=r[i]||(r[i]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(777);e.exports=function(e){return Object(r(e))}},function(e,t){"use strict";function n(e,t){for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){var r=c.default.unstable_batchedUpdates?function(e){c.default.unstable_batchedUpdates(n,e)}:n;return(0,a.default)(e,t,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(791),a=r(o),s=n(162),c=r(s);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){function r(t){var r=new a.default(t);n.call(e,r)}return e.addEventListener?(e.addEventListener(t,r,!1),{remove:function(){e.removeEventListener(t,r,!1)}}):e.attachEvent?(e.attachEvent("on"+t,r),{remove:function(){e.detachEvent("on"+t,r)}}):void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(792),a=r(o);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return null===e||void 0===e}function o(){return p}function a(){return d}function s(e){var t=e.type,n="function"==typeof e.stopPropagation||"boolean"==typeof e.cancelBubble;u.default.call(this),this.nativeEvent=e;var r=a;"defaultPrevented"in e?r=e.defaultPrevented?o:a:"getPreventDefault"in e?r=e.getPreventDefault()?o:a:"returnValue"in e&&(r=e.returnValue===d?o:a),this.isDefaultPrevented=r;var i=[],s=void 0,c=void 0,l=void 0,f=h.concat();for(m.forEach(function(e){t.match(e.reg)&&(f=f.concat(e.props),e.fix&&i.push(e.fix))}),c=f.length;c;)l=f[--c],this[l]=e[l];for(!this.target&&n&&(this.target=e.srcElement||document),this.target&&3===this.target.nodeType&&(this.target=this.target.parentNode),c=i.length;c;)(s=i[--c])(this,e);this.timeStamp=e.timeStamp||Date.now()}Object.defineProperty(t,"__esModule",{value:!0});var c=n(793),u=r(c),l=n(794),f=r(l),p=!0,d=!1,h=["altKey","bubbles","cancelable","ctrlKey","currentTarget","eventPhase","metaKey","shiftKey","target","timeStamp","view","type"],m=[{reg:/^key/,props:["char","charCode","key","keyCode","which"],fix:function(e,t){i(e.which)&&(e.which=i(t.charCode)?t.keyCode:t.charCode),void 0===e.metaKey&&(e.metaKey=e.ctrlKey)}},{reg:/^touch/,props:["touches","changedTouches","targetTouches"]},{reg:/^hashchange$/,props:["newURL","oldURL"]},{reg:/^gesturechange$/i,props:["rotation","scale"]},{reg:/^(mousewheel|DOMMouseScroll)$/,props:[],fix:function(e,t){var n=void 0,r=void 0,i=void 0,o=t.wheelDelta,a=t.axis,s=t.wheelDeltaY,c=t.wheelDeltaX,u=t.detail;o&&(i=o/120),u&&(i=0-(u%3===0?u/3:u)),void 0!==a&&(a===e.HORIZONTAL_AXIS?(r=0,n=0-i):a===e.VERTICAL_AXIS&&(n=0,r=i)),void 0!==s&&(r=s/120),void 0!==c&&(n=-1*c/120),n||r||(r=i),void 0!==n&&(e.deltaX=n),void 0!==r&&(e.deltaY=r),void 0!==i&&(e.delta=i)}},{reg:/^mouse|contextmenu|click|mspointer|(^DOMMouseScroll$)/i,props:["buttons","clientX","clientY","button","offsetX","relatedTarget","which","fromElement","toElement","offsetY","pageX","pageY","screenX","screenY"],fix:function(e,t){var n=void 0,r=void 0,o=void 0,a=e.target,s=t.button;return a&&i(e.pageX)&&!i(t.clientX)&&(n=a.ownerDocument||document,r=n.documentElement,o=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),e.which||void 0===s||(1&s?e.which=1:2&s?e.which=3:4&s?e.which=2:e.which=0),!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement===a?e.toElement:e.fromElement),e}}],v=u.default.prototype;(0,f.default)(s.prototype,v,{constructor:s,preventDefault:function(){var e=this.nativeEvent;e.preventDefault?e.preventDefault():e.returnValue=d,v.preventDefault.call(this)},stopPropagation:function(){var e=this.nativeEvent;e.stopPropagation?e.stopPropagation():e.cancelBubble=p,v.stopPropagation.call(this)}}),t.default=s,e.exports=t.default},function(e,t){"use strict";function n(){return!1}function r(){return!0}function i(){this.timeStamp=Date.now(),this.target=void 0,this.currentTarget=void 0}Object.defineProperty(t,"__esModule",{value:!0}),i.prototype={isEventObject:1,constructor:i,isDefaultPrevented:n,isPropagationStopped:n,isImmediatePropagationStopped:n,preventDefault:function(){this.isDefaultPrevented=r},stopPropagation:function(){this.isPropagationStopped=r},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=r,this.stopPropagation()},halt:function(e){e?this.stopImmediatePropagation():this.stopPropagation(),this.preventDefault()}},t.default=i,e.exports=t.default},function(e,t){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function r(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=r()?Object.assign:function(e,t){for(var r,s,c=n(e),u=1;u<arguments.length;u++){r=Object(arguments[u]);for(var l in r)o.call(r,l)&&(c[l]=r[l]);if(i){s=i(r);for(var f=0;f<s.length;f++)a.call(r,s[f])&&(c[s[f]]=r[s[f]])}}return c}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(751),o=r(i),a=n(7),s=r(a),c=n(162),u=r(c),l=n(796),f=r(l),p=n(808),d=r(p),h=n(817),m=r(h),v=n(818),g=r(v),y=s.default.createClass({
displayName:"Popup",propTypes:{visible:a.PropTypes.bool,style:a.PropTypes.object,getClassNameFromAlign:a.PropTypes.func,onAlign:a.PropTypes.func,getRootDomNode:a.PropTypes.func,onMouseEnter:a.PropTypes.func,align:a.PropTypes.any,destroyPopupOnHide:a.PropTypes.bool,className:a.PropTypes.string,prefixCls:a.PropTypes.string,onMouseLeave:a.PropTypes.func},componentDidMount:function(){this.rootNode=this.getPopupDomNode()},onAlign:function(e,t){var n=this.props,r=n.getClassNameFromAlign(n.align),i=n.getClassNameFromAlign(t);r!==i&&(this.currentAlignClassName=i,e.className=this.getClassName(i)),n.onAlign(e,t)},getPopupDomNode:function(){return u.default.findDOMNode(this.refs.popup)},getTarget:function(){return this.props.getRootDomNode()},getMaskTransitionName:function(){var e=this.props,t=e.maskTransitionName,n=e.maskAnimation;return!t&&n&&(t=e.prefixCls+"-"+n),t},getTransitionName:function(){var e=this.props,t=e.transitionName;return!t&&e.animation&&(t=e.prefixCls+"-"+e.animation),t},getClassName:function(e){return this.props.prefixCls+" "+this.props.className+" "+e},getPopupElement:function(){var e=this.props,t=e.align,n=e.style,r=e.visible,i=e.prefixCls,a=e.destroyPopupOnHide,c=this.getClassName(this.currentAlignClassName||e.getClassNameFromAlign(t)),u=i+"-hidden";r||(this.currentAlignClassName=null);var l=(0,o.default)({},n,this.getZIndexStyle()),p={className:c,prefixCls:i,ref:"popup",onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,style:l};return a?s.default.createElement(d.default,{component:"",exclusive:!0,transitionAppear:!0,transitionName:this.getTransitionName()},r?s.default.createElement(f.default,{target:this.getTarget,key:"popup",ref:this.saveAlign,monitorWindowResize:!0,align:t,onAlign:this.onAlign},s.default.createElement(m.default,(0,o.default)({visible:!0},p),e.children)):null):s.default.createElement(d.default,{component:"",exclusive:!0,transitionAppear:!0,transitionName:this.getTransitionName(),showProp:"xVisible"},s.default.createElement(f.default,{target:this.getTarget,key:"popup",ref:this.saveAlign,monitorWindowResize:!0,xVisible:r,childrenProps:{visible:"xVisible"},disabled:!r,align:t,onAlign:this.onAlign},s.default.createElement(m.default,(0,o.default)({hiddenClassName:u},p),e.children)))},getZIndexStyle:function(){var e={},t=this.props;return void 0!==t.zIndex&&(e.zIndex=t.zIndex),e},getMaskElement:function(){var e=this.props,t=void 0;if(e.mask){var n=this.getMaskTransitionName();t=s.default.createElement(g.default,{style:this.getZIndexStyle(),key:"mask",className:e.prefixCls+"-mask",hiddenClassName:e.prefixCls+"-mask-hidden",visible:e.visible}),n&&(t=s.default.createElement(d.default,{key:"mask",showProp:"visible",transitionAppear:!0,component:"",transitionName:n},t))}return t},saveAlign:function(e){this.alignInstance=e},render:function(){return s.default.createElement("div",null,this.getMaskElement(),this.getPopupElement())}});t.default=y,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(797),o=r(i);t.default=o.default,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){function n(){i&&(clearTimeout(i),i=null)}function r(){n(),i=setTimeout(e,t)}var i=void 0;return r.clear=n,r}Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),a=r(o),s=n(162),c=r(s),u=n(798),l=r(u),f=n(790),p=r(f),d=n(807),h=r(d),m=a.default.createClass({displayName:"Align",propTypes:{childrenProps:o.PropTypes.object,align:o.PropTypes.object.isRequired,target:o.PropTypes.func,onAlign:o.PropTypes.func,monitorBufferTime:o.PropTypes.number,monitorWindowResize:o.PropTypes.bool,disabled:o.PropTypes.bool,children:o.PropTypes.any},getDefaultProps:function(){return{target:function(){return window},onAlign:function(){},monitorBufferTime:50,monitorWindowResize:!1,disabled:!1}},componentDidMount:function(){var e=this.props;this.forceAlign(),!e.disabled&&e.monitorWindowResize&&this.startMonitorWindowResize()},componentDidUpdate:function(e){var t=!1,n=this.props;if(!n.disabled)if(e.disabled||e.align!==n.align)t=!0;else{var r=e.target(),i=n.target();(0,h.default)(r)&&(0,h.default)(i)?t=!1:r!==i&&(t=!0)}t&&this.forceAlign(),n.monitorWindowResize&&!n.disabled?this.startMonitorWindowResize():this.stopMonitorWindowResize()},componentWillUnmount:function(){this.stopMonitorWindowResize()},startMonitorWindowResize:function(){this.resizeHandler||(this.bufferMonitor=i(this.forceAlign,this.props.monitorBufferTime),this.resizeHandler=(0,p.default)(window,"resize",this.bufferMonitor))},stopMonitorWindowResize:function(){this.resizeHandler&&(this.bufferMonitor.clear(),this.resizeHandler.remove(),this.resizeHandler=null)},forceAlign:function(){var e=this.props;if(!e.disabled){var t=c.default.findDOMNode(this);e.onAlign(t,(0,l.default)(t,e.target(),e.align))}},render:function(){var e=this.props,t=e.childrenProps,n=e.children,r=a.default.Children.only(n);if(t){var i={};for(var o in t)t.hasOwnProperty(o)&&(i[o]=this.props[t[o]]);return a.default.cloneElement(r,i)}return r}});t.default=m,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return e.left<n.left||e.left+t.width>n.right}function o(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function a(e,t,n){return e.left>n.right||e.left+t.width<n.left}function s(e,t,n){return e.top>n.bottom||e.top+t.height<n.top}function c(e,t,n){var r=[];return h.default.each(e,function(e){r.push(e.replace(t,function(e){return n[e]}))}),r}function u(e,t){return e[t]=-e[t],e}function l(e,t){var n=void 0;return n=/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10),n||0}function f(e,t){e[0]=l(e[0],t.width),e[1]=l(e[1],t.height)}function p(e,t,n){var r=n.points,l=n.offset||[0,0],p=n.targetOffset||[0,0],d=n.overflow,m=n.target||t,v=n.source||e;l=[].concat(l),p=[].concat(p),d=d||{};var g={},b=0,_=(0,y.default)(v),C=(0,x.default)(v),T=(0,x.default)(m);f(l,C),f(p,T);var S=(0,k.default)(C,T,r,l,p),E=h.default.merge(C,S);if(_&&(d.adjustX||d.adjustY)){if(d.adjustX&&i(S,C,_)){var A=c(r,/[lr]/gi,{l:"r",r:"l"}),I=u(l,0),O=u(p,0),P=(0,k.default)(C,T,A,I,O);a(P,C,_)||(b=1,r=A,l=I,p=O)}if(d.adjustY&&o(S,C,_)){var N=c(r,/[tb]/gi,{t:"b",b:"t"}),D=u(l,1),L=u(p,1),M=(0,k.default)(C,T,N,D,L);s(M,C,_)||(b=1,r=N,l=D,p=L)}b&&(S=(0,k.default)(C,T,r,l,p),h.default.mix(E,S)),g.adjustX=d.adjustX&&i(S,C,_),g.adjustY=d.adjustY&&o(S,C,_),(g.adjustX||g.adjustY)&&(E=(0,w.default)(S,C,_,g))}return E.width!==C.width&&h.default.css(v,"width",h.default.width(v)+E.width-C.width),E.height!==C.height&&h.default.css(v,"height",h.default.height(v)+E.height-C.height),h.default.offset(v,{left:E.left,top:E.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform}),{points:r,offset:l,targetOffset:p,overflow:g}}Object.defineProperty(t,"__esModule",{value:!0});var d=n(799),h=r(d),m=n(801),v=r(m),g=n(802),y=r(g),b=n(803),w=r(b),_=n(804),x=r(_),C=n(805),k=r(C);p.__getOffsetParent=v.default,p.__getVisibleRectForElement=y.default,t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){return e+t}function i(e,t,n){var r=n;{if("object"!==("undefined"==typeof t?"undefined":T(t)))return"undefined"!=typeof r?("number"==typeof r&&(r+="px"),void(e.style[t]=r)):A(e,t);for(var o in t)t.hasOwnProperty(o)&&i(e,o,t[o])}}function o(e){var t=void 0,n=void 0,r=void 0,i=e.ownerDocument,o=i.body,a=i&&i.documentElement;return t=e.getBoundingClientRect(),n=t.left,r=t.top,n-=a.clientLeft||o.clientLeft||0,r-=a.clientTop||o.clientTop||0,{left:n,top:r}}function a(e,t){var n=e["page"+(t?"Y":"X")+"Offset"],r="scroll"+(t?"Top":"Left");if("number"!=typeof n){var i=e.document;n=i.documentElement[r],"number"!=typeof n&&(n=i.body[r])}return n}function s(e){return a(e)}function c(e){return a(e,!0)}function u(e){var t=o(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=s(r),t.top+=c(r),t}function l(e,t,n){var r=n,i="",o=e.ownerDocument;return r=r||o.defaultView.getComputedStyle(e,null),r&&(i=r.getPropertyValue(t)||r[t]),i}function f(e,t){var n=e[P]&&e[P][t];if(I.test(n)&&!O.test(t)){var r=e.style,i=r[D],o=e[N][D];e[N][D]=e[P][D],r[D]="fontSize"===t?"1em":n||0,n=r.pixelLeft+L,r[D]=i,e[N][D]=o}return""===n?"auto":n}function p(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function d(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function h(e,t,n){"static"===i(e,"position")&&(e.style.position="relative");var o=-999,a=-999,s=p("left",n),c=p("top",n),l=d(s),f=d(c);"left"!==s&&(o=999),"top"!==c&&(a=999);var h="",m=u(e);("left"in t||"top"in t)&&(h=(0,S.getTransitionProperty)(e)||"",(0,S.setTransitionProperty)(e,"none")),"left"in t&&(e.style[l]="",e.style[s]=o+"px"),"top"in t&&(e.style[f]="",e.style[c]=a+"px");var v=u(e),g={};for(var y in t)if(t.hasOwnProperty(y)){var b=p(y,n),w="left"===y?o:a,_=m[y]-v[y];b===y?g[b]=w+_:g[b]=w-_}i(e,g),r(e.offsetTop,e.offsetLeft),("left"in t||"top"in t)&&(0,S.setTransitionProperty)(e,h);var x={};for(var C in t)if(t.hasOwnProperty(C)){var k=p(C,n),T=t[C]-m[C];C===k?x[k]=g[k]+T:x[k]=g[k]-T}i(e,x)}function m(e,t){var n=u(e),r=(0,S.getTransformXY)(e),i={x:r.x,y:r.y};"left"in t&&(i.x=r.x+t.left-n.left),"top"in t&&(i.y=r.y+t.top-n.top),(0,S.setTransformXY)(e,i)}function v(e,t,n){n.useCssRight||n.useCssBottom?h(e,t,n):n.useCssTransform&&(0,S.getTransformName)()in document.body.style?m(e,t,n):h(e,t,n)}function g(e,t){for(var n=0;n<e.length;n++)t(e[n])}function y(e){return"border-box"===A(e,"boxSizing")}function b(e,t,n){var r={},i=e.style,o=void 0;for(o in t)t.hasOwnProperty(o)&&(r[o]=i[o],i[o]=t[o]);n.call(e);for(o in t)t.hasOwnProperty(o)&&(i[o]=r[o])}function w(e,t,n){var r=0,i=void 0,o=void 0,a=void 0;for(o=0;o<t.length;o++)if(i=t[o])for(a=0;a<n.length;a++){var s=void 0;s="border"===i?""+i+n[a]+"Width":i+n[a],r+=parseFloat(A(e,s))||0}return r}function _(e){return null!==e&&void 0!==e&&e==e.window}function x(e,t,n){var r=n;if(_(e))return"width"===t?U.viewportWidth(e):U.viewportHeight(e);if(9===e.nodeType)return"width"===t?U.docWidth(e):U.docHeight(e);var i="width"===t?["Left","Right"]:["Top","Bottom"],o="width"===t?e.offsetWidth:e.offsetHeight,a=A(e),s=y(e,a),c=0;(null===o||void 0===o||o<=0)&&(o=void 0,c=A(e,t),(null===c||void 0===c||Number(c)<0)&&(c=e.style[t]||0),c=parseFloat(c)||0),void 0===r&&(r=s?F:R);var u=void 0!==o||s,l=o||c;return r===R?u?l-w(e,["border","padding"],i,a):c:u?r===F?l:l+(r===j?-w(e,["border"],i,a):w(e,["margin"],i,a)):c+w(e,M.slice(r),i,a)}function C(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=void 0,i=t[0];return 0!==i.offsetWidth?r=x.apply(void 0,t):b(i,z,function(){r=x.apply(void 0,t)}),r}function k(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}Object.defineProperty(t,"__esModule",{value:!0});var T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S=n(800),E=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,A=void 0,I=new RegExp("^("+E+")(?!px)[a-z%]+$","i"),O=/^(top|right|bottom|left)$/,P="currentStyle",N="runtimeStyle",D="left",L="px";"undefined"!=typeof window&&(A=window.getComputedStyle?l:f);var M=["margin","border","padding"],R=-1,j=2,F=1,B=0,U={};g(["Width","Height"],function(e){U["doc"+e]=function(t){var n=t.document;return Math.max(n.documentElement["scroll"+e],n.body["scroll"+e],U["viewport"+e](n))},U["viewport"+e]=function(t){var n="client"+e,r=t.document,i=r.body,o=r.documentElement,a=o[n];return"CSS1Compat"===r.compatMode&&a||i&&i[n]||a}});var z={position:"absolute",visibility:"hidden",display:"block"};g(["width","height"],function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);U["outer"+t]=function(t,n){return t&&C(t,e,n?B:F)};var n="width"===e?["Left","Right"]:["Top","Bottom"];U[e]=function(t,r){var o=r;{if(void 0===o)return t&&C(t,e,R);if(t){var a=A(t),s=y(t);return s&&(o+=w(t,["padding","border"],n,a)),i(t,e,o)}}}});var W={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},offset:function(e,t,n){return"undefined"==typeof t?u(e):void v(e,t,n||{})},isWindow:_,each:g,css:i,clone:function(e){var t=void 0,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);var r=e.overflow;if(r)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:k,getWindowScrollLeft:function(e){return s(e)},getWindowScrollTop:function(e){return c(e)},merge:function(){for(var e={},t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;i++)W.mix(e,n[i]);return e},viewportWidth:0,viewportHeight:0};k(W,U),t.default=W,e.exports=t.default},function(e,t){"use strict";function n(){if(void 0!==l)return l;l="";var e=document.createElement("p").style,t="Transform";for(var n in f)n+t in e&&(l=n);return l}function r(){return n()?n()+"TransitionProperty":"transitionProperty"}function i(){return n()?n()+"Transform":"transform"}function o(e,t){var n=r();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function a(e,t){var n=i();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}function s(e){return e.style.transitionProperty||e.style[r()]}function c(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(i());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}function u(e,t){var n=window.getComputedStyle(e,null),r=n.getPropertyValue("transform")||n.getPropertyValue(i());if(r&&"none"!==r){var o=void 0,s=r.match(p);if(s)s=s[1],o=s.split(",").map(function(e){return parseFloat(e,10)}),o[4]=t.x,o[5]=t.y,a(e,"matrix("+o.join(",")+")");else{var c=r.match(d)[1];o=c.split(",").map(function(e){return parseFloat(e,10)}),o[12]=t.x,o[13]=t.y,a(e,"matrix3d("+o.join(",")+")")}}else a(e,"translateX("+t.x+"px) translateY("+t.y+"px) translateZ(0)")}Object.defineProperty(t,"__esModule",{value:!0}),t.getTransformName=i,t.setTransitionProperty=o,t.getTransitionProperty=s,t.getTransformXY=c,t.setTransformXY=u;var l=void 0,f={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"},p=/matrix\((.*)\)/,d=/matrix3d\((.*)\)/},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.ownerDocument,n=t.body,r=void 0,i=a.default.css(e,"position"),o="fixed"===i||"absolute"===i;if(!o)return"html"===e.nodeName.toLowerCase()?null:e.parentNode;for(r=e.parentNode;r&&r!==n;r=r.parentNode)if(i=a.default.css(r,"position"),"static"!==i)return r;return null}Object.defineProperty(t,"__esModule",{value:!0});var o=n(799),a=r(o);t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){for(var t={left:0,right:1/0,top:0,bottom:1/0},n=(0,c.default)(e),r=void 0,i=void 0,o=void 0,s=e.ownerDocument,u=s.defaultView||s.parentWindow,l=s.body,f=s.documentElement;n;){if(navigator.userAgent.indexOf("MSIE")!==-1&&0===n.clientWidth||n===l||n===f||"visible"===a.default.css(n,"overflow")){if(n===l||n===f)break}else{var p=a.default.offset(n);p.left+=n.clientLeft,p.top+=n.clientTop,t.top=Math.max(t.top,p.top),t.right=Math.min(t.right,p.left+n.clientWidth),t.bottom=Math.min(t.bottom,p.top+n.clientHeight),t.left=Math.max(t.left,p.left)}n=(0,c.default)(n)}return r=a.default.getWindowScrollLeft(u),i=a.default.getWindowScrollTop(u),t.left=Math.max(t.left,r),t.top=Math.max(t.top,i),o={width:a.default.viewportWidth(u),height:a.default.viewportHeight(u)},t.right=Math.min(t.right,r+o.width),t.bottom=Math.min(t.bottom,i+o.height),t.top>=0&&t.left>=0&&t.bottom>t.top&&t.right>t.left?t:null}Object.defineProperty(t,"__esModule",{value:!0});var o=n(799),a=r(o),s=n(801),c=r(s);t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){var i=a.default.clone(e),o={width:t.width,height:t.height};return r.adjustX&&i.left<n.left&&(i.left=n.left),r.resizeWidth&&i.left>=n.left&&i.left+o.width>n.right&&(o.width-=i.left+o.width-n.right),r.adjustX&&i.left+o.width>n.right&&(i.left=Math.max(n.right-o.width,n.left)),r.adjustY&&i.top<n.top&&(i.top=n.top),r.resizeHeight&&i.top>=n.top&&i.top+o.height>n.bottom&&(o.height-=i.top+o.height-n.bottom),r.adjustY&&i.top+o.height>n.bottom&&(i.top=Math.max(n.bottom-o.height,n.top)),a.default.mix(i,o)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(799),a=r(o);t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=void 0,n=void 0,r=void 0;if(a.default.isWindow(e)||9===e.nodeType){var i=a.default.getWindow(e);t={left:a.default.getWindowScrollLeft(i),top:a.default.getWindowScrollTop(i)},n=a.default.viewportWidth(i),r=a.default.viewportHeight(i)}else t=a.default.offset(e),n=a.default.outerWidth(e),r=a.default.outerHeight(e);return t.width=n,t.height=r,t}Object.defineProperty(t,"__esModule",{value:!0});var o=n(799),a=r(o);t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r,i){var o=void 0,s=void 0,c=void 0,u=void 0;return o={left:e.left,top:e.top},c=(0,a.default)(t,n[1]),u=(0,a.default)(e,n[0]),s=[u.left-c.left,u.top-c.top],{left:o.left-s[0]+r[0]-i[0],top:o.top-s[1]+r[1]-i[1]}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(806),a=r(o);t.default=i,e.exports=t.default},function(e,t){"use strict";function n(e,t){var n=t.charAt(0),r=t.charAt(1),i=e.width,o=e.height,a=void 0,s=void 0;return a=e.left,s=e.top,"c"===n?s+=o/2:"b"===n&&(s+=o),"c"===r?a+=i/2:"r"===r&&(a+=i),{left:a,top:s}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t){"use strict";function n(e){return null!=e&&e==e.window}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){"use strict";e.exports=n(809)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t=e.children;return u.default.isValidElement(t)&&!t.key?u.default.cloneElement(t,{key:m}):t}function a(){}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(7),u=r(c),l=n(810),f=n(811),p=r(f),d=n(816),h=r(d),m="rc_animate_"+Date.now(),v=u.default.createClass({displayName:"Animate",propTypes:{component:u.default.PropTypes.any,componentProps:u.default.PropTypes.object,animation:u.default.PropTypes.object,transitionName:u.default.PropTypes.oneOfType([u.default.PropTypes.string,u.default.PropTypes.object]),transitionEnter:u.default.PropTypes.bool,transitionAppear:u.default.PropTypes.bool,exclusive:u.default.PropTypes.bool,transitionLeave:u.default.PropTypes.bool,onEnd:u.default.PropTypes.func,onEnter:u.default.PropTypes.func,onLeave:u.default.PropTypes.func,onAppear:u.default.PropTypes.func,showProp:u.default.PropTypes.string},getDefaultProps:function(){return{animation:{},component:"span",componentProps:{},transitionEnter:!0,transitionLeave:!0,transitionAppear:!1,onEnd:a,onEnter:a,onLeave:a,onAppear:a}},getInitialState:function(){return this.currentlyAnimatingKeys={},this.keysToEnter=[],this.keysToLeave=[],{children:(0,l.toArrayChildren)(o(this.props))}},componentDidMount:function(){var e=this,t=this.props.showProp,n=this.state.children;t&&(n=n.filter(function(e){return!!e.props[t]})),n.forEach(function(t){t&&e.performAppear(t.key)})},componentWillReceiveProps:function(e){var t=this;this.nextProps=e;var n=(0,l.toArrayChildren)(o(e)),r=this.props;r.exclusive&&Object.keys(this.currentlyAnimatingKeys).forEach(function(e){t.stop(e)});var a=r.showProp,s=this.currentlyAnimatingKeys,c=r.exclusive?(0,l.toArrayChildren)(o(r)):this.state.children,f=[];a?(c.forEach(function(e){var t=e&&(0,l.findChildInChildrenByKey)(n,e.key),r=void 0;r=t&&t.props[a]||!e.props[a]?t:u.default.cloneElement(t||e,i({},a,!0)),r&&f.push(r)}),n.forEach(function(e){e&&(0,l.findChildInChildrenByKey)(c,e.key)||f.push(e)})):f=(0,l.mergeChildren)(c,n),this.setState({children:f}),n.forEach(function(e){var n=e&&e.key;if(!e||!s[n]){var r=e&&(0,l.findChildInChildrenByKey)(c,n);if(a){var i=e.props[a];if(r){var o=(0,l.findShownChildInChildrenByKey)(c,n,a);!o&&i&&t.keysToEnter.push(n)}else i&&t.keysToEnter.push(n)}else r||t.keysToEnter.push(n)}}),c.forEach(function(e){var r=e&&e.key;if(!e||!s[r]){var i=e&&(0,l.findChildInChildrenByKey)(n,r);if(a){var o=e.props[a];if(i){var c=(0,l.findShownChildInChildrenByKey)(n,r,a);!c&&o&&t.keysToLeave.push(r)}else o&&t.keysToLeave.push(r)}else i||t.keysToLeave.push(r)}})},componentDidUpdate:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)},performEnter:function(e){this.refs[e]&&(this.currentlyAnimatingKeys[e]=!0,this.refs[e].componentWillEnter(this.handleDoneAdding.bind(this,e,"enter")))},performAppear:function(e){this.refs[e]&&(this.currentlyAnimatingKeys[e]=!0,this.refs[e].componentWillAppear(this.handleDoneAdding.bind(this,e,"appear")))},handleDoneAdding:function(e,t){var n=this.props;if(delete this.currentlyAnimatingKeys[e],!n.exclusive||n===this.nextProps){var r=(0,l.toArrayChildren)(o(n));this.isValidChildByKey(r,e)?"appear"===t?h.default.allowAppearCallback(n)&&(n.onAppear(e),n.onEnd(e,!0)):h.default.allowEnterCallback(n)&&(n.onEnter(e),n.onEnd(e,!0)):this.performLeave(e)}},performLeave:function(e){this.refs[e]&&(this.currentlyAnimatingKeys[e]=!0,this.refs[e].componentWillLeave(this.handleDoneLeaving.bind(this,e)))},handleDoneLeaving:function(e){var t=this.props;if(delete this.currentlyAnimatingKeys[e],!t.exclusive||t===this.nextProps){var n=(0,l.toArrayChildren)(o(t));if(this.isValidChildByKey(n,e))this.performEnter(e);else{var r=function(){h.default.allowLeaveCallback(t)&&(t.onLeave(e),t.onEnd(e,!1))};this.isMounted()&&!(0,l.isSameChildren)(this.state.children,n,t.showProp)?this.setState({children:n},r):r()}}},isValidChildByKey:function(e,t){var n=this.props.showProp;return n?(0,l.findShownChildInChildrenByKey)(e,t,n):(0,l.findChildInChildrenByKey)(e,t)},stop:function(e){delete this.currentlyAnimatingKeys[e];var t=this.refs[e];t&&t.stop()},render:function(){var e=this.props;this.nextProps=e;var t=this.state.children,n=null;t&&(n=t.map(function(t){if(null===t||void 0===t)return t;if(!t.key)throw new Error("must set key for <rc-animate> children");return u.default.createElement(p.default,{key:t.key,ref:t.key,animation:e.animation,transitionName:e.transitionName,transitionEnter:e.transitionEnter,transitionAppear:e.transitionAppear,transitionLeave:e.transitionLeave},t)}));var r=e.component;if(r){var i=e;return"string"==typeof r&&(i=s({className:e.className,style:e.style},e.componentProps)),u.default.createElement(r,i,n)}return n[0]||null}});t.default=v,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=[];return f.default.Children.forEach(e,function(e){t.push(e)}),t}function o(e,t){var n=null;return e&&e.forEach(function(e){n||e&&e.key===t&&(n=e)}),n}function a(e,t,n){var r=null;return e&&e.forEach(function(e){if(e&&e.key===t&&e.props[n]){if(r)throw new Error("two child with same key for <rc-animate> children");r=e}}),r}function s(e,t,n){var r=0;return e&&e.forEach(function(e){r||(r=e&&e.key===t&&!e.props[n])}),r}function c(e,t,n){var r=e.length===t.length;return r&&e.forEach(function(e,i){var o=t[i];e&&o&&(e&&!o||!e&&o?r=!1:e.key!==o.key?r=!1:n&&e.props[n]!==o.props[n]&&(r=!1))}),r}function u(e,t){var n=[],r={},i=[];return e.forEach(function(e){e&&o(t,e.key)?i.length&&(r[e.key]=i,i=[]):i.push(e)}),t.forEach(function(e){e&&r.hasOwnProperty(e.key)&&(n=n.concat(r[e.key])),n.push(e)}),n=n.concat(i)}Object.defineProperty(t,"__esModule",{value:!0}),t.toArrayChildren=i,t.findChildInChildrenByKey=o,t.findShownChildInChildrenByKey=a,t.findHiddenChildInChildrenByKey=s,t.isSameChildren=c,t.mergeChildren=u;var l=n(7),f=r(l)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(7),a=r(o),s=n(162),c=r(s),u=n(812),l=r(u),f=n(816),p=r(f),d={enter:"transitionEnter",appear:"transitionAppear",leave:"transitionLeave"},h=a.default.createClass({displayName:"AnimateChild",propTypes:{children:a.default.PropTypes.any},componentWillUnmount:function(){this.stop()},componentWillEnter:function(e){p.default.isEnterSupported(this.props)?this.transition("enter",e):e()},componentWillAppear:function(e){p.default.isAppearSupported(this.props)?this.transition("appear",e):e()},componentWillLeave:function(e){p.default.isLeaveSupported(this.props)?this.transition("leave",e):e()},transition:function(e,t){var n=this,r=c.default.findDOMNode(this),o=this.props,a=o.transitionName,s="object"===("undefined"==typeof a?"undefined":i(a));this.stop();var f=function(){n.stopper=null,t()};if((u.isCssAnimationSupported||!o.animation[e])&&a&&o[d[e]]){var p=s?a[e]:a+"-"+e,h=p+"-active";s&&a[e+"Active"]&&(h=a[e+"Active"]),this.stopper=(0,l.default)(r,{name:p,active:h},f)}else this.stopper=o.animation[e](r,f)},stop:function(){var e=this.stopper;e&&(this.stopper=null,e.stop())},render:function(){return this.props.children}});t.default=h,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var n=window.getComputedStyle(e,null),r="",i=0;i<h.length&&!(r=n.getPropertyValue(h[i]+t));i++);return r}function o(e){if(p){var t=parseFloat(i(e,"transition-delay"))||0,n=parseFloat(i(e,"transition-duration"))||0,r=parseFloat(i(e,"animation-delay"))||0,o=parseFloat(i(e,"animation-duration"))||0,a=Math.max(n+t,o+r);e.rcEndAnimTimeout=setTimeout(function(){e.rcEndAnimTimeout=null,e.rcEndListener&&e.rcEndListener()},1e3*a+200)}}function a(e){e.rcEndAnimTimeout&&(clearTimeout(e.rcEndAnimTimeout),e.rcEndAnimTimeout=null)}Object.defineProperty(t,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=n(813),u=r(c),l=n(814),f=r(l),p=0!==u.default.endEvents.length,d=["Webkit","Moz","O","ms"],h=["-webkit-","-moz-","-o-","ms-",""],m=function(e,t,n){var r="object"===("undefined"==typeof t?"undefined":s(t)),i=r?t.name:t,c=r?t.active:t+"-active",l=n,p=void 0,d=void 0,h=(0,f.default)(e);return n&&"[object Object]"===Object.prototype.toString.call(n)&&(l=n.end,p=n.start,d=n.active),e.rcEndListener&&e.rcEndListener(),e.rcEndListener=function(t){t&&t.target!==e||(e.rcAnimTimeout&&(clearTimeout(e.rcAnimTimeout),e.rcAnimTimeout=null),a(e),h.remove(i),h.remove(c),u.default.removeEndEventListener(e,e.rcEndListener),e.rcEndListener=null,l&&l())},u.default.addEndEventListener(e,e.rcEndListener),p&&p(),h.add(i),e.rcAnimTimeout=setTimeout(function(){e.rcAnimTimeout=null,h.add(c),d&&setTimeout(d,0),o(e)},30),{stop:function(){e.rcEndListener&&e.rcEndListener()}}};m.style=function(e,t,n){e.rcEndListener&&e.rcEndListener(),e.rcEndListener=function(t){t&&t.target!==e||(e.rcAnimTimeout&&(clearTimeout(e.rcAnimTimeout),e.rcAnimTimeout=null),a(e),u.default.removeEndEventListener(e,e.rcEndListener),e.rcEndListener=null,n&&n())},u.default.addEndEventListener(e,e.rcEndListener),e.rcAnimTimeout=setTimeout(function(){for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n]);e.rcAnimTimeout=null,o(e)},0)},m.setTransition=function(e,t,n){var r=t,i=n;void 0===n&&(i=r,r=""),r=r||"",d.forEach(function(t){e.style[t+"Transition"+r]=i})},m.isCssAnimationSupported=p,t.default=m,e.exports=t.default},function(e,t){"use strict";function n(){var e=document.createElement("div"),t=e.style;"AnimationEvent"in window||delete o.animationend.animation,"TransitionEvent"in window||delete o.transitionend.transition;for(var n in o)if(o.hasOwnProperty(n)){var r=o[n];for(var i in r)if(i in t){a.push(r[i]);break}}}function r(e,t,n){e.addEventListener(t,n,!1)}function i(e,t,n){e.removeEventListener(t,n,!1)}Object.defineProperty(t,"__esModule",{value:!0});var o={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},a=[];"undefined"!=typeof window&&"undefined"!=typeof document&&n();var s={addEndEventListener:function(e,t){return 0===a.length?void window.setTimeout(t,0):void a.forEach(function(n){r(e,n,t)})},endEvents:a,removeEndEventListener:function(e,t){0!==a.length&&a.forEach(function(n){i(e,n,t)})}};t.default=s,e.exports=t.default},function(e,t,n){function r(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}try{var i=n(815)}catch(e){var i=n(815)}var o=/\s+/,a=Object.prototype.toString;e.exports=function(e){return new r(e)},r.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array(),n=i(t,e);return~n||t.push(e),this.el.className=t.join(" "),this},r.prototype.remove=function(e){if("[object RegExp]"==a.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),n=i(t,e);return~n&&t.splice(n,1),this.el.className=t.join(" "),this},r.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},r.prototype.toggle=function(e,t){return this.list?("undefined"!=typeof t?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this):("undefined"!=typeof t?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this)},r.prototype.array=function(){var e=this.el.getAttribute("class")||"",t=e.replace(/^\s+|\s+$/g,""),n=t.split(o);return""===n[0]&&n.shift(),n},r.prototype.has=r.prototype.contains=function(e){return this.list?this.list.contains(e):!!~i(this.array(),e)}},function(e,t){e.exports=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={isAppearSupported:function(e){return e.transitionName&&e.transitionAppear||e.animation.appear},isEnterSupported:function(e){return e.transitionName&&e.transitionEnter||e.animation.enter},isLeaveSupported:function(e){return e.transitionName&&e.transitionLeave||e.animation.leave},allowAppearCallback:function(e){return e.transitionAppear||e.animation.appear},allowEnterCallback:function(e){return e.transitionEnter||e.animation.enter},allowLeaveCallback:function(e){return e.transitionLeave||e.animation.leave}};t.default=n,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),o=r(i),a=n(818),s=r(a),c=o.default.createClass({displayName:"PopupInner",propTypes:{hiddenClassName:i.PropTypes.string,className:i.PropTypes.string,prefixCls:i.PropTypes.string,onMouseEnter:i.PropTypes.func,onMouseLeave:i.PropTypes.func,children:i.PropTypes.any},render:function(){var e=this.props,t=e.className;return e.visible||(t+=" "+e.hiddenClassName),o.default.createElement("div",{className:t,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,style:e.style},o.default.createElement(s.default,{
className:e.prefixCls+"-content",visible:e.visible},e.children))}});t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(819),o=r(i),a=n(7),s=r(a),c=s.default.createClass({displayName:"LazyRenderBox",propTypes:{children:a.PropTypes.any,className:a.PropTypes.string,visible:a.PropTypes.bool,hiddenClassName:a.PropTypes.string},shouldComponentUpdate:function(e){return e.hiddenClassName||e.visible},render:function(){var e=this.props,t=e.hiddenClassName,n=e.visible,r=(0,o.default)(e,["hiddenClassName","visible"]);return t||s.default.Children.count(r.children)>1?(!n&&t&&(r.className+=" "+t),s.default.createElement("div",r)):s.default.Children.only(r.children)}});t.default=c,e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return e[0]===t[0]&&e[1]===t[1]}function o(e,t,n){var r=e[t]||{};return(0,c.default)({},r,n)}function a(e,t,n){var r=n.points;for(var o in e)if(e.hasOwnProperty(o)&&i(e[o].points,r))return t+"-placement-"+o;return""}Object.defineProperty(t,"__esModule",{value:!0});var s=n(751),c=r(s);t.getAlignFromPlacement=o,t.getPopupClassNameFromAlign=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){var e=document.createElement("div");return document.body.appendChild(e),e}function o(e){function t(e,t,n){if(!l||e._component||l(e)){e._container||(e._container=d(e));var r=void 0;r=e.getComponent?e.getComponent(t):f(e,t),c.default.unstable_renderSubtreeIntoContainer(e,r,e._container,function(){e._component=this,n&&n.call(this)})}}function n(e){if(e._container){var t=e._container;c.default.unmountComponentAtNode(t),t.parentNode.removeChild(t),e._container=null}}var r=e.autoMount,o=void 0===r||r,s=e.autoDestroy,u=void 0===s||s,l=e.isVisible,f=e.getComponent,p=e.getContainer,d=void 0===p?i:p,h=void 0;return o&&(h=a({},h,{componentDidMount:function(){t(this)},componentDidUpdate:function(){t(this)}})),o&&u||(h=a({},h,{renderComponent:function(e,n){t(this,e,n)}})),h=u?a({},h,{componentWillUnmount:function(){n(this)}}):a({},h,{removeContainer:function(){n(this)}})}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=o;var s=n(162),c=r(s);e.exports=t.default},function(e,t,n){function r(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(!e.arrowPointAtCenter)return i.placements;var t=e.arrowWidth,n=void 0===t?5:t,r=e.horizontalArrowShift,s=void 0===r?16:r,c=e.verticalArrowShift,u=void 0===c?12:c;return{left:{points:["cr","cl"],overflow:o,offset:[-4,0],targetOffset:a},right:{points:["cl","cr"],overflow:o,offset:[4,0],targetOffset:a},top:{points:["bc","tc"],overflow:o,offset:[0,-4],targetOffset:a},bottom:{points:["tc","bc"],overflow:o,offset:[0,4],targetOffset:a},topLeft:{points:["bl","tc"],overflow:o,offset:[-(s+n),-4],targetOffset:a},leftTop:{points:["tr","cl"],overflow:o,offset:[-4,-(u+n)],targetOffset:a},topRight:{points:["br","tc"],overflow:o,offset:[s+n,-4],targetOffset:a},rightTop:{points:["tl","cr"],overflow:o,offset:[4,-(u+n)],targetOffset:a},bottomRight:{points:["tr","bc"],overflow:o,offset:[s+n,4],targetOffset:a},rightBottom:{points:["bl","cr"],overflow:o,offset:[4,u+n],targetOffset:a},bottomLeft:{points:["tl","bc"],overflow:o,offset:[-(s+n),4],targetOffset:a},leftBottom:{points:["br","cl"],overflow:o,offset:[-4,u+n],targetOffset:a}}}Object.defineProperty(t,"__esModule",{value:!0}),t.getPlacements=r;var i=n(748),o={adjustX:1,adjustY:1},a=[0,0]},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports=function(){var e;if("undefined"!=typeof window&&null!==window){if(e="(-webkit-min-device-pixel-ratio: 1.25), (min--moz-device-pixel-ratio: 1.25), (-o-min-device-pixel-ratio: 5/4), (min-resolution: 1.25dppx)",window.devicePixelRatio>1.25)return!0;if(window.matchMedia&&window.matchMedia(e).matches)return!0}return!1}},,,,,,function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}},c=n(7),u=r(c),l=n(1205),f=r(l),p=n(1206),d=r(p),h=n(742),m=r(h),v=n(688),g=r(v),y=function(e){function t(e){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={visible:!1},this.componentClick=this.componentClick.bind(this),this.closeMenuPopover=this.closeMenuPopover.bind(this),this.handleVisibleChange=this.handleVisibleChange.bind(this)}return o(t,e),a(t,null,[{key:"propTypes",get:function(){return{currentUser:c.PropTypes.object}}}]),a(t,[{key:"handleVisibleChange",value:function(e){this.setState({visible:e})}},{key:"closeMenuPopover",value:function(){this.state.visible&&this.setState({visible:!1})}},{key:"componentClick",value:function(e){var t=this.props.currentUser;if(!(t.id<0)){var n=this.refs.popover.getPopupDomNode();this.state.visible&&!n.contains(e.target)&&this.closeMenuPopover()}}},{key:"renderContent",value:function(){var e=this.props.currentUser;return u.default.createElement(d.default,{currentUser:e,closeMenuPopover:this.closeMenuPopover})}},{key:"render",value:function(){var e=this.props.currentUser,t=e.avatar,n=this.state.visible;return e.id<0?u.default.createElement("div",{className:"config-avatar-wrap"},u.default.createElement(f.default,{customClass:"config-avatar anonymous",avatarSrc:t})):u.default.createElement(m.default,{ref:"popover",overlayClassName:"header-menu-popover",visible:n,onVisibleChange:this.handleVisibleChange,align:{offset:[0,3]},content:this.renderContent()},u.default.createElement("div",{className:"config-avatar-wrap"},u.default.createElement(f.default,{customClass:"config-avatar",avatarSrc:t})))}}]),t}(c.Component);t.default=(0,g.default)(y),e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}},c=n(7),u=r(c),l=n(161),f=function(e){function t(e){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return o(t,e),a(t,null,[{key:"propTypes",get:function(){return{avatarSrc:c.PropTypes.string,customClass:c.PropTypes.string}}}]),a(t,[{key:"render",value:function(){var e=this.props.avatarSrc;return u.default.createElement("div",{className:"avatar "+this.props.customClass},u.default.createElement(l.ImageIcon,{customClass:"",defaultImg:"https://assets-cdn.shimo.im/assets/images/loading-b67e5a67dc.gif",realImg:e}))}}]),t}(c.Component);t.default=f,e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}},c=n(162),u=n(7),l=r(u),f=n(288),p=r(f),d=n(1207),h=r(d),m=n(1208),v=r(m),g=function(e){function t(e){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.onMenuItemClick=this.onMenuItemClick.bind(this),this.onDownloadAppClose=this.onDownloadAppClose.bind(this)}return o(t,e),a(t,null,[{key:"propTypes",get:function(){return{currentUser:u.PropTypes.object,closeMenuPopover:u.PropTypes.func}}}]),a(t,[{key:"onMenuItemClick",value:function(e){var t=this.props.closeMenuPopover,n=e.currentTarget.getAttribute("data-action");"download"===n&&(this.modalContainer=document.getElementById("downloadapp-modal-container"),this.modalContainer||(this.modalContainer=document.createElement("div"),this.modalContainer.id="downloadapp-modal-container",document.body.appendChild(this.modalContainer)),this.downloadAppModal=(0,c.unstable_renderSubtreeIntoContainer)(this,l.default.createElement(v.default,{onClose:this.onDownloadAppClose}),this.modalContainer)),"function"==typeof t&&t()}},{key:"renderDividingLine",value:function(){return l.default.createElement("div",{className:"header-menu-dividing"})}},{key:"renderPlainMenuItem",value:function(e,t,n){var r=!(arguments.length<=3||void 0===arguments[3])&&arguments[3],i=(0,p.default)({"header-menu-item":!0,"one-line":!0,"enable-click":t}),o=t?this.onMenuItemClick:null;return t&&n?l.default.createElement("a",{className:i,href:n,target:r?"_blank":"",onClick:o},l.default.createElement("span",null,e)):l.default.createElement("div",{className:i,onClick:o},l.default.createElement("span",null,e))}},{key:"onDownloadAppClose",value:function(){(0,c.unmountComponentAtNode)(this.modalContainer)}},{key:"renderDownloadApp",value:function(){return l.default.createElement("div",{className:"header-menu-item enable-click","data-action":"download",onClick:this.onMenuItemClick},l.default.createElement("span",null,"下载石墨文档 App"),l.default.createElement("i",{className:"desktop-sprite download-app-icon"}))}},{key:"renderAccountType",value:function(){return l.default.createElement("div",{className:"header-menu-item"},l.default.createElement(h.default,{currentUser:this.props.currentUser,onItemClick:this.onMenuItemClick}))}},{key:"renderManageSetting",value:function(){var e=this.props.currentUser,t=e.accountType,n=e.teamRole;return["enterprise_standard","enterprise_dingding","enterprise_expired"].indexOf(t)>-1?this.renderPlainMenuItem("member"===n?"我的企业":"企业管理",!0,"/enterprise",!0):null}},{key:"render",value:function(){var e=this.props.currentUser,t=e.name;return l.default.createElement("div",{className:"header-menu-items"},this.renderPlainMenuItem(t,!1)," ",this.renderDividingLine(),this.renderAccountType()," ",this.renderDividingLine()," ",this.renderPlainMenuItem("帐号设置",!0,"/profile",!1),this.renderManageSetting()," ",this.renderDividingLine(),this.renderDownloadApp()," ",this.renderPlainMenuItem("使用帮助",!0,"https://shimo.im/help",!0),this.renderDividingLine(),this.renderPlainMenuItem("退出登录",!0,"/logout",!1))}}]),t}(u.Component);t.default=g,e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}},c=n(7),u=r(c),l=function(e){function t(){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.currentUser,n=e.onItemClick,r=t.accountType,i=t.team,o=t.email,a="",s=null;["enterprise_standard","enterprise_dingding","enterprise_expired"].indexOf(r)>-1?(a="企业版",s=u.default.createElement("span",{className:"enterprise-name"},i.name)):"personal_premium"===r?a="个人高级版":"personal_free"===r&&(a="个人免费版",s=u.default.createElement("a",{href:"/payment",target:"_blank",onClick:n,className:"account-upgrade-btn header-menu-link"},"升级"));var c=null;return c=o?u.default.createElement("span",{className:"account-email"},o):u.default.createElement("a",{className:"account-email-setting header-menu-link",href:"/profile#setting-email",onClick:n,target:"_blank"},"设置您的登录邮箱"),u.default.createElement("div",{className:"account-info"},u.default.createElement("span",{className:"account-type-text"},a),s,c)}}],[{key:"propTypes",get:function(){return{currentUser:c.PropTypes.object,onItemClick:c.PropTypes.func}}}]),t}(c.Component);t.default=l,e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}},c=n(7),u=r(c),l=n(287),f=r(l),p=function(e){function t(e){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.bodyTpl=this.bodyTpl.bind(this),this.onModalClose=this.onModalClose.bind(this)}return o(t,e),a(t,null,[{key:"propTypes",get:function(){return{onClose:c.PropTypes.func}}}]),a(t,[{key:"bodyTpl",value:function(){return u.default.createElement("div",{className:"download-app-content-wrap"},u.default.createElement("span",{className:"download-app-title"},"扫码下载 石墨文档 App"),u.default.createElement("div",{className:"download-app-url-qrcode"}),u.default.createElement("div",{className:"download-app-actions"},u.default.createElement("a",{href:"https://itunes.apple.com/cn/app/shi-mo-wen-dang-zui-mei-xie/id1013727678?l=en&mt=8",style:{display:"block"},className:"sm-btn sm-btn-primary download-app-btn",target:"_blank"},u.default.createElement("i",{className:"band-icon-sprite ios-band-icon band-icon"}),u.default.createElement("span",{className:"download-btn-text"},"App Store 下载")),u.default.createElement("a",{href:"https://shimo.im/resources/android_app",style:{display:"block"},className:"sm-btn sm-btn-primary download-app-btn",target:"_blank"},u.default.createElement("i",{className:"band-icon-sprite android-band-icon band-icon"}),u.default.createElement("span",{className:"download-btn-text"},"Android 版下载"))))}},{key:"onModalClose",value:function(){var e=this.props.onClose;"function"==typeof e&&e()}},{key:"render",value:function(){var e=!0,t=!0,n=!0;return u.default.createElement(f.default,{customClass:"download-app-modal",ref:"flatDialog",hasCloseButton:e,open:n,enableCloseClickMask:t,bodyTpl:this.bodyTpl,onClose:this.onModalClose})}}]),t}(c.Component);t.default=p,e.exports=t.default},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}},c=n(7),u=r(c),l=n(175),f=r(l),p=n(269),d=n(288),h=r(d),m=function(e){function t(e){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={starred:e.currentFile.starred},this.notLoggedStar=this.notLoggedStar.bind(this),this.loggedStar=this.loggedStar.bind(this)}return o(t,e),a(t,null,[{key:"propTypes",get:function(){return{currentFile:c.PropTypes.object,currentUser:c.PropTypes.object}}}]),a(t,[{key:"notLoggedStar",value:function(){var e=this.props.currentFile.id,t=this.props.currentFile.guid;window.location.href="/register?redirect_url="+encodeURIComponent("/favorites?fileid="+e+"&guid="+t)}},{key:"loggedStar",value:function(){var e=this,t=this.props.currentFile.id,n=this.props.currentFile,r=n.shareMode,i=n.type,o=this.props.currentUser.id>0;this.state.starred?(0,p.unstarFile)(t).then(function(){e.setState({starred:!1})},function(e){f.default.alert({title:e.message,type:"error"})}):(0,p.starFile)(t).then(function(){o&&"readonly"==r&&0===i&&f.default.alert({title:"文档已标星"}),e.setState({starred:!0})},function(e){f.default.alert({title:e.message,type:"error"})})}},{key:"render",value:function(){var e=this.props.currentFile,t=e.shareMode,n=e.type,r=this.props.currentUser.id>0;if(!r&&"editable"===t)return u.default.createElement("div",{className:"right-btn-group"},u.default.createElement("a",{href:"/register",className:"right-btn register-or-login"},"注册 / 登录"),u.default.createElement("a",{className:"right-btn mark-star",onClick:this.notLoggedStar},"标星收藏"));if("readonly"===t){if(n===-1){if(r){var i=(0,h.default)({"readonly-loggin-star":!0,"header-star-btn":!0,"s-header-star-btn":!0,active:this.state.starred});return u.default.createElement("a",{className:i,onClick:this.loggedStar},u.default.createElement("span",{className:"team-sprite team-icon-star mark-star-icon"}),u.default.createElement("span",{className:"s-tooltip"},this.state.starred?"取消标星":"标星"))}return u.default.createElement("div",{className:"readonly-btn-group"},u.default.createElement("a",{href:"/register",className:"readonly-operation register-or-login"},"注册 / 登录"),u.default.createElement("a",{className:"readonly-operation mark-star",onClick:this.notLoggedStar},"标星收藏"))}if(0===n){if(r){var i=(0,h.default)({"readonly-operation":!0,"mark-star":!0,active:this.state.starred});return u.default.createElement("span",null,u.default.createElement("a",{className:i,onClick:this.loggedStar},this.state.starred?"取消标星":"标星收藏"))}return u.default.createElement("span",null,u.default.createElement("a",{href:"/register",className:"readonly-operation register-or-login"},"注册 / 登录"),u.default.createElement("a",{className:"readonly-operation mark-star",onClick:this.notLoggedStar},"标星收藏"))}}}}]),t}(c.Component);t.default=m,e.exports=t.default}]);